#<AdxTL>@(#)0.0.0.0 $Revision$Class Sales orders - quantities
# Supervisor
## ACLA-CLASSE ## SORDERQ
# 2018-08-27 12:48:29 830

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 61 : PRECOD Preparation code ( Field PRC 5)
####################################################################

$SET_PRECOD
If [L]_AOLDVAL<>this.PRECOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRECOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRECOD
 Gosub PROPAGATE_PRECOD
Endif
Return

$INIT_PRECOD
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PRECOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRECOD
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PRECOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRECOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRECOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRECOD
[L]CURPRO = "PRECOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PRECOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRECOD
[L]CURPRO = "PRECOD"
If vireblc(this.PRECOD,2)<>vireblc(format$("K:5c",this.PRECOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PRECOD
[L]CURPRO = "PRECOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRECOD
[L]CURPRO = "PRECOD"
Return

$PROPAGATE_PRECOD
this.isReadonly = 0
[L]CURPRO = "PRECOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRECOD
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PRECOD"
$_LNKPRO_PRECOD
Return


####################################################################
# 62 : DRN Route no. ( Field Local menu number 409)
####################################################################

$SET_DRN
If [L]_AOLDVAL<>this.DRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DRN
 Gosub PROPAGATE_DRN
Endif
Return

$INIT_DRN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DRN=0 and fmet this.AGETATTRIBUTE("DRN","$isMandatory")="true"
 this.DRN = 1
Endif
Return
 
$CONTROL_DRN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DRN                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DRN                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DRN
[L]CURPRO = "DRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DRN
[L]CURPRO = "DRN"
If this.DRN<0 or this.DRN>len(mess(0,409,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"409 ->"-num$(this.DRN)-mess(99,123,1)):  Return : # Local menu "409 -> Invalid option
Endif
Return

$_AOTHERS_DRN
[L]CURPRO = "DRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DRN
[L]CURPRO = "DRN"
Return

$PROPAGATE_DRN
this.isReadonly = 0
[L]CURPRO = "DRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DRN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DRN"
$_LNKPRO_DRN
Return


####################################################################
# 63 : DLVPIO Delivery priority ( Field Local menu number 410)
####################################################################

$SET_DLVPIO
If [L]_AOLDVAL<>this.DLVPIO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLVPIO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLVPIO
 Gosub PROPAGATE_DLVPIO
Endif
Return

$INIT_DLVPIO
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DLVPIO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DLVPIO=0 and fmet this.AGETATTRIBUTE("DLVPIO","$isMandatory")="true"
 this.DLVPIO = 1
Endif
Return
 
$CONTROL_DLVPIO
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DLVPIO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLVPIO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLVPIO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLVPIO
[L]CURPRO = "DLVPIO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLVPIO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLVPIO
[L]CURPRO = "DLVPIO"
If this.DLVPIO<0 or this.DLVPIO>len(mess(0,410,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"410 ->"-num$(this.DLVPIO)-mess(99,123,1)):  Return : # Local menu "410 -> Invalid option
Endif
Return

$_AOTHERS_DLVPIO
[L]CURPRO = "DLVPIO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLVPIO
[L]CURPRO = "DLVPIO"
Return

$PROPAGATE_DLVPIO
this.isReadonly = 0
[L]CURPRO = "DLVPIO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLVPIO
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DLVPIO"
$_LNKPRO_DLVPIO
Return


####################################################################
# 64 : DLVPIOCMP Compl priority del ( Field C 1)
####################################################################

$SET_DLVPIOCMP
If [L]_AOLDVAL<>this.DLVPIOCMP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLVPIOCMP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLVPIOCMP
 Gosub PROPAGATE_DLVPIOCMP
Endif
Return

$INIT_DLVPIOCMP
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DLVPIOCMP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DLVPIOCMP
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DLVPIOCMP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLVPIOCMP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLVPIOCMP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLVPIOCMP
[L]CURPRO = "DLVPIOCMP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLVPIOCMP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLVPIOCMP
[L]CURPRO = "DLVPIOCMP"
Return

$_AOTHERS_DLVPIOCMP
[L]CURPRO = "DLVPIOCMP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLVPIOCMP
[L]CURPRO = "DLVPIOCMP"
Return

$PROPAGATE_DLVPIOCMP
this.isReadonly = 0
[L]CURPRO = "DLVPIOCMP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLVPIOCMP
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DLVPIOCMP"
$_LNKPRO_DLVPIOCMP
Return


####################################################################
# 65 : BPTNUM Carrier ( Field BPT 15)
####################################################################

$SET_BPTNUM
If [L]_AOLDVAL<>this.BPTNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPTNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPTNUM
 Gosub PROPAGATE_BPTNUM
Endif
Return

$INIT_BPTNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "BPTNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPTNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "BPTNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPTNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPTNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPTNUM
[L]CURPRO = "BPTNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPTNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPTNUM
[L]CURPRO = "BPTNUM"
If vireblc(this.BPTNUM,2)<>vireblc(format$("K:15c",this.BPTNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPTNUM
[L]CURPRO = "BPTNUM"
If vireblc(this.BPTNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPT.ACTRLREF(this,"BPTNUM",this.BPTNUM,this.BPTNUM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPTNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPTNUM
[L]CURPRO = "BPTNUM"
Return

$PROPAGATE_BPTNUM
this.isReadonly = 0
[L]CURPRO = "BPTNUM"
Gosub _LNKPRO_BPTNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPTNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "BPTNUM"
$_LNKPRO_BPTNUM
If vireblc(this.BPTNUM,2)<>""
 # Link BPCARRIER
 Local File BPCARRIER [WBPT]
 Read [F:WBPT]BPT0 = this.BPTNUM
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPTNUM","$title",[F:WBPT]BPTSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPTNUM","$description",[F:WBPT]BPTNAM)
 Endif
 LogicClose File [WBPT]
Endif
Return


####################################################################
# 66 : MDL Delivery mode ( Field MDL 5)
####################################################################

$SET_MDL
If [L]_AOLDVAL<>this.MDL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MDL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MDL
 Gosub PROPAGATE_MDL
Endif
Return

$INIT_MDL
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "MDL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MDL
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "MDL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MDL                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MDL                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MDL
[L]CURPRO = "MDL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MDL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MDL
[L]CURPRO = "MDL"
If vireblc(this.MDL,2)<>vireblc(format$("K:5c",this.MDL),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MDL
[L]CURPRO = "MDL"
If vireblc(this.MDL,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPMDL.ACTRLREF(this,"MDL",this.MDL,this.MDL,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.MDL<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MDL
[L]CURPRO = "MDL"
Return

$PROPAGATE_MDL
this.isReadonly = 0
[L]CURPRO = "MDL"
Gosub _LNKPRO_MDL
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MDL
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "MDL"
$_LNKPRO_MDL
If vireblc(this.MDL,2)<>""
 # Link TABMODELIV
 Local File TABMODELIV [WTMD]
 Read [F:WTMD]TMD0 = this.MDL
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABMODELIV" & ZONE="SHOAXX" & IDENT1=[F:WTMD]MDL & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("MDL","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABMODELIV" & ZONE="DESAXX" & IDENT1=[F:WTMD]MDL & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("MDL","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTMD]
Endif
Return


####################################################################
# 67 : DAYLTI Delivery LT in days ( Field C 3)
####################################################################

$SET_DAYLTI
If [L]_AOLDVAL<>this.DAYLTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DAYLTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DAYLTI
 Gosub PROPAGATE_DAYLTI
Endif
Return

$INIT_DAYLTI
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DAYLTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DAYLTI
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DAYLTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DAYLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DAYLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DAYLTI
[L]CURPRO = "DAYLTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DAYLTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DAYLTI
[L]CURPRO = "DAYLTI"
Return

$_AOTHERS_DAYLTI
[L]CURPRO = "DAYLTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DAYLTI
[L]CURPRO = "DAYLTI"
Return

$PROPAGATE_DAYLTI
this.isReadonly = 0
[L]CURPRO = "DAYLTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DAYLTI
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "DAYLTI"
$_LNKPRO_DAYLTI
Return


####################################################################
# 68 : PCK Packaging ( Field PCK 5)
####################################################################

$SET_PCK
If [L]_AOLDVAL<>this.PCK
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCK
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCK
 Gosub PROPAGATE_PCK
Endif
Return

$INIT_PCK
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PCK"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCK
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PCK"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCK                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCK                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCK
[L]CURPRO = "PCK"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PCK,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCK
[L]CURPRO = "PCK"
If vireblc(this.PCK,2)<>vireblc(format$("K:5c",this.PCK),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PCK
[L]CURPRO = "PCK"
If vireblc(this.PCK,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPCK.ACTRLREF(this,"PCK",this.PCK,this.PCK,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PCK<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCK
[L]CURPRO = "PCK"
Return

$PROPAGATE_PCK
this.isReadonly = 0
[L]CURPRO = "PCK"
Gosub _LNKPRO_PCK
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCK
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PCK"
$_LNKPRO_PCK
If vireblc(this.PCK,2)<>""
 # Link TABPACKAGE
 Local File TABPACKAGE [WTPA]
 Read [F:WTPA]TPA0 = this.PCK
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPACKAGE" & ZONE="SHOAXX" & IDENT1=[F:WTPA]PCK & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCK","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPACKAGE" & ZONE="DESAXX" & IDENT1=[F:WTPA]PCK & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCK","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTPA]
Endif
Return


####################################################################
# 69 : PCKCAP Packaging capacity ( Field COE 0)
####################################################################

$SET_PCKCAP
If [L]_AOLDVAL<>this.PCKCAP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCKCAP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCKCAP
 Gosub PROPAGATE_PCKCAP
Endif
Return

$INIT_PCKCAP
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PCKCAP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCKCAP
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PCKCAP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCKCAP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCKCAP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCKCAP
[L]CURPRO = "PCKCAP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PCKCAP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCKCAP
[L]CURPRO = "PCKCAP"
Return

$_AOTHERS_PCKCAP
[L]CURPRO = "PCKCAP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCKCAP
[L]CURPRO = "PCKCAP"
Return

$PROPAGATE_PCKCAP
this.isReadonly = 0
[L]CURPRO = "PCKCAP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCKCAP
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PCKCAP"
$_LNKPRO_PCKCAP
Return


####################################################################
# 70 : SOQTEX Line text ( Field TXC 12)
####################################################################

$SET_SOQTEX
If [L]_AOLDVAL<>this.SOQTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOQTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOQTEX
 Gosub PROPAGATE_SOQTEX
Endif
Return

$INIT_SOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SOQTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SOQTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOQTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOQTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOQTEX
[L]CURPRO = "SOQTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SOQTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOQTEX
[L]CURPRO = "SOQTEX"
If vireblc(this.SOQTEX,2)<>vireblc(format$("K:12X",this.SOQTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SOQTEX
[L]CURPRO = "SOQTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOQTEX
[L]CURPRO = "SOQTEX"
Return

$PROPAGATE_SOQTEX
this.isReadonly = 0
[L]CURPRO = "SOQTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SOQTEX"
$_LNKPRO_SOQTEX
Return


####################################################################
# 71 : CLASOQTEX Line text ( Field ACRTF 1)
####################################################################

$GET_CLASOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CLASOQTEX"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("CLASOQTEX",
& this.SOQTEX
& ,[L]_CNT,this.CLASOQTEX)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_CLASOQTEX
If fmet this.AGETATTRIBUTE("CLASOQTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLASOQTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLASOQTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("CLASOQTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLASOQTEX
 Gosub PROPAGATE_CLASOQTEX
Endif
Return

$INIT_CLASOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CLASOQTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLASOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CLASOQTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLASOQTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLASOQTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLASOQTEX
[L]CURPRO = "CLASOQTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.CLASOQTEX)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLASOQTEX
[L]CURPRO = "CLASOQTEX"
Return

$_AOTHERS_CLASOQTEX
[L]CURPRO = "CLASOQTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLASOQTEX
[L]CURPRO = "CLASOQTEX"
Return

$PROPAGATE_CLASOQTEX
this.isReadonly = 0
[L]CURPRO = "CLASOQTEX"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLASOQTEX
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CLASOQTEX"
$_LNKPRO_CLASOQTEX
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_CLASOQTEX From WMC0SORDERQ
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLASOQTEX","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 72 : SDHNUM Delivery no. ( Field VCR 20)
####################################################################

$SET_SDHNUM
If [L]_AOLDVAL<>this.SDHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SDHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SDHNUM
 Gosub PROPAGATE_SDHNUM
Endif
Return

$INIT_SDHNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SDHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SDHNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SDHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SDHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SDHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SDHNUM
[L]CURPRO = "SDHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SDHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SDHNUM
[L]CURPRO = "SDHNUM"
If vireblc(this.SDHNUM,2)<>vireblc(format$("K:20X",this.SDHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SDHNUM
[L]CURPRO = "SDHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SDHNUM
[L]CURPRO = "SDHNUM"
Return

$PROPAGATE_SDHNUM
this.isReadonly = 0
[L]CURPRO = "SDHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SDHNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SDHNUM"
$_LNKPRO_SDHNUM
Return


####################################################################
# 73 : SDDLIN Delivery line ( Field L 8)
####################################################################

$SET_SDDLIN
If [L]_AOLDVAL<>this.SDDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SDDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SDDLIN
 Gosub PROPAGATE_SDDLIN
Endif
Return

$INIT_SDDLIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SDDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SDDLIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SDDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SDDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SDDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SDDLIN
[L]CURPRO = "SDDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SDDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SDDLIN
[L]CURPRO = "SDDLIN"
Return

$_AOTHERS_SDDLIN
[L]CURPRO = "SDDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SDDLIN
[L]CURPRO = "SDDLIN"
Return

$PROPAGATE_SDDLIN
this.isReadonly = 0
[L]CURPRO = "SDDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SDDLIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "SDDLIN"
$_LNKPRO_SDDLIN
Return


####################################################################
# 74 : FMI Product source ( Field Local menu number 445)
####################################################################

$SET_FMI
If [L]_AOLDVAL<>this.FMI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMI
 Gosub PROPAGATE_FMI
Endif
Return

$INIT_FMI
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FMI=0 and fmet this.AGETATTRIBUTE("FMI","$isMandatory")="true"
 this.FMI = 1
Endif
Return
 
$CONTROL_FMI
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMI                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMI                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMI
[L]CURPRO = "FMI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FMI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMI
[L]CURPRO = "FMI"
If this.FMI<0 or this.FMI>len(mess(0,445,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"445 ->"-num$(this.FMI)-mess(99,123,1)):  Return : # Local menu "445 -> Invalid option
Endif
Return

$_AOTHERS_FMI
[L]CURPRO = "FMI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMI
[L]CURPRO = "FMI"
Return

$PROPAGATE_FMI
this.isReadonly = 0
[L]CURPRO = "FMI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMI
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMI"
$_LNKPRO_FMI
Return


####################################################################
# 75 : FMINUM Back-to-back order no. ( Field VCR 20)
####################################################################

$SET_FMINUM
If [L]_AOLDVAL<>this.FMINUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMINUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMINUM
 Gosub PROPAGATE_FMINUM
Endif
Return

$INIT_FMINUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMINUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMINUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMINUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMINUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMINUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMINUM
[L]CURPRO = "FMINUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FMINUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMINUM
[L]CURPRO = "FMINUM"
If vireblc(this.FMINUM,2)<>vireblc(format$("K:20X",this.FMINUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FMINUM
[L]CURPRO = "FMINUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMINUM
[L]CURPRO = "FMINUM"
Return

$PROPAGATE_FMINUM
this.isReadonly = 0
[L]CURPRO = "FMINUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMINUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMINUM"
$_LNKPRO_FMINUM
Return


####################################################################
# 76 : FMILIN Back-to-back order line ( Field L 8)
####################################################################

$SET_FMILIN
If [L]_AOLDVAL<>this.FMILIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMILIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMILIN
 Gosub PROPAGATE_FMILIN
Endif
Return

$INIT_FMILIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMILIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMILIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMILIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMILIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMILIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMILIN
[L]CURPRO = "FMILIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FMILIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMILIN
[L]CURPRO = "FMILIN"
Return

$_AOTHERS_FMILIN
[L]CURPRO = "FMILIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMILIN
[L]CURPRO = "FMILIN"
Return

$PROPAGATE_FMILIN
this.isReadonly = 0
[L]CURPRO = "FMILIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMILIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMILIN"
$_LNKPRO_FMILIN
Return


####################################################################
# 77 : FMISEQ Back-to-back order seq. ( Field L 8)
####################################################################

$SET_FMISEQ
If [L]_AOLDVAL<>this.FMISEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMISEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMISEQ
 Gosub PROPAGATE_FMISEQ
Endif
Return

$INIT_FMISEQ
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMISEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMISEQ
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMISEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMISEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMISEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMISEQ
[L]CURPRO = "FMISEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FMISEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMISEQ
[L]CURPRO = "FMISEQ"
Return

$_AOTHERS_FMISEQ
[L]CURPRO = "FMISEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMISEQ
[L]CURPRO = "FMISEQ"
Return

$PROPAGATE_FMISEQ
this.isReadonly = 0
[L]CURPRO = "FMISEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMISEQ
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "FMISEQ"
$_LNKPRO_FMISEQ
Return


####################################################################
# 78 : POHNUM Order no. ( Field VCR 20)
####################################################################

$SET_POHNUM
If [L]_AOLDVAL<>this.POHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POHNUM
 Gosub PROPAGATE_POHNUM
Endif
Return

$INIT_POHNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POHNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POHNUM
[L]CURPRO = "POHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POHNUM
[L]CURPRO = "POHNUM"
If vireblc(this.POHNUM,2)<>vireblc(format$("K:20X",this.POHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POHNUM
[L]CURPRO = "POHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POHNUM
[L]CURPRO = "POHNUM"
Return

$PROPAGATE_POHNUM
this.isReadonly = 0
[L]CURPRO = "POHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POHNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POHNUM"
$_LNKPRO_POHNUM
Return


####################################################################
# 79 : POPLIN Line ( Field L 8)
####################################################################

$SET_POPLIN
If [L]_AOLDVAL<>this.POPLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POPLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POPLIN
 Gosub PROPAGATE_POPLIN
Endif
Return

$INIT_POPLIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POPLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POPLIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POPLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POPLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POPLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POPLIN
[L]CURPRO = "POPLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POPLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POPLIN
[L]CURPRO = "POPLIN"
Return

$_AOTHERS_POPLIN
[L]CURPRO = "POPLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POPLIN
[L]CURPRO = "POPLIN"
Return

$PROPAGATE_POPLIN
this.isReadonly = 0
[L]CURPRO = "POPLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POPLIN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POPLIN"
$_LNKPRO_POPLIN
Return


####################################################################
# 80 : POQSEQ Sequence number ( Field L 8)
####################################################################

$SET_POQSEQ
If [L]_AOLDVAL<>this.POQSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POQSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POQSEQ
 Gosub PROPAGATE_POQSEQ
Endif
Return

$INIT_POQSEQ
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POQSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POQSEQ
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POQSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POQSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POQSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POQSEQ
[L]CURPRO = "POQSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POQSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POQSEQ
[L]CURPRO = "POQSEQ"
Return

$_AOTHERS_POQSEQ
[L]CURPRO = "POQSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POQSEQ
[L]CURPRO = "POQSEQ"
Return

$PROPAGATE_POQSEQ
this.isReadonly = 0
[L]CURPRO = "POQSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POQSEQ
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "POQSEQ"
$_LNKPRO_POQSEQ
Return


####################################################################
# 81 : PERSTRDAT Period start date ( Field D)
####################################################################

$SET_PERSTRDAT
If [L]_AOLDVAL<>this.PERSTRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERSTRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERSTRDAT
 Gosub PROPAGATE_PERSTRDAT
Endif
Return

$INIT_PERSTRDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERSTRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERSTRDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERSTRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERSTRDAT
[L]CURPRO = "PERSTRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERSTRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERSTRDAT
[L]CURPRO = "PERSTRDAT"
Return

$_AOTHERS_PERSTRDAT
[L]CURPRO = "PERSTRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERSTRDAT
[L]CURPRO = "PERSTRDAT"
Return

$PROPAGATE_PERSTRDAT
this.isReadonly = 0
[L]CURPRO = "PERSTRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERSTRDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERSTRDAT"
$_LNKPRO_PERSTRDAT
Return


####################################################################
# 82 : PERENDDAT Period end date ( Field D)
####################################################################

$SET_PERENDDAT
If [L]_AOLDVAL<>this.PERENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERENDDAT
 Gosub PROPAGATE_PERENDDAT
Endif
Return

$INIT_PERENDDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERENDDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERENDDAT
[L]CURPRO = "PERENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERENDDAT
[L]CURPRO = "PERENDDAT"
Return

$_AOTHERS_PERENDDAT
[L]CURPRO = "PERENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERENDDAT
[L]CURPRO = "PERENDDAT"
Return

$PROPAGATE_PERENDDAT
this.isReadonly = 0
[L]CURPRO = "PERENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERENDDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERENDDAT"
$_LNKPRO_PERENDDAT
Return


####################################################################
# 83 : PERNBRDAY Number of period days ( Field C 3)
####################################################################

$SET_PERNBRDAY
If [L]_AOLDVAL<>this.PERNBRDAY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERNBRDAY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERNBRDAY
 Gosub PROPAGATE_PERNBRDAY
Endif
Return

$INIT_PERNBRDAY
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERNBRDAY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERNBRDAY
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERNBRDAY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERNBRDAY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERNBRDAY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERNBRDAY
[L]CURPRO = "PERNBRDAY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERNBRDAY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERNBRDAY
[L]CURPRO = "PERNBRDAY"
Return

$_AOTHERS_PERNBRDAY
[L]CURPRO = "PERNBRDAY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERNBRDAY
[L]CURPRO = "PERNBRDAY"
Return

$PROPAGATE_PERNBRDAY
this.isReadonly = 0
[L]CURPRO = "PERNBRDAY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERNBRDAY
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PERNBRDAY"
$_LNKPRO_PERNBRDAY
Return


####################################################################
# 84 : OCNPRNBOM Print component on acknowledgement ( Field Local menu number 1)
####################################################################

$SET_OCNPRNBOM
If [L]_AOLDVAL<>this.OCNPRNBOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OCNPRNBOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OCNPRNBOM
 Gosub PROPAGATE_OCNPRNBOM
Endif
Return

$INIT_OCNPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "OCNPRNBOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OCNPRNBOM=0 and fmet this.AGETATTRIBUTE("OCNPRNBOM","$isMandatory")="true"
 this.OCNPRNBOM = 1
Endif
Return
 
$CONTROL_OCNPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "OCNPRNBOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OCNPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OCNPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OCNPRNBOM
[L]CURPRO = "OCNPRNBOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OCNPRNBOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OCNPRNBOM
[L]CURPRO = "OCNPRNBOM"
If this.OCNPRNBOM<0 or this.OCNPRNBOM>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.OCNPRNBOM)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_OCNPRNBOM
[L]CURPRO = "OCNPRNBOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OCNPRNBOM
[L]CURPRO = "OCNPRNBOM"
Return

$PROPAGATE_OCNPRNBOM
this.isReadonly = 0
[L]CURPRO = "OCNPRNBOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OCNPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "OCNPRNBOM"
$_LNKPRO_OCNPRNBOM
Return


####################################################################
# 85 : NDEPRNBOM Print component on shipping note ( Field Local menu number 1)
####################################################################

$SET_NDEPRNBOM
If [L]_AOLDVAL<>this.NDEPRNBOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NDEPRNBOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NDEPRNBOM
 Gosub PROPAGATE_NDEPRNBOM
Endif
Return

$INIT_NDEPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "NDEPRNBOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.NDEPRNBOM=0 and fmet this.AGETATTRIBUTE("NDEPRNBOM","$isMandatory")="true"
 this.NDEPRNBOM = 1
Endif
Return
 
$CONTROL_NDEPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "NDEPRNBOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NDEPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NDEPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NDEPRNBOM
[L]CURPRO = "NDEPRNBOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NDEPRNBOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NDEPRNBOM
[L]CURPRO = "NDEPRNBOM"
If this.NDEPRNBOM<0 or this.NDEPRNBOM>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.NDEPRNBOM)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_NDEPRNBOM
[L]CURPRO = "NDEPRNBOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NDEPRNBOM
[L]CURPRO = "NDEPRNBOM"
Return

$PROPAGATE_NDEPRNBOM
this.isReadonly = 0
[L]CURPRO = "NDEPRNBOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NDEPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "NDEPRNBOM"
$_LNKPRO_NDEPRNBOM
Return


####################################################################
# 86 : INVPRNBOM Print component on invoice ( Field Local menu number 1)
####################################################################

$SET_INVPRNBOM
If [L]_AOLDVAL<>this.INVPRNBOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVPRNBOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVPRNBOM
 Gosub PROPAGATE_INVPRNBOM
Endif
Return

$INIT_INVPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "INVPRNBOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.INVPRNBOM=0 and fmet this.AGETATTRIBUTE("INVPRNBOM","$isMandatory")="true"
 this.INVPRNBOM = 1
Endif
Return
 
$CONTROL_INVPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "INVPRNBOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVPRNBOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
If this.INVPRNBOM<0 or this.INVPRNBOM>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.INVPRNBOM)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
Return

$PROPAGATE_INVPRNBOM
this.isReadonly = 0
[L]CURPRO = "INVPRNBOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVPRNBOM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "INVPRNBOM"
$_LNKPRO_INVPRNBOM
Return


####################################################################
# 87 : CCLREN Closing reason ( Field Miscellaneous table number)
####################################################################

$SET_CCLREN
If [L]_AOLDVAL<>this.CCLREN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CCLREN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CCLREN
 Gosub PROPAGATE_CCLREN
Endif
Return

$INIT_CCLREN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CCLREN"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"CCLREN",this.CCLREN,201)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CCLREN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CCLREN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CCLREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CCLREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CCLREN
[L]CURPRO = "CCLREN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CCLREN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CCLREN
[L]CURPRO = "CCLREN"
If vireblc(this.CCLREN,2)<>vireblc(format$("K:20B",this.CCLREN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CCLREN
[L]CURPRO = "CCLREN"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"CCLREN",this.CCLREN,201,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CCLREN
[L]CURPRO = "CCLREN"
Return

$PROPAGATE_CCLREN
this.isReadonly = 0
[L]CURPRO = "CCLREN"
Gosub _LNKPRO_CCLREN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CCLREN
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CCLREN"
$_LNKPRO_CCLREN
If vireblc(this.CCLREN,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 201;this.CCLREN
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CCLREN","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CCLREN","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 88 : CCLDAT Date closed ( Field D)
####################################################################

$SET_CCLDAT
If [L]_AOLDVAL<>this.CCLDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CCLDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CCLDAT
 Gosub PROPAGATE_CCLDAT
Endif
Return

$INIT_CCLDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CCLDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CCLDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CCLDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CCLDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CCLDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CCLDAT
[L]CURPRO = "CCLDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CCLDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CCLDAT
[L]CURPRO = "CCLDAT"
Return

$_AOTHERS_CCLDAT
[L]CURPRO = "CCLDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CCLDAT
[L]CURPRO = "CCLDAT"
Return

$PROPAGATE_CCLDAT
this.isReadonly = 0
[L]CURPRO = "CCLDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CCLDAT
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "CCLDAT"
$_LNKPRO_CCLDAT
Return


####################################################################
# 89 : PITFLG Points management ( Field QTY 0)
####################################################################

$SET_PITFLG
If [L]_AOLDVAL<>this.PITFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PITFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PITFLG
 Gosub PROPAGATE_PITFLG
Endif
Return

$INIT_PITFLG
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PITFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PITFLG
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PITFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PITFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PITFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PITFLG
[L]CURPRO = "PITFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PITFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PITFLG
[L]CURPRO = "PITFLG"
Return

$_AOTHERS_PITFLG
[L]CURPRO = "PITFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PITFLG
[L]CURPRO = "PITFLG"
Return

$PROPAGATE_PITFLG
this.isReadonly = 0
[L]CURPRO = "PITFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PITFLG
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "PITFLG"
$_LNKPRO_PITFLG
Return


####################################################################
# 90 : EXPNUM Export number ( Field L 8)
####################################################################

$SET_EXPNUM
If [L]_AOLDVAL<>this.EXPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPNUM
 Gosub PROPAGATE_EXPNUM
Endif
Return

$INIT_EXPNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "EXPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "EXPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPNUM
[L]CURPRO = "EXPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXPNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$_AOTHERS_EXPNUM
[L]CURPRO = "EXPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$PROPAGATE_EXPNUM
this.isReadonly = 0
[L]CURPRO = "EXPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPNUM
Gosub DECLARE_VAR From WMC0SORDERQ
[L]CURPRO = "EXPNUM"
$_LNKPRO_EXPNUM
Return




