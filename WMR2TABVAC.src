#<AdxTL>@(#)0.0.0.0 $Revision$Class Tax determination table
# Supervisor
## ACLA-CLASSE ## TABVAC
# 2018-08-27 13:39:14 252

####################################################################
# Labels of the main class and methods 
####################################################################
 
####################################################################
# 31 : OPE5 Operator ( Field Local menu number 55)
####################################################################
 
$SET_OPE5
If [L]_AOLDVAL<>this.OPE5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPE5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPE5
 Gosub PROPAGATE_OPE5
Endif
Return

$INIT_OPE5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPE5=0 and fmet this.AGETATTRIBUTE("OPE5","$isMandatory")="true"
 this.OPE5 = 1
Endif
Return
 
$CONTROL_OPE5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPE5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPE5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPE5
[L]CURPRO = "OPE5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPE5=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPE5
[L]CURPRO = "OPE5"
If this.OPE5<0 or this.OPE5>len(mess(0,55,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"55 ->"-num$(this.OPE5)-mess(99,123,1)):  Return : # Local menu "55 -> Invalid option
Endif
Return

$_AOTHERS_OPE5
[L]CURPRO = "OPE5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPE5
[L]CURPRO = "OPE5"
Return

$PROPAGATE_OPE5
this.isReadonly = 0
[L]CURPRO = "OPE5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPE5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE5"
$_LNKPRO_OPE5
Return


####################################################################
# 32 : VAL5 Value ( Field AVV 80)
####################################################################
 
$SET_VAL5
If [L]_AOLDVAL<>this.VAL5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAL5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAL5
 Gosub PROPAGATE_VAL5
Endif
Return

$INIT_VAL5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAL5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAL5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAL5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAL5
[L]CURPRO = "VAL5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAL5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAL5
[L]CURPRO = "VAL5"
Return

$_AOTHERS_VAL5
[L]CURPRO = "VAL5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAL5
[L]CURPRO = "VAL5"
Return

$PROPAGATE_VAL5
this.isReadonly = 0
[L]CURPRO = "VAL5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAL5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL5"
$_LNKPRO_VAL5
Return


####################################################################
# 33 : VALI5 Value ( Field A 80)
####################################################################
 
$SET_VALI5
If [L]_AOLDVAL<>this.VALI5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALI5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALI5
 Gosub PROPAGATE_VALI5
Endif
Return

$INIT_VALI5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALI5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALI5                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALI5                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALI5
[L]CURPRO = "VALI5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VALI5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALI5
[L]CURPRO = "VALI5"
Return

$_AOTHERS_VALI5
[L]CURPRO = "VALI5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALI5
[L]CURPRO = "VALI5"
Return

$PROPAGATE_VALI5
this.isReadonly = 0
[L]CURPRO = "VALI5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALI5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI5"
$_LNKPRO_VALI5
Return


####################################################################
# 34 : TBL5 Table ( Field ATB 12)
####################################################################
 
$SET_TBL5
If [L]_AOLDVAL<>this.TBL5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TBL5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TBL5
 Gosub PROPAGATE_TBL5
Endif
Return

$INIT_TBL5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TBL5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TBL5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TBL5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TBL5
[L]CURPRO = "TBL5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TBL5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TBL5
[L]CURPRO = "TBL5"
If vireblc(this.TBL5,2)<>vireblc(format$("KTD:A11B",this.TBL5),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TBL5
[L]CURPRO = "TBL5"
If vireblc(this.TBL5,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"TBL5",this.TBL5,this.TBL5,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TBL5<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TBL5
[L]CURPRO = "TBL5"
Return

$PROPAGATE_TBL5
this.isReadonly = 0
[L]CURPRO = "TBL5"
Gosub _LNKPRO_TBL5
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TBL5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL5"
$_LNKPRO_TBL5
If vireblc(this.TBL5,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.TBL5
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("TBL5","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 35 : EXPRESSION Expression ( Field A 250)
####################################################################
 
$SET_EXPRESSION
If [L]_AOLDVAL<>this.EXPRESSION
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPRESSION
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPRESSION
 Gosub PROPAGATE_EXPRESSION
Endif
Return

$INIT_EXPRESSION
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "EXPRESSION"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPRESSION
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "EXPRESSION"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPRESSION            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPRESSION            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPRESSION
[L]CURPRO = "EXPRESSION"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXPRESSION,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPRESSION
[L]CURPRO = "EXPRESSION"
Return

$_AOTHERS_EXPRESSION
[L]CURPRO = "EXPRESSION"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPRESSION
[L]CURPRO = "EXPRESSION"
Return

$PROPAGATE_EXPRESSION
this.isReadonly = 0
[L]CURPRO = "EXPRESSION"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPRESSION
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "EXPRESSION"
$_LNKPRO_EXPRESSION
Return


####################################################################
# 36 : EXPTOT Total formula ( Field A 250)
####################################################################
 
$SET_EXPTOT
If [L]_AOLDVAL<>this.EXPTOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPTOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPTOT
 Gosub PROPAGATE_EXPTOT
Endif
Return

$INIT_EXPTOT
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "EXPTOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPTOT
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "EXPTOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPTOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPTOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPTOT
[L]CURPRO = "EXPTOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXPTOT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPTOT
[L]CURPRO = "EXPTOT"
Return

$_AOTHERS_EXPTOT
[L]CURPRO = "EXPTOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPTOT
[L]CURPRO = "EXPTOT"
Return

$PROPAGATE_EXPTOT
this.isReadonly = 0
[L]CURPRO = "EXPTOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPTOT
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "EXPTOT"
$_LNKPRO_EXPTOT
Return


####################################################################
# 37 : NOLIB1 Line ( Field C 2)
####################################################################
 
$SET_NOLIB1
If [L]_AOLDVAL<>this.NOLIB1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOLIB1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOLIB1
 Gosub PROPAGATE_NOLIB1
Endif
Return

$INIT_NOLIB1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOLIB1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOLIB1                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOLIB1                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOLIB1
[L]CURPRO = "NOLIB1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOLIB1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOLIB1
[L]CURPRO = "NOLIB1"
Return

$_AOTHERS_NOLIB1
[L]CURPRO = "NOLIB1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOLIB1
[L]CURPRO = "NOLIB1"
Return

$PROPAGATE_NOLIB1
this.isReadonly = 0
[L]CURPRO = "NOLIB1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOLIB1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB1"
$_LNKPRO_NOLIB1
Return


####################################################################
# 38 : NOLIB2 Line ( Field C 2)
####################################################################
 
$SET_NOLIB2
If [L]_AOLDVAL<>this.NOLIB2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOLIB2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOLIB2
 Gosub PROPAGATE_NOLIB2
Endif
Return

$INIT_NOLIB2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOLIB2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOLIB2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOLIB2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOLIB2
[L]CURPRO = "NOLIB2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOLIB2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOLIB2
[L]CURPRO = "NOLIB2"
Return

$_AOTHERS_NOLIB2
[L]CURPRO = "NOLIB2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOLIB2
[L]CURPRO = "NOLIB2"
Return

$PROPAGATE_NOLIB2
this.isReadonly = 0
[L]CURPRO = "NOLIB2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOLIB2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB2"
$_LNKPRO_NOLIB2
Return


####################################################################
# 39 : NOLIB3 Line ( Field C 2)
####################################################################
 
$SET_NOLIB3
If [L]_AOLDVAL<>this.NOLIB3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOLIB3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOLIB3
 Gosub PROPAGATE_NOLIB3
Endif
Return

$INIT_NOLIB3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOLIB3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOLIB3                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOLIB3                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOLIB3
[L]CURPRO = "NOLIB3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOLIB3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOLIB3
[L]CURPRO = "NOLIB3"
Return

$_AOTHERS_NOLIB3
[L]CURPRO = "NOLIB3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOLIB3
[L]CURPRO = "NOLIB3"
Return

$PROPAGATE_NOLIB3
this.isReadonly = 0
[L]CURPRO = "NOLIB3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOLIB3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB3"
$_LNKPRO_NOLIB3
Return


####################################################################
# 40 : NOLIB4 Line ( Field C 2)
####################################################################
 
$SET_NOLIB4
If [L]_AOLDVAL<>this.NOLIB4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOLIB4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOLIB4
 Gosub PROPAGATE_NOLIB4
Endif
Return

$INIT_NOLIB4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOLIB4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOLIB4                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOLIB4                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOLIB4
[L]CURPRO = "NOLIB4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOLIB4=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOLIB4
[L]CURPRO = "NOLIB4"
Return

$_AOTHERS_NOLIB4
[L]CURPRO = "NOLIB4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOLIB4
[L]CURPRO = "NOLIB4"
Return

$PROPAGATE_NOLIB4
this.isReadonly = 0
[L]CURPRO = "NOLIB4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOLIB4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB4"
$_LNKPRO_NOLIB4
Return


####################################################################
# 41 : NOLIB5 Line ( Field C 2)
####################################################################
 
$SET_NOLIB5
If [L]_AOLDVAL<>this.NOLIB5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOLIB5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOLIB5
 Gosub PROPAGATE_NOLIB5
Endif
Return

$INIT_NOLIB5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOLIB5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOLIB5                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOLIB5                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOLIB5
[L]CURPRO = "NOLIB5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOLIB5=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOLIB5
[L]CURPRO = "NOLIB5"
Return

$_AOTHERS_NOLIB5
[L]CURPRO = "NOLIB5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOLIB5
[L]CURPRO = "NOLIB5"
Return

$PROPAGATE_NOLIB5
this.isReadonly = 0
[L]CURPRO = "NOLIB5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOLIB5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NOLIB5"
$_LNKPRO_NOLIB5
Return


####################################################################
# 42 : OBJ Object ( Field AOB 8)
####################################################################
 
$SET_OBJ
If [L]_AOLDVAL<>this.OBJ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OBJ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OBJ
 Gosub PROPAGATE_OBJ
Endif
Return

$INIT_OBJ
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OBJ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OBJ
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OBJ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OBJ                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OBJ                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OBJ
[L]CURPRO = "OBJ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OBJ,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OBJ
[L]CURPRO = "OBJ"
If vireblc(this.OBJ,2)<>vireblc(format$("KTD:8B",this.OBJ),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OBJ
[L]CURPRO = "OBJ"
If vireblc(this.OBJ,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPAOB.ACTRLREF(this,"OBJ",this.OBJ,this.OBJ,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OBJ<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OBJ
[L]CURPRO = "OBJ"
Return

$PROPAGATE_OBJ
this.isReadonly = 0
[L]CURPRO = "OBJ"
Gosub _LNKPRO_OBJ
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OBJ
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OBJ"
$_LNKPRO_OBJ
If vireblc(this.OBJ,2)<>""
 # Link AOBJET
 Local File AOBJET [WAOB]
 Read [F:WAOB]ABREV = this.OBJ
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBSHO & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OBJ","$title",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBEL & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OBJ","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WAOB]
Endif
Return


####################################################################
# 43 : ABR Table abbreviation ( Field ABR 8)
####################################################################
 
$SET_ABR
If [L]_AOLDVAL<>this.ABR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ABR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ABR
 Gosub PROPAGATE_ABR
Endif
Return

$INIT_ABR
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ABR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ABR
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ABR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ABR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ABR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ABR
[L]CURPRO = "ABR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ABR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ABR
[L]CURPRO = "ABR"
If vireblc(this.ABR,2)<>vireblc(format$("KTD:A7u",this.ABR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ABR
[L]CURPRO = "ABR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ABR
[L]CURPRO = "ABR"
Return

$PROPAGATE_ABR
this.isReadonly = 0
[L]CURPRO = "ABR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ABR
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ABR"
$_LNKPRO_ABR
Return


####################################################################
# 44 : TITDIC Title ( Field A 20)
####################################################################
 
$SET_TITDIC
If [L]_AOLDVAL<>this.TITDIC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TITDIC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TITDIC
 Gosub PROPAGATE_TITDIC
Endif
Return

$INIT_TITDIC
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TITDIC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TITDIC
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TITDIC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TITDIC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TITDIC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TITDIC
[L]CURPRO = "TITDIC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TITDIC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TITDIC
[L]CURPRO = "TITDIC"
Return

$_AOTHERS_TITDIC
[L]CURPRO = "TITDIC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TITDIC
[L]CURPRO = "TITDIC"
Return

$PROPAGATE_TITDIC
this.isReadonly = 0
[L]CURPRO = "TITDIC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TITDIC
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TITDIC"
$_LNKPRO_TITDIC
Return


####################################################################
# 45 : ABTBL Table ( Field ABR 8)
####################################################################
 
$SET_ABTBL
If [L]_AOLDVAL<>this.ABTBL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ABTBL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ABTBL
 Gosub PROPAGATE_ABTBL
Endif
Return

$INIT_ABTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ABTBL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ABTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ABTBL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ABTBL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ABTBL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ABTBL
[L]CURPRO = "ABTBL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ABTBL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ABTBL
[L]CURPRO = "ABTBL"
If vireblc(this.ABTBL,2)<>vireblc(format$("KTD:A7u",this.ABTBL),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ABTBL
[L]CURPRO = "ABTBL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ABTBL
[L]CURPRO = "ABTBL"
Return

$PROPAGATE_ABTBL
this.isReadonly = 0
[L]CURPRO = "ABTBL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ABTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ABTBL"
$_LNKPRO_ABTBL
Return


####################################################################
# 46 : FMT1 Format ( Field ATY 8)
####################################################################
 
$SET_FMT1
If [L]_AOLDVAL<>this.FMT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMT1
 Gosub PROPAGATE_FMT1
Endif
Return

$INIT_FMT1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMT1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMT1
[L]CURPRO = "FMT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FMT1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMT1
[L]CURPRO = "FMT1"
If vireblc(this.FMT1,2)<>vireblc(format$("K:8B",this.FMT1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FMT1
[L]CURPRO = "FMT1"
If vireblc(this.FMT1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATY.ACTRLREF(this,"FMT1",this.FMT1,this.FMT1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FMT1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMT1
[L]CURPRO = "FMT1"
Return

$PROPAGATE_FMT1
this.isReadonly = 0
[L]CURPRO = "FMT1"
Gosub _LNKPRO_FMT1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMT1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT1"
$_LNKPRO_FMT1
If vireblc(this.FMT1,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.FMT1
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FMT1","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 47 : FMT2 Format ( Field ATY 8)
####################################################################
 
$SET_FMT2
If [L]_AOLDVAL<>this.FMT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMT2
 Gosub PROPAGATE_FMT2
Endif
Return

$INIT_FMT2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMT2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMT2
[L]CURPRO = "FMT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FMT2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMT2
[L]CURPRO = "FMT2"
If vireblc(this.FMT2,2)<>vireblc(format$("K:8B",this.FMT2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FMT2
[L]CURPRO = "FMT2"
If vireblc(this.FMT2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATY.ACTRLREF(this,"FMT2",this.FMT2,this.FMT2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FMT2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMT2
[L]CURPRO = "FMT2"
Return

$PROPAGATE_FMT2
this.isReadonly = 0
[L]CURPRO = "FMT2"
Gosub _LNKPRO_FMT2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMT2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT2"
$_LNKPRO_FMT2
If vireblc(this.FMT2,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.FMT2
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FMT2","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 48 : FMT3 Format ( Field ATY 8)
####################################################################
 
$SET_FMT3
If [L]_AOLDVAL<>this.FMT3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMT3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMT3
 Gosub PROPAGATE_FMT3
Endif
Return

$INIT_FMT3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMT3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMT3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMT3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMT3
[L]CURPRO = "FMT3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FMT3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMT3
[L]CURPRO = "FMT3"
If vireblc(this.FMT3,2)<>vireblc(format$("K:8B",this.FMT3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FMT3
[L]CURPRO = "FMT3"
If vireblc(this.FMT3,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATY.ACTRLREF(this,"FMT3",this.FMT3,this.FMT3,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FMT3<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMT3
[L]CURPRO = "FMT3"
Return

$PROPAGATE_FMT3
this.isReadonly = 0
[L]CURPRO = "FMT3"
Gosub _LNKPRO_FMT3
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMT3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT3"
$_LNKPRO_FMT3
If vireblc(this.FMT3,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.FMT3
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FMT3","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 49 : FMT4 Format ( Field ATY 8)
####################################################################
 
$SET_FMT4
If [L]_AOLDVAL<>this.FMT4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMT4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMT4
 Gosub PROPAGATE_FMT4
Endif
Return

$INIT_FMT4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMT4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMT4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMT4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMT4
[L]CURPRO = "FMT4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FMT4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMT4
[L]CURPRO = "FMT4"
If vireblc(this.FMT4,2)<>vireblc(format$("K:8B",this.FMT4),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FMT4
[L]CURPRO = "FMT4"
If vireblc(this.FMT4,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATY.ACTRLREF(this,"FMT4",this.FMT4,this.FMT4,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FMT4<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMT4
[L]CURPRO = "FMT4"
Return

$PROPAGATE_FMT4
this.isReadonly = 0
[L]CURPRO = "FMT4"
Gosub _LNKPRO_FMT4
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMT4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT4"
$_LNKPRO_FMT4
If vireblc(this.FMT4,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.FMT4
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FMT4","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 50 : FMT5 Format ( Field ATY 8)
####################################################################
 
$SET_FMT5
If [L]_AOLDVAL<>this.FMT5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMT5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMT5
 Gosub PROPAGATE_FMT5
Endif
Return

$INIT_FMT5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FMT5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMT5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMT5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMT5
[L]CURPRO = "FMT5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FMT5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMT5
[L]CURPRO = "FMT5"
If vireblc(this.FMT5,2)<>vireblc(format$("K:8B",this.FMT5),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FMT5
[L]CURPRO = "FMT5"
If vireblc(this.FMT5,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATY.ACTRLREF(this,"FMT5",this.FMT5,this.FMT5,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FMT5<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMT5
[L]CURPRO = "FMT5"
Return

$PROPAGATE_FMT5
this.isReadonly = 0
[L]CURPRO = "FMT5"
Gosub _LNKPRO_FMT5
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMT5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FMT5"
$_LNKPRO_FMT5
If vireblc(this.FMT5,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.FMT5
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FMT5","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 51 : NBTBL Number ( Field C 4)
####################################################################
 
$SET_NBTBL
If [L]_AOLDVAL<>this.NBTBL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBTBL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBTBL
 Gosub PROPAGATE_NBTBL
Endif
Return

$INIT_NBTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NBTBL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NBTBL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBTBL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBTBL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBTBL
[L]CURPRO = "NBTBL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBTBL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBTBL
[L]CURPRO = "NBTBL"
Return

$_AOTHERS_NBTBL
[L]CURPRO = "NBTBL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBTBL
[L]CURPRO = "NBTBL"
Return

$PROPAGATE_NBTBL
this.isReadonly = 0
[L]CURPRO = "NBTBL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "NBTBL"
$_LNKPRO_NBTBL
Return


####################################################################
# 52 : SUPP1 Supplement ( Field A 10)
####################################################################
 
$SET_SUPP1
If [L]_AOLDVAL<>this.SUPP1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUPP1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUPP1
 Gosub PROPAGATE_SUPP1
Endif
Return

$INIT_SUPP1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SUPP1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUPP1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUPP1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUPP1
[L]CURPRO = "SUPP1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SUPP1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUPP1
[L]CURPRO = "SUPP1"
Return

$_AOTHERS_SUPP1
[L]CURPRO = "SUPP1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUPP1
[L]CURPRO = "SUPP1"
Return

$PROPAGATE_SUPP1
this.isReadonly = 0
[L]CURPRO = "SUPP1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUPP1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP1"
$_LNKPRO_SUPP1
Return


####################################################################
# 53 : SUPP2 Supplement ( Field A 10)
####################################################################
 
$SET_SUPP2
If [L]_AOLDVAL<>this.SUPP2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUPP2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUPP2
 Gosub PROPAGATE_SUPP2
Endif
Return

$INIT_SUPP2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SUPP2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUPP2                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUPP2                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUPP2
[L]CURPRO = "SUPP2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SUPP2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUPP2
[L]CURPRO = "SUPP2"
Return

$_AOTHERS_SUPP2
[L]CURPRO = "SUPP2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUPP2
[L]CURPRO = "SUPP2"
Return

$PROPAGATE_SUPP2
this.isReadonly = 0
[L]CURPRO = "SUPP2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUPP2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP2"
$_LNKPRO_SUPP2
Return


####################################################################
# 54 : SUPP3 Supplement ( Field A 10)
####################################################################
 
$SET_SUPP3
If [L]_AOLDVAL<>this.SUPP3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUPP3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUPP3
 Gosub PROPAGATE_SUPP3
Endif
Return

$INIT_SUPP3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SUPP3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUPP3                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUPP3                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUPP3
[L]CURPRO = "SUPP3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SUPP3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUPP3
[L]CURPRO = "SUPP3"
Return

$_AOTHERS_SUPP3
[L]CURPRO = "SUPP3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUPP3
[L]CURPRO = "SUPP3"
Return

$PROPAGATE_SUPP3
this.isReadonly = 0
[L]CURPRO = "SUPP3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUPP3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP3"
$_LNKPRO_SUPP3
Return


####################################################################
# 55 : SUPP4 Supplement ( Field A 10)
####################################################################
 
$SET_SUPP4
If [L]_AOLDVAL<>this.SUPP4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUPP4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUPP4
 Gosub PROPAGATE_SUPP4
Endif
Return

$INIT_SUPP4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SUPP4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUPP4                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUPP4                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUPP4
[L]CURPRO = "SUPP4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SUPP4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUPP4
[L]CURPRO = "SUPP4"
Return

$_AOTHERS_SUPP4
[L]CURPRO = "SUPP4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUPP4
[L]CURPRO = "SUPP4"
Return

$PROPAGATE_SUPP4
this.isReadonly = 0
[L]CURPRO = "SUPP4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUPP4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP4"
$_LNKPRO_SUPP4
Return


####################################################################
# 56 : SUPP5 Supplement ( Field A 10)
####################################################################
 
$SET_SUPP5
If [L]_AOLDVAL<>this.SUPP5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUPP5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUPP5
 Gosub PROPAGATE_SUPP5
Endif
Return

$INIT_SUPP5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SUPP5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUPP5                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUPP5                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUPP5
[L]CURPRO = "SUPP5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SUPP5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUPP5
[L]CURPRO = "SUPP5"
Return

$_AOTHERS_SUPP5
[L]CURPRO = "SUPP5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUPP5
[L]CURPRO = "SUPP5"
Return

$PROPAGATE_SUPP5
this.isReadonly = 0
[L]CURPRO = "SUPP5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUPP5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "SUPP5"
$_LNKPRO_SUPP5
Return


####################################################################
# 57 : TBTBL Table ( Field ATB 12)
####################################################################
 
$SET_TBTBL
If [L]_AOLDVAL<>this.TBTBL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TBTBL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TBTBL
 Gosub PROPAGATE_TBTBL
Endif
Return

$INIT_TBTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBTBL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TBTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBTBL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TBTBL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TBTBL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TBTBL
[L]CURPRO = "TBTBL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TBTBL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TBTBL
[L]CURPRO = "TBTBL"
If vireblc(this.TBTBL,2)<>vireblc(format$("KTD:A11B",this.TBTBL),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TBTBL
[L]CURPRO = "TBTBL"
If vireblc(this.TBTBL,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"TBTBL",this.TBTBL,this.TBTBL,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TBTBL<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TBTBL
[L]CURPRO = "TBTBL"
Return

$PROPAGATE_TBTBL
this.isReadonly = 0
[L]CURPRO = "TBTBL"
Gosub _LNKPRO_TBTBL
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TBTBL
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBTBL"
$_LNKPRO_TBTBL
If vireblc(this.TBTBL,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.TBTBL
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("TBTBL","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return




