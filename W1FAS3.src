#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
# Mask management FAS3 

$_AFF
If GIMPORT
 Gosub AFF From GSAISIE
Else
 If GMESSAGE <>""
  Gosub ERR From GSAISIE
 Else
  Raz GERR , GZNUM
 Endif
Endif
Return

$HORODAT
Local Date    A_DATE
Local Char    A_HEURE(10) , A_USER(10)
Local Char    A_STAMP(15)
A_DATE  = [28/08/2018]
A_HEURE = "00:00:47"
A_USER  = "ADMIN"
A_STAMP = "20180828000047"
Return

$TITRES
Return

$CHG_FMT
Case zoncou
 When "NBLIG1"
  If [M]NBLIG1=0
  Endif
Endcase
Return

$VISU
Local Integer A_REPONSE
Global Integer GPRE_VIEW
If dim(A_WINDPREV)<=0 : Local Char A_WINDPREV(30) : Endif
Local Mask FAS3 [FAS3]
Gosub HORODAT
Local Inpbox "FAS3" From GFONCTION At A_STAMP With A_WINDPREV Mask [FAS3] As [SIM_]
Grizo [FAS3]5
Boxact [SIM_]
Gosub TITRES
Boxinp [SIM_] Using A_REPONSE
Close Local Inpbox [SIM_]
Close Local Mask [FAS3]
Kill GPRE_VIEW
Return

$HARDCOP
Local Integer X1(0..14),X2(0..14),Y1(0..14),Y2(0..14)
X1(0)=1 : X2(0)=110 : Y1(0)=1 : Y2(0)=22
Return

$ON_NBLIG1
Onevent BEFORE_INPUT Call AS_NBLIG1 From W1FAS3
Onevent CONTROL Call C_NBLIG1 From W1FAS3
Onevent BEFORE_AREA Call AV_NBLIG1 From W1FAS3
Return

Subprog AV_NBLIG1
Local Decimal BASPAG
GUNT1(1) = "EUR"
GUNT1(1) = [M]UOM(nolign-1)
Gosub SETDEV From TRTDIV
Gosub _AFF
End

Subprog AS_NBLIG1
Local Decimal BASPAG
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(33972,GBOUT1) From OBJDIV
Call TEXTE(34568,GBOUT2) From OBJDIV
Call TEXTE(34707,GBOUT4) From OBJDIV
Call TEXTE(34708,GBOUT5) From OBJDIV
Call TEXTE(34709,GBOUT6) From OBJDIV
Call TEXTE(43383,GBOUT7) From OBJDIV
Call TEXTE(51509,GBOUT8) From OBJDIV
Call TEXTE(7692,GBOUT9) From OBJDIV
## Action STD
Call AS_NBLIG1 From SUBFAS
Onkey 129 Titled GBOUT1 Call B1_NBLIG1 From W1FAS3
Onkey 130 Titled GBOUT2 Call B2_NBLIG1 From W1FAS3
Onkey 132 Titled GBOUT4 Call B4_NBLIG1 From W1FAS3
Onkey 133 Titled GBOUT5 Call B5_NBLIG1 From W1FAS3
Onkey 134 Titled GBOUT6 Call B6_NBLIG1 From W1FAS3
Onkey 135 Titled GBOUT7 Call B7_NBLIG1 From W1FAS3
Onkey 136 Titled GBOUT8 Call B8_NBLIG1 From W1FAS3
Onkey 137 Titled GBOUT9 Call B9_NBLIG1 From W1FAS3
Gosub _AFF
End

Subprog C_NBLIG1
Local Decimal BASPAG
## Action STD
Call C_NBLIG1 From SUBFAS
If mkstat : GERR = 1 : GZONE = "NBLIG1" : GZNUM = 0 : Endif
Gosub _AFF
End

Subprog B1_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action GOBJETC
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "GOBJETC"
 Call OBJET_CHAR([M:FAS0]AASREF,"DPP",num$([M]DPRPLN(nolign-1))) From GOBJET
 GACTION = SAVACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B2_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action GOBJETC1
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "GOBJETC1"
 Call OBJET_CHAR([M:FAS0]AASREF,"DER","") From GOBJET
 GACTION = SAVACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B4_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action STD
 Call B4_NBLIG1 From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B5_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action FASDPE
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "FASDPE"
 PARMSK(1) = num$(nolign)
 Call SAISIE_NUM(BASPAG,PARMSK,"FASDPE","TRTIMMOFEN","XWFASDPE") From GSAISIE
 GACTION = SAVACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B6_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action STD
 Call B6_NBLIG1 From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B7_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action STD
 Call B7_NBLIG1 From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B8_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action STD
 Call B8_NBLIG1 From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

Subprog B9_NBLIG1
Local Decimal BASPAG
If !GWEBSERV
 ## Action FASADV
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "FASADV"
 PARMSK(1) = num$(nolign)
 Call SAISIE_NUM(BASPAG,PARMSK,"FASADV","TRTIMMOFEN","XWFASADV") From GSAISIE
 GACTION = SAVACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_DPRPLN
Onevent INIT_AREA Call D_DPRPLN(zc) From W1FAS3
Return

Subprog D_DPRPLN(VALEUR)
Variable Integer VALEUR
If varinit([M]DPRPLN,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_DPM
Onevent AFTER_CHANGE Gosub AMM_DPM From W1FAS3
Onevent BEFORE_INPUT Call AS_DPM(zc) From W1FAS3
Onevent CONTROL Call C_DPM(zc) From W1FAS3
Return

Subprog AS_DPM(VALEUR)
Variable Char    VALEUR()
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(15597,GBOUTS) From OBJDIV
Onkey   2 Titled GBOUTS Call S_DPM(zc) From W1FAS3
Gosub _AFF
End

Subprog C_DPM(VALEUR)
Variable Char    VALEUR()
## Action %OBLIG
If vireblc(VALEUR,2)=""
 mkstat = 1 : GMESSAGE = mess(10,123,1)
Endif
If mkstat : GERR = 1 : GZONE = "DPM" : GZNUM = 1220 : Endif
Gosub _AFF
End

$AMM_DPM
Call AM_DPM(zc)
If !mkstat & GOBJET
 zoncou = "DPM" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_DPM(VALEUR)
Variable Char    VALEUR()
## Action STD
Call AM_DPM(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPM" : GZNUM = 1220 : Endif
Gosub _AFF
End

Subprog S_DPM(VALEUR)
Variable Char    VALEUR()
If !GWEBSERV
 ## Action SELDPM
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "SELDPM"
 PARMSK(1) = [M]CPY
 PARMSK(2) = num$([M]DPRPLN(nolign-1))
 PARMSK(3) = [M]DPM(nolign-1)
 Call S_LIS_CHAR(VALEUR,PARMSK,"SELDPM","SELLISFAS","") From GACTION
 [M]DPM(nolign-1) = PARMSK(3)
 GACTION = SAVACT
Endif
Gosub _AFF
End

$ON_DPRDUR
Onevent CONTROL Call C_DPRDUR(zc) From W1FAS3
Onevent BEFORE_INPUT Call AS_DPRDUR(zc) From W1FAS3
Return

Subprog AS_DPRDUR(VALEUR)
Variable Decimal VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(42201,GBOUT1) From OBJDIV
Onkey 129 Titled GBOUT1 Call B1_DPRDUR(zc) From W1FAS3
Gosub _AFF
End

Subprog C_DPRDUR(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action STD
 Call C_DPRDUR(VALEUR) From SUBFAS
 If mkstat : GERR = 1 : GZONE = "DPRDUR" : GZNUM = 42719 : Endif
Endif
Gosub _AFF
End

Subprog B1_DPRDUR(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action FASDUR
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "FASDUR"
 PARMSK(1) = num$(nolign)
 Call SAISIE_NUM(VALEUR,PARMSK,"FASDUR","TRTIMMOFEN","XWFASDUR") From GSAISIE
 GACTION = SAVACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_DPRRATFLG
Onevent INIT_AREA Call D_DPRRATFLG(zc) From W1FAS3
Return

Subprog D_DPRRATFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]DPRRATFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_DPRRAT
Onevent BEFORE_AREA Gosub AV_DPRRAT From W1FAS3
Onevent BEFORE_INPUT Call AS_DPRRAT(zc) From W1FAS3
Onevent CONTROL Call C_DPRRAT(zc) From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_DPRRAT From W1FAS3
Return

$AV_DPRRAT
## Action STD
Call AV_DPRRAT(zc) From SUBFAS
Gosub _AFF
Return

Subprog AS_DPRRAT(VALEUR)
Variable Decimal VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(34687,GBOUT1) From OBJDIV
## Action STD
Call AS_DPRRAT(VALEUR) From SUBFAS
If mkstat=2
 [M]DPRRAT(INDIC) = VALEUR
 Affzo DPRRAT(INDIC) : mkstat = 2
Endif
Onkey 129 Titled GBOUT1 Call B1_DPRRAT(zc) From W1FAS3
Gosub _AFF
End

Subprog C_DPRRAT(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_DPRRAT(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPRRAT" : GZNUM = 3389 : Endif
Gosub _AFF
End

$AMM_DPRRAT
Call AM_DPRRAT(zc)
If !mkstat & GOBJET
 zoncou = "DPRRAT" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_DPRRAT(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_DPRRAT(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPRRAT" : GZNUM = 3389 : Endif
Gosub _AFF
End

Subprog B1_DPRRAT(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action STD
 Call B1_DPRRAT(VALEUR) From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_DPRRAT2
Onevent BEFORE_AREA Gosub AV_DPRRAT2 From W1FAS3
Onevent CONTROL Call C_DPRRAT2(zc) From W1FAS3
Return

$AV_DPRRAT2
## Action STD
Call AV_DPRRAT2(zc) From SUBFAS
Gosub _AFF
Return

Subprog C_DPRRAT2(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_DPRRAT2(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPRRAT2" : GZNUM = 34296 : Endif
Gosub _AFF
End

$ON_ACLCOE
Onevent BEFORE_AREA Gosub AV_ACLCOE From W1FAS3
Onevent CONTROL Call C_ACLCOE(zc) From W1FAS3
Return

$AV_ACLCOE
## Action STD
Call AV_ACLCOE(zc) From SUBFAS
Gosub _AFF
Return

Subprog C_ACLCOE(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_ACLCOE(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "ACLCOE" : GZNUM = 34710 : Endif
Gosub _AFF
End

$ON_PRATYP
Onevent BEFORE_INPUT Call AS_PRATYP(zc) From W1FAS3
Onevent CONTROL Call C_PRATYP(zc) From W1FAS3
Onevent INIT_AREA Call D_PRATYP(zc) From W1FAS3
Return

Subprog D_PRATYP(VALEUR)
Variable Integer VALEUR
If varinit([M]PRATYP,indice)=0
 VALEUR = 0
Endif
Gosub _AFF
End

Subprog AS_PRATYP(VALEUR)
Variable Integer VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call INICOMBO(3105) From COMBOS
## Action STD
Call AS_PRATYP(VALEUR) From SUBFAS
If mkstat=2
 [M]PRATYP(INDIC) = VALEUR
 Affzo PRATYP(INDIC) : mkstat = 2
Endif
If VALEUR<1 | GMENLOC(VALEUR)=1
 VALEUR = find(0,GMENLOC(1..len(mess(0,3105,1))))
Endif
If !mkstat
 Discombo 0 From PRATYP(INDIC)
 If sum(GMENLOC)<>0
  Gosub COMBOS From COMBOS
  For WI=1 to WN : Discombo WCOMBO(WI) From PRATYP(INDIC) : Next WI
 Endif
Endif
Gosub _AFF
End

Subprog C_PRATYP(VALEUR)
Variable Integer VALEUR
If VALEUR>0 & VALEUR<dim(GMENLOC) & GMENLOC(VALEUR)<>0
 mkstat = 1 : End
Endif
## Action STD
Call C_PRATYP(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "PRATYP" : GZNUM = 7752 : Endif
Gosub _AFF
End

$ON_STRDPRDAT
Onevent CONTROL Call C_STRDPRDAT(zc) From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_STRDPRDAT From W1FAS3
Onevent BEFORE_AREA Gosub AV_STRDPRDAT From W1FAS3
Return

$AV_STRDPRDAT
Chgfmt [M]STRDPRDAT(indice) With "DZ:"+GFMDAT4
Gosub _AFF
Return

Subprog C_STRDPRDAT(VALEUR)
Variable Date    VALEUR
If !GWEBSERV
 ## Action STD
 Call C_STRDPRDAT(VALEUR) From SUBFAS
 If mkstat : GERR = 1 : GZONE = "STRDPRDAT" : GZNUM = 34711 : Endif
Endif
Gosub _AFF
End

$AMM_STRDPRDAT
Call AM_STRDPRDAT(zc)
If !mkstat & GOBJET
 zoncou = "STRDPRDAT" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_STRDPRDAT(VALEUR)
Variable Date    VALEUR
## Action STD
Call AM_STRDPRDAT(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "STRDPRDAT" : GZNUM = 34711 : Endif
Gosub _AFF
End

$ON_ENDDPRDAT
Onevent BEFORE_AREA Gosub AV_ENDDPRDAT From W1FAS3
Onevent BEFORE_INPUT Call AS_ENDDPRDAT(zc) From W1FAS3
Onevent CONTROL Call C_ENDDPRDAT(zc) From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_ENDDPRDAT From W1FAS3
Return

$AV_ENDDPRDAT
## Action STD
Call AV_ENDDPRDAT(zc) From SUBFAS
Chgfmt [M]ENDDPRDAT(indice) With "DZ:"+GFMDAT4
Gosub _AFF
Return

Subprog AS_ENDDPRDAT(VALEUR)
Variable Date    VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(454,GBOUT1) From OBJDIV
## Action STD
Call AS_ENDDPRDAT(VALEUR) From SUBFAS
If mkstat=2
 [M]ENDDPRDAT(INDIC) = VALEUR
 Affzo ENDDPRDAT(INDIC) : mkstat = 2
Endif
Onkey 129 Titled GBOUT1 Call B1_ENDDPRDAT(zc) From W1FAS3
Gosub _AFF
End

Subprog C_ENDDPRDAT(VALEUR)
Variable Date    VALEUR
## Action STD
Call C_ENDDPRDAT(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "ENDDPRDAT" : GZNUM = 34579 : Endif
Gosub _AFF
End

$AMM_ENDDPRDAT
Call AM_ENDDPRDAT(zc)
If !mkstat & GOBJET
 zoncou = "ENDDPRDAT" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_ENDDPRDAT(VALEUR)
Variable Date    VALEUR
## Action STD
Call AM_ENDDPRDAT(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "ENDDPRDAT" : GZNUM = 34579 : Endif
Gosub _AFF
End

Subprog B1_ENDDPRDAT(VALEUR)
Variable Date    VALEUR
If !GWEBSERV
 ## Action STD
 Call B1_ENDDPRDAT(VALEUR) From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_ENDDPRFLG
Onevent INIT_AREA Call D_ENDDPRFLG(zc) From W1FAS3
Return

Subprog D_ENDDPRFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]ENDDPRFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_DPRBAS
Onevent BEFORE_AREA Gosub AV_DPRBAS From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_DPRBAS From W1FAS3
Return

$AV_DPRBAS
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]DPRBAS(indice) With "Nz3:"+GDEVFMT
Gosub _AFF
Return

$AMM_DPRBAS
Call AM_DPRBAS(zc)
If !mkstat & GOBJET
 zoncou = "DPRBAS" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_DPRBAS(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_DPRBAS(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPRBAS" : GZNUM = 34569 : Endif
Gosub _AFF
End

$ON_RSDVAL
Onevent BEFORE_AREA Gosub AV_RSDVAL From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_RSDVAL From W1FAS3
Return

$AV_RSDVAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]RSDVAL(indice) With "Nz3:"+GDEVFMT
Gosub _AFF
Return

$AMM_RSDVAL
Call AM_RSDVAL(zc)
If !mkstat & GOBJET
 zoncou = "RSDVAL" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_RSDVAL(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action STD
 Call AM_RSDVAL(VALEUR) From SUBFAS
 If mkstat : GERR = 1 : GZONE = "RSDVAL" : GZNUM = 34570 : Endif
Endif
Gosub _AFF
End

$ON_DPRCUMFLG
Onevent INIT_AREA Call D_DPRCUMFLG(zc) From W1FAS3
Return

Subprog D_DPRCUMFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]DPRCUMFLG,indice)=0
 VALEUR = G_NON
Endif
Gosub _AFF
End

$ON_DPRCUM
Onevent BEFORE_AREA Gosub AV_DPRCUM From W1FAS3
Onevent BEFORE_INPUT Call AS_DPRCUM(zc) From W1FAS3
Onevent CONTROL Call C_DPRCUM(zc) From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_DPRCUM From W1FAS3
Return

$AV_DPRCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_DPRCUM(zc) From SUBFAS
Chgfmt [M]DPRCUM(indice) With "Nz3:"+GDEVFMT
Gosub _AFF
Return

Subprog AS_DPRCUM(VALEUR)
Variable Decimal VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(34687,GBOUT1) From OBJDIV
## Action STD
Call AS_DPRCUM(VALEUR) From SUBFAS
If mkstat=2
 [M]DPRCUM(INDIC) = VALEUR
 Affzo DPRCUM(INDIC) : mkstat = 2
Endif
Onkey 129 Titled GBOUT1 Call B1_DPRCUM(zc) From W1FAS3
Gosub _AFF
End

Subprog C_DPRCUM(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_DPRCUM(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPRCUM" : GZNUM = 34712 : Endif
Gosub _AFF
End

$AMM_DPRCUM
Call AM_DPRCUM(zc)
If !mkstat & GOBJET
 zoncou = "DPRCUM" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_DPRCUM(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_DPRCUM(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "DPRCUM" : GZNUM = 34712 : Endif
Gosub _AFF
End

Subprog B1_DPRCUM(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action STD
 Call B1_DPRCUM(VALEUR) From SUBFAS
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_DPRVAL
Onevent BEFORE_AREA Gosub AV_DPRVAL From W1FAS3
Return

$AV_DPRVAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]DPRVAL(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_ALWCOD
Onevent BEFORE_INPUT Call AS_ALWCOD(zc) From W1FAS3
Onevent AFTER_CHANGE Gosub AMM_ALWCOD From W1FAS3
Onevent INIT_AREA Call D_ALWCOD(zc) From W1FAS3
Onevent CONTROL Call C_ALWCOD(zc) From W1FAS3
Return

Subprog D_ALWCOD(VALEUR)
Variable Integer VALEUR
If varinit([M]ALWCOD,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

Subprog AS_ALWCOD(VALEUR)
Variable Integer VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call INICOMBO(3168) From COMBOS
## Action STD
Call AS_ALWCOD(VALEUR) From SUBFAS
If mkstat=2
 [M]ALWCOD(INDIC) = VALEUR
 Affzo ALWCOD(INDIC) : mkstat = 2
Endif
If VALEUR<1 | GMENLOC(VALEUR)=1
 VALEUR = find(0,GMENLOC(1..len(mess(0,3168,1))))
Endif
If !mkstat
 Discombo 0 From ALWCOD(INDIC)
 If sum(GMENLOC)<>0
  Gosub COMBOS From COMBOS
  For WI=1 to WN : Discombo WCOMBO(WI) From ALWCOD(INDIC) : Next WI
 Endif
Endif
Gosub _AFF
End

Subprog C_ALWCOD(VALEUR)
Variable Integer VALEUR
If VALEUR>0 & VALEUR<dim(GMENLOC) & GMENLOC(VALEUR)<>0
 mkstat = 1 : End
Endif
Gosub _AFF
End

$AMM_ALWCOD
Call AM_ALWCOD(zc)
If !mkstat & GOBJET
 zoncou = "ALWCOD" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_ALWCOD(VALEUR)
Variable Integer VALEUR
## Action STD
Call AM_ALWCOD(VALEUR) From SUBFAS
If mkstat : GERR = 1 : GZONE = "ALWCOD" : GZNUM = 34535 : Endif
Gosub _AFF
End

$ON_CRBVEHCOD
Onevent INIT_AREA Call D_CRBVEHCOD(zc) From W1FAS3
Onevent CONTROL Call C_CRBVEHCOD(zc) From W1FAS3
Onevent BEFORE_INPUT Call AS_CRBVEHCOD(zc) From W1FAS3
Return

Subprog D_CRBVEHCOD(VALEUR)
Variable Char    VALEUR()
If varinit([M]CRBVEHCOD,indice)=0
 ## Action INILEG
 Call INILEG(VALEUR,"531","") From SUBADI
Endif
Gosub _AFF
End

Subprog AS_CRBVEHCOD(VALEUR)
Variable Char    VALEUR()
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(15597,GBOUTS) From OBJDIV
Call TEXTE(12276,GBOUTP) From OBJDIV
Call TEXTE(16134,GBOUTA) From OBJDIV
Onkey   2 Titled GBOUTS Call S_CRBVEHCOD(zc) From W1FAS3
Onkey 144 Titled GBOUTP Call P_CRBVEHCOD(zc) From W1FAS3
Onkey 146 Titled GBOUTA Call SA_CRBVEHCOD(zc) From W1FAS3
Gosub _AFF
End

Subprog C_CRBVEHCOD(VALEUR)
Variable Char    VALEUR()
## Action CONTADI
Call CONTADI(VALEUR,"531","") From SUBADI
If mkstat : GERR = 1 : GZONE = "CRBVEHCOD" : GZNUM = 34411 : Endif
If !mkstat
 ## Action %CNTOBJ
 Call CONTSEL("ADI","!",VALEUR,"531",mkstat) From CONTOBJ
 If mkstat : GERR = 1 : GZONE = "CRBVEHCOD" : GZNUM = 34411 : Endif
Endif
Gosub _AFF
End

Subprog S_CRBVEHCOD(VALEUR)
Variable Char    VALEUR()
If !GWEBSERV
 ## Action SELADI
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "SELADI"
 PARMSK(1) = "531"
 PARMSK(2) = ""
 Call S_TAB_CHAR(VALEUR,PARMSK,"SELADI","SUBADI","") From GACTION
 GACTION = SAVACT
Endif
Gosub _AFF
End

Subprog SA_CRBVEHCOD(VALEUR)
Variable Char    VALEUR()
Local Char PARMSK(250)(1..16) , SAVACT(20)
SAVACT = GACTION : GACTION = "SELOBJAW"
PARMSK(1) = "ADI"
PARMSK(2) = "531"
Call SAISIE_CHAR(VALEUR,PARMSK,"DSELOBJAW","SELOBJAW","XWDSELOBJAW") From GSAISIE
GACTION = SAVACT
Gosub _AFF
End

Subprog P_CRBVEHCOD(VALEUR)
Variable Char    VALEUR()
Local Char PAROBJ(250)
PAROBJ = "531"
Call VISU("ADI",VALEUR,PAROBJ) From SUBAOP
Gosub _AFF
End

$ON_CUR
Return

$ON_CURTYP
Onevent INIT_AREA Call D_CURTYP(zc) From W1FAS3
Onevent BEFORE_INPUT Call AS_CURTYP(zc) From W1FAS3
Return

Subprog D_CURTYP(VALEUR)
Variable Integer VALEUR
If varinit([M]CURTYP,indice)=0
 VALEUR = 0
Endif
Gosub _AFF
End

Subprog AS_CURTYP(VALEUR)
Variable Integer VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
If VALEUR<1
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_RATCUR
Onevent BEFORE_INPUT Call AS_RATCUR(zc) From W1FAS3
Onevent INIT_AREA Call D_RATCUR(zc) From W1FAS3
Onevent CONTROL Call C_RATCUR(zc) From W1FAS3
Return

Subprog D_RATCUR(VALEUR)
Variable Decimal VALEUR
If varinit([M]RATCUR,indice)=0
 VALEUR = 0
Endif
Gosub _AFF
End

Subprog AS_RATCUR(VALEUR)
Variable Decimal VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(694,GBOUT2) From OBJDIV
If !GWEBSERV
 ## Action ARCUINI
 Call RCUINI(VALEUR,[M]DEVORG(nolign-1),[M]CUR(nolign-1)) From AINICOURS
 If mkstat=2
  [M]RATCUR(INDIC) = VALEUR
  Affzo RATCUR(INDIC) : mkstat = 2
 Endif
Endif
Onkey 130 Titled GBOUT2 Call B2_RATCUR(zc) From W1FAS3
Gosub _AFF
End

Subprog C_RATCUR(VALEUR)
Variable Decimal VALEUR
Gosub _AFF
End

Subprog B2_RATCUR(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action AINICOURS
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "AINICOURS"
 PARMSK(1) = [M]DEVORG(nolign-1)
 PARMSK(2) = [M]CUR(nolign-1)
 PARMSK(3) = [M]CPY
 PARMSK(4) = num$([M]CURTYP(nolign-1))
 PARMSK(5) = [M]PURDAT
 PARMSK(6) = ""
 PARMSK(7) = ""
 Call S_AFF_NUM(VALEUR,PARMSK,"AINICOURS","AINICOURS","") From GACTION
 GACTION = SAVACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_UOM
Onevent INIT_AREA Call D_UOM(zc) From W1FAS3
Return

Subprog D_UOM(VALEUR)
Variable Char    VALEUR()
If varinit([M]UOM,indice)=0
 VALEUR = GDEFUOM
Endif
Gosub _AFF
End

$ON_DEVORG
Return

$ON_ORIBAS
Onevent INIT_AREA Call D_ORIBAS(zc) From W1FAS3
Return

Subprog D_ORIBAS(VALEUR)
Variable Integer VALEUR
If varinit([M]ORIBAS,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_CNX
Onevent INIT_AREA Call D_CNX(zc) From W1FAS3
Return

Subprog D_CNX(VALEUR)
Variable Integer VALEUR
If varinit([M]CNX,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_MTCDEVADJ
Onevent INIT_AREA Call D_MTCDEVADJ(zc) From W1FAS3
Return

Subprog D_MTCDEVADJ(VALEUR)
Variable Integer VALEUR
If varinit([M]MTCDEVADJ,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_MTCTIATYP
Onevent INIT_AREA Call D_MTCTIATYP(zc) From W1FAS3
Return

Subprog D_MTCTIATYP(VALEUR)
Variable Integer VALEUR
If varinit([M]MTCTIATYP,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_PERCLOCUM
Onevent BEFORE_AREA Gosub AV_PERCLOCUM From W1FAS3
Return

$AV_PERCLOCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERCLOEXC
Onevent BEFORE_AREA Gosub AV_PERCLOEXC From W1FAS3
Return

$AV_PERCLOEXC
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_IML
Onevent BEFORE_AREA Gosub AV_IML From W1FAS3
Return

$AV_IML
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_IMLRVE
Onevent BEFORE_AREA Gosub AV_IMLRVE From W1FAS3
Return

$AV_IMLRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERDPEFLG
Onevent INIT_AREA Call D_PERDPEFLG(zc) From W1FAS3
Return

Subprog D_PERDPEFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]PERDPEFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_PERENDDPE
Onevent BEFORE_AREA Gosub AV_PERENDDPE From W1FAS3
Return

$AV_PERENDDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_BSEVAL
Onevent BEFORE_AREA Gosub AV_BSEVAL From W1FAS3
Return

$AV_BSEVAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERCLOCUM2
Onevent BEFORE_AREA Gosub AV_PERCLOCUM2 From W1FAS3
Return

$AV_PERCLOCUM2
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DEPSTA
Onevent INIT_AREA Call D_DEPSTA(zc) From W1FAS3
Return

Subprog D_DEPSTA(VALEUR)
Variable Integer VALEUR
If varinit([M]DEPSTA,indice)=0
 VALEUR = GVML_SCNOCAL
Endif
Gosub _AFF
End

$ON_PERCLOCUMT
Onevent BEFORE_AREA Gosub AV_PERCLOCUMT From W1FAS3
Return

$AV_PERCLOCUMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_NBV
Onevent BEFORE_AREA Gosub AV_NBV From W1FAS3
Return

$AV_NBV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_NBVT
Onevent BEFORE_AREA Gosub AV_NBVT From W1FAS3
Return

$AV_NBVT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_ENDDPEFLG
Onevent INIT_AREA Call D_ENDDPEFLG(zc) From W1FAS3
Return

Subprog D_ENDDPEFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]ENDDPEFLG,indice)=0
 VALEUR = G_NON
Endif
Gosub _AFF
End

$ON_RVAAMT
Onevent BEFORE_AREA Gosub AV_RVAAMT From W1FAS3
Return

$AV_RVAAMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_RVATIADAT
Onevent INIT_AREA Call D_RVATIADAT(zc) From W1FAS3
Return

Subprog D_RVATIADAT(VALEUR)
Variable Integer VALEUR
If varinit([M]RVATIADAT,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_RVATYP
Onevent INIT_AREA Call D_RVATYP(zc) From W1FAS3
Return

Subprog D_RVATYP(VALEUR)
Variable Integer VALEUR
If varinit([M]RVATYP,indice)=0
 VALEUR = 0
Endif
Gosub _AFF
End

$ON_IMLRVELIM
Onevent BEFORE_AREA Gosub AV_IMLRVELIM From W1FAS3
Return

$AV_IMLRVELIM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXTIMLTYP
Onevent INIT_AREA Call D_EXTIMLTYP(zc) From W1FAS3
Return

Subprog D_EXTIMLTYP(VALEUR)
Variable Char    VALEUR()
If varinit([M]EXTIMLTYP,indice)=0
 ## Action INILEG
 Call INILEG(VALEUR,"","") From SUBADI
Endif
Gosub _AFF
End

$ON_IMLTYP
Onevent INIT_AREA Call D_IMLTYP(zc) From W1FAS3
Return

Subprog D_IMLTYP(VALEUR)
Variable Integer VALEUR
If varinit([M]IMLTYP,indice)=0
 VALEUR = 0
Endif
Gosub _AFF
End

$ON_NSPVAL
Onevent BEFORE_AREA Gosub AV_NSPVAL From W1FAS3
Return

$AV_NSPVAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_ENDDPE
Onevent BEFORE_AREA Gosub AV_ENDDPE From W1FAS3
Return

$AV_ENDDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_INTIMLTYP
Onevent INIT_AREA Call D_INTIMLTYP(zc) From W1FAS3
Return

Subprog D_INTIMLTYP(VALEUR)
Variable Char    VALEUR()
If varinit([M]INTIMLTYP,indice)=0
 ## Action INILEG
 Call INILEG(VALEUR,"","") From SUBADI
Endif
Gosub _AFF
End

$ON_IMLANNFLG
Onevent INIT_AREA Call D_IMLANNFLG(zc) From W1FAS3
Return

Subprog D_IMLANNFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]IMLANNFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_IMLBLC
Onevent BEFORE_AREA Gosub AV_IMLBLC From W1FAS3
Return

$AV_IMLBLC
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_GRTFLG
Onevent INIT_AREA Call D_GRTFLG(zc) From W1FAS3
Return

Subprog D_GRTFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]GRTFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_ALWAMT
Onevent BEFORE_AREA Gosub AV_ALWAMT From W1FAS3
Return

$AV_ALWAMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_ALWCUM
Onevent BEFORE_AREA Gosub AV_ALWCUM From W1FAS3
Return

$AV_ALWCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_CRBAMT
Onevent BEFORE_AREA Gosub AV_CRBAMT From W1FAS3
Return

$AV_CRBAMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_CRBCUM
Onevent BEFORE_AREA Gosub AV_CRBCUM From W1FAS3
Return

$AV_CRBCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_CRBCUMFLG
Onevent INIT_AREA Call D_CRBCUMFLG(zc) From W1FAS3
Return

Subprog D_CRBCUMFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]CRBCUMFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_DEVADJBAS
Onevent BEFORE_AREA Gosub AV_DEVADJBAS From W1FAS3
Return

$AV_DEVADJBAS
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DEVADJCUM
Onevent BEFORE_AREA Gosub AV_DEVADJCUM From W1FAS3
Return

$AV_DEVADJCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DEVADJDPE
Onevent BEFORE_AREA Gosub AV_DEVADJDPE From W1FAS3
Return

$AV_DEVADJDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DPEI
Onevent BEFORE_AREA Gosub AV_DPEI From W1FAS3
Return

$AV_DPEI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DPET
Onevent BEFORE_AREA Gosub AV_DPET From W1FAS3
Return

$AV_DPET
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXCCUM
Onevent BEFORE_AREA Gosub AV_EXCCUM From W1FAS3
Return

$AV_EXCCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXCDPR
Onevent BEFORE_AREA Gosub AV_EXCDPR From W1FAS3
Return

$AV_EXCDPR
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXECLOCUMI
Onevent BEFORE_AREA Gosub AV_EXECLOCUMI From W1FAS3
Return

$AV_EXECLOCUMI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXECLOCUMT
Onevent BEFORE_AREA Gosub AV_EXECLOCUMT From W1FAS3
Return

$AV_EXECLOCUMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXEIMLBLC
Onevent BEFORE_AREA Gosub AV_EXEIMLBLC From W1FAS3
Return

$AV_EXEIMLBLC
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXERVADEV
Onevent BEFORE_AREA Gosub AV_EXERVADEV From W1FAS3
Return

$AV_EXERVADEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_FRCDEVDPE
Onevent BEFORE_AREA Gosub AV_FRCDEVDPE From W1FAS3
Return

$AV_FRCDEVDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_GAL
Onevent BEFORE_AREA Gosub AV_GAL From W1FAS3
Return

$AV_GAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_GRUGAL
Onevent BEFORE_AREA Gosub AV_GRUGAL From W1FAS3
Return

$AV_GRUGAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LNGGAL
Onevent BEFORE_AREA Gosub AV_LNGGAL From W1FAS3
Return

$AV_LNGGAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_MTCDPEDEV
Onevent BEFORE_AREA Gosub AV_MTCDPEDEV From W1FAS3
Return

$AV_MTCDPEDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_NBVI
Onevent BEFORE_AREA Gosub AV_NBVI From W1FAS3
Return

$AV_NBVI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERCLOCUMI
Onevent BEFORE_AREA Gosub AV_PERCLOCUMI From W1FAS3
Return

$AV_PERCLOCUMI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERCUMDEV
Onevent BEFORE_AREA Gosub AV_PERCUMDEV From W1FAS3
Return

$AV_PERCUMDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERDPEDEV
Onevent BEFORE_AREA Gosub AV_PERDPEDEV From W1FAS3
Return

$AV_PERDPEDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PEREXCDPR
Onevent BEFORE_AREA Gosub AV_PEREXCDPR From W1FAS3
Return

$AV_PEREXCDPR
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERFIRDPE
Onevent BEFORE_AREA Gosub AV_PERFIRDPE From W1FAS3
Return

$AV_PERFIRDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERIMLBLC
Onevent BEFORE_AREA Gosub AV_PERIMLBLC From W1FAS3
Return

$AV_PERIMLBLC
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERRVADEV
Onevent BEFORE_AREA Gosub AV_PERRVADEV From W1FAS3
Return

$AV_PERRVADEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERTHECUM
Onevent BEFORE_AREA Gosub AV_PERTHECUM From W1FAS3
Return

$AV_PERTHECUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERTHEDPE
Onevent BEFORE_AREA Gosub AV_PERTHEDPE From W1FAS3
Return

$AV_PERTHEDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_RVACRB
Onevent BEFORE_AREA Gosub AV_RVACRB From W1FAS3
Return

$AV_RVACRB
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_SHOGAL
Onevent BEFORE_AREA Gosub AV_SHOGAL From W1FAS3
Return

$AV_SHOGAL
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PLNSTD
Onevent INIT_AREA Call D_PLNSTD(zc) From W1FAS3
Return

Subprog D_PLNSTD(VALEUR)
Variable Integer VALEUR
If varinit([M]PLNSTD,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_FLGUPDISS
Onevent INIT_AREA Call D_FLGUPDISS(zc) From W1FAS3
Return

Subprog D_FLGUPDISS(VALEUR)
Variable Integer VALEUR
If varinit([M]FLGUPDISS,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_EXCDPRI
Onevent BEFORE_AREA Gosub AV_EXCDPRI From W1FAS3
Return

$AV_EXCDPRI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DFDBLC
Onevent BEFORE_AREA Gosub AV_DFDBLC From W1FAS3
Return

$AV_DFDBLC
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DFD
Onevent BEFORE_AREA Gosub AV_DFD From W1FAS3
Return

$AV_DFD
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXCDPRT
Onevent BEFORE_AREA Gosub AV_EXCDPRT From W1FAS3
Return

$AV_EXCDPRT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXCCUMI
Onevent BEFORE_AREA Gosub AV_EXCCUMI From W1FAS3
Return

$AV_EXCCUMI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXCCUMT
Onevent BEFORE_AREA Gosub AV_EXCCUMT From W1FAS3
Return

$AV_EXCCUMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_ENDDPEI
Onevent BEFORE_AREA Gosub AV_ENDDPEI From W1FAS3
Return

$AV_ENDDPEI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_ENDDPET
Onevent BEFORE_AREA Gosub AV_ENDDPET From W1FAS3
Return

$AV_ENDDPET
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LNK
Onevent BEFORE_AREA Gosub AV_LNK From W1FAS3
Return

$AV_LNK
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERLNKCUM
Onevent BEFORE_AREA Gosub AV_PERLNKCUM From W1FAS3
Return

$AV_PERLNKCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LNKCUM
Onevent BEFORE_AREA Gosub AV_LNKCUM From W1FAS3
Return

$AV_LNKCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LEG
Onevent BEFORE_AREA Gosub AV_LEG From W1FAS3
Return

$AV_LEG
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LEGRVE
Onevent BEFORE_AREA Gosub AV_LEGRVE From W1FAS3
Return

$AV_LEGRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERLEGCUM
Onevent BEFORE_AREA Gosub AV_PERLEGCUM From W1FAS3
Return

$AV_PERLEGCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERLEGRVE
Onevent BEFORE_AREA Gosub AV_PERLEGRVE From W1FAS3
Return

$AV_PERLEGRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LEGCUM
Onevent BEFORE_AREA Gosub AV_LEGCUM From W1FAS3
Return

$AV_LEGCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_LEGRVECUM
Onevent BEFORE_AREA Gosub AV_LEGRVECUM From W1FAS3
Return

$AV_LEGRVECUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERIMLCUM
Onevent BEFORE_AREA Gosub AV_PERIMLCUM From W1FAS3
Return

$AV_PERIMLCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXEIMLCUM
Onevent BEFORE_AREA Gosub AV_EXEIMLCUM From W1FAS3
Return

$AV_EXEIMLCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERRVECUM
Onevent BEFORE_AREA Gosub AV_PERRVECUM From W1FAS3
Return

$AV_PERRVECUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXERVECUM
Onevent BEFORE_AREA Gosub AV_EXERVECUM From W1FAS3
Return

$AV_EXERVECUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_IMLRVETRF
Onevent BEFORE_AREA Gosub AV_IMLRVETRF From W1FAS3
Return

$AV_IMLRVETRF
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXETRFCUM
Onevent BEFORE_AREA Gosub AV_EXETRFCUM From W1FAS3
Return

$AV_EXETRFCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_MTCDPEDEVT
Onevent BEFORE_AREA Gosub AV_MTCDPEDEVT From W1FAS3
Return

$AV_MTCDPEDEVT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_MTCDPEDEVI
Onevent BEFORE_AREA Gosub AV_MTCDPEDEVI From W1FAS3
Return

$AV_MTCDPEDEVI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PEREXCDPRI
Onevent BEFORE_AREA Gosub AV_PEREXCDPRI From W1FAS3
Return

$AV_PEREXCDPRI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PEREXCDPRT
Onevent BEFORE_AREA Gosub AV_PEREXCDPRT From W1FAS3
Return

$AV_PEREXCDPRT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERCLOEXCI
Onevent BEFORE_AREA Gosub AV_PERCLOEXCI From W1FAS3
Return

$AV_PERCLOEXCI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERCLOEXCT
Onevent BEFORE_AREA Gosub AV_PERCLOEXCT From W1FAS3
Return

$AV_PERCLOEXCT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DPEDEV
Onevent BEFORE_AREA Gosub AV_DPEDEV From W1FAS3
Return

$AV_DPEDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_EXCDEV
Onevent BEFORE_AREA Gosub AV_EXCDEV From W1FAS3
Return

$AV_EXCDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DERDEV
Onevent BEFORE_AREA Gosub AV_DERDEV From W1FAS3
Return

$AV_DERDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DERRVEDEV
Onevent BEFORE_AREA Gosub AV_DERRVEDEV From W1FAS3
Return

$AV_DERRVEDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_RVETRFDEV
Onevent BEFORE_AREA Gosub AV_RVETRFDEV From W1FAS3
Return

$AV_RVETRFDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_RVACRBDEV
Onevent BEFORE_AREA Gosub AV_RVACRBDEV From W1FAS3
Return

$AV_RVACRBDEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PSTDPE
Onevent BEFORE_AREA Gosub AV_PSTDPE From W1FAS3
Return

$AV_PSTDPE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PSTEXC
Onevent BEFORE_AREA Gosub AV_PSTEXC From W1FAS3
Return

$AV_PSTEXC
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PSTDER
Onevent BEFORE_AREA Gosub AV_PSTDER From W1FAS3
Return

$AV_PSTDER
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PSTDERRVE
Onevent BEFORE_AREA Gosub AV_PSTDERRVE From W1FAS3
Return

$AV_PSTDERRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PSTRVETRF
Onevent BEFORE_AREA Gosub AV_PSTRVETRF From W1FAS3
Return

$AV_PSTRVETRF
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PSTRVACRB
Onevent BEFORE_AREA Gosub AV_PSTRVACRB From W1FAS3
Return

$AV_PSTRVACRB
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DFDLIM
Onevent BEFORE_AREA Gosub AV_DFDLIM From W1FAS3
Return

$AV_DFDLIM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DFDRVE
Onevent BEFORE_AREA Gosub AV_DFDRVE From W1FAS3
Return

$AV_DFDRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M]CUR(nolign-1),GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_CCNTYPPLN
Onevent BEFORE_AREA Gosub AV_CCNTYPPLN From W1FAS3
Return

$AV_CCNTYPPLN
## Action STD
Call AV_CCNTYPPLN(zc) From SUBFAS
Gosub _AFF
Return

$ON_KSTPDEPSTA
Onevent INIT_AREA Call D_KSTPDEPSTA(zc) From W1FAS3
Return

Subprog D_KSTPDEPSTA(VALEUR)
Variable Integer VALEUR
If varinit([M]KSTPDEPSTA,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_PERTRFCUM
Onevent BEFORE_AREA Gosub AV_PERTRFCUM From W1FAS3
Return

$AV_PERTRFCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_PERRVACUM
Onevent BEFORE_AREA Gosub AV_PERRVACUM From W1FAS3
Return

$AV_PERRVACUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_DPRBASORI
Onevent BEFORE_AREA Gosub AV_DPRBASORI From W1FAS3
Return

$AV_DPRBASORI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_BSEVALORI
Onevent BEFORE_AREA Gosub AV_BSEVALORI From W1FAS3
Return

$AV_BSEVALORI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$CHG_STY
Return


