#<AdxTL>@(#)0.0.0.0 $Revision$Class Product category
# Supervisor
## ACLA-CLASSE ## ITMCATEG
# 2018-08-27 12:34:17 299

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0ITMCATEG
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
For TBLINE=1 to 5
 [L]ALINE = func ASYRSUBTAB.ADDLINE([L]TBLINE,"CTSICOD","C_ITMCATEG_CTSICOD",this)
 If [L]ALINE=[V]CST_ANOTDEFINED : [L]ASTATUS = [V]CST_AERROR : Break : Endif
Next
If [L]ASTATUS = [V]CST_AERROR :  Gosub TESTALLSTAT : Endif
Gosub INIT_TCLCOD From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STOFCY From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TCLDES From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TCLAXX From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TCLSHO From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TCLSHOAXX From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SALFLG From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ITMREFCOU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ITMCREMOD From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ACCCOD From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_QUAFLG From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_QUAACS From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PUU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SAU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SSU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_EEU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PUUSTUCOE From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SAUSTUCOE From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SSUSTUCOE From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_EEUSTUCOE From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_DACPUUCOE From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_DACSAUCOE From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_WEU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ITMWEI From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_VOU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ITMVOU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STULBEFMT From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STOMGTCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STDFLG From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_NEGSTO From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_LOTMGTCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_LOTCOU From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SERMGTCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SERCOU From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TRKCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_VLTCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_EXYMGTCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_EXYSTA From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_BRDCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PLAACS From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FRTHORUOM From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FRTHOR From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FIMHOR From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FIMHORUOM From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_OFS From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_BUY From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PLANNER From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MINRMNPRC From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_RCPFLG From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PRQFLG From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CFGLIN From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_LOCMGTCOD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULORD From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULMAT From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULSHI From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULMFG From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULTRF From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULSCO From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULSCC From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_GLOAAAFLG From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_GLOQQQFLG From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_GLORRRFLG From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ABCCLS From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STOCOD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CUNCOD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SESCOD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SHR From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PLH From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PLHUOT From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FOH From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FOHUOT From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOMGTCOD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOPER From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOCOD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOFCY From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOPOL From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_DAYCOV From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SAFSTO From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOTSD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MAXSTO From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_REOMINQTY From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MFGLOTQTY From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STDCSTUPD From WMC3ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CUTCSTUPD From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_BUDCSTUPD From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SIMCSTUPD From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MFGSHTCOD From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CLEPCTAUT From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ITMTYP From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SALRMNPRC From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MINQTY From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MAXQTY From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_LNDFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CTMFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CTMQTY From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_BASPRIORI From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PURPRIPRC From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PURFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_INVCND From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MFGFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SCPFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SCSFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PHAFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_GENFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TOOFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_DLVFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_INTFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MCEFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PCK From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PCKCAP From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PTOCOD From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PCKSTKFLG From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_QLYCRD From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ORDWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MATWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SHIWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MFGWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TRFWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SCOWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SCCWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SREWRH From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FLGFAS From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_TRKLEV From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ALLRULSRE From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_PCKFLG From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ITMSFTTYP From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_MATTOL From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_SSTCOD From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_FRTCLS From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ECCFLG From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ECCSTO From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ECCMIN From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_ECCMAJ From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_LOAECCFLG From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_VACITM_LEG From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CPRCOE From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CPRAMT From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_STCNUM From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC6ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC6ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC6ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC6ITMCATEG : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC6ITMCATEG : Gosub TESTALLSTAT
Gosub AINIT From WMC0ITMCATEG : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0ITMCATEG
Gosub _ALOADATTRIBUTE_TCLCOD From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_STOFCY From WMC1ITMCATEG : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0ITMCATEG
Gosub LNKPRO_STOFCY From WMC1ITMCATEG : Gosub TESTALLSTAT
For AINDCLA=1 To 5
 If this.CTSICOD(AINDCLA)<>null& find(this.CTSICOD(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CTSICOD(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To 20
 If this.CDIE(AINDCLA)<>null& find(this.CDIE(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CDIE(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_STU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_PUU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_SAU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_SSU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_EEU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_WEU From WMC1ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_VOU From WMC1ITMCATEG : Gosub TESTALLSTAT
For AINDCLA=1 To 4
 If this.CPCU(AINDCLA)<>null& find(this.CPCU(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CPCU(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To 3
 If this.CVACITM(AINDCLA)<>null& find(this.CVACITM(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CVACITM(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_BUY From WMC2ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_PLANNER From WMC2ITMCATEG : Gosub TESTALLSTAT
For AINDCLA=1 To 15
 If this.CLOCDES(AINDCLA)<>null& find(this.CLOCDES(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CLOCDES(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_REOFCY From WMC3ITMCATEG : Gosub TESTALLSTAT
For AINDCLA=1 To 5
 If this.COTRSTYP(AINDCLA)<>null& find(this.COTRSTYP(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.COTRSTYP(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_PCK From WMC4ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_SSTCOD From WMC5ITMCATEG : Gosub TESTALLSTAT
For AINDCLA=1 To maxtab(this.SRUE)
 If this.SRUE(AINDCLA)<>null& find(this.SRUE(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.SRUE(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To maxtab(this.SRUS)
 If this.SRUS(AINDCLA)<>null& find(this.SRUS(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.SRUS(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_VACITM_LEG From WMC5ITMCATEG : Gosub TESTALLSTAT
Gosub LNKPRO_CPRAMT From WMC5ITMCATEG : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



