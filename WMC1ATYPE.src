#<AdxTL>@(#)0.0.0.0 $Revision$Class Data types
# Supervisor
## ACLA-CLASSE ## ATYPE
# 2018-08-27 12:23:39 717


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CODTYP Data type ( Field ATY 8)
####################################################################

$SET_CODTYP
If [L]_AOLDVAL<>this.CODTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODTYP
 Gosub PROPAGATE_CODTYP
Endif
Return

$INIT_CODTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODTYP
[L]CURPRO = "CODTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODTYP
[L]CURPRO = "CODTYP"
If vireblc(this.CODTYP,2)<>vireblc(format$("K:8B",this.CODTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CODTYP
[L]CURPRO = "CODTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODTYP
[L]CURPRO = "CODTYP"
Return

$PROPAGATE_CODTYP
this.isReadonly = 0
[L]CURPRO = "CODTYP"
Gosub _LNKPRO_CODTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODTYP"
$_LNKPRO_CODTYP
If vireblc(this.CODTYP,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.CODTYP
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CODTYP","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 2 : INTITTYP Description ( Field ATX)
####################################################################

$GET_INTITTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "INTITTYP"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_INTITTYP
If [L]_AOLDVAL<>this.INTITTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INTITTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INTITTYP
 Gosub PROPAGATE_INTITTYP
Endif
Return

$INIT_INTITTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "INTITTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INTITTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "INTITTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INTITTYP              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INTITTYP              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INTITTYP
[L]CURPRO = "INTITTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & (maxtab(this.ATX)=0 or  func ASYRSUB._HASFIELDATX(this.ATX,[L]CURPRO)=0)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INTITTYP
[L]CURPRO = "INTITTYP"
Return

$_AOTHERS_INTITTYP
[L]CURPRO = "INTITTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INTITTYP
[L]CURPRO = "INTITTYP"
Return

$PROPAGATE_INTITTYP
this.isReadonly = 0
[L]CURPRO = "INTITTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INTITTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "INTITTYP"
$_LNKPRO_INTITTYP
Return


####################################################################
# 3 : CODACT Activity code ( Field ACV 5)
####################################################################

$SET_CODACT
If [L]_AOLDVAL<>this.CODACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODACT
 Gosub PROPAGATE_CODACT
Endif
Return

$INIT_CODACT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODACT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODACT
[L]CURPRO = "CODACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODACT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODACT
[L]CURPRO = "CODACT"
If vireblc(this.CODACT,2)<>vireblc(format$("KTD:5B",this.CODACT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CODACT
[L]CURPRO = "CODACT"
If vireblc(this.CODACT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPACV.ACTRLREF(this,"CODACT",this.CODACT,this.CODACT,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CODACT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODACT
[L]CURPRO = "CODACT"
Return

$PROPAGATE_CODACT
this.isReadonly = 0
[L]CURPRO = "CODACT"
Gosub _LNKPRO_CODACT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODACT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODACT"
$_LNKPRO_CODACT
If vireblc(this.CODACT,2)<>""
 # Link ACTIV
 Local File ACTIV [WACV]
 Read [F:WACV]CODACT = this.CODACT
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WACV]LIBACT & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CODACT","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WACV]
Endif
Return


####################################################################
# 4 : MODULE Module ( Field Local menu number 14)
####################################################################

$SET_MODULE
If [L]_AOLDVAL<>this.MODULE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MODULE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MODULE
 Gosub PROPAGATE_MODULE
Endif
Return

$INIT_MODULE
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "MODULE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MODULE=0 and fmet this.AGETATTRIBUTE("MODULE","$isMandatory")="true"
 this.MODULE = 1
Endif
Return
 
$CONTROL_MODULE
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "MODULE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MODULE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MODULE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MODULE
[L]CURPRO = "MODULE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MODULE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MODULE
[L]CURPRO = "MODULE"
If this.MODULE<0 or this.MODULE>len(mess(0,14,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"14 ->"-num$(this.MODULE)-mess(99,123,1)):  Return : # Local menu "14 -> Invalid option
Endif
Return

$_AOTHERS_MODULE
[L]CURPRO = "MODULE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MODULE
[L]CURPRO = "MODULE"
Return

$PROPAGATE_MODULE
this.isReadonly = 0
[L]CURPRO = "MODULE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MODULE
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "MODULE"
$_LNKPRO_MODULE
Return


####################################################################
# 5 : LNGTYP Length ( Field DCB 5)
####################################################################

$SET_LNGTYP
If [L]_AOLDVAL<>this.LNGTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LNGTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LNGTYP
 Gosub PROPAGATE_LNGTYP
Endif
Return

$INIT_LNGTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "LNGTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LNGTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "LNGTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LNGTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LNGTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LNGTYP
[L]CURPRO = "LNGTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LNGTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LNGTYP
[L]CURPRO = "LNGTYP"
Return

$_AOTHERS_LNGTYP
[L]CURPRO = "LNGTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LNGTYP
[L]CURPRO = "LNGTYP"
Return

$PROPAGATE_LNGTYP
this.isReadonly = 0
[L]CURPRO = "LNGTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LNGTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "LNGTYP"
$_LNKPRO_LNGTYP
Return


####################################################################
# 6 : NOLIB Local menu no. ( Field MNL 0)
####################################################################

$SET_NOLIB
If [L]_AOLDVAL<>this.NOLIB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOLIB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOLIB
 Gosub PROPAGATE_NOLIB
Endif
Return

$INIT_NOLIB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "NOLIB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOLIB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "NOLIB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOLIB                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOLIB                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOLIB
[L]CURPRO = "NOLIB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOLIB=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOLIB
[L]CURPRO = "NOLIB"
Return

$_AOTHERS_NOLIB
[L]CURPRO = "NOLIB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOLIB
[L]CURPRO = "NOLIB"
Return

$PROPAGATE_NOLIB
this.isReadonly = 0
[L]CURPRO = "NOLIB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOLIB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "NOLIB"
$_LNKPRO_NOLIB
Return


####################################################################
# 7 : OBJLIEN Linked object ( Field AOB 8)
####################################################################

$SET_OBJLIEN
If [L]_AOLDVAL<>this.OBJLIEN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OBJLIEN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OBJLIEN
 Gosub PROPAGATE_OBJLIEN
Endif
Return

$INIT_OBJLIEN
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OBJLIEN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OBJLIEN
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OBJLIEN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OBJLIEN               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OBJLIEN               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OBJLIEN
[L]CURPRO = "OBJLIEN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OBJLIEN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OBJLIEN
[L]CURPRO = "OBJLIEN"
If vireblc(this.OBJLIEN,2)<>vireblc(format$("KTD:8B",this.OBJLIEN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OBJLIEN
[L]CURPRO = "OBJLIEN"
If vireblc(this.OBJLIEN,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPAOB.ACTRLREF(this,"OBJLIEN",this.OBJLIEN,this.OBJLIEN,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OBJLIEN<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OBJLIEN
[L]CURPRO = "OBJLIEN"
Return

$PROPAGATE_OBJLIEN
this.isReadonly = 0
[L]CURPRO = "OBJLIEN"
Gosub _LNKPRO_OBJLIEN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OBJLIEN
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OBJLIEN"
$_LNKPRO_OBJLIEN
If vireblc(this.OBJLIEN,2)<>""
 # Link AOBJET
 Local File AOBJET [WAOB]
 Read [F:WAOB]ABREV = this.OBJLIEN
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBSHO & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OBJLIEN","$title",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBEL & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OBJLIEN","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WAOB]
Endif
Return


####################################################################
# 8 : FICLIEN Linked table ( Field ATB 12)
####################################################################

$SET_FICLIEN
If [L]_AOLDVAL<>this.FICLIEN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FICLIEN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FICLIEN
 Gosub PROPAGATE_FICLIEN
Endif
Return

$INIT_FICLIEN
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FICLIEN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FICLIEN
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FICLIEN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FICLIEN               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FICLIEN               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FICLIEN
[L]CURPRO = "FICLIEN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FICLIEN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FICLIEN
[L]CURPRO = "FICLIEN"
If vireblc(this.FICLIEN,2)<>vireblc(format$("KTD:A11B",this.FICLIEN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FICLIEN
[L]CURPRO = "FICLIEN"
If vireblc(this.FICLIEN,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"FICLIEN",this.FICLIEN,this.FICLIEN,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FICLIEN<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FICLIEN
[L]CURPRO = "FICLIEN"
Return

$PROPAGATE_FICLIEN
this.isReadonly = 0
[L]CURPRO = "FICLIEN"
Gosub _LNKPRO_FICLIEN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FICLIEN
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FICLIEN"
$_LNKPRO_FICLIEN
If vireblc(this.FICLIEN,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.FICLIEN
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FICLIEN","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 9 : FORTYP Adonix format ( Field A 50)
####################################################################

$SET_FORTYP
If [L]_AOLDVAL<>this.FORTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FORTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FORTYP
 Gosub PROPAGATE_FORTYP
Endif
Return

$INIT_FORTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FORTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FORTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FORTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FORTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FORTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FORTYP
[L]CURPRO = "FORTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FORTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FORTYP
[L]CURPRO = "FORTYP"
Return

$_AOTHERS_FORTYP
[L]CURPRO = "FORTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FORTYP
[L]CURPRO = "FORTYP"
Return

$PROPAGATE_FORTYP
this.isReadonly = 0
[L]CURPRO = "FORTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FORTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FORTYP"
$_LNKPRO_FORTYP
Return


####################################################################
# 10 : OPTION Entry options ( Field A 10)
####################################################################

$SET_OPTION
If [L]_AOLDVAL<>this.OPTION
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTION
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTION
 Gosub PROPAGATE_OPTION
Endif
Return

$INIT_OPTION
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OPTION"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPTION
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OPTION"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTION                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTION                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTION
[L]CURPRO = "OPTION"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPTION,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTION
[L]CURPRO = "OPTION"
Return

$_AOTHERS_OPTION
[L]CURPRO = "OPTION"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTION
[L]CURPRO = "OPTION"
Return

$PROPAGATE_OPTION
this.isReadonly = 0
[L]CURPRO = "OPTION"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTION
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OPTION"
$_LNKPRO_OPTION
Return


####################################################################
# 11 : OPTTAB Variable format ( Field Local menu number 1)
####################################################################

$SET_OPTTAB
If [L]_AOLDVAL<>this.OPTTAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTTAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTTAB
 Gosub PROPAGATE_OPTTAB
Endif
Return

$INIT_OPTTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OPTTAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPTTAB=0 and fmet this.AGETATTRIBUTE("OPTTAB","$isMandatory")="true"
 this.OPTTAB = 1
Endif
Return
 
$CONTROL_OPTTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OPTTAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTTAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTTAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTTAB
[L]CURPRO = "OPTTAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPTTAB=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTTAB
[L]CURPRO = "OPTTAB"
If this.OPTTAB<0 or this.OPTTAB>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.OPTTAB)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_OPTTAB
[L]CURPRO = "OPTTAB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTTAB
[L]CURPRO = "OPTTAB"
Return

$PROPAGATE_OPTTAB
this.isReadonly = 0
[L]CURPRO = "OPTTAB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "OPTTAB"
$_LNKPRO_OPTTAB
Return


####################################################################
# 12 : PARTAB Parameter ( Field AAR 10)
####################################################################

$SET_PARTAB
If [L]_AOLDVAL<>this.PARTAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PARTAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PARTAB
 Gosub PROPAGATE_PARTAB
Endif
Return

$INIT_PARTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "PARTAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PARTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "PARTAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PARTAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PARTAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PARTAB
[L]CURPRO = "PARTAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PARTAB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PARTAB
[L]CURPRO = "PARTAB"
If vireblc(this.PARTAB,2)<>vireblc(format$("KTD:10B",this.PARTAB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PARTAB
[L]CURPRO = "PARTAB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PARTAB
[L]CURPRO = "PARTAB"
Return

$PROPAGATE_PARTAB
this.isReadonly = 0
[L]CURPRO = "PARTAB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PARTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "PARTAB"
$_LNKPRO_PARTAB
Return


####################################################################
# 13 : VARTAB Variable ( Field A 15)
####################################################################

$SET_VARTAB
If [L]_AOLDVAL<>this.VARTAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VARTAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VARTAB
 Gosub PROPAGATE_VARTAB
Endif
Return

$INIT_VARTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "VARTAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VARTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "VARTAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VARTAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VARTAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VARTAB
[L]CURPRO = "VARTAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VARTAB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VARTAB
[L]CURPRO = "VARTAB"
Return

$_AOTHERS_VARTAB
[L]CURPRO = "VARTAB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VARTAB
[L]CURPRO = "VARTAB"
Return

$PROPAGATE_VARTAB
this.isReadonly = 0
[L]CURPRO = "VARTAB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VARTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "VARTAB"
$_LNKPRO_VARTAB
Return


####################################################################
# 14 : VALDEF Default value ( Field A 80)
####################################################################

$SET_VALDEF
If [L]_AOLDVAL<>this.VALDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALDEF
 Gosub PROPAGATE_VALDEF
Endif
Return

$INIT_VALDEF
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "VALDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALDEF
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "VALDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALDEF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALDEF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALDEF
[L]CURPRO = "VALDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VALDEF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALDEF
[L]CURPRO = "VALDEF"
Return

$_AOTHERS_VALDEF
[L]CURPRO = "VALDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALDEF
[L]CURPRO = "VALDEF"
Return

$PROPAGATE_VALDEF
this.isReadonly = 0
[L]CURPRO = "VALDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALDEF
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "VALDEF"
$_LNKPRO_VALDEF
Return


####################################################################
# 15 : NBTYP Number of actions ( Field C 2)
####################################################################

$SET_NBTYP
If [L]_AOLDVAL<>this.NBTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBTYP
 Gosub PROPAGATE_NBTYP
Endif
Return

$INIT_NBTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "NBTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "NBTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBTYP                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBTYP                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBTYP
[L]CURPRO = "NBTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBTYP
[L]CURPRO = "NBTYP"
Return

$_AOTHERS_NBTYP
[L]CURPRO = "NBTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBTYP
[L]CURPRO = "NBTYP"
Return

$PROPAGATE_NBTYP
this.isReadonly = 0
[L]CURPRO = "NBTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "NBTYP"
$_LNKPRO_NBTYP
Return


####################################################################
# 17 : TYPSELSYR Type ( Field Local menu number 7881)
####################################################################

$SET_TYPSELSYR
If [L]_AOLDVAL<>this.TYPSELSYR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPSELSYR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPSELSYR
 Gosub PROPAGATE_TYPSELSYR
Endif
Return

$INIT_TYPSELSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPSELSYR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPSELSYR=0 and fmet this.AGETATTRIBUTE("TYPSELSYR","$isMandatory")="true"
 this.TYPSELSYR = 1
Endif
Return
 
$CONTROL_TYPSELSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPSELSYR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPSELSYR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPSELSYR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPSELSYR
[L]CURPRO = "TYPSELSYR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPSELSYR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPSELSYR
[L]CURPRO = "TYPSELSYR"
If this.TYPSELSYR<0 or this.TYPSELSYR>len(mess(0,7881,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"7881 ->"-num$(this.TYPSELSYR)-mess(99,123,1)):  Return : # Local menu "7881 -> Invalid option
Endif
Return

$_AOTHERS_TYPSELSYR
[L]CURPRO = "TYPSELSYR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPSELSYR
[L]CURPRO = "TYPSELSYR"
Return

$PROPAGATE_TYPSELSYR
this.isReadonly = 0
[L]CURPRO = "TYPSELSYR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPSELSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPSELSYR"
$_LNKPRO_TYPSELSYR
Return


####################################################################
# 18 : TYPPROSYR Prototype type ( Field ATYP 10)
####################################################################

$SET_TYPPROSYR
If [L]_AOLDVAL<>this.TYPPROSYR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPPROSYR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPPROSYR
 Gosub PROPAGATE_TYPPROSYR
Endif
Return

$INIT_TYPPROSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPPROSYR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TYPPROSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPPROSYR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPPROSYR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPPROSYR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPPROSYR
[L]CURPRO = "TYPPROSYR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TYPPROSYR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPPROSYR
[L]CURPRO = "TYPPROSYR"
If vireblc(this.TYPPROSYR,2)<>vireblc(format$("K:10c",this.TYPPROSYR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TYPPROSYR
[L]CURPRO = "TYPPROSYR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPPROSYR
[L]CURPRO = "TYPPROSYR"
Return

$PROPAGATE_TYPPROSYR
this.isReadonly = 0
[L]CURPRO = "TYPPROSYR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPPROSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPPROSYR"
$_LNKPRO_TYPPROSYR
Return


####################################################################
# 19 : TYPTYP Internal type ( Field Local menu number 30)
####################################################################

$SET_TYPTYP
If [L]_AOLDVAL<>this.TYPTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPTYP
 Gosub PROPAGATE_TYPTYP
Endif
Return

$INIT_TYPTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPTYP=0 and fmet this.AGETATTRIBUTE("TYPTYP","$isMandatory")="true"
 this.TYPTYP = 1
Endif
Return
 
$CONTROL_TYPTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPTYP
[L]CURPRO = "TYPTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPTYP
[L]CURPRO = "TYPTYP"
If this.TYPTYP<0 or this.TYPTYP>len(mess(0,30,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"30 ->"-num$(this.TYPTYP)-mess(99,123,1)):  Return : # Local menu "30 -> Invalid option
Endif
Return

$_AOTHERS_TYPTYP
[L]CURPRO = "TYPTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPTYP
[L]CURPRO = "TYPTYP"
Return

$PROPAGATE_TYPTYP
this.isReadonly = 0
[L]CURPRO = "TYPTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPTYP
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "TYPTYP"
$_LNKPRO_TYPTYP
Return


####################################################################
# 20 : SUPFLG Supervisor mgmt ( Field Local menu number 1)
####################################################################

$SET_SUPFLG
If [L]_AOLDVAL<>this.SUPFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUPFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUPFLG
 Gosub PROPAGATE_SUPFLG
Endif
Return

$INIT_SUPFLG
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "SUPFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SUPFLG=0 and fmet this.AGETATTRIBUTE("SUPFLG","$isMandatory")="true"
 this.SUPFLG = 1
Endif
Return
 
$CONTROL_SUPFLG
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "SUPFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUPFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUPFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUPFLG
[L]CURPRO = "SUPFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SUPFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUPFLG
[L]CURPRO = "SUPFLG"
If this.SUPFLG<0 or this.SUPFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.SUPFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_SUPFLG
[L]CURPRO = "SUPFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUPFLG
[L]CURPRO = "SUPFLG"
Return

$PROPAGATE_SUPFLG
this.isReadonly = 0
[L]CURPRO = "SUPFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUPFLG
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "SUPFLG"
$_LNKPRO_SUPFLG
Return


####################################################################
# 21 : FMTPROSYR Prototype format ( Field Local menu number 7880)
####################################################################

$SET_FMTPROSYR
If [L]_AOLDVAL<>this.FMTPROSYR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FMTPROSYR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FMTPROSYR
 Gosub PROPAGATE_FMTPROSYR
Endif
Return

$INIT_FMTPROSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FMTPROSYR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FMTPROSYR=0 and fmet this.AGETATTRIBUTE("FMTPROSYR","$isMandatory")="true"
 this.FMTPROSYR = 1
Endif
Return
 
$CONTROL_FMTPROSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FMTPROSYR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FMTPROSYR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FMTPROSYR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FMTPROSYR
[L]CURPRO = "FMTPROSYR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FMTPROSYR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FMTPROSYR
[L]CURPRO = "FMTPROSYR"
If this.FMTPROSYR<0 or this.FMTPROSYR>len(mess(0,7880,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"7880 ->"-num$(this.FMTPROSYR)-mess(99,123,1)):  Return : # Local menu "7880 -> Invalid option
Endif
Return

$_AOTHERS_FMTPROSYR
[L]CURPRO = "FMTPROSYR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FMTPROSYR
[L]CURPRO = "FMTPROSYR"
Return

$PROPAGATE_FMTPROSYR
this.isReadonly = 0
[L]CURPRO = "FMTPROSYR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FMTPROSYR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "FMTPROSYR"
$_LNKPRO_FMTPROSYR
Return


####################################################################
# 22 : CODCLA Class code ( Field ACLA 20)
####################################################################

$SET_CODCLA
If [L]_AOLDVAL<>this.CODCLA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODCLA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODCLA
 Gosub PROPAGATE_CODCLA
Endif
Return

$INIT_CODCLA
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODCLA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODCLA
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODCLA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODCLA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODCLA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODCLA
[L]CURPRO = "CODCLA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODCLA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODCLA
[L]CURPRO = "CODCLA"
If vireblc(this.CODCLA,2)<>vireblc(format$("K:A11B",this.CODCLA),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CODCLA
[L]CURPRO = "CODCLA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODCLA
[L]CURPRO = "CODCLA"
Return

$PROPAGATE_CODCLA
this.isReadonly = 0
[L]CURPRO = "CODCLA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODCLA
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CODCLA"
$_LNKPRO_CODCLA
Return


####################################################################
# 23 : DEFREPDES Desktop ( Field ASW 20)
####################################################################

$SET_DEFREPDES
If [L]_AOLDVAL<>this.DEFREPDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEFREPDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEFREPDES
 Gosub PROPAGATE_DEFREPDES
Endif
Return

$INIT_DEFREPDES
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEFREPDES
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEFREPDES             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEFREPDES             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEFREPDES
[L]CURPRO = "DEFREPDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DEFREPDES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEFREPDES
[L]CURPRO = "DEFREPDES"
If vireblc(this.DEFREPDES,2)<>vireblc(format$("K:A11B",this.DEFREPDES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DEFREPDES
[L]CURPRO = "DEFREPDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEFREPDES
[L]CURPRO = "DEFREPDES"
Return

$PROPAGATE_DEFREPDES
this.isReadonly = 0
[L]CURPRO = "DEFREPDES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEFREPDES
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPDES"
$_LNKPRO_DEFREPDES
Return


####################################################################
# 24 : DEFREPMOB Mobile phone ( Field ASW 20)
####################################################################

$SET_DEFREPMOB
If [L]_AOLDVAL<>this.DEFREPMOB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEFREPMOB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEFREPMOB
 Gosub PROPAGATE_DEFREPMOB
Endif
Return

$INIT_DEFREPMOB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPMOB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEFREPMOB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPMOB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEFREPMOB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEFREPMOB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEFREPMOB
[L]CURPRO = "DEFREPMOB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DEFREPMOB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEFREPMOB
[L]CURPRO = "DEFREPMOB"
If vireblc(this.DEFREPMOB,2)<>vireblc(format$("K:A11B",this.DEFREPMOB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DEFREPMOB
[L]CURPRO = "DEFREPMOB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEFREPMOB
[L]CURPRO = "DEFREPMOB"
Return

$PROPAGATE_DEFREPMOB
this.isReadonly = 0
[L]CURPRO = "DEFREPMOB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEFREPMOB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPMOB"
$_LNKPRO_DEFREPMOB
Return


####################################################################
# 25 : DEFREPTAB Pad ( Field ASW 20)
####################################################################

$SET_DEFREPTAB
If [L]_AOLDVAL<>this.DEFREPTAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEFREPTAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEFREPTAB
 Gosub PROPAGATE_DEFREPTAB
Endif
Return

$INIT_DEFREPTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPTAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEFREPTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPTAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEFREPTAB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEFREPTAB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEFREPTAB
[L]CURPRO = "DEFREPTAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DEFREPTAB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEFREPTAB
[L]CURPRO = "DEFREPTAB"
If vireblc(this.DEFREPTAB,2)<>vireblc(format$("K:A11B",this.DEFREPTAB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DEFREPTAB
[L]CURPRO = "DEFREPTAB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEFREPTAB
[L]CURPRO = "DEFREPTAB"
Return

$PROPAGATE_DEFREPTAB
this.isReadonly = 0
[L]CURPRO = "DEFREPTAB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEFREPTAB
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "DEFREPTAB"
$_LNKPRO_DEFREPTAB
Return


####################################################################
# 27 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return


####################################################################
# 28 : UPDDAT Change date ( Field D)
####################################################################

$SET_UPDDAT
If [L]_AOLDVAL<>this.UPDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDAT
 Gosub PROPAGATE_UPDDAT
Endif
Return

$INIT_UPDDAT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "UPDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDAT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "UPDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDAT
[L]CURPRO = "UPDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$_AOTHERS_UPDDAT
[L]CURPRO = "UPDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$PROPAGATE_UPDDAT
this.isReadonly = 0
[L]CURPRO = "UPDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDAT
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "UPDDAT"
$_LNKPRO_UPDDAT
Return


####################################################################
# 29 : CREUSR Creation user ( Field AUS 5)
####################################################################

$SET_CREUSR
If [L]_AOLDVAL<>this.CREUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREUSR
 Gosub PROPAGATE_CREUSR
Endif
Return

$INIT_CREUSR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CREUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREUSR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CREUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREUSR
[L]CURPRO = "CREUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CREUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREUSR
[L]CURPRO = "CREUSR"
If vireblc(this.CREUSR,2)<>vireblc(format$("K:5B",this.CREUSR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CREUSR
[L]CURPRO = "CREUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREUSR
[L]CURPRO = "CREUSR"
Return

$PROPAGATE_CREUSR
this.isReadonly = 0
[L]CURPRO = "CREUSR"
Gosub _LNKPRO_CREUSR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREUSR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "CREUSR"
$_LNKPRO_CREUSR
If vireblc(this.CREUSR,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.CREUSR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CREUSR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CREUSR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return


####################################################################
# 30 : UPDUSR Change user ( Field AUS 5)
####################################################################

$SET_UPDUSR
If [L]_AOLDVAL<>this.UPDUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDUSR
 Gosub PROPAGATE_UPDUSR
Endif
Return

$INIT_UPDUSR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "UPDUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDUSR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "UPDUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDUSR
[L]CURPRO = "UPDUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.UPDUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDUSR
[L]CURPRO = "UPDUSR"
If vireblc(this.UPDUSR,2)<>vireblc(format$("K:5B",this.UPDUSR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_UPDUSR
[L]CURPRO = "UPDUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDUSR
[L]CURPRO = "UPDUSR"
Return

$PROPAGATE_UPDUSR
this.isReadonly = 0
[L]CURPRO = "UPDUSR"
Gosub _LNKPRO_UPDUSR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDUSR
Gosub DECLARE_VAR From WMC0ATYPE
[L]CURPRO = "UPDUSR"
$_LNKPRO_UPDUSR
If vireblc(this.UPDUSR,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.UPDUSR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("UPDUSR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("UPDUSR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return




