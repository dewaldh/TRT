#<AdxTL>@(#)0.0.0.0 $Revision$Class Lease contracts
# Supervisor
## ACLA-CLASSE ## SLEASE
# 2018-08-27 12:47:07 367


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 2 : LEAREF Lse contract ref. ( Field LEA 20)
####################################################################

$SET_LEAREF
If [L]_AOLDVAL<>this.LEAREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAREF
 Gosub PROPAGATE_LEAREF
Endif
Return

$INIT_LEAREF
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEAREF
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAREF
[L]CURPRO = "LEAREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEAREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAREF
[L]CURPRO = "LEAREF"
If vireblc(this.LEAREF,2)<>vireblc(format$("K:20c",this.LEAREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEAREF
[L]CURPRO = "LEAREF"
If vireblc(this.LEAREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLEA.ACTRLREF(this,"LEAREF",this.LEAREF,this.LEAREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LEAREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAREF
[L]CURPRO = "LEAREF"
Return

$PROPAGATE_LEAREF
this.isReadonly = 0
[L]CURPRO = "LEAREF"
Gosub _LNKPRO_LEAREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAREF
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAREF"
$_LNKPRO_LEAREF
If vireblc(this.LEAREF,2)<>""
 # Link LEASE
 Local File LEASE [WLEA]
 Read [F:WLEA]LEA0 = this.LEAREF
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREF","$title",[F:WLEA]LEADES)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREF","$description",[F:WLEA]LEADES)
 Endif
 LogicClose File [WLEA]
Endif
Return

$_ALOADATTRIBUTE_LEAREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREF","$isMandatory","true")
Return


####################################################################
# 3 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 4 : LEADES Description 1 ( Field DCO 60)
####################################################################

$SET_LEADES
If [L]_AOLDVAL<>this.LEADES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEADES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEADES
 Gosub PROPAGATE_LEADES
Endif
Return

$INIT_LEADES
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEADES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEADES
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEADES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEADES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEADES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEADES
[L]CURPRO = "LEADES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEADES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEADES
[L]CURPRO = "LEADES"
If vireblc(this.LEADES,2)<>vireblc(format$("K:60X",this.LEADES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEADES
[L]CURPRO = "LEADES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEADES
[L]CURPRO = "LEADES"
Return

$PROPAGATE_LEADES
this.isReadonly = 0
[L]CURPRO = "LEADES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEADES
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEADES"
$_LNKPRO_LEADES
Return

$_ALOADATTRIBUTE_LEADES
[L]ASTATUS = fmet this.ASETATTRIBUTE("LEADES","$isMandatory","true")
Return


####################################################################
# 5 : LEADES2 Description 2 ( Field DCO 60)
####################################################################

$SET_LEADES2
If [L]_AOLDVAL<>this.LEADES2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEADES2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEADES2
 Gosub PROPAGATE_LEADES2
Endif
Return

$INIT_LEADES2
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEADES2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEADES2
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEADES2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEADES2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEADES2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEADES2
[L]CURPRO = "LEADES2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEADES2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEADES2
[L]CURPRO = "LEADES2"
If vireblc(this.LEADES2,2)<>vireblc(format$("K:60X",this.LEADES2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEADES2
[L]CURPRO = "LEADES2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEADES2
[L]CURPRO = "LEADES2"
Return

$PROPAGATE_LEADES2
this.isReadonly = 0
[L]CURPRO = "LEADES2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEADES2
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEADES2"
$_LNKPRO_LEADES2
Return


####################################################################
# 6 : LEASTA Status ( Field Local menu number 3227)
####################################################################

$SET_LEASTA
If [L]_AOLDVAL<>this.LEASTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEASTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEASTA
 Gosub PROPAGATE_LEASTA
Endif
Return

$INIT_LEASTA
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEASTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LEASTA=0 and fmet this.AGETATTRIBUTE("LEASTA","$isMandatory")="true"
 this.LEASTA = 1
Endif
Return
 
$CONTROL_LEASTA
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEASTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEASTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEASTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEASTA
[L]CURPRO = "LEASTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEASTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEASTA
[L]CURPRO = "LEASTA"
If this.LEASTA<0 or this.LEASTA>len(mess(0,3227,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3227 ->"-num$(this.LEASTA)-mess(99,123,1)):  Return : # Local menu "3227 -> Invalid option
Endif
Return

$_AOTHERS_LEASTA
[L]CURPRO = "LEASTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEASTA
[L]CURPRO = "LEASTA"
Return

$PROPAGATE_LEASTA
this.isReadonly = 0
[L]CURPRO = "LEASTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEASTA
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEASTA"
$_LNKPRO_LEASTA
Return


####################################################################
# 7 : LEATYP Contract type ( Field Local menu number 3224)
####################################################################

$SET_LEATYP
If [L]_AOLDVAL<>this.LEATYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEATYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEATYP
 Gosub PROPAGATE_LEATYP
Endif
Return

$INIT_LEATYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEATYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LEATYP=0 and fmet this.AGETATTRIBUTE("LEATYP","$isMandatory")="true"
 this.LEATYP = 1
Endif
Return
 
$CONTROL_LEATYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEATYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEATYP
[L]CURPRO = "LEATYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEATYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEATYP
[L]CURPRO = "LEATYP"
If this.LEATYP<0 or this.LEATYP>len(mess(0,3224,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3224 ->"-num$(this.LEATYP)-mess(99,123,1)):  Return : # Local menu "3224 -> Invalid option
Endif
Return

$_AOTHERS_LEATYP
[L]CURPRO = "LEATYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEATYP
[L]CURPRO = "LEATYP"
Return

$PROPAGATE_LEATYP
this.isReadonly = 0
[L]CURPRO = "LEATYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEATYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEATYP"
$_LNKPRO_LEATYP
Return


####################################################################
# 8 : LES Lessor ( Field BPR 15)
####################################################################

$SET_LES
If [L]_AOLDVAL<>this.LES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LES
 Gosub PROPAGATE_LES
Endif
Return

$INIT_LES
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LES
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LES                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LES                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LES
[L]CURPRO = "LES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LES
[L]CURPRO = "LES"
If vireblc(this.LES,2)<>vireblc(format$("K:15c",this.LES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LES
[L]CURPRO = "LES"
If vireblc(this.LES,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"LES",this.LES,this.LES,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LES<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LES
[L]CURPRO = "LES"
Return

$PROPAGATE_LES
this.isReadonly = 0
[L]CURPRO = "LES"
Gosub _LNKPRO_LES
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LES
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LES"
$_LNKPRO_LES
If vireblc(this.LES,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.LES
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LES","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LES","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return

$_ALOADATTRIBUTE_LES
[L]ASTATUS = fmet this.ASETATTRIBUTE("LES","$isMandatory","true")
Return


####################################################################
# 9 : LEAORI Source ( Field Local menu number 3155)
####################################################################

$SET_LEAORI
If [L]_AOLDVAL<>this.LEAORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAORI
 Gosub PROPAGATE_LEAORI
Endif
Return

$INIT_LEAORI
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LEAORI=0 and fmet this.AGETATTRIBUTE("LEAORI","$isMandatory")="true"
 this.LEAORI = 1
Endif
Return
 
$CONTROL_LEAORI
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAORI
[L]CURPRO = "LEAORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEAORI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAORI
[L]CURPRO = "LEAORI"
If this.LEAORI<0 or this.LEAORI>len(mess(0,3155,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3155 ->"-num$(this.LEAORI)-mess(99,123,1)):  Return : # Local menu "3155 -> Invalid option
Endif
Return

$_AOTHERS_LEAORI
[L]CURPRO = "LEAORI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAORI
[L]CURPRO = "LEAORI"
Return

$PROPAGATE_LEAORI
this.isReadonly = 0
[L]CURPRO = "LEAORI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAORI
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAORI"
$_LNKPRO_LEAORI
Return


####################################################################
# 10 : STRLEADAT Contrct start date ( Field D4)
####################################################################

$SET_STRLEADAT
If [L]_AOLDVAL<>this.STRLEADAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STRLEADAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STRLEADAT
 Gosub PROPAGATE_STRLEADAT
Endif
Return

$INIT_STRLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "STRLEADAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STRLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "STRLEADAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STRLEADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STRLEADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STRLEADAT
[L]CURPRO = "STRLEADAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STRLEADAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STRLEADAT
[L]CURPRO = "STRLEADAT"
Return

$_AOTHERS_STRLEADAT
[L]CURPRO = "STRLEADAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STRLEADAT
[L]CURPRO = "STRLEADAT"
Return

$PROPAGATE_STRLEADAT
this.isReadonly = 0
[L]CURPRO = "STRLEADAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STRLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "STRLEADAT"
$_LNKPRO_STRLEADAT
Return


####################################################################
# 11 : ENDLEADAT Contrct end date ( Field D4)
####################################################################

$SET_ENDLEADAT
If [L]_AOLDVAL<>this.ENDLEADAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENDLEADAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENDLEADAT
 Gosub PROPAGATE_ENDLEADAT
Endif
Return

$INIT_ENDLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "ENDLEADAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ENDLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "ENDLEADAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENDLEADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENDLEADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENDLEADAT
[L]CURPRO = "ENDLEADAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENDLEADAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENDLEADAT
[L]CURPRO = "ENDLEADAT"
Return

$_AOTHERS_ENDLEADAT
[L]CURPRO = "ENDLEADAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENDLEADAT
[L]CURPRO = "ENDLEADAT"
Return

$PROPAGATE_ENDLEADAT
this.isReadonly = 0
[L]CURPRO = "ENDLEADAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENDLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "ENDLEADAT"
$_LNKPRO_ENDLEADAT
Return


####################################################################
# 12 : TRMLEADAT Termination date ( Field D4)
####################################################################

$SET_TRMLEADAT
If [L]_AOLDVAL<>this.TRMLEADAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRMLEADAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRMLEADAT
 Gosub PROPAGATE_TRMLEADAT
Endif
Return

$INIT_TRMLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "TRMLEADAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRMLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "TRMLEADAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRMLEADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRMLEADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRMLEADAT
[L]CURPRO = "TRMLEADAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TRMLEADAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRMLEADAT
[L]CURPRO = "TRMLEADAT"
Return

$_AOTHERS_TRMLEADAT
[L]CURPRO = "TRMLEADAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRMLEADAT
[L]CURPRO = "TRMLEADAT"
Return

$PROPAGATE_TRMLEADAT
this.isReadonly = 0
[L]CURPRO = "TRMLEADAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRMLEADAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "TRMLEADAT"
$_LNKPRO_TRMLEADAT
Return


####################################################################
# 13 : LEANAT Nature ( Field Local menu number 3166)
####################################################################

$SET_LEANAT
If [L]_AOLDVAL<>this.LEANAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEANAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEANAT
 Gosub PROPAGATE_LEANAT
Endif
Return

$INIT_LEANAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEANAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LEANAT=0 and fmet this.AGETATTRIBUTE("LEANAT","$isMandatory")="true"
 this.LEANAT = 1
Endif
Return
 
$CONTROL_LEANAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEANAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEANAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEANAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEANAT
[L]CURPRO = "LEANAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEANAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEANAT
[L]CURPRO = "LEANAT"
If this.LEANAT<0 or this.LEANAT>len(mess(0,3166,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3166 ->"-num$(this.LEANAT)-mess(99,123,1)):  Return : # Local menu "3166 -> Invalid option
Endif
Return

$_AOTHERS_LEANAT
[L]CURPRO = "LEANAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEANAT
[L]CURPRO = "LEANAT"
Return

$PROPAGATE_LEANAT
this.isReadonly = 0
[L]CURPRO = "LEANAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEANAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEANAT"
$_LNKPRO_LEANAT
Return


####################################################################
# 14 : BSENAT Bal sht line ( Field Local menu number 3226)
####################################################################

$SET_BSENAT
If [L]_AOLDVAL<>this.BSENAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BSENAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BSENAT
 Gosub PROPAGATE_BSENAT
Endif
Return

$INIT_BSENAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "BSENAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BSENAT=0 and fmet this.AGETATTRIBUTE("BSENAT","$isMandatory")="true"
 this.BSENAT = 1
Endif
Return
 
$CONTROL_BSENAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "BSENAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BSENAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BSENAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BSENAT
[L]CURPRO = "BSENAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BSENAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BSENAT
[L]CURPRO = "BSENAT"
If this.BSENAT<0 or this.BSENAT>len(mess(0,3226,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3226 ->"-num$(this.BSENAT)-mess(99,123,1)):  Return : # Local menu "3226 -> Invalid option
Endif
Return

$_AOTHERS_BSENAT
[L]CURPRO = "BSENAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BSENAT
[L]CURPRO = "BSENAT"
Return

$PROPAGATE_BSENAT
this.isReadonly = 0
[L]CURPRO = "BSENAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BSENAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "BSENAT"
$_LNKPRO_BSENAT
Return


####################################################################
# 15 : ACCCOD Accounting code ( Field CAC 10)
####################################################################

$SET_ACCCOD
If [L]_AOLDVAL<>this.ACCCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCCOD
 Gosub PROPAGATE_ACCCOD
Endif
Return

$INIT_ACCCOD
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "ACCCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCCOD
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "ACCCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCCOD
[L]CURPRO = "ACCCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACCCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCCOD
[L]CURPRO = "ACCCOD"
If vireblc(this.ACCCOD,2)<>vireblc(format$("K:10c",this.ACCCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACCCOD
[L]CURPRO = "ACCCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCCOD
[L]CURPRO = "ACCCOD"
Return

$PROPAGATE_ACCCOD
this.isReadonly = 0
[L]CURPRO = "ACCCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCCOD
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "ACCCOD"
$_LNKPRO_ACCCOD
Return


####################################################################
# 16 : DSP Distribution ( Field DSP 10)
####################################################################

$SET_DSP
If [L]_AOLDVAL<>this.DSP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DSP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DSP
 Gosub PROPAGATE_DSP
Endif
Return

$INIT_DSP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "DSP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DSP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "DSP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DSP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DSP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DSP
[L]CURPRO = "DSP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DSP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DSP
[L]CURPRO = "DSP"
If vireblc(this.DSP,2)<>vireblc(format$("K:10c",this.DSP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DSP
[L]CURPRO = "DSP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DSP
[L]CURPRO = "DSP"
Return

$PROPAGATE_DSP
this.isReadonly = 0
[L]CURPRO = "DSP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DSP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "DSP"
$_LNKPRO_DSP
Return


####################################################################
# 18 : LEACUR Funding currency ( Field CUR 3)
####################################################################

$SET_LEACUR
If [L]_AOLDVAL<>this.LEACUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEACUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEACUR
 Gosub PROPAGATE_LEACUR
Endif
Return

$INIT_LEACUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEACUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEACUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEACUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEACUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEACUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEACUR
[L]CURPRO = "LEACUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEACUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEACUR
[L]CURPRO = "LEACUR"
If vireblc(this.LEACUR,2)<>vireblc(format$("K:3c",this.LEACUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEACUR
[L]CURPRO = "LEACUR"
If vireblc(this.LEACUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"LEACUR",this.LEACUR,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LEACUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEACUR
[L]CURPRO = "LEACUR"
Return

$PROPAGATE_LEACUR
this.isReadonly = 0
[L]CURPRO = "LEACUR"
Gosub _LNKPRO_LEACUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEACUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEACUR"
$_LNKPRO_LEACUR
If vireblc(this.LEACUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = ""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEACUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEACUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEACUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("LEACUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("LEACUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 19 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = ""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 20 : CURTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_CURTYP
If [L]_AOLDVAL<>this.CURTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURTYP
 Gosub PROPAGATE_CURTYP
Endif
Return

$INIT_CURTYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CURTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CURTYP=0 and fmet this.AGETATTRIBUTE("CURTYP","$isMandatory")="true"
 this.CURTYP = 1
Endif
Return
 
$CONTROL_CURTYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CURTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURTYP
[L]CURPRO = "CURTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CURTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURTYP
[L]CURPRO = "CURTYP"
If this.CURTYP<0 or this.CURTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.CURTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_CURTYP
[L]CURPRO = "CURTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURTYP
[L]CURPRO = "CURTYP"
Return

$PROPAGATE_CURTYP
this.isReadonly = 0
[L]CURPRO = "CURTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURTYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "CURTYP"
$_LNKPRO_CURTYP
Return


####################################################################
# 21 : RATCUR Currency rate ( Field RCU 0)
####################################################################

$SET_RATCUR
If [L]_AOLDVAL<>this.RATCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RATCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RATCUR
 Gosub PROPAGATE_RATCUR
Endif
Return

$INIT_RATCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RATCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RATCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RATCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RATCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RATCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RATCUR
[L]CURPRO = "RATCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RATCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RATCUR
[L]CURPRO = "RATCUR"
Return

$_AOTHERS_RATCUR
[L]CURPRO = "RATCUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RATCUR
[L]CURPRO = "RATCUR"
Return

$PROPAGATE_RATCUR
this.isReadonly = 0
[L]CURPRO = "RATCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RATCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RATCUR"
$_LNKPRO_RATCUR
Return


####################################################################
# 22 : IASCUR IFRS curr. ( Field CUR 3)
####################################################################

$SET_IASCUR
If [L]_AOLDVAL<>this.IASCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASCUR
 Gosub PROPAGATE_IASCUR
Endif
Return

$INIT_IASCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASCUR
[L]CURPRO = "IASCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.IASCUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASCUR
[L]CURPRO = "IASCUR"
If vireblc(this.IASCUR,2)<>vireblc(format$("K:3c",this.IASCUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_IASCUR
[L]CURPRO = "IASCUR"
If vireblc(this.IASCUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"IASCUR",this.IASCUR,this.IASCUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.IASCUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASCUR
[L]CURPRO = "IASCUR"
Return

$PROPAGATE_IASCUR
this.isReadonly = 0
[L]CURPRO = "IASCUR"
Gosub _LNKPRO_IASCUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASCUR"
$_LNKPRO_IASCUR
If vireblc(this.IASCUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.IASCUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 23 : IASCURTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_IASCURTYP
If [L]_AOLDVAL<>this.IASCURTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASCURTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASCURTYP
 Gosub PROPAGATE_IASCURTYP
Endif
Return

$INIT_IASCURTYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASCURTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IASCURTYP=0 and fmet this.AGETATTRIBUTE("IASCURTYP","$isMandatory")="true"
 this.IASCURTYP = 1
Endif
Return
 
$CONTROL_IASCURTYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASCURTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASCURTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASCURTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASCURTYP
[L]CURPRO = "IASCURTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASCURTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASCURTYP
[L]CURPRO = "IASCURTYP"
If this.IASCURTYP<0 or this.IASCURTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.IASCURTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_IASCURTYP
[L]CURPRO = "IASCURTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASCURTYP
[L]CURPRO = "IASCURTYP"
Return

$PROPAGATE_IASCURTYP
this.isReadonly = 0
[L]CURPRO = "IASCURTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASCURTYP
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASCURTYP"
$_LNKPRO_IASCURTYP
Return


####################################################################
# 24 : IASRATCUR IFRS currency exch rate ( Field RCU 0)
####################################################################

$SET_IASRATCUR
If [L]_AOLDVAL<>this.IASRATCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASRATCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASRATCUR
 Gosub PROPAGATE_IASRATCUR
Endif
Return

$INIT_IASRATCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASRATCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASRATCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASRATCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASRATCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASRATCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASRATCUR
[L]CURPRO = "IASRATCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASRATCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASRATCUR
[L]CURPRO = "IASRATCUR"
Return

$_AOTHERS_IASRATCUR
[L]CURPRO = "IASRATCUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASRATCUR
[L]CURPRO = "IASRATCUR"
Return

$PROPAGATE_IASRATCUR
this.isReadonly = 0
[L]CURPRO = "IASRATCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASRATCUR
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "IASRATCUR"
$_LNKPRO_IASRATCUR
Return


####################################################################
# 25 : LEAAMT Capital amount ( Field MD1 0)
####################################################################

$SET_LEAAMT
If [L]_AOLDVAL<>this.LEAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAAMT
 Gosub PROPAGATE_LEAAMT
Endif
Return

$INIT_LEAAMT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEAAMT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAAMT
[L]CURPRO = "LEAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAAMT
[L]CURPRO = "LEAAMT"
Return

$_AOTHERS_LEAAMT
[L]CURPRO = "LEAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"LEAAMT",this.LEAAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAAMT
[L]CURPRO = "LEAAMT"
Return

$PROPAGATE_LEAAMT
this.isReadonly = 0
[L]CURPRO = "LEAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAAMT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMT"
$_LNKPRO_LEAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"LEAAMT",this.LEAAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("LEAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 26 : LEAAMTDEV Capital in company currency ( Field MD1 0)
####################################################################

$SET_LEAAMTDEV
If [L]_AOLDVAL<>this.LEAAMTDEV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAAMTDEV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAAMTDEV
 Gosub PROPAGATE_LEAAMTDEV
Endif
Return

$INIT_LEAAMTDEV
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMTDEV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEAAMTDEV
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMTDEV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAAMTDEV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAAMTDEV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAAMTDEV
[L]CURPRO = "LEAAMTDEV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEAAMTDEV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAAMTDEV
[L]CURPRO = "LEAAMTDEV"
Return

$_AOTHERS_LEAAMTDEV
[L]CURPRO = "LEAAMTDEV"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"LEAAMTDEV",this.LEAAMTDEV,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAAMTDEV
[L]CURPRO = "LEAAMTDEV"
Return

$PROPAGATE_LEAAMTDEV
this.isReadonly = 0
[L]CURPRO = "LEAAMTDEV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAAMTDEV
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMTDEV"
$_LNKPRO_LEAAMTDEV
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"LEAAMTDEV",this.LEAAMTDEV,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("LEAAMTDEV","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 27 : LEAAMTIAS Capital in IFRS currency ( Field MD1 0)
####################################################################

$SET_LEAAMTIAS
If [L]_AOLDVAL<>this.LEAAMTIAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAAMTIAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAAMTIAS
 Gosub PROPAGATE_LEAAMTIAS
Endif
Return

$INIT_LEAAMTIAS
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMTIAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEAAMTIAS
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMTIAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAAMTIAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAAMTIAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAAMTIAS
[L]CURPRO = "LEAAMTIAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEAAMTIAS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAAMTIAS
[L]CURPRO = "LEAAMTIAS"
Return

$_AOTHERS_LEAAMTIAS
[L]CURPRO = "LEAAMTIAS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"LEAAMTIAS",this.LEAAMTIAS,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAAMTIAS
[L]CURPRO = "LEAAMTIAS"
Return

$PROPAGATE_LEAAMTIAS
this.isReadonly = 0
[L]CURPRO = "LEAAMTIAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAAMTIAS
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEAAMTIAS"
$_LNKPRO_LEAAMTIAS
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"LEAAMTIAS",this.LEAAMTIAS,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("LEAAMTIAS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 28 : LEARAT Interest rate ( Field RAT 0)
####################################################################

$SET_LEARAT
If [L]_AOLDVAL<>this.LEARAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEARAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEARAT
 Gosub PROPAGATE_LEARAT
Endif
Return

$INIT_LEARAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEARAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEARAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEARAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEARAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEARAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEARAT
[L]CURPRO = "LEARAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEARAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEARAT
[L]CURPRO = "LEARAT"
Return

$_AOTHERS_LEARAT
[L]CURPRO = "LEARAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEARAT
[L]CURPRO = "LEARAT"
Return

$PROPAGATE_LEARAT
this.isReadonly = 0
[L]CURPRO = "LEARAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEARAT
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "LEARAT"
$_LNKPRO_LEARAT
Return


####################################################################
# 29 : RPUVAL Scrap value ( Field MD1 0)
####################################################################

$SET_RPUVAL
If [L]_AOLDVAL<>this.RPUVAL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPUVAL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPUVAL
 Gosub PROPAGATE_RPUVAL
Endif
Return

$INIT_RPUVAL
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RPUVAL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPUVAL
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RPUVAL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPUVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPUVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPUVAL
[L]CURPRO = "RPUVAL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RPUVAL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPUVAL
[L]CURPRO = "RPUVAL"
Return

$_AOTHERS_RPUVAL
[L]CURPRO = "RPUVAL"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"RPUVAL",this.RPUVAL,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPUVAL
[L]CURPRO = "RPUVAL"
Return

$PROPAGATE_RPUVAL
this.isReadonly = 0
[L]CURPRO = "RPUVAL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPUVAL
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RPUVAL"
$_LNKPRO_RPUVAL
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"RPUVAL",this.RPUVAL,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("RPUVAL","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 30 : RPUVALDEV Scrap value ( Field MD1 0)
####################################################################

$SET_RPUVALDEV
If [L]_AOLDVAL<>this.RPUVALDEV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPUVALDEV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPUVALDEV
 Gosub PROPAGATE_RPUVALDEV
Endif
Return

$INIT_RPUVALDEV
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RPUVALDEV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPUVALDEV
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RPUVALDEV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPUVALDEV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPUVALDEV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPUVALDEV
[L]CURPRO = "RPUVALDEV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RPUVALDEV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPUVALDEV
[L]CURPRO = "RPUVALDEV"
Return

$_AOTHERS_RPUVALDEV
[L]CURPRO = "RPUVALDEV"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"RPUVALDEV",this.RPUVALDEV,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPUVALDEV
[L]CURPRO = "RPUVALDEV"
Return

$PROPAGATE_RPUVALDEV
this.isReadonly = 0
[L]CURPRO = "RPUVALDEV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPUVALDEV
Gosub DECLARE_VAR From WMC0SLEASE
[L]CURPRO = "RPUVALDEV"
$_LNKPRO_RPUVALDEV
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"RPUVALDEV",this.RPUVALDEV,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("RPUVALDEV","$x3Format",[L]AFORMAT)
Endif
Return




