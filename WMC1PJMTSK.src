#<AdxTL>@(#)0.0.0.0 $Revision$Class Task
# Supervisor
## ACLA-CLASSE ## PJMTSK
# 2018-08-27 12:40:36 084


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : TASFCY Site ( Field FCY 5)
####################################################################

$SET_TASFCY
If [L]_AOLDVAL<>this.TASFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASFCY
 Gosub PROPAGATE_TASFCY
Endif
Return

$INIT_TASFCY
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASFCY
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASFCY
[L]CURPRO = "TASFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASFCY
[L]CURPRO = "TASFCY"
If vireblc(this.TASFCY,2)<>vireblc(format$("K:5c",this.TASFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASFCY
[L]CURPRO = "TASFCY"
If vireblc(this.TASFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"TASFCY",this.TASFCY,this.TASFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TASFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASFCY
[L]CURPRO = "TASFCY"
Return

$PROPAGATE_TASFCY
this.isReadonly = 0
[L]CURPRO = "TASFCY"
Gosub _LNKPRO_TASFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASFCY
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASFCY"
$_LNKPRO_TASFCY
If vireblc(this.TASFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.TASFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_TASFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$isMandatory","true")
Return


####################################################################
# 2 : OPPNUM Project number ( Field PIM 40)
####################################################################

$SET_OPPNUM
If [L]_AOLDVAL<>this.OPPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPPNUM
 Gosub PROPAGATE_OPPNUM
Endif
Return

$INIT_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "OPPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "OPPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPPNUM
[L]CURPRO = "OPPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPPNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPPNUM
[L]CURPRO = "OPPNUM"
If vireblc(this.OPPNUM,2)<>vireblc(format$("K:40X",this.OPPNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPPNUM
[L]CURPRO = "OPPNUM"
[L]ASTATUS =  func PIMPL_CSTD_PROGS.PIM_FORMAT(this,"OPPNUM",this.OPPNUM)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPPNUM
[L]CURPRO = "OPPNUM"
Return

$PROPAGATE_OPPNUM
this.isReadonly = 0
[L]CURPRO = "OPPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "OPPNUM"
$_LNKPRO_OPPNUM
Return

$_ALOADATTRIBUTE_OPPNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPPNUM","$isMandatory","true")
Return


####################################################################
# 3 : TASPAE Parent code ( Field TAC 15)
####################################################################

$SET_TASPAE
If [L]_AOLDVAL<>this.TASPAE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASPAE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASPAE
 Gosub PROPAGATE_TASPAE
Endif
Return

$INIT_TASPAE
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASPAE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASPAE
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASPAE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASPAE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASPAE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASPAE
[L]CURPRO = "TASPAE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASPAE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASPAE
[L]CURPRO = "TASPAE"
If vireblc(this.TASPAE,2)<>vireblc(format$("K:15X",this.TASPAE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASPAE
[L]CURPRO = "TASPAE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASPAE
[L]CURPRO = "TASPAE"
Return

$PROPAGATE_TASPAE
this.isReadonly = 0
[L]CURPRO = "TASPAE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASPAE
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASPAE"
$_LNKPRO_TASPAE
Return


####################################################################
# 4 : TASCOD Task code ( Field TAC 15)
####################################################################

$SET_TASCOD
If [L]_AOLDVAL<>this.TASCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASCOD
 Gosub PROPAGATE_TASCOD
Endif
Return

$INIT_TASCOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASCOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASCOD
[L]CURPRO = "TASCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASCOD
[L]CURPRO = "TASCOD"
If vireblc(this.TASCOD,2)<>vireblc(format$("K:15X",this.TASCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASCOD
[L]CURPRO = "TASCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASCOD
[L]CURPRO = "TASCOD"
Return

$PROPAGATE_TASCOD
this.isReadonly = 0
[L]CURPRO = "TASCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASCOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOD"
$_LNKPRO_TASCOD
Return

$_ALOADATTRIBUTE_TASCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASCOD","$isMandatory","true")
Return


####################################################################
# 5 : KEYCONCAT Concatenation ( Field A 40)
####################################################################

$SET_KEYCONCAT
If [L]_AOLDVAL<>this.KEYCONCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_KEYCONCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.KEYCONCAT
 Gosub PROPAGATE_KEYCONCAT
Endif
Return

$INIT_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "KEYCONCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.KEYCONCAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$_AOTHERS_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$PROPAGATE_KEYCONCAT
this.isReadonly = 0
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "KEYCONCAT"
$_LNKPRO_KEYCONCAT
Return


####################################################################
# 6 : PBUCOD Budget code ( Field PBU 15)
####################################################################

$SET_PBUCOD
If [L]_AOLDVAL<>this.PBUCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PBUCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PBUCOD
 Gosub PROPAGATE_PBUCOD
Endif
Return

$INIT_PBUCOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "PBUCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PBUCOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "PBUCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PBUCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PBUCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PBUCOD
[L]CURPRO = "PBUCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PBUCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PBUCOD
[L]CURPRO = "PBUCOD"
If vireblc(this.PBUCOD,2)<>vireblc(format$("K:15X",this.PBUCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PBUCOD
[L]CURPRO = "PBUCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PBUCOD
[L]CURPRO = "PBUCOD"
Return

$PROPAGATE_PBUCOD
this.isReadonly = 0
[L]CURPRO = "PBUCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PBUCOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "PBUCOD"
$_LNKPRO_PBUCOD
Return


####################################################################
# 7 : TCACOD Category ( Field CTA 15)
####################################################################

$SET_TCACOD
If [L]_AOLDVAL<>this.TCACOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCACOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCACOD
 Gosub PROPAGATE_TCACOD
Endif
Return

$INIT_TCACOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCACOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCACOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCACOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCACOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCACOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCACOD
[L]CURPRO = "TCACOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TCACOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCACOD
[L]CURPRO = "TCACOD"
If vireblc(this.TCACOD,2)<>vireblc(format$("K:15X",this.TCACOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TCACOD
[L]CURPRO = "TCACOD"
If vireblc(this.TCACOD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCTA.ACTRLREF(this,"TCACOD",this.TCACOD,this.TCACOD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TCACOD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCACOD
[L]CURPRO = "TCACOD"
Return

$PROPAGATE_TCACOD
this.isReadonly = 0
[L]CURPRO = "TCACOD"
Gosub _LNKPRO_TCACOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCACOD
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCACOD"
$_LNKPRO_TCACOD
If vireblc(this.TCACOD,2)<>""
 # Link PJMTSKCAT
 Local File PJMTSKCAT [WPTC]
 Read [F:WPTC]CTA0 = this.TCACOD
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PJMTSKCAT" & ZONE="TCADESX" & IDENT1=[F:WPTC]TCACOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TCACOD","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PJMTSKCAT" & ZONE="TCADESAXX" & IDENT1=[F:WPTC]TCACOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TCACOD","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WPTC]
Endif
Return

$_ALOADATTRIBUTE_TCACOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("TCACOD","$isMandatory","true")
Return


####################################################################
# 8 : TASTYP Task type ( Field Local menu number 2258)
####################################################################

$SET_TASTYP
If [L]_AOLDVAL<>this.TASTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASTYP
 Gosub PROPAGATE_TASTYP
Endif
Return

$INIT_TASTYP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TASTYP=0 and fmet this.AGETATTRIBUTE("TASTYP","$isMandatory")="true"
 this.TASTYP = 1
Endif
Return
 
$CONTROL_TASTYP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASTYP
[L]CURPRO = "TASTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASTYP
[L]CURPRO = "TASTYP"
If this.TASTYP<0 or this.TASTYP>len(mess(0,2258,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2258 ->"-num$(this.TASTYP)-mess(99,123,1)):  Return : # Local menu "2258 -> Invalid option
Endif
Return

$_AOTHERS_TASTYP
[L]CURPRO = "TASTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASTYP
[L]CURPRO = "TASTYP"
Return

$PROPAGATE_TASTYP
this.isReadonly = 0
[L]CURPRO = "TASTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASTYP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASTYP"
$_LNKPRO_TASTYP
Return


####################################################################
# 9 : TASSTARTDT Start date ( Field D)
####################################################################

$SET_TASSTARTDT
If [L]_AOLDVAL<>this.TASSTARTDT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASSTARTDT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASSTARTDT
 Gosub PROPAGATE_TASSTARTDT
Endif
Return

$INIT_TASSTARTDT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASSTARTDT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASSTARTDT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASSTARTDT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASSTARTDT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASSTARTDT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASSTARTDT
[L]CURPRO = "TASSTARTDT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASSTARTDT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASSTARTDT
[L]CURPRO = "TASSTARTDT"
Return

$_AOTHERS_TASSTARTDT
[L]CURPRO = "TASSTARTDT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASSTARTDT
[L]CURPRO = "TASSTARTDT"
Return

$PROPAGATE_TASSTARTDT
this.isReadonly = 0
[L]CURPRO = "TASSTARTDT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASSTARTDT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASSTARTDT"
$_LNKPRO_TASSTARTDT
Return


####################################################################
# 10 : TASENDDT End date ( Field D)
####################################################################

$SET_TASENDDT
If [L]_AOLDVAL<>this.TASENDDT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASENDDT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASENDDT
 Gosub PROPAGATE_TASENDDT
Endif
Return

$INIT_TASENDDT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASENDDT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASENDDT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASENDDT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASENDDT              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASENDDT              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASENDDT
[L]CURPRO = "TASENDDT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASENDDT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASENDDT
[L]CURPRO = "TASENDDT"
Return

$_AOTHERS_TASENDDT
[L]CURPRO = "TASENDDT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASENDDT
[L]CURPRO = "TASENDDT"
Return

$PROPAGATE_TASENDDT
this.isReadonly = 0
[L]CURPRO = "TASENDDT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASENDDT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASENDDT"
$_LNKPRO_TASENDDT
Return


####################################################################
# 11 : TASDATP Planning date ( Field D)
####################################################################

$SET_TASDATP
If [L]_AOLDVAL<>this.TASDATP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASDATP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASDATP
 Gosub PROPAGATE_TASDATP
Endif
Return

$INIT_TASDATP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASDATP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASDATP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASDATP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASDATP
[L]CURPRO = "TASDATP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASDATP=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASDATP
[L]CURPRO = "TASDATP"
Return

$_AOTHERS_TASDATP
[L]CURPRO = "TASDATP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASDATP
[L]CURPRO = "TASDATP"
Return

$PROPAGATE_TASDATP
this.isReadonly = 0
[L]CURPRO = "TASDATP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASDATP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATP"
$_LNKPRO_TASDATP
Return


####################################################################
# 12 : TASDATL Launch date ( Field D)
####################################################################

$SET_TASDATL
If [L]_AOLDVAL<>this.TASDATL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASDATL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASDATL
 Gosub PROPAGATE_TASDATL
Endif
Return

$INIT_TASDATL
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASDATL
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASDATL               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASDATL               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASDATL
[L]CURPRO = "TASDATL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASDATL=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASDATL
[L]CURPRO = "TASDATL"
Return

$_AOTHERS_TASDATL
[L]CURPRO = "TASDATL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASDATL
[L]CURPRO = "TASDATL"
Return

$PROPAGATE_TASDATL
this.isReadonly = 0
[L]CURPRO = "TASDATL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASDATL
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATL"
$_LNKPRO_TASDATL
Return


####################################################################
# 13 : TASDATB Beginning date ( Field D)
####################################################################

$SET_TASDATB
If [L]_AOLDVAL<>this.TASDATB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASDATB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASDATB
 Gosub PROPAGATE_TASDATB
Endif
Return

$INIT_TASDATB
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASDATB
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASDATB               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASDATB               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASDATB
[L]CURPRO = "TASDATB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASDATB=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASDATB
[L]CURPRO = "TASDATB"
Return

$_AOTHERS_TASDATB
[L]CURPRO = "TASDATB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASDATB
[L]CURPRO = "TASDATB"
Return

$PROPAGATE_TASDATB
this.isReadonly = 0
[L]CURPRO = "TASDATB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASDATB
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATB"
$_LNKPRO_TASDATB
Return


####################################################################
# 14 : TASDATS Closing date ( Field D)
####################################################################

$SET_TASDATS
If [L]_AOLDVAL<>this.TASDATS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASDATS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASDATS
 Gosub PROPAGATE_TASDATS
Endif
Return

$INIT_TASDATS
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASDATS
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASDATS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASDATS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASDATS
[L]CURPRO = "TASDATS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASDATS=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASDATS
[L]CURPRO = "TASDATS"
Return

$_AOTHERS_TASDATS
[L]CURPRO = "TASDATS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASDATS
[L]CURPRO = "TASDATS"
Return

$PROPAGATE_TASDATS
this.isReadonly = 0
[L]CURPRO = "TASDATS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASDATS
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATS"
$_LNKPRO_TASDATS
Return


####################################################################
# 15 : TASDATH Suspension date ( Field D)
####################################################################

$SET_TASDATH
If [L]_AOLDVAL<>this.TASDATH
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASDATH
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASDATH
 Gosub PROPAGATE_TASDATH
Endif
Return

$INIT_TASDATH
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATH"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASDATH
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATH"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASDATH               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASDATH               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASDATH
[L]CURPRO = "TASDATH"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASDATH=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASDATH
[L]CURPRO = "TASDATH"
Return

$_AOTHERS_TASDATH
[L]CURPRO = "TASDATH"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASDATH
[L]CURPRO = "TASDATH"
Return

$PROPAGATE_TASDATH
this.isReadonly = 0
[L]CURPRO = "TASDATH"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASDATH
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDATH"
$_LNKPRO_TASDATH
Return


####################################################################
# 16 : TASTLA To launch ( Field Local menu number 1)
####################################################################

$SET_TASTLA
If [L]_AOLDVAL<>this.TASTLA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASTLA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASTLA
 Gosub PROPAGATE_TASTLA
Endif
Return

$INIT_TASTLA
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASTLA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TASTLA=0 and fmet this.AGETATTRIBUTE("TASTLA","$isMandatory")="true"
 this.TASTLA = 1
Endif
Return
 
$CONTROL_TASTLA
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASTLA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASTLA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASTLA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASTLA
[L]CURPRO = "TASTLA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASTLA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASTLA
[L]CURPRO = "TASTLA"
If this.TASTLA<0 or this.TASTLA>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.TASTLA)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_TASTLA
[L]CURPRO = "TASTLA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASTLA
[L]CURPRO = "TASTLA"
Return

$PROPAGATE_TASTLA
this.isReadonly = 0
[L]CURPRO = "TASTLA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASTLA
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASTLA"
$_LNKPRO_TASTLA
Return


####################################################################
# 17 : TASSTATE Status ( Field Local menu number 2250)
####################################################################

$SET_TASSTATE
If [L]_AOLDVAL<>this.TASSTATE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASSTATE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASSTATE
 Gosub PROPAGATE_TASSTATE
Endif
Return

$INIT_TASSTATE
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASSTATE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TASSTATE=0 and fmet this.AGETATTRIBUTE("TASSTATE","$isMandatory")="true"
 this.TASSTATE = 1
Endif
Return
 
$CONTROL_TASSTATE
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASSTATE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASSTATE              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASSTATE              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASSTATE
[L]CURPRO = "TASSTATE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASSTATE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASSTATE
[L]CURPRO = "TASSTATE"
If this.TASSTATE<0 or this.TASSTATE>len(mess(0,2250,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2250 ->"-num$(this.TASSTATE)-mess(99,123,1)):  Return : # Local menu "2250 -> Invalid option
Endif
Return

$_AOTHERS_TASSTATE
[L]CURPRO = "TASSTATE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASSTATE
[L]CURPRO = "TASSTATE"
Return

$PROPAGATE_TASSTATE
this.isReadonly = 0
[L]CURPRO = "TASSTATE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASSTATE
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASSTATE"
$_LNKPRO_TASSTATE
Return


####################################################################
# 18 : TASRESP Personal ( Field A 10)
####################################################################

$SET_TASRESP
If [L]_AOLDVAL<>this.TASRESP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASRESP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASRESP
 Gosub PROPAGATE_TASRESP
Endif
Return

$INIT_TASRESP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASRESP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASRESP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASRESP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASRESP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASRESP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASRESP
[L]CURPRO = "TASRESP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASRESP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASRESP
[L]CURPRO = "TASRESP"
Return

$_AOTHERS_TASRESP
[L]CURPRO = "TASRESP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASRESP
[L]CURPRO = "TASRESP"
Return

$PROPAGATE_TASRESP
this.isReadonly = 0
[L]CURPRO = "TASRESP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASRESP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASRESP"
$_LNKPRO_TASRESP
Return


####################################################################
# 19 : TASDESTEX Description ( Field ACPLAIN 1)
####################################################################

$GET_TASDESTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDESTEX"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("TASDESTEX",
& "PJMTSK"
& +[V]CST_AURLSEPLOB+"TASDESTEX"
& +[V]CST_AURLSEPLOB+this.OPPNUM
& +[V]CST_AURLSEPLOB+this.TASCOD
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& ,[L]_CNT,this.TASDESTEX)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_TASDESTEX
If fmet this.AGETATTRIBUTE("TASDESTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.TASDESTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASDESTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("TASDESTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.TASDESTEX
 Gosub PROPAGATE_TASDESTEX
Endif
Return

$INIT_TASDESTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDESTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASDESTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDESTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASDESTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASDESTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASDESTEX
[L]CURPRO = "TASDESTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.TASDESTEX)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASDESTEX
[L]CURPRO = "TASDESTEX"
Return

$_AOTHERS_TASDESTEX
[L]CURPRO = "TASDESTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASDESTEX
[L]CURPRO = "TASDESTEX"
Return

$PROPAGATE_TASDESTEX
this.isReadonly = 0
[L]CURPRO = "TASDESTEX"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASDESTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASDESTEX"
$_LNKPRO_TASDESTEX
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_TASDESTEX From WMC0PJMTSK
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASDESTEX","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 20 : TASCOMTEX Comment ( Field ACPLAIN 1)
####################################################################

$GET_TASCOMTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOMTEX"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("TASCOMTEX",
& "PJMTSK"
& +[V]CST_AURLSEPLOB+"TASCOMTEX"
& +[V]CST_AURLSEPLOB+this.OPPNUM
& +[V]CST_AURLSEPLOB+this.TASCOD
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& ,[L]_CNT,this.TASCOMTEX)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_TASCOMTEX
If fmet this.AGETATTRIBUTE("TASCOMTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.TASCOMTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASCOMTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("TASCOMTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.TASCOMTEX
 Gosub PROPAGATE_TASCOMTEX
Endif
Return

$INIT_TASCOMTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOMTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASCOMTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOMTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASCOMTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASCOMTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASCOMTEX
[L]CURPRO = "TASCOMTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.TASCOMTEX)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASCOMTEX
[L]CURPRO = "TASCOMTEX"
Return

$_AOTHERS_TASCOMTEX
[L]CURPRO = "TASCOMTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASCOMTEX
[L]CURPRO = "TASCOMTEX"
Return

$PROPAGATE_TASCOMTEX
this.isReadonly = 0
[L]CURPRO = "TASCOMTEX"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASCOMTEX
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASCOMTEX"
$_LNKPRO_TASCOMTEX
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_TASCOMTEX From WMC0PJMTSK
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASCOMTEX","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 21 : TASNUM Sequence no. ( Field VCR 20)
####################################################################

$SET_TASNUM
If [L]_AOLDVAL<>this.TASNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASNUM
 Gosub PROPAGATE_TASNUM
Endif
Return

$INIT_TASNUM
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASNUM
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASNUM
[L]CURPRO = "TASNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASNUM
[L]CURPRO = "TASNUM"
If vireblc(this.TASNUM,2)<>vireblc(format$("K:20X",this.TASNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASNUM
[L]CURPRO = "TASNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASNUM
[L]CURPRO = "TASNUM"
Return

$PROPAGATE_TASNUM
this.isReadonly = 0
[L]CURPRO = "TASNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASNUM
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASNUM"
$_LNKPRO_TASNUM
Return

$_ALOADATTRIBUTE_TASNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASNUM","$isMandatory","true")
Return


####################################################################
# 26 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 27 : TCHCHGTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_TCHCHGTYP
If [L]_AOLDVAL<>this.TCHCHGTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHCHGTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHCHGTYP
 Gosub PROPAGATE_TCHCHGTYP
Endif
Return

$INIT_TCHCHGTYP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHCHGTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TCHCHGTYP=0 and fmet this.AGETATTRIBUTE("TCHCHGTYP","$isMandatory")="true"
 this.TCHCHGTYP = 1
Endif
Return
 
$CONTROL_TCHCHGTYP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHCHGTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHCHGTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHCHGTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCHCHGTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
If this.TCHCHGTYP<0 or this.TCHCHGTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.TCHCHGTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
Return

$PROPAGATE_TCHCHGTYP
this.isReadonly = 0
[L]CURPRO = "TCHCHGTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHCHGTYP
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHCHGTYP"
$_LNKPRO_TCHCHGTYP
Return


####################################################################
# 28 : TCHACTION Action ( Field A 20)
####################################################################

$SET_TCHACTION
If [L]_AOLDVAL<>this.TCHACTION
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHACTION
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHACTION
 Gosub PROPAGATE_TCHACTION
Endif
Return

$INIT_TCHACTION
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHACTION"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCHACTION
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHACTION"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHACTION             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHACTION             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHACTION
[L]CURPRO = "TCHACTION"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TCHACTION,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHACTION
[L]CURPRO = "TCHACTION"
Return

$_AOTHERS_TCHACTION
[L]CURPRO = "TCHACTION"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHACTION
[L]CURPRO = "TCHACTION"
Return

$PROPAGATE_TCHACTION
this.isReadonly = 0
[L]CURPRO = "TCHACTION"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHACTION
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHACTION"
$_LNKPRO_TCHACTION
Return


####################################################################
# 29 : TASBUDAUT Task creates budget ( Field Local menu number 1)
####################################################################

$SET_TASBUDAUT
If [L]_AOLDVAL<>this.TASBUDAUT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASBUDAUT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASBUDAUT
 Gosub PROPAGATE_TASBUDAUT
Endif
Return

$INIT_TASBUDAUT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASBUDAUT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TASBUDAUT=0 and fmet this.AGETATTRIBUTE("TASBUDAUT","$isMandatory")="true"
 this.TASBUDAUT = 1
Endif
Return
 
$CONTROL_TASBUDAUT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASBUDAUT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASBUDAUT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASBUDAUT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASBUDAUT
[L]CURPRO = "TASBUDAUT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TASBUDAUT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASBUDAUT
[L]CURPRO = "TASBUDAUT"
If this.TASBUDAUT<0 or this.TASBUDAUT>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.TASBUDAUT)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_TASBUDAUT
[L]CURPRO = "TASBUDAUT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASBUDAUT
[L]CURPRO = "TASBUDAUT"
Return

$PROPAGATE_TASBUDAUT
this.isReadonly = 0
[L]CURPRO = "TASBUDAUT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASBUDAUT
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TASBUDAUT"
$_LNKPRO_TASBUDAUT
Return

$_ALOADATTRIBUTE_TASBUDAUT
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASBUDAUT","$isMandatory","true")
Return


####################################################################
# 30 : TCHANSORDER Answer ( Field Local menu number 1)
####################################################################

$SET_TCHANSORDER
If [L]_AOLDVAL<>this.TCHANSORDER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHANSORDER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHANSORDER
 Gosub PROPAGATE_TCHANSORDER
Endif
Return

$INIT_TCHANSORDER
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHANSORDER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TCHANSORDER=0 and fmet this.AGETATTRIBUTE("TCHANSORDER","$isMandatory")="true"
 this.TCHANSORDER = 1
Endif
Return
 
$CONTROL_TCHANSORDER
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHANSORDER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHANSORDER           : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHANSORDER           : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHANSORDER
[L]CURPRO = "TCHANSORDER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCHANSORDER=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHANSORDER
[L]CURPRO = "TCHANSORDER"
If this.TCHANSORDER<0 or this.TCHANSORDER>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.TCHANSORDER)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_TCHANSORDER
[L]CURPRO = "TCHANSORDER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHANSORDER
[L]CURPRO = "TCHANSORDER"
Return

$PROPAGATE_TCHANSORDER
this.isReadonly = 0
[L]CURPRO = "TCHANSORDER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHANSORDER
Gosub DECLARE_VAR From WMC0PJMTSK
[L]CURPRO = "TCHANSORDER"
$_LNKPRO_TCHANSORDER
Return




