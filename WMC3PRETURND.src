#<AdxTL>@(#)0.0.0.0 $Revision$Class Detail return
# Supervisor
## ACLA-CLASSE ## PRETURND
# 2018-08-27 12:43:09 897

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 61 : AMTTAXRCP Receipt tax amount ( Field MD1 0)
####################################################################

$SET_AMTTAXRCP
If [L]_AOLDVAL<>this.AMTTAXRCP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTTAXRCP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTTAXRCP
 Gosub PROPAGATE_AMTTAXRCP
Endif
Return

$INIT_AMTTAXRCP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXRCP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTTAXRCP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXRCP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTTAXRCP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTTAXRCP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTTAXRCP
[L]CURPRO = "AMTTAXRCP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTTAXRCP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTTAXRCP
[L]CURPRO = "AMTTAXRCP"
Return

$_AOTHERS_AMTTAXRCP
[L]CURPRO = "AMTTAXRCP"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTTAXRCP",this.AMTTAXRCP,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTTAXRCP
[L]CURPRO = "AMTTAXRCP"
Return

$PROPAGATE_AMTTAXRCP
this.isReadonly = 0
[L]CURPRO = "AMTTAXRCP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTTAXRCP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXRCP"
$_LNKPRO_AMTTAXRCP
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTTAXRCP",this.AMTTAXRCP,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTTAXRCP","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 62 : AMTTAXISS Issue tax amount ( Field MD1 0)
####################################################################

$SET_AMTTAXISS
If [L]_AOLDVAL<>this.AMTTAXISS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTTAXISS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTTAXISS
 Gosub PROPAGATE_AMTTAXISS
Endif
Return

$INIT_AMTTAXISS
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXISS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTTAXISS
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXISS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTTAXISS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTTAXISS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTTAXISS
[L]CURPRO = "AMTTAXISS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTTAXISS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTTAXISS
[L]CURPRO = "AMTTAXISS"
Return

$_AOTHERS_AMTTAXISS
[L]CURPRO = "AMTTAXISS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTTAXISS",this.AMTTAXISS,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTTAXISS
[L]CURPRO = "AMTTAXISS"
Return

$PROPAGATE_AMTTAXISS
this.isReadonly = 0
[L]CURPRO = "AMTTAXISS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTTAXISS
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXISS"
$_LNKPRO_AMTTAXISS
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTTAXISS",this.AMTTAXISS,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTTAXISS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 63 : AMTTAXOTH1 Amount other tax 1 ( Field MD1 0)
####################################################################

$SET_AMTTAXOTH1
If [L]_AOLDVAL<>this.AMTTAXOTH1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTTAXOTH1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTTAXOTH1
 Gosub PROPAGATE_AMTTAXOTH1
Endif
Return

$INIT_AMTTAXOTH1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXOTH1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTTAXOTH1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXOTH1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTTAXOTH1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTTAXOTH1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTTAXOTH1
[L]CURPRO = "AMTTAXOTH1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTTAXOTH1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTTAXOTH1
[L]CURPRO = "AMTTAXOTH1"
Return

$_AOTHERS_AMTTAXOTH1
[L]CURPRO = "AMTTAXOTH1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTTAXOTH1",this.AMTTAXOTH1,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTTAXOTH1
[L]CURPRO = "AMTTAXOTH1"
Return

$PROPAGATE_AMTTAXOTH1
this.isReadonly = 0
[L]CURPRO = "AMTTAXOTH1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTTAXOTH1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXOTH1"
$_LNKPRO_AMTTAXOTH1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTTAXOTH1",this.AMTTAXOTH1,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTTAXOTH1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 64 : AMTTAXOTH2 Amount other tax 2 ( Field MD1 0)
####################################################################

$SET_AMTTAXOTH2
If [L]_AOLDVAL<>this.AMTTAXOTH2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTTAXOTH2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTTAXOTH2
 Gosub PROPAGATE_AMTTAXOTH2
Endif
Return

$INIT_AMTTAXOTH2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXOTH2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTTAXOTH2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXOTH2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTTAXOTH2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTTAXOTH2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTTAXOTH2
[L]CURPRO = "AMTTAXOTH2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTTAXOTH2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTTAXOTH2
[L]CURPRO = "AMTTAXOTH2"
Return

$_AOTHERS_AMTTAXOTH2
[L]CURPRO = "AMTTAXOTH2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTTAXOTH2",this.AMTTAXOTH2,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTTAXOTH2
[L]CURPRO = "AMTTAXOTH2"
Return

$PROPAGATE_AMTTAXOTH2
this.isReadonly = 0
[L]CURPRO = "AMTTAXOTH2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTTAXOTH2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "AMTTAXOTH2"
$_LNKPRO_AMTTAXOTH2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTTAXOTH2",this.AMTTAXOTH2,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTTAXOTH2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 65 : DEDTAXLIN1 Deductible tax 1 ( Field MD1 0)
####################################################################

$SET_DEDTAXLIN1
If [L]_AOLDVAL<>this.DEDTAXLIN1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXLIN1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXLIN1
 Gosub PROPAGATE_DEDTAXLIN1
Endif
Return

$INIT_DEDTAXLIN1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXLIN1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXLIN1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXLIN1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXLIN1
[L]CURPRO = "DEDTAXLIN1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXLIN1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXLIN1
[L]CURPRO = "DEDTAXLIN1"
Return

$_AOTHERS_DEDTAXLIN1
[L]CURPRO = "DEDTAXLIN1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXLIN1",this.DEDTAXLIN1,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXLIN1
[L]CURPRO = "DEDTAXLIN1"
Return

$PROPAGATE_DEDTAXLIN1
this.isReadonly = 0
[L]CURPRO = "DEDTAXLIN1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXLIN1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN1"
$_LNKPRO_DEDTAXLIN1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXLIN1",this.DEDTAXLIN1,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXLIN1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 66 : DEDTAXLIN2 Deductible tax 2 ( Field MD1 0)
####################################################################

$SET_DEDTAXLIN2
If [L]_AOLDVAL<>this.DEDTAXLIN2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXLIN2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXLIN2
 Gosub PROPAGATE_DEDTAXLIN2
Endif
Return

$INIT_DEDTAXLIN2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXLIN2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXLIN2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXLIN2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXLIN2
[L]CURPRO = "DEDTAXLIN2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXLIN2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXLIN2
[L]CURPRO = "DEDTAXLIN2"
Return

$_AOTHERS_DEDTAXLIN2
[L]CURPRO = "DEDTAXLIN2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXLIN2",this.DEDTAXLIN2,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXLIN2
[L]CURPRO = "DEDTAXLIN2"
Return

$PROPAGATE_DEDTAXLIN2
this.isReadonly = 0
[L]CURPRO = "DEDTAXLIN2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXLIN2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN2"
$_LNKPRO_DEDTAXLIN2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXLIN2",this.DEDTAXLIN2,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXLIN2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 67 : DEDTAXLIN3 Deductible tax 3 ( Field MD1 0)
####################################################################

$SET_DEDTAXLIN3
If [L]_AOLDVAL<>this.DEDTAXLIN3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXLIN3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXLIN3
 Gosub PROPAGATE_DEDTAXLIN3
Endif
Return

$INIT_DEDTAXLIN3
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXLIN3
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXLIN3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXLIN3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXLIN3
[L]CURPRO = "DEDTAXLIN3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXLIN3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXLIN3
[L]CURPRO = "DEDTAXLIN3"
Return

$_AOTHERS_DEDTAXLIN3
[L]CURPRO = "DEDTAXLIN3"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXLIN3",this.DEDTAXLIN3,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXLIN3
[L]CURPRO = "DEDTAXLIN3"
Return

$PROPAGATE_DEDTAXLIN3
this.isReadonly = 0
[L]CURPRO = "DEDTAXLIN3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXLIN3
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXLIN3"
$_LNKPRO_DEDTAXLIN3
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXLIN3",this.DEDTAXLIN3,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXLIN3","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 68 : DEDTAXRCP Deductible tax ( Field MD1 0)
####################################################################

$SET_DEDTAXRCP
If [L]_AOLDVAL<>this.DEDTAXRCP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXRCP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXRCP
 Gosub PROPAGATE_DEDTAXRCP
Endif
Return

$INIT_DEDTAXRCP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXRCP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXRCP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXRCP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXRCP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXRCP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXRCP
[L]CURPRO = "DEDTAXRCP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXRCP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXRCP
[L]CURPRO = "DEDTAXRCP"
Return

$_AOTHERS_DEDTAXRCP
[L]CURPRO = "DEDTAXRCP"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXRCP",this.DEDTAXRCP,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXRCP
[L]CURPRO = "DEDTAXRCP"
Return

$PROPAGATE_DEDTAXRCP
this.isReadonly = 0
[L]CURPRO = "DEDTAXRCP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXRCP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXRCP"
$_LNKPRO_DEDTAXRCP
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXRCP",this.DEDTAXRCP,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXRCP","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 69 : DEDTAXISS Deductible tax ( Field MD1 0)
####################################################################

$SET_DEDTAXISS
If [L]_AOLDVAL<>this.DEDTAXISS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXISS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXISS
 Gosub PROPAGATE_DEDTAXISS
Endif
Return

$INIT_DEDTAXISS
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXISS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXISS
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXISS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXISS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXISS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXISS
[L]CURPRO = "DEDTAXISS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXISS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXISS
[L]CURPRO = "DEDTAXISS"
Return

$_AOTHERS_DEDTAXISS
[L]CURPRO = "DEDTAXISS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXISS",this.DEDTAXISS,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXISS
[L]CURPRO = "DEDTAXISS"
Return

$PROPAGATE_DEDTAXISS
this.isReadonly = 0
[L]CURPRO = "DEDTAXISS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXISS
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXISS"
$_LNKPRO_DEDTAXISS
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXISS",this.DEDTAXISS,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXISS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 70 : DEDTAXOTH1 Deductible tax ( Field MD1 0)
####################################################################

$SET_DEDTAXOTH1
If [L]_AOLDVAL<>this.DEDTAXOTH1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXOTH1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXOTH1
 Gosub PROPAGATE_DEDTAXOTH1
Endif
Return

$INIT_DEDTAXOTH1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXOTH1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXOTH1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXOTH1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXOTH1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXOTH1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXOTH1
[L]CURPRO = "DEDTAXOTH1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXOTH1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXOTH1
[L]CURPRO = "DEDTAXOTH1"
Return

$_AOTHERS_DEDTAXOTH1
[L]CURPRO = "DEDTAXOTH1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXOTH1",this.DEDTAXOTH1,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXOTH1
[L]CURPRO = "DEDTAXOTH1"
Return

$PROPAGATE_DEDTAXOTH1
this.isReadonly = 0
[L]CURPRO = "DEDTAXOTH1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXOTH1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXOTH1"
$_LNKPRO_DEDTAXOTH1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXOTH1",this.DEDTAXOTH1,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXOTH1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 71 : DEDTAXOTH2 Deductible tax ( Field MD1 0)
####################################################################

$SET_DEDTAXOTH2
If [L]_AOLDVAL<>this.DEDTAXOTH2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDTAXOTH2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDTAXOTH2
 Gosub PROPAGATE_DEDTAXOTH2
Endif
Return

$INIT_DEDTAXOTH2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXOTH2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDTAXOTH2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXOTH2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDTAXOTH2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDTAXOTH2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDTAXOTH2
[L]CURPRO = "DEDTAXOTH2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDTAXOTH2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDTAXOTH2
[L]CURPRO = "DEDTAXOTH2"
Return

$_AOTHERS_DEDTAXOTH2
[L]CURPRO = "DEDTAXOTH2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDTAXOTH2",this.DEDTAXOTH2,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDTAXOTH2
[L]CURPRO = "DEDTAXOTH2"
Return

$PROPAGATE_DEDTAXOTH2
this.isReadonly = 0
[L]CURPRO = "DEDTAXOTH2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDTAXOTH2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "DEDTAXOTH2"
$_LNKPRO_DEDTAXOTH2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDTAXOTH2",this.DEDTAXOTH2,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDTAXOTH2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 72 : FLGRUP Shortage ( Field C 1)
####################################################################

$SET_FLGRUP
If [L]_AOLDVAL<>this.FLGRUP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGRUP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGRUP
 Gosub PROPAGATE_FLGRUP
Endif
Return

$INIT_FLGRUP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "FLGRUP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLGRUP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "FLGRUP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGRUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGRUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGRUP
[L]CURPRO = "FLGRUP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGRUP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGRUP
[L]CURPRO = "FLGRUP"
Return

$_AOTHERS_FLGRUP
[L]CURPRO = "FLGRUP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGRUP
[L]CURPRO = "FLGRUP"
Return

$PROPAGATE_FLGRUP
this.isReadonly = 0
[L]CURPRO = "FLGRUP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGRUP
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "FLGRUP"
$_LNKPRO_FLGRUP
Return


####################################################################
# 73 : CPRCOE Landed cost coef. ( Field COE 0)
####################################################################

$SET_CPRCOE
If [L]_AOLDVAL<>this.CPRCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPRCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPRCOE
 Gosub PROPAGATE_CPRCOE
Endif
Return

$INIT_CPRCOE
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "CPRCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPRCOE
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "CPRCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPRCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPRCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPRCOE
[L]CURPRO = "CPRCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPRCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPRCOE
[L]CURPRO = "CPRCOE"
Return

$_AOTHERS_CPRCOE
[L]CURPRO = "CPRCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPRCOE
[L]CURPRO = "CPRCOE"
Return

$PROPAGATE_CPRCOE
this.isReadonly = 0
[L]CURPRO = "CPRCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPRCOE
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "CPRCOE"
$_LNKPRO_CPRCOE
Return


####################################################################
# 74 : CPR Cost price ( Field MD8 0)
####################################################################

$SET_CPR
If [L]_AOLDVAL<>this.CPR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPR
 Gosub PROPAGATE_CPR
Endif
Return

$INIT_CPR
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "CPR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPR
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "CPR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPR
[L]CURPRO = "CPR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPR
[L]CURPRO = "CPR"
Return

$_AOTHERS_CPR
[L]CURPRO = "CPR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPR
[L]CURPRO = "CPR"
Return

$PROPAGATE_CPR
this.isReadonly = 0
[L]CURPRO = "CPR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPR
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "CPR"
$_LNKPRO_CPR
Return


####################################################################
# 76 : PJT Project ( Field PJT 40)
####################################################################

$SET_PJT
If [L]_AOLDVAL<>this.PJT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PJT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PJT
 Gosub PROPAGATE_PJT
Endif
Return

$INIT_PJT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "PJT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PJT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "PJT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PJT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PJT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PJT
[L]CURPRO = "PJT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PJT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PJT
[L]CURPRO = "PJT"
If vireblc(this.PJT,2)<>vireblc(format$("K:40X",this.PJT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PJT
[L]CURPRO = "PJT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PJT
[L]CURPRO = "PJT"
Return

$PROPAGATE_PJT
this.isReadonly = 0
[L]CURPRO = "PJT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PJT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "PJT"
$_LNKPRO_PJT
Return


####################################################################
# 77 : EECINCRAT EU increase ( Field RAT 0)
####################################################################

$SET_EECINCRAT
If [L]_AOLDVAL<>this.EECINCRAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECINCRAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECINCRAT
 Gosub PROPAGATE_EECINCRAT
Endif
Return

$INIT_EECINCRAT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "EECINCRAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EECINCRAT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "EECINCRAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECINCRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECINCRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECINCRAT
[L]CURPRO = "EECINCRAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EECINCRAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECINCRAT
[L]CURPRO = "EECINCRAT"
Return

$_AOTHERS_EECINCRAT
[L]CURPRO = "EECINCRAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECINCRAT
[L]CURPRO = "EECINCRAT"
Return

$PROPAGATE_EECINCRAT
this.isReadonly = 0
[L]CURPRO = "EECINCRAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECINCRAT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "EECINCRAT"
$_LNKPRO_EECINCRAT
Return


####################################################################
# 78 : ORICRY Destination country ( Field CRY 3)
####################################################################

$SET_ORICRY
If [L]_AOLDVAL<>this.ORICRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORICRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORICRY
 Gosub PROPAGATE_ORICRY
Endif
Return

$INIT_ORICRY
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "ORICRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORICRY
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "ORICRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORICRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORICRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORICRY
[L]CURPRO = "ORICRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ORICRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORICRY
[L]CURPRO = "ORICRY"
If vireblc(this.ORICRY,2)<>vireblc(format$("K:3c",this.ORICRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ORICRY
[L]CURPRO = "ORICRY"
If vireblc(this.ORICRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"ORICRY",this.ORICRY,this.ORICRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ORICRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORICRY
[L]CURPRO = "ORICRY"
Return

$PROPAGATE_ORICRY
this.isReadonly = 0
[L]CURPRO = "ORICRY"
Gosub _LNKPRO_ORICRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORICRY
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "ORICRY"
$_LNKPRO_ORICRY
If vireblc(this.ORICRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.ORICRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ORICRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ORICRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return

$_ALOADATTRIBUTE_ORICRY
[L]ASTATUS = fmet this.ASETATTRIBUTE("ORICRY","$isMandatory","true")
Return


####################################################################
# 79 : BPOCRY Shipping country ( Field CRY 3)
####################################################################

$SET_BPOCRY
If [L]_AOLDVAL<>this.BPOCRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOCRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOCRY
 Gosub PROPAGATE_BPOCRY
Endif
Return

$INIT_BPOCRY
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "BPOCRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOCRY
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "BPOCRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOCRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOCRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOCRY
[L]CURPRO = "BPOCRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOCRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOCRY
[L]CURPRO = "BPOCRY"
If vireblc(this.BPOCRY,2)<>vireblc(format$("K:3c",this.BPOCRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOCRY
[L]CURPRO = "BPOCRY"
If vireblc(this.BPOCRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"BPOCRY",this.BPOCRY,this.BPOCRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPOCRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOCRY
[L]CURPRO = "BPOCRY"
Return

$PROPAGATE_BPOCRY
this.isReadonly = 0
[L]CURPRO = "BPOCRY"
Gosub _LNKPRO_BPOCRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOCRY
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "BPOCRY"
$_LNKPRO_BPOCRY
If vireblc(this.BPOCRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.BPOCRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOCRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOCRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return


####################################################################
# 80 : LINEECFLG Debit line ( Field Local menu number 1)
####################################################################

$SET_LINEECFLG
If [L]_AOLDVAL<>this.LINEECFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINEECFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINEECFLG
 Gosub PROPAGATE_LINEECFLG
Endif
Return

$INIT_LINEECFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINEECFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINEECFLG=0 and fmet this.AGETATTRIBUTE("LINEECFLG","$isMandatory")="true"
 this.LINEECFLG = 1
Endif
Return
 
$CONTROL_LINEECFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINEECFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINEECFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINEECFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINEECFLG
[L]CURPRO = "LINEECFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINEECFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINEECFLG
[L]CURPRO = "LINEECFLG"
If this.LINEECFLG<0 or this.LINEECFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINEECFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINEECFLG
[L]CURPRO = "LINEECFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINEECFLG
[L]CURPRO = "LINEECFLG"
Return

$PROPAGATE_LINEECFLG
this.isReadonly = 0
[L]CURPRO = "LINEECFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINEECFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINEECFLG"
$_LNKPRO_LINEECFLG
Return


####################################################################
# 81 : LINPRNFLG Line printed ( Field Local menu number 1)
####################################################################

$SET_LINPRNFLG
If [L]_AOLDVAL<>this.LINPRNFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPRNFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPRNFLG
 Gosub PROPAGATE_LINPRNFLG
Endif
Return

$INIT_LINPRNFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPRNFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINPRNFLG=0 and fmet this.AGETATTRIBUTE("LINPRNFLG","$isMandatory")="true"
 this.LINPRNFLG = 1
Endif
Return
 
$CONTROL_LINPRNFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPRNFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPRNFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPRNFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPRNFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
If this.LINPRNFLG<0 or this.LINPRNFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINPRNFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
Return

$PROPAGATE_LINPRNFLG
this.isReadonly = 0
[L]CURPRO = "LINPRNFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPRNFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPRNFLG"
$_LNKPRO_LINPRNFLG
Return


####################################################################
# 82 : ORDFLG Reinstatement ( Field Local menu number 540)
####################################################################

$SET_ORDFLG
If [L]_AOLDVAL<>this.ORDFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDFLG
 Gosub PROPAGATE_ORDFLG
Endif
Return

$INIT_ORDFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "ORDFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ORDFLG=0 and fmet this.AGETATTRIBUTE("ORDFLG","$isMandatory")="true"
 this.ORDFLG = 1
Endif
Return
 
$CONTROL_ORDFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "ORDFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDFLG
[L]CURPRO = "ORDFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORDFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDFLG
[L]CURPRO = "ORDFLG"
If this.ORDFLG<0 or this.ORDFLG>len(mess(0,540,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"540 ->"-num$(this.ORDFLG)-mess(99,123,1)):  Return : # Local menu "540 -> Invalid option
Endif
Return

$_AOTHERS_ORDFLG
[L]CURPRO = "ORDFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDFLG
[L]CURPRO = "ORDFLG"
Return

$PROPAGATE_ORDFLG
this.isReadonly = 0
[L]CURPRO = "ORDFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "ORDFLG"
$_LNKPRO_ORDFLG
Return


####################################################################
# 83 : LINPSTFLG Posted line ( Field Local menu number 1)
####################################################################

$SET_LINPSTFLG
If [L]_AOLDVAL<>this.LINPSTFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPSTFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPSTFLG
 Gosub PROPAGATE_LINPSTFLG
Endif
Return

$INIT_LINPSTFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPSTFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINPSTFLG=0 and fmet this.AGETATTRIBUTE("LINPSTFLG","$isMandatory")="true"
 this.LINPSTFLG = 1
Endif
Return
 
$CONTROL_LINPSTFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPSTFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPSTFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPSTFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPSTFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
If this.LINPSTFLG<0 or this.LINPSTFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINPSTFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
Return

$PROPAGATE_LINPSTFLG
this.isReadonly = 0
[L]CURPRO = "LINPSTFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPSTFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPSTFLG"
$_LNKPRO_LINPSTFLG
Return


####################################################################
# 84 : LINPSTDAT Reversal date ( Field D)
####################################################################

$SET_LINPSTDAT
If [L]_AOLDVAL<>this.LINPSTDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPSTDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPSTDAT
 Gosub PROPAGATE_LINPSTDAT
Endif
Return

$INIT_LINPSTDAT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPSTDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINPSTDAT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPSTDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPSTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPSTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPSTDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
Return

$_AOTHERS_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
Return

$PROPAGATE_LINPSTDAT
this.isReadonly = 0
[L]CURPRO = "LINPSTDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPSTDAT
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LINPSTDAT"
$_LNKPRO_LINPSTDAT
Return


####################################################################
# 85 : LININVFLG Invoiced line ( Field Local menu number 1)
####################################################################

$SET_LININVFLG
If [L]_AOLDVAL<>this.LININVFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LININVFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LININVFLG
 Gosub PROPAGATE_LININVFLG
Endif
Return

$INIT_LININVFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LININVFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LININVFLG=0 and fmet this.AGETATTRIBUTE("LININVFLG","$isMandatory")="true"
 this.LININVFLG = 1
Endif
Return
 
$CONTROL_LININVFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LININVFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LININVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LININVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LININVFLG
[L]CURPRO = "LININVFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LININVFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LININVFLG
[L]CURPRO = "LININVFLG"
If this.LININVFLG<0 or this.LININVFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LININVFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LININVFLG
[L]CURPRO = "LININVFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LININVFLG
[L]CURPRO = "LININVFLG"
Return

$PROPAGATE_LININVFLG
this.isReadonly = 0
[L]CURPRO = "LININVFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LININVFLG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "LININVFLG"
$_LNKPRO_LININVFLG
Return


####################################################################
# 86 : TRSFAM Transaction group ( Field Miscellaneous table number)
####################################################################

$SET_TRSFAM
If [L]_AOLDVAL<>this.TRSFAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRSFAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRSFAM
 Gosub PROPAGATE_TRSFAM
Endif
Return

$INIT_TRSFAM
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "TRSFAM"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"TRSFAM",this.TRSFAM,9)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRSFAM
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "TRSFAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRSFAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRSFAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRSFAM
[L]CURPRO = "TRSFAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TRSFAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRSFAM
[L]CURPRO = "TRSFAM"
If vireblc(this.TRSFAM,2)<>vireblc(format$("K:20B",this.TRSFAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TRSFAM
[L]CURPRO = "TRSFAM"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"TRSFAM",this.TRSFAM,9,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRSFAM
[L]CURPRO = "TRSFAM"
Return

$PROPAGATE_TRSFAM
this.isReadonly = 0
[L]CURPRO = "TRSFAM"
Gosub _LNKPRO_TRSFAM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRSFAM
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "TRSFAM"
$_LNKPRO_TRSFAM
If vireblc(this.TRSFAM,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 9;this.TRSFAM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TRSFAM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TRSFAM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 87 : VAT1 Tax ( Field VAT 5)
####################################################################

$SET_VAT1
If [L]_AOLDVAL<>this.VAT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT1
 Gosub PROPAGATE_VAT1
Endif
Return

$INIT_VAT1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT1
[L]CURPRO = "VAT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT1
[L]CURPRO = "VAT1"
If vireblc(this.VAT1,2)<>vireblc(format$("K:5c",this.VAT1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT1
[L]CURPRO = "VAT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT1
[L]CURPRO = "VAT1"
If vireblc(this.VAT1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VAT1",this.VAT1,this.VAT1,this.VAT1_LEG,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VAT1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VAT1
this.isReadonly = 0
[L]CURPRO = "VAT1"
Gosub _LNKPRO_VAT1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT1
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1"
$_LNKPRO_VAT1
If vireblc(this.VAT1,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VAT1;this.VAT1_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT1","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT1","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 88 : VAT1_LEG Legislation ( Field Miscellaneous table number)
####################################################################

$GET_VAT1_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1_LEG"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_VAT1_LEG
If [L]_AOLDVAL<>this.VAT1_LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT1_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT1_LEG
 Gosub PROPAGATE_VAT1_LEG
Endif
Return

$INIT_VAT1_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VAT1_LEG",this.VAT1_LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT1_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1_LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT1_LEG              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT1_LEG              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT1_LEG
[L]CURPRO = "VAT1_LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT1_LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT1_LEG
[L]CURPRO = "VAT1_LEG"
If vireblc(this.VAT1_LEG,2)<>vireblc(format$("K:20B",this.VAT1_LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT1_LEG
[L]CURPRO = "VAT1_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VAT1_LEG",this.VAT1_LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT1_LEG
[L]CURPRO = "VAT1_LEG"
Return

$PROPAGATE_VAT1_LEG
this.isReadonly = 0
[L]CURPRO = "VAT1_LEG"
Gosub _LNKPRO_VAT1_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT1_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT1_LEG"
$_LNKPRO_VAT1_LEG
If vireblc(this.VAT1_LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.VAT1_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT1_LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT1_LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 89 : VAT2 Tax ( Field VAT 5)
####################################################################

$SET_VAT2
If [L]_AOLDVAL<>this.VAT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT2
 Gosub PROPAGATE_VAT2
Endif
Return

$INIT_VAT2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT2
[L]CURPRO = "VAT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT2
[L]CURPRO = "VAT2"
If vireblc(this.VAT2,2)<>vireblc(format$("K:5c",this.VAT2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT2
[L]CURPRO = "VAT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT2
[L]CURPRO = "VAT2"
If vireblc(this.VAT2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VAT2",this.VAT2,this.VAT2,this.VAT2_LEG,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VAT2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VAT2
this.isReadonly = 0
[L]CURPRO = "VAT2"
Gosub _LNKPRO_VAT2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT2
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2"
$_LNKPRO_VAT2
If vireblc(this.VAT2,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VAT2;this.VAT2_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 90 : VAT2_LEG Legislation ( Field Miscellaneous table number)
####################################################################

$GET_VAT2_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2_LEG"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_VAT2_LEG
If [L]_AOLDVAL<>this.VAT2_LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT2_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT2_LEG
 Gosub PROPAGATE_VAT2_LEG
Endif
Return

$INIT_VAT2_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VAT2_LEG",this.VAT2_LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT2_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2_LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT2_LEG              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT2_LEG              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT2_LEG
[L]CURPRO = "VAT2_LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT2_LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT2_LEG
[L]CURPRO = "VAT2_LEG"
If vireblc(this.VAT2_LEG,2)<>vireblc(format$("K:20B",this.VAT2_LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT2_LEG
[L]CURPRO = "VAT2_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VAT2_LEG",this.VAT2_LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT2_LEG
[L]CURPRO = "VAT2_LEG"
Return

$PROPAGATE_VAT2_LEG
this.isReadonly = 0
[L]CURPRO = "VAT2_LEG"
Gosub _LNKPRO_VAT2_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT2_LEG
Gosub DECLARE_VAR From WMC0PRETURND
[L]CURPRO = "VAT2_LEG"
$_LNKPRO_VAT2_LEG
If vireblc(this.VAT2_LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.VAT2_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT2_LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT2_LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return




