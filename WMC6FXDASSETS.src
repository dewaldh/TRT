#<AdxTL>@(#)0.0.0.0 $Revision$Class Asset
# Supervisor
## ACLA-CLASSE ## FXDASSETS
# 2018-08-27 12:32:03 498

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 151 : GRUISSREF Intra-group sale reference ( Field A 41)
####################################################################

$SET_GRUISSREF
If [L]_AOLDVAL<>this.GRUISSREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRUISSREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRUISSREF
 Gosub PROPAGATE_GRUISSREF
Endif
Return

$INIT_GRUISSREF
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUISSREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRUISSREF
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUISSREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRUISSREF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRUISSREF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRUISSREF
[L]CURPRO = "GRUISSREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRUISSREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRUISSREF
[L]CURPRO = "GRUISSREF"
Return

$_AOTHERS_GRUISSREF
[L]CURPRO = "GRUISSREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRUISSREF
[L]CURPRO = "GRUISSREF"
Return

$PROPAGATE_GRUISSREF
this.isReadonly = 0
[L]CURPRO = "GRUISSREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRUISSREF
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUISSREF"
$_LNKPRO_GRUISSREF
Return


####################################################################
# 152 : FISOPETYP Intra-group sale fiscal rule ( Field Local menu number 3163)
####################################################################

$SET_FISOPETYP
If [L]_AOLDVAL<>this.FISOPETYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FISOPETYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FISOPETYP
 Gosub PROPAGATE_FISOPETYP
Endif
Return

$INIT_FISOPETYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "FISOPETYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FISOPETYP=0 and fmet this.AGETATTRIBUTE("FISOPETYP","$isMandatory")="true"
 this.FISOPETYP = 1
Endif
Return
 
$CONTROL_FISOPETYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "FISOPETYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FISOPETYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FISOPETYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FISOPETYP
[L]CURPRO = "FISOPETYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FISOPETYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FISOPETYP
[L]CURPRO = "FISOPETYP"
If this.FISOPETYP<0 or this.FISOPETYP>len(mess(0,3163,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3163 ->"-num$(this.FISOPETYP)-mess(99,123,1)):  Return : # Local menu "3163 -> Invalid option
Endif
Return

$_AOTHERS_FISOPETYP
[L]CURPRO = "FISOPETYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FISOPETYP
[L]CURPRO = "FISOPETYP"
Return

$PROPAGATE_FISOPETYP
this.isReadonly = 0
[L]CURPRO = "FISOPETYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FISOPETYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "FISOPETYP"
$_LNKPRO_FISOPETYP
Return


####################################################################
# 153 : ISSOPETYP Operation type ( Field Local menu number 3172)
####################################################################

$SET_ISSOPETYP
If [L]_AOLDVAL<>this.ISSOPETYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISSOPETYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISSOPETYP
 Gosub PROPAGATE_ISSOPETYP
Endif
Return

$INIT_ISSOPETYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISSOPETYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ISSOPETYP=0 and fmet this.AGETATTRIBUTE("ISSOPETYP","$isMandatory")="true"
 this.ISSOPETYP = 1
Endif
Return
 
$CONTROL_ISSOPETYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISSOPETYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISSOPETYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISSOPETYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISSOPETYP
[L]CURPRO = "ISSOPETYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISSOPETYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISSOPETYP
[L]CURPRO = "ISSOPETYP"
If this.ISSOPETYP<0 or this.ISSOPETYP>len(mess(0,3172,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3172 ->"-num$(this.ISSOPETYP)-mess(99,123,1)):  Return : # Local menu "3172 -> Invalid option
Endif
Return

$_AOTHERS_ISSOPETYP
[L]CURPRO = "ISSOPETYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISSOPETYP
[L]CURPRO = "ISSOPETYP"
Return

$PROPAGATE_ISSOPETYP
this.isReadonly = 0
[L]CURPRO = "ISSOPETYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISSOPETYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISSOPETYP"
$_LNKPRO_ISSOPETYP
Return


####################################################################
# 154 : GRUORICPY IGS source company reference ( Field CPY 5)
####################################################################

$SET_GRUORICPY
If [L]_AOLDVAL<>this.GRUORICPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRUORICPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRUORICPY
 Gosub PROPAGATE_GRUORICPY
Endif
Return

$INIT_GRUORICPY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUORICPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRUORICPY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUORICPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRUORICPY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRUORICPY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRUORICPY
[L]CURPRO = "GRUORICPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRUORICPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRUORICPY
[L]CURPRO = "GRUORICPY"
If vireblc(this.GRUORICPY,2)<>vireblc(format$("K:5c",this.GRUORICPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GRUORICPY
[L]CURPRO = "GRUORICPY"
If vireblc(this.GRUORICPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"GRUORICPY",this.GRUORICPY,this.GRUORICPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.GRUORICPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRUORICPY
[L]CURPRO = "GRUORICPY"
Return

$PROPAGATE_GRUORICPY
this.isReadonly = 0
[L]CURPRO = "GRUORICPY"
Gosub _LNKPRO_GRUORICPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRUORICPY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUORICPY"
$_LNKPRO_GRUORICPY
If vireblc(this.GRUORICPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.GRUORICPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("GRUORICPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("GRUORICPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return


####################################################################
# 155 : GRUORIAAS IGS source asset reference ( Field A 20)
####################################################################

$SET_GRUORIAAS
If [L]_AOLDVAL<>this.GRUORIAAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRUORIAAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRUORIAAS
 Gosub PROPAGATE_GRUORIAAS
Endif
Return

$INIT_GRUORIAAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUORIAAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRUORIAAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUORIAAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRUORIAAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRUORIAAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRUORIAAS
[L]CURPRO = "GRUORIAAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRUORIAAS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRUORIAAS
[L]CURPRO = "GRUORIAAS"
Return

$_AOTHERS_GRUORIAAS
[L]CURPRO = "GRUORIAAS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRUORIAAS
[L]CURPRO = "GRUORIAAS"
Return

$PROPAGATE_GRUORIAAS
this.isReadonly = 0
[L]CURPRO = "GRUORIAAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRUORIAAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUORIAAS"
$_LNKPRO_GRUORIAAS
Return


####################################################################
# 156 : AASORINBV IGS srce accounting net value ( Field MD1 0)
####################################################################

$SET_AASORINBV
If [L]_AOLDVAL<>this.AASORINBV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AASORINBV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AASORINBV
 Gosub PROPAGATE_AASORINBV
Endif
Return

$INIT_AASORINBV
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASORINBV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AASORINBV
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASORINBV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AASORINBV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AASORINBV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AASORINBV
[L]CURPRO = "AASORINBV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AASORINBV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AASORINBV
[L]CURPRO = "AASORINBV"
Return

$_AOTHERS_AASORINBV
[L]CURPRO = "AASORINBV"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AASORINBV",this.AASORINBV,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AASORINBV
[L]CURPRO = "AASORINBV"
Return

$PROPAGATE_AASORINBV
this.isReadonly = 0
[L]CURPRO = "AASORINBV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AASORINBV
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASORINBV"
$_LNKPRO_AASORINBV
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AASORINBV",this.AASORINBV,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AASORINBV","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 157 : ORIPURAMT IGS src asset purc amount ( Field MD1 0)
####################################################################

$SET_ORIPURAMT
If [L]_AOLDVAL<>this.ORIPURAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORIPURAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORIPURAMT
 Gosub PROPAGATE_ORIPURAMT
Endif
Return

$INIT_ORIPURAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ORIPURAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORIPURAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ORIPURAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORIPURAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORIPURAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORIPURAMT
[L]CURPRO = "ORIPURAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORIPURAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORIPURAMT
[L]CURPRO = "ORIPURAMT"
Return

$_AOTHERS_ORIPURAMT
[L]CURPRO = "ORIPURAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"ORIPURAMT",this.ORIPURAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORIPURAMT
[L]CURPRO = "ORIPURAMT"
Return

$PROPAGATE_ORIPURAMT
this.isReadonly = 0
[L]CURPRO = "ORIPURAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORIPURAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ORIPURAMT"
$_LNKPRO_ORIPURAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"ORIPURAMT",this.ORIPURAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("ORIPURAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 158 : ORIPURDAT IGS src asset purchase date ( Field D4)
####################################################################

$SET_ORIPURDAT
If [L]_AOLDVAL<>this.ORIPURDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORIPURDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORIPURDAT
 Gosub PROPAGATE_ORIPURDAT
Endif
Return

$INIT_ORIPURDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ORIPURDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORIPURDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ORIPURDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORIPURDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORIPURDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORIPURDAT
[L]CURPRO = "ORIPURDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORIPURDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORIPURDAT
[L]CURPRO = "ORIPURDAT"
Return

$_AOTHERS_ORIPURDAT
[L]CURPRO = "ORIPURDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORIPURDAT
[L]CURPRO = "ORIPURDAT"
Return

$PROPAGATE_ORIPURDAT
this.isReadonly = 0
[L]CURPRO = "ORIPURDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORIPURDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ORIPURDAT"
$_LNKPRO_ORIPURDAT
Return


####################################################################
# 159 : GRUTAXBAS IGS tax basis ( Field MD1 0)
####################################################################

$SET_GRUTAXBAS
If [L]_AOLDVAL<>this.GRUTAXBAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRUTAXBAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRUTAXBAS
 Gosub PROPAGATE_GRUTAXBAS
Endif
Return

$INIT_GRUTAXBAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUTAXBAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRUTAXBAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUTAXBAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRUTAXBAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRUTAXBAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRUTAXBAS
[L]CURPRO = "GRUTAXBAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GRUTAXBAS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRUTAXBAS
[L]CURPRO = "GRUTAXBAS"
Return

$_AOTHERS_GRUTAXBAS
[L]CURPRO = "GRUTAXBAS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"GRUTAXBAS",this.GRUTAXBAS,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRUTAXBAS
[L]CURPRO = "GRUTAXBAS"
Return

$PROPAGATE_GRUTAXBAS
this.isReadonly = 0
[L]CURPRO = "GRUTAXBAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRUTAXBAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRUTAXBAS"
$_LNKPRO_GRUTAXBAS
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"GRUTAXBAS",this.GRUTAXBAS,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRUTAXBAS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 160 : CIGCOD IGS reference ( Field A 10)
####################################################################

$SET_CIGCOD
If [L]_AOLDVAL<>this.CIGCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CIGCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CIGCOD
 Gosub PROPAGATE_CIGCOD
Endif
Return

$INIT_CIGCOD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CIGCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CIGCOD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CIGCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CIGCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CIGCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CIGCOD
[L]CURPRO = "CIGCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CIGCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CIGCOD
[L]CURPRO = "CIGCOD"
Return

$_AOTHERS_CIGCOD
[L]CURPRO = "CIGCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CIGCOD
[L]CURPRO = "CIGCOD"
Return

$PROPAGATE_CIGCOD
this.isReadonly = 0
[L]CURPRO = "CIGCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CIGCOD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CIGCOD"
$_LNKPRO_CIGCOD
Return


####################################################################
# 161 : NPL Registration no. ( Field A 15)
####################################################################

$SET_NPL
If [L]_AOLDVAL<>this.NPL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NPL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NPL
 Gosub PROPAGATE_NPL
Endif
Return

$INIT_NPL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "NPL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NPL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "NPL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NPL                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NPL                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NPL
[L]CURPRO = "NPL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NPL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NPL
[L]CURPRO = "NPL"
Return

$_AOTHERS_NPL
[L]CURPRO = "NPL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NPL
[L]CURPRO = "NPL"
Return

$PROPAGATE_NPL
this.isReadonly = 0
[L]CURPRO = "NPL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NPL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "NPL"
$_LNKPRO_NPL
Return


####################################################################
# 162 : VEHCO2 CO2 rate ( Field C 4)
####################################################################

$SET_VEHCO2
If [L]_AOLDVAL<>this.VEHCO2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHCO2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHCO2
 Gosub PROPAGATE_VEHCO2
Endif
Return

$INIT_VEHCO2
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHCO2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHCO2
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHCO2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHCO2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHCO2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHCO2
[L]CURPRO = "VEHCO2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VEHCO2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHCO2
[L]CURPRO = "VEHCO2"
Return

$_AOTHERS_VEHCO2
[L]CURPRO = "VEHCO2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHCO2
[L]CURPRO = "VEHCO2"
Return

$PROPAGATE_VEHCO2
this.isReadonly = 0
[L]CURPRO = "VEHCO2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHCO2
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHCO2"
$_LNKPRO_VEHCO2
Return


####################################################################
# 163 : RGNDAT Registration date ( Field D4)
####################################################################

$SET_RGNDAT
If [L]_AOLDVAL<>this.RGNDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RGNDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RGNDAT
 Gosub PROPAGATE_RGNDAT
Endif
Return

$INIT_RGNDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RGNDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RGNDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RGNDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RGNDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RGNDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RGNDAT
[L]CURPRO = "RGNDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RGNDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RGNDAT
[L]CURPRO = "RGNDAT"
Return

$_AOTHERS_RGNDAT
[L]CURPRO = "RGNDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RGNDAT
[L]CURPRO = "RGNDAT"
Return

$PROPAGATE_RGNDAT
this.isReadonly = 0
[L]CURPRO = "RGNDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RGNDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RGNDAT"
$_LNKPRO_RGNDAT
Return


####################################################################
# 164 : FIRICIDAT First usage date ( Field D4)
####################################################################

$SET_FIRICIDAT
If [L]_AOLDVAL<>this.FIRICIDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FIRICIDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FIRICIDAT
 Gosub PROPAGATE_FIRICIDAT
Endif
Return

$INIT_FIRICIDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "FIRICIDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FIRICIDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "FIRICIDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FIRICIDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FIRICIDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FIRICIDAT
[L]CURPRO = "FIRICIDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FIRICIDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FIRICIDAT
[L]CURPRO = "FIRICIDAT"
Return

$_AOTHERS_FIRICIDAT
[L]CURPRO = "FIRICIDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FIRICIDAT
[L]CURPRO = "FIRICIDAT"
Return

$PROPAGATE_FIRICIDAT
this.isReadonly = 0
[L]CURPRO = "FIRICIDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FIRICIDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "FIRICIDAT"
$_LNKPRO_FIRICIDAT
Return


####################################################################
# 165 : VEHBRA Vehicle make ( Field Miscellaneous table number)
####################################################################

$SET_VEHBRA
If [L]_AOLDVAL<>this.VEHBRA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHBRA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHBRA
 Gosub PROPAGATE_VEHBRA
Endif
Return

$INIT_VEHBRA
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHBRA"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VEHBRA",this.VEHBRA,534)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHBRA
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHBRA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHBRA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHBRA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHBRA
[L]CURPRO = "VEHBRA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VEHBRA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHBRA
[L]CURPRO = "VEHBRA"
If vireblc(this.VEHBRA,2)<>vireblc(format$("K:20B",this.VEHBRA),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VEHBRA
[L]CURPRO = "VEHBRA"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VEHBRA",this.VEHBRA,534,this.VEHBRA)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHBRA
[L]CURPRO = "VEHBRA"
Return

$PROPAGATE_VEHBRA
this.isReadonly = 0
[L]CURPRO = "VEHBRA"
Gosub _LNKPRO_VEHBRA
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHBRA
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHBRA"
$_LNKPRO_VEHBRA
If vireblc(this.VEHBRA,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 534;this.VEHBRA
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHBRA","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHBRA","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 166 : VEHTYP Vehicle model ( Field Miscellaneous table number)
####################################################################

$SET_VEHTYP
If [L]_AOLDVAL<>this.VEHTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHTYP
 Gosub PROPAGATE_VEHTYP
Endif
Return

$INIT_VEHTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VEHTYP",this.VEHTYP,965)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHTYP
[L]CURPRO = "VEHTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VEHTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHTYP
[L]CURPRO = "VEHTYP"
If vireblc(this.VEHTYP,2)<>vireblc(format$("K:20B",this.VEHTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VEHTYP
[L]CURPRO = "VEHTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VEHTYP",this.VEHTYP,965,this.VEHTYP)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHTYP
[L]CURPRO = "VEHTYP"
Return

$PROPAGATE_VEHTYP
this.isReadonly = 0
[L]CURPRO = "VEHTYP"
Gosub _LNKPRO_VEHTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTYP"
$_LNKPRO_VEHTYP
If vireblc(this.VEHTYP,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 965;this.VEHTYP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHTYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHTYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 167 : CWKTYP Bodywork type ( Field Miscellaneous table number)
####################################################################

$SET_CWKTYP
If [L]_AOLDVAL<>this.CWKTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CWKTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CWKTYP
 Gosub PROPAGATE_CWKTYP
Endif
Return

$INIT_CWKTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CWKTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"CWKTYP",this.CWKTYP,535)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CWKTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CWKTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CWKTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CWKTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CWKTYP
[L]CURPRO = "CWKTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CWKTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CWKTYP
[L]CURPRO = "CWKTYP"
If vireblc(this.CWKTYP,2)<>vireblc(format$("K:20B",this.CWKTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CWKTYP
[L]CURPRO = "CWKTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"CWKTYP",this.CWKTYP,535,this.CWKTYP)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CWKTYP
[L]CURPRO = "CWKTYP"
Return

$PROPAGATE_CWKTYP
this.isReadonly = 0
[L]CURPRO = "CWKTYP"
Gosub _LNKPRO_CWKTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CWKTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CWKTYP"
$_LNKPRO_CWKTYP
If vireblc(this.CWKTYP,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 535;this.CWKTYP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CWKTYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CWKTYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 168 : VEHPWR Administrative power ( Field C 4)
####################################################################

$SET_VEHPWR
If [L]_AOLDVAL<>this.VEHPWR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHPWR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHPWR
 Gosub PROPAGATE_VEHPWR
Endif
Return

$INIT_VEHPWR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHPWR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHPWR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHPWR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHPWR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHPWR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHPWR
[L]CURPRO = "VEHPWR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VEHPWR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHPWR
[L]CURPRO = "VEHPWR"
Return

$_AOTHERS_VEHPWR
[L]CURPRO = "VEHPWR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHPWR
[L]CURPRO = "VEHPWR"
Return

$PROPAGATE_VEHPWR
this.isReadonly = 0
[L]CURPRO = "VEHPWR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHPWR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHPWR"
$_LNKPRO_VEHPWR
Return


####################################################################
# 169 : TAXPLI Taxation rate ( Field Local menu number 3164)
####################################################################

$SET_TAXPLI
If [L]_AOLDVAL<>this.TAXPLI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXPLI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXPLI
 Gosub PROPAGATE_TAXPLI
Endif
Return

$INIT_TAXPLI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXPLI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TAXPLI=0 and fmet this.AGETATTRIBUTE("TAXPLI","$isMandatory")="true"
 this.TAXPLI = 1
Endif
Return
 
$CONTROL_TAXPLI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXPLI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXPLI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXPLI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXPLI
[L]CURPRO = "TAXPLI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TAXPLI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXPLI
[L]CURPRO = "TAXPLI"
If this.TAXPLI<0 or this.TAXPLI>len(mess(0,3164,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3164 ->"-num$(this.TAXPLI)-mess(99,123,1)):  Return : # Local menu "3164 -> Invalid option
Endif
Return

$_AOTHERS_TAXPLI
[L]CURPRO = "TAXPLI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXPLI
[L]CURPRO = "TAXPLI"
Return

$PROPAGATE_TAXPLI
this.isReadonly = 0
[L]CURPRO = "TAXPLI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXPLI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXPLI"
$_LNKPRO_TAXPLI
Return


####################################################################
# 170 : RNTSTRDAT Lease start date ( Field D4)
####################################################################

$SET_RNTSTRDAT
If [L]_AOLDVAL<>this.RNTSTRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RNTSTRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RNTSTRDAT
 Gosub PROPAGATE_RNTSTRDAT
Endif
Return

$INIT_RNTSTRDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTSTRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RNTSTRDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTSTRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RNTSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RNTSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RNTSTRDAT
[L]CURPRO = "RNTSTRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RNTSTRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RNTSTRDAT
[L]CURPRO = "RNTSTRDAT"
Return

$_AOTHERS_RNTSTRDAT
[L]CURPRO = "RNTSTRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RNTSTRDAT
[L]CURPRO = "RNTSTRDAT"
Return

$PROPAGATE_RNTSTRDAT
this.isReadonly = 0
[L]CURPRO = "RNTSTRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RNTSTRDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTSTRDAT"
$_LNKPRO_RNTSTRDAT
Return


####################################################################
# 171 : RNTENDDAT Lease end date ( Field D4)
####################################################################

$SET_RNTENDDAT
If [L]_AOLDVAL<>this.RNTENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RNTENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RNTENDDAT
 Gosub PROPAGATE_RNTENDDAT
Endif
Return

$INIT_RNTENDDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RNTENDDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RNTENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RNTENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RNTENDDAT
[L]CURPRO = "RNTENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RNTENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RNTENDDAT
[L]CURPRO = "RNTENDDAT"
Return

$_AOTHERS_RNTENDDAT
[L]CURPRO = "RNTENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RNTENDDAT
[L]CURPRO = "RNTENDDAT"
Return

$PROPAGATE_RNTENDDAT
this.isReadonly = 0
[L]CURPRO = "RNTENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RNTENDDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTENDDAT"
$_LNKPRO_RNTENDDAT
Return


####################################################################
# 172 : RNTMONDUR Lease duration in months ( Field DCB 6)
####################################################################

$SET_RNTMONDUR
If [L]_AOLDVAL<>this.RNTMONDUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RNTMONDUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RNTMONDUR
 Gosub PROPAGATE_RNTMONDUR
Endif
Return

$INIT_RNTMONDUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTMONDUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RNTMONDUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTMONDUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RNTMONDUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RNTMONDUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RNTMONDUR
[L]CURPRO = "RNTMONDUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RNTMONDUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RNTMONDUR
[L]CURPRO = "RNTMONDUR"
Return

$_AOTHERS_RNTMONDUR
[L]CURPRO = "RNTMONDUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RNTMONDUR
[L]CURPRO = "RNTMONDUR"
Return

$PROPAGATE_RNTMONDUR
this.isReadonly = 0
[L]CURPRO = "RNTMONDUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RNTMONDUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTMONDUR"
$_LNKPRO_RNTMONDUR
Return


####################################################################
# 173 : RNTDAYDUR Lease duration in days ( Field L 8)
####################################################################

$SET_RNTDAYDUR
If [L]_AOLDVAL<>this.RNTDAYDUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RNTDAYDUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RNTDAYDUR
 Gosub PROPAGATE_RNTDAYDUR
Endif
Return

$INIT_RNTDAYDUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTDAYDUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RNTDAYDUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTDAYDUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RNTDAYDUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RNTDAYDUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RNTDAYDUR
[L]CURPRO = "RNTDAYDUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RNTDAYDUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RNTDAYDUR
[L]CURPRO = "RNTDAYDUR"
Return

$_AOTHERS_RNTDAYDUR
[L]CURPRO = "RNTDAYDUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RNTDAYDUR
[L]CURPRO = "RNTDAYDUR"
Return

$PROPAGATE_RNTDAYDUR
this.isReadonly = 0
[L]CURPRO = "RNTDAYDUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RNTDAYDUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RNTDAYDUR"
$_LNKPRO_RNTDAYDUR
Return


####################################################################
# 174 : VEHTAXTYP Vehicle taxation type ( Field Miscellaneous table number)
####################################################################

$SET_VEHTAXTYP
If [L]_AOLDVAL<>this.VEHTAXTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHTAXTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHTAXTYP
 Gosub PROPAGATE_VEHTAXTYP
Endif
Return

$INIT_VEHTAXTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTAXTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VEHTAXTYP",this.VEHTAXTYP,628)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHTAXTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTAXTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHTAXTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHTAXTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHTAXTYP
[L]CURPRO = "VEHTAXTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VEHTAXTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHTAXTYP
[L]CURPRO = "VEHTAXTYP"
If vireblc(this.VEHTAXTYP,2)<>vireblc(format$("K:20B",this.VEHTAXTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VEHTAXTYP
[L]CURPRO = "VEHTAXTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VEHTAXTYP",this.VEHTAXTYP,628,this.VEHTAXTYP)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHTAXTYP
[L]CURPRO = "VEHTAXTYP"
Return

$PROPAGATE_VEHTAXTYP
this.isReadonly = 0
[L]CURPRO = "VEHTAXTYP"
Gosub _LNKPRO_VEHTAXTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHTAXTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTAXTYP"
$_LNKPRO_VEHTAXTYP
If vireblc(this.VEHTAXTYP,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 628;this.VEHTAXTYP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHTAXTYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHTAXTYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 175 : VEHTAXRUL Tax rule ( Field Local menu number 3165)
####################################################################

$SET_VEHTAXRUL
If [L]_AOLDVAL<>this.VEHTAXRUL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHTAXRUL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHTAXRUL
 Gosub PROPAGATE_VEHTAXRUL
Endif
Return

$INIT_VEHTAXRUL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTAXRUL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.VEHTAXRUL=0 and fmet this.AGETATTRIBUTE("VEHTAXRUL","$isMandatory")="true"
 this.VEHTAXRUL = 1
Endif
Return
 
$CONTROL_VEHTAXRUL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTAXRUL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHTAXRUL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHTAXRUL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHTAXRUL
[L]CURPRO = "VEHTAXRUL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VEHTAXRUL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHTAXRUL
[L]CURPRO = "VEHTAXRUL"
If this.VEHTAXRUL<0 or this.VEHTAXRUL>len(mess(0,3165,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3165 ->"-num$(this.VEHTAXRUL)-mess(99,123,1)):  Return : # Local menu "3165 -> Invalid option
Endif
Return

$_AOTHERS_VEHTAXRUL
[L]CURPRO = "VEHTAXRUL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHTAXRUL
[L]CURPRO = "VEHTAXRUL"
Return

$PROPAGATE_VEHTAXRUL
this.isReadonly = 0
[L]CURPRO = "VEHTAXRUL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHTAXRUL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHTAXRUL"
$_LNKPRO_VEHTAXRUL
Return


####################################################################
# 176 : VEHCO2RAT CO2 emmission rate ( Field Miscellaneous table number)
####################################################################

$SET_VEHCO2RAT
If [L]_AOLDVAL<>this.VEHCO2RAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHCO2RAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHCO2RAT
 Gosub PROPAGATE_VEHCO2RAT
Endif
Return

$INIT_VEHCO2RAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHCO2RAT"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VEHCO2RAT",this.VEHCO2RAT,629)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHCO2RAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHCO2RAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHCO2RAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHCO2RAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHCO2RAT
[L]CURPRO = "VEHCO2RAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VEHCO2RAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHCO2RAT
[L]CURPRO = "VEHCO2RAT"
If vireblc(this.VEHCO2RAT,2)<>vireblc(format$("K:20B",this.VEHCO2RAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VEHCO2RAT
[L]CURPRO = "VEHCO2RAT"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VEHCO2RAT",this.VEHCO2RAT,629,this.VEHCO2RAT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHCO2RAT
[L]CURPRO = "VEHCO2RAT"
Return

$PROPAGATE_VEHCO2RAT
this.isReadonly = 0
[L]CURPRO = "VEHCO2RAT"
Gosub _LNKPRO_VEHCO2RAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHCO2RAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHCO2RAT"
$_LNKPRO_VEHCO2RAT
If vireblc(this.VEHCO2RAT,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 629;this.VEHCO2RAT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHCO2RAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHCO2RAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 177 : VEHWEI1 TC wght ( Field DCB 9)
####################################################################

$SET_VEHWEI1
If [L]_AOLDVAL<>this.VEHWEI1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHWEI1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHWEI1
 Gosub PROPAGATE_VEHWEI1
Endif
Return

$INIT_VEHWEI1
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHWEI1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHWEI1
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHWEI1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHWEI1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHWEI1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHWEI1
[L]CURPRO = "VEHWEI1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VEHWEI1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHWEI1
[L]CURPRO = "VEHWEI1"
Return

$_AOTHERS_VEHWEI1
[L]CURPRO = "VEHWEI1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHWEI1
[L]CURPRO = "VEHWEI1"
Return

$PROPAGATE_VEHWEI1
this.isReadonly = 0
[L]CURPRO = "VEHWEI1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHWEI1
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHWEI1"
$_LNKPRO_VEHWEI1
Return


####################################################################
# 178 : VEHWEI2 TR wght ( Field DCB 9)
####################################################################

$SET_VEHWEI2
If [L]_AOLDVAL<>this.VEHWEI2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHWEI2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHWEI2
 Gosub PROPAGATE_VEHWEI2
Endif
Return

$INIT_VEHWEI2
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHWEI2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHWEI2
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHWEI2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHWEI2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHWEI2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHWEI2
[L]CURPRO = "VEHWEI2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VEHWEI2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHWEI2
[L]CURPRO = "VEHWEI2"
Return

$_AOTHERS_VEHWEI2
[L]CURPRO = "VEHWEI2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHWEI2
[L]CURPRO = "VEHWEI2"
Return

$PROPAGATE_VEHWEI2
this.isReadonly = 0
[L]CURPRO = "VEHWEI2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHWEI2
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHWEI2"
$_LNKPRO_VEHWEI2
Return


####################################################################
# 179 : VEHPLCNBR Number of places ( Field C 4)
####################################################################

$SET_VEHPLCNBR
If [L]_AOLDVAL<>this.VEHPLCNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHPLCNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHPLCNBR
 Gosub PROPAGATE_VEHPLCNBR
Endif
Return

$INIT_VEHPLCNBR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHPLCNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHPLCNBR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHPLCNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHPLCNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHPLCNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHPLCNBR
[L]CURPRO = "VEHPLCNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VEHPLCNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHPLCNBR
[L]CURPRO = "VEHPLCNBR"
Return

$_AOTHERS_VEHPLCNBR
[L]CURPRO = "VEHPLCNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHPLCNBR
[L]CURPRO = "VEHPLCNBR"
Return

$PROPAGATE_VEHPLCNBR
this.isReadonly = 0
[L]CURPRO = "VEHPLCNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHPLCNBR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHPLCNBR"
$_LNKPRO_VEHPLCNBR
Return


####################################################################
# 180 : VEHUSER User ( Field Miscellaneous table number)
####################################################################

$SET_VEHUSER
If [L]_AOLDVAL<>this.VEHUSER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VEHUSER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VEHUSER
 Gosub PROPAGATE_VEHUSER
Endif
Return

$INIT_VEHUSER
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHUSER"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VEHUSER",this.VEHUSER,630)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VEHUSER
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHUSER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VEHUSER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VEHUSER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VEHUSER
[L]CURPRO = "VEHUSER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VEHUSER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VEHUSER
[L]CURPRO = "VEHUSER"
If vireblc(this.VEHUSER,2)<>vireblc(format$("K:20B",this.VEHUSER),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VEHUSER
[L]CURPRO = "VEHUSER"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VEHUSER",this.VEHUSER,630,this.VEHUSER)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VEHUSER
[L]CURPRO = "VEHUSER"
Return

$PROPAGATE_VEHUSER
this.isReadonly = 0
[L]CURPRO = "VEHUSER"
Gosub _LNKPRO_VEHUSER
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VEHUSER
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VEHUSER"
$_LNKPRO_VEHUSER
If vireblc(this.VEHUSER,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 630;this.VEHUSER
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHUSER","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VEHUSER","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return




