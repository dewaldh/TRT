#<AdxTL>@(#)0.0.0.0 $Revision$Class Cumulative POs before returns
# Supervisor
## ACLA-CLASSE ## PORDERC
# 2018-08-27 12:41:30 753

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0PORDERC
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_POHNUM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_POPLIN From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_CPY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_POHFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_BPSNUM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_ITMREF From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_ITMDES1 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_ITMDES From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_ITMREFBPS From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_LINREVNUM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_STRDAT From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_ENDDAT From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_PLI From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_FRTHOR From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_FRTHORUOM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_FIMHOR From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_PRHFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_FCYADD From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_STOFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_USEPLC From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_EECICT2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_ICTCTY2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_FFWNUM2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_FFWADD2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_EECLOC2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_EECNUM2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_PUU From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_STU From WMC1PORDERC : Gosub TESTALLSTAT
Gosub INIT_EXTQTYPUU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_EXTQTYSTU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_INVQTYPUU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_INVQTYSTU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_ORDQTYPUU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_ORDQTYSTU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_RCPQTYPUU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_RCPQTYSTU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_RTNQTYPUU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_RTNQTYSTU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_EARQTY From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_EARDAT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_EARHOU From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_PRIVLT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_AMTVLT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_BETFCY From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_DLVREQNUM From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_TEX From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CLAPOCTXT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_LINPURTYP From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CPRCOE From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CPRAMT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CPRCUR From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_STCNUM From WMC2PORDERC : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_CRY From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_POSCOD From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_PJT From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_ECCVALMAJ From WMC3PORDERC : Gosub TESTALLSTAT
Gosub INIT_ECCVALMIN From WMC3PORDERC : Gosub TESTALLSTAT
Gosub AINIT From WMC0PORDERC : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0PORDERC
Gosub _ALOADATTRIBUTE_POHNUM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_POPLIN From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CPY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_POHFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_BPSNUM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ITMREF From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PRHFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PUU From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_STU From WMC1PORDERC : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CPRCUR From WMC2PORDERC : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0PORDERC
Gosub LNKPRO_CPY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_POHFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_BPSNUM From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_ITMREF From WMC1PORDERC : Gosub TESTALLSTAT
For AINDCLA=1 To 7
 If this.L_DAYDSP(AINDCLA)<>null& find(this.L_DAYDSP(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.L_DAYDSP(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To 5
 If this.L_WEEDSP(AINDCLA)<>null& find(this.L_WEEDSP(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.L_WEEDSP(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_PRHFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_FCYADD From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_STOFCY From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_EECICT2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_ICTCTY2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_FFWNUM2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_FFWADD2 From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_PUU From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_STU From WMC1PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_AMTVLT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_CLAPOCTXT From WMC2PORDERC : Gosub TESTALLSTAT
For AINDCLA=1 To 10
 If this.L_COA(AINDCLA)<>null& find(this.L_COA(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.L_COA(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_CPRAMT From WMC2PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_CPRCUR From WMC2PORDERC : Gosub TESTALLSTAT
For AINDCLA=1 To maxtab(this.POQ)
 If this.POQ(AINDCLA)<>null& find(this.POQ(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.POQ(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To maxtab(this.POP)
 If this.POP(AINDCLA)<>null& find(this.POP(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.POP(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_CRY From WMC3PORDERC : Gosub TESTALLSTAT
Gosub LNKPRO_POSCOD From WMC3PORDERC : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



