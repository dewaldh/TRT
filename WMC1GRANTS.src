#<AdxTL>@(#)0.0.0.0 $Revision$Class Subsidies
# Supervisor
## ACLA-CLASSE ## GRANTS
# 2018-08-27 12:33:22 163


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 2 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 3 : GRAREF Subsidy reference ( Field GRT 20)
####################################################################

$SET_GRAREF
If [L]_AOLDVAL<>this.GRAREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRAREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRAREF
 Gosub PROPAGATE_GRAREF
Endif
Return

$INIT_GRAREF
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRAREF
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRAREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRAREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRAREF
[L]CURPRO = "GRAREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRAREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRAREF
[L]CURPRO = "GRAREF"
If vireblc(this.GRAREF,2)<>vireblc(format$("K:20c",this.GRAREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GRAREF
[L]CURPRO = "GRAREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRAREF
[L]CURPRO = "GRAREF"
Return

$PROPAGATE_GRAREF
this.isReadonly = 0
[L]CURPRO = "GRAREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRAREF
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAREF"
$_LNKPRO_GRAREF
Return

$_ALOADATTRIBUTE_GRAREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRAREF","$isMandatory","true")
Return


####################################################################
# 4 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 5 : DES Description ( Field DCO 60)
####################################################################

$SET_DES
If [L]_AOLDVAL<>this.DES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES
 Gosub PROPAGATE_DES
Endif
Return

$INIT_DES
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "DES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "DES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES
[L]CURPRO = "DES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES
[L]CURPRO = "DES"
If vireblc(this.DES,2)<>vireblc(format$("K:60X",this.DES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DES
[L]CURPRO = "DES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES
[L]CURPRO = "DES"
Return

$PROPAGATE_DES
this.isReadonly = 0
[L]CURPRO = "DES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "DES"
$_LNKPRO_DES
Return

$_ALOADATTRIBUTE_DES
[L]ASTATUS = fmet this.ASETATTRIBUTE("DES","$isMandatory","true")
Return


####################################################################
# 6 : DES2 Description 2 ( Field DCO 60)
####################################################################

$SET_DES2
If [L]_AOLDVAL<>this.DES2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES2
 Gosub PROPAGATE_DES2
Endif
Return

$INIT_DES2
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "DES2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES2
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "DES2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES2
[L]CURPRO = "DES2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES2
[L]CURPRO = "DES2"
If vireblc(this.DES2,2)<>vireblc(format$("K:60X",this.DES2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DES2
[L]CURPRO = "DES2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES2
[L]CURPRO = "DES2"
Return

$PROPAGATE_DES2
this.isReadonly = 0
[L]CURPRO = "DES2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES2
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "DES2"
$_LNKPRO_DES2
Return


####################################################################
# 7 : APPROVDAT Agreement date ( Field D4)
####################################################################

$SET_APPROVDAT
If [L]_AOLDVAL<>this.APPROVDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_APPROVDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.APPROVDAT
 Gosub PROPAGATE_APPROVDAT
Endif
Return

$INIT_APPROVDAT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "APPROVDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_APPROVDAT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "APPROVDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_APPROVDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_APPROVDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_APPROVDAT
[L]CURPRO = "APPROVDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.APPROVDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_APPROVDAT
[L]CURPRO = "APPROVDAT"
Return

$_AOTHERS_APPROVDAT
[L]CURPRO = "APPROVDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_APPROVDAT
[L]CURPRO = "APPROVDAT"
Return

$PROPAGATE_APPROVDAT
this.isReadonly = 0
[L]CURPRO = "APPROVDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_APPROVDAT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "APPROVDAT"
$_LNKPRO_APPROVDAT
Return

$_ALOADATTRIBUTE_APPROVDAT
[L]ASTATUS = fmet this.ASETATTRIBUTE("APPROVDAT","$isMandatory","true")
Return


####################################################################
# 8 : GRAORG Organization ( Field Miscellaneous table number)
####################################################################

$SET_GRAORG
If [L]_AOLDVAL<>this.GRAORG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRAORG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRAORG
 Gosub PROPAGATE_GRAORG
Endif
Return

$INIT_GRAORG
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAORG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"GRAORG",this.GRAORG,617)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRAORG
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAORG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRAORG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRAORG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRAORG
[L]CURPRO = "GRAORG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRAORG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRAORG
[L]CURPRO = "GRAORG"
If vireblc(this.GRAORG,2)<>vireblc(format$("K:20B",this.GRAORG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GRAORG
[L]CURPRO = "GRAORG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"GRAORG",this.GRAORG,617,this.GRAORG)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRAORG
[L]CURPRO = "GRAORG"
Return

$PROPAGATE_GRAORG
this.isReadonly = 0
[L]CURPRO = "GRAORG"
Gosub _LNKPRO_GRAORG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRAORG
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAORG"
$_LNKPRO_GRAORG
If vireblc(this.GRAORG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 617;this.GRAORG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("GRAORG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("GRAORG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return

$_ALOADATTRIBUTE_GRAORG
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRAORG","$isMandatory","true")
Return


####################################################################
# 9 : INVPLN Investment project ( Field Miscellaneous table number)
####################################################################

$SET_INVPLN
If [L]_AOLDVAL<>this.INVPLN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVPLN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVPLN
 Gosub PROPAGATE_INVPLN
Endif
Return

$INIT_INVPLN
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVPLN"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"INVPLN",this.INVPLN,614)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVPLN
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVPLN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVPLN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVPLN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVPLN
[L]CURPRO = "INVPLN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INVPLN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVPLN
[L]CURPRO = "INVPLN"
If vireblc(this.INVPLN,2)<>vireblc(format$("K:20B",this.INVPLN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_INVPLN
[L]CURPRO = "INVPLN"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"INVPLN",this.INVPLN,614,this.INVPLN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVPLN
[L]CURPRO = "INVPLN"
Return

$PROPAGATE_INVPLN
this.isReadonly = 0
[L]CURPRO = "INVPLN"
Gosub _LNKPRO_INVPLN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVPLN
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVPLN"
$_LNKPRO_INVPLN
If vireblc(this.INVPLN,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 614;this.INVPLN
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("INVPLN","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("INVPLN","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return

$_ALOADATTRIBUTE_INVPLN
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVPLN","$isMandatory","true")
Return


####################################################################
# 10 : GRASTA Status ( Field Local menu number 3225)
####################################################################

$SET_GRASTA
If [L]_AOLDVAL<>this.GRASTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRASTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRASTA
 Gosub PROPAGATE_GRASTA
Endif
Return

$INIT_GRASTA
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRASTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.GRASTA=0 and fmet this.AGETATTRIBUTE("GRASTA","$isMandatory")="true"
 this.GRASTA = 1
Endif
Return
 
$CONTROL_GRASTA
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRASTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRASTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRASTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRASTA
[L]CURPRO = "GRASTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GRASTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRASTA
[L]CURPRO = "GRASTA"
If this.GRASTA<0 or this.GRASTA>len(mess(0,3225,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3225 ->"-num$(this.GRASTA)-mess(99,123,1)):  Return : # Local menu "3225 -> Invalid option
Endif
Return

$_AOTHERS_GRASTA
[L]CURPRO = "GRASTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRASTA
[L]CURPRO = "GRASTA"
Return

$PROPAGATE_GRASTA
this.isReadonly = 0
[L]CURPRO = "GRASTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRASTA
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRASTA"
$_LNKPRO_GRASTA
Return

$_ALOADATTRIBUTE_GRASTA
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRASTA","$isMandatory","true")
Return


####################################################################
# 11 : GRATYP Subsidy type ( Field Local menu number 3181)
####################################################################

$SET_GRATYP
If [L]_AOLDVAL<>this.GRATYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRATYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRATYP
 Gosub PROPAGATE_GRATYP
Endif
Return

$INIT_GRATYP
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRATYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.GRATYP=0 and fmet this.AGETATTRIBUTE("GRATYP","$isMandatory")="true"
 this.GRATYP = 1
Endif
Return
 
$CONTROL_GRATYP
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRATYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRATYP
[L]CURPRO = "GRATYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GRATYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRATYP
[L]CURPRO = "GRATYP"
If this.GRATYP<0 or this.GRATYP>len(mess(0,3181,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3181 ->"-num$(this.GRATYP)-mess(99,123,1)):  Return : # Local menu "3181 -> Invalid option
Endif
Return

$_AOTHERS_GRATYP
[L]CURPRO = "GRATYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRATYP
[L]CURPRO = "GRATYP"
Return

$PROPAGATE_GRATYP
this.isReadonly = 0
[L]CURPRO = "GRATYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRATYP
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRATYP"
$_LNKPRO_GRATYP
Return

$_ALOADATTRIBUTE_GRATYP
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRATYP","$isMandatory","true")
Return


####################################################################
# 12 : INVGRARAT Subsidized invest % ( Field RAT 0)
####################################################################

$SET_INVGRARAT
If [L]_AOLDVAL<>this.INVGRARAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVGRARAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVGRARAT
 Gosub PROPAGATE_INVGRARAT
Endif
Return

$INIT_INVGRARAT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVGRARAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVGRARAT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVGRARAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVGRARAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVGRARAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVGRARAT
[L]CURPRO = "INVGRARAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVGRARAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVGRARAT
[L]CURPRO = "INVGRARAT"
Return

$_AOTHERS_INVGRARAT
[L]CURPRO = "INVGRARAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVGRARAT
[L]CURPRO = "INVGRARAT"
Return

$PROPAGATE_INVGRARAT
this.isReadonly = 0
[L]CURPRO = "INVGRARAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVGRARAT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVGRARAT"
$_LNKPRO_INVGRARAT
Return


####################################################################
# 13 : MAXGRAAMT Subsidy cap ( Field MD1 0)
####################################################################

$SET_MAXGRAAMT
If [L]_AOLDVAL<>this.MAXGRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MAXGRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MAXGRAAMT
 Gosub PROPAGATE_MAXGRAAMT
Endif
Return

$INIT_MAXGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "MAXGRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MAXGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "MAXGRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MAXGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MAXGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MAXGRAAMT
[L]CURPRO = "MAXGRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MAXGRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MAXGRAAMT
[L]CURPRO = "MAXGRAAMT"
Return

$_AOTHERS_MAXGRAAMT
[L]CURPRO = "MAXGRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"MAXGRAAMT",this.MAXGRAAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MAXGRAAMT
[L]CURPRO = "MAXGRAAMT"
Return

$PROPAGATE_MAXGRAAMT
this.isReadonly = 0
[L]CURPRO = "MAXGRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MAXGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "MAXGRAAMT"
$_LNKPRO_MAXGRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"MAXGRAAMT",this.MAXGRAAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("MAXGRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 14 : GRAFLGFRC Subsidy amount forcing flag ( Field Local menu number 1)
####################################################################

$SET_GRAFLGFRC
If [L]_AOLDVAL<>this.GRAFLGFRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRAFLGFRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRAFLGFRC
 Gosub PROPAGATE_GRAFLGFRC
Endif
Return

$INIT_GRAFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAFLGFRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.GRAFLGFRC=0 and fmet this.AGETATTRIBUTE("GRAFLGFRC","$isMandatory")="true"
 this.GRAFLGFRC = 1
Endif
Return
 
$CONTROL_GRAFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAFLGFRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRAFLGFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRAFLGFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRAFLGFRC
[L]CURPRO = "GRAFLGFRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GRAFLGFRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRAFLGFRC
[L]CURPRO = "GRAFLGFRC"
If this.GRAFLGFRC<0 or this.GRAFLGFRC>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.GRAFLGFRC)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_GRAFLGFRC
[L]CURPRO = "GRAFLGFRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRAFLGFRC
[L]CURPRO = "GRAFLGFRC"
Return

$PROPAGATE_GRAFLGFRC
this.isReadonly = 0
[L]CURPRO = "GRAFLGFRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRAFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAFLGFRC"
$_LNKPRO_GRAFLGFRC
Return


####################################################################
# 15 : GRAAMT Subsidy amount ( Field MD1 0)
####################################################################

$SET_GRAAMT
If [L]_AOLDVAL<>this.GRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRAAMT
 Gosub PROPAGATE_GRAAMT
Endif
Return

$INIT_GRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRAAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRAAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRAAMT
[L]CURPRO = "GRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRAAMT
[L]CURPRO = "GRAAMT"
Return

$_AOTHERS_GRAAMT
[L]CURPRO = "GRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"GRAAMT",this.GRAAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRAAMT
[L]CURPRO = "GRAAMT"
Return

$PROPAGATE_GRAAMT
this.isReadonly = 0
[L]CURPRO = "GRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "GRAAMT"
$_LNKPRO_GRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"GRAAMT",this.GRAAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 16 : REAFLGFRC Act amount forcing flag ( Field Local menu number 1)
####################################################################

$SET_REAFLGFRC
If [L]_AOLDVAL<>this.REAFLGFRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REAFLGFRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REAFLGFRC
 Gosub PROPAGATE_REAFLGFRC
Endif
Return

$INIT_REAFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REAFLGFRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.REAFLGFRC=0 and fmet this.AGETATTRIBUTE("REAFLGFRC","$isMandatory")="true"
 this.REAFLGFRC = 1
Endif
Return
 
$CONTROL_REAFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REAFLGFRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REAFLGFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REAFLGFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REAFLGFRC
[L]CURPRO = "REAFLGFRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REAFLGFRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REAFLGFRC
[L]CURPRO = "REAFLGFRC"
If this.REAFLGFRC<0 or this.REAFLGFRC>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.REAFLGFRC)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_REAFLGFRC
[L]CURPRO = "REAFLGFRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REAFLGFRC
[L]CURPRO = "REAFLGFRC"
Return

$PROPAGATE_REAFLGFRC
this.isReadonly = 0
[L]CURPRO = "REAFLGFRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REAFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REAFLGFRC"
$_LNKPRO_REAFLGFRC
Return


####################################################################
# 17 : REAGRAAMT Subsidized completed amount ( Field MD1 0)
####################################################################

$SET_REAGRAAMT
If [L]_AOLDVAL<>this.REAGRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REAGRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REAGRAAMT
 Gosub PROPAGATE_REAGRAAMT
Endif
Return

$INIT_REAGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REAGRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REAGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REAGRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REAGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REAGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REAGRAAMT
[L]CURPRO = "REAGRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REAGRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REAGRAAMT
[L]CURPRO = "REAGRAAMT"
Return

$_AOTHERS_REAGRAAMT
[L]CURPRO = "REAGRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"REAGRAAMT",this.REAGRAAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REAGRAAMT
[L]CURPRO = "REAGRAAMT"
Return

$PROPAGATE_REAGRAAMT
this.isReadonly = 0
[L]CURPRO = "REAGRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REAGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REAGRAAMT"
$_LNKPRO_REAGRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"REAGRAAMT",this.REAGRAAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("REAGRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 18 : INVFLGFRC Capitalized amount forcing type ( Field Local menu number 1)
####################################################################

$SET_INVFLGFRC
If [L]_AOLDVAL<>this.INVFLGFRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVFLGFRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVFLGFRC
 Gosub PROPAGATE_INVFLGFRC
Endif
Return

$INIT_INVFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVFLGFRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.INVFLGFRC=0 and fmet this.AGETATTRIBUTE("INVFLGFRC","$isMandatory")="true"
 this.INVFLGFRC = 1
Endif
Return
 
$CONTROL_INVFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVFLGFRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVFLGFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVFLGFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVFLGFRC
[L]CURPRO = "INVFLGFRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVFLGFRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVFLGFRC
[L]CURPRO = "INVFLGFRC"
If this.INVFLGFRC<0 or this.INVFLGFRC>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.INVFLGFRC)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_INVFLGFRC
[L]CURPRO = "INVFLGFRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVFLGFRC
[L]CURPRO = "INVFLGFRC"
Return

$PROPAGATE_INVFLGFRC
this.isReadonly = 0
[L]CURPRO = "INVFLGFRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVFLGFRC
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVFLGFRC"
$_LNKPRO_INVFLGFRC
Return


####################################################################
# 19 : INVGRAAMT Subsidized FA amount ( Field MD1 0)
####################################################################

$SET_INVGRAAMT
If [L]_AOLDVAL<>this.INVGRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVGRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVGRAAMT
 Gosub PROPAGATE_INVGRAAMT
Endif
Return

$INIT_INVGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVGRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVGRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVGRAAMT
[L]CURPRO = "INVGRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVGRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVGRAAMT
[L]CURPRO = "INVGRAAMT"
Return

$_AOTHERS_INVGRAAMT
[L]CURPRO = "INVGRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"INVGRAAMT",this.INVGRAAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVGRAAMT
[L]CURPRO = "INVGRAAMT"
Return

$PROPAGATE_INVGRAAMT
this.isReadonly = 0
[L]CURPRO = "INVGRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "INVGRAAMT"
$_LNKPRO_INVGRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"INVGRAAMT",this.INVGRAAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVGRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 20 : CRBGRAAMT Reintegrated subsidy amount ( Field MD1 0)
####################################################################

$SET_CRBGRAAMT
If [L]_AOLDVAL<>this.CRBGRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRBGRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRBGRAAMT
 Gosub PROPAGATE_CRBGRAAMT
Endif
Return

$INIT_CRBGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CRBGRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRBGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CRBGRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRBGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRBGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CRBGRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
Return

$_AOTHERS_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"CRBGRAAMT",this.CRBGRAAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
Return

$PROPAGATE_CRBGRAAMT
this.isReadonly = 0
[L]CURPRO = "CRBGRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRBGRAAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CRBGRAAMT"
$_LNKPRO_CRBGRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"CRBGRAAMT",this.CRBGRAAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CRBGRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 21 : CRBGRACUM Reintegrated subsidy amt. total ( Field MD1 0)
####################################################################

$SET_CRBGRACUM
If [L]_AOLDVAL<>this.CRBGRACUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRBGRACUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRBGRACUM
 Gosub PROPAGATE_CRBGRACUM
Endif
Return

$INIT_CRBGRACUM
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CRBGRACUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRBGRACUM
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CRBGRACUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRBGRACUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRBGRACUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CRBGRACUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
Return

$_AOTHERS_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"CRBGRACUM",this.CRBGRACUM,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
Return

$PROPAGATE_CRBGRACUM
this.isReadonly = 0
[L]CURPRO = "CRBGRACUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRBGRACUM
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "CRBGRACUM"
$_LNKPRO_CRBGRACUM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"CRBGRACUM",this.CRBGRACUM,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CRBGRACUM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 22 : TOBERECAMT Subsidy amount to be received ( Field MD1 0)
####################################################################

$SET_TOBERECAMT
If [L]_AOLDVAL<>this.TOBERECAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TOBERECAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TOBERECAMT
 Gosub PROPAGATE_TOBERECAMT
Endif
Return

$INIT_TOBERECAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "TOBERECAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TOBERECAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "TOBERECAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TOBERECAMT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TOBERECAMT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TOBERECAMT
[L]CURPRO = "TOBERECAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TOBERECAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TOBERECAMT
[L]CURPRO = "TOBERECAMT"
Return

$_AOTHERS_TOBERECAMT
[L]CURPRO = "TOBERECAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"TOBERECAMT",this.TOBERECAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TOBERECAMT
[L]CURPRO = "TOBERECAMT"
Return

$PROPAGATE_TOBERECAMT
this.isReadonly = 0
[L]CURPRO = "TOBERECAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TOBERECAMT
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "TOBERECAMT"
$_LNKPRO_TOBERECAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"TOBERECAMT",this.TOBERECAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("TOBERECAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 24 : ACCCOD Accounting code ( Field CAC 10)
####################################################################

$SET_ACCCOD
If [L]_AOLDVAL<>this.ACCCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCCOD
 Gosub PROPAGATE_ACCCOD
Endif
Return

$INIT_ACCCOD
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "ACCCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCCOD
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "ACCCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCCOD
[L]CURPRO = "ACCCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACCCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCCOD
[L]CURPRO = "ACCCOD"
If vireblc(this.ACCCOD,2)<>vireblc(format$("K:10c",this.ACCCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACCCOD
[L]CURPRO = "ACCCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCCOD
[L]CURPRO = "ACCCOD"
Return

$PROPAGATE_ACCCOD
this.isReadonly = 0
[L]CURPRO = "ACCCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCCOD
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "ACCCOD"
$_LNKPRO_ACCCOD
Return


####################################################################
# 25 : REFTAB1 Reference free field 1 ( Field C 4)
####################################################################

$SET_REFTAB1
If [L]_AOLDVAL<>this.REFTAB1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB1
 Gosub PROPAGATE_REFTAB1
Endif
Return

$INIT_REFTAB1
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB1
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB1
[L]CURPRO = "REFTAB1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB1
[L]CURPRO = "REFTAB1"
Return

$_AOTHERS_REFTAB1
[L]CURPRO = "REFTAB1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB1
[L]CURPRO = "REFTAB1"
Return

$PROPAGATE_REFTAB1
this.isReadonly = 0
[L]CURPRO = "REFTAB1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB1
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB1"
$_LNKPRO_REFTAB1
Return


####################################################################
# 26 : REFTAB2 Reference free field 2 ( Field C 4)
####################################################################

$SET_REFTAB2
If [L]_AOLDVAL<>this.REFTAB2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB2
 Gosub PROPAGATE_REFTAB2
Endif
Return

$INIT_REFTAB2
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB2
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB2
[L]CURPRO = "REFTAB2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB2
[L]CURPRO = "REFTAB2"
Return

$_AOTHERS_REFTAB2
[L]CURPRO = "REFTAB2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB2
[L]CURPRO = "REFTAB2"
Return

$PROPAGATE_REFTAB2
this.isReadonly = 0
[L]CURPRO = "REFTAB2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB2
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB2"
$_LNKPRO_REFTAB2
Return


####################################################################
# 27 : REFTAB3 Reference free field 3 ( Field C 4)
####################################################################

$SET_REFTAB3
If [L]_AOLDVAL<>this.REFTAB3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB3
 Gosub PROPAGATE_REFTAB3
Endif
Return

$INIT_REFTAB3
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB3
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB3
[L]CURPRO = "REFTAB3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB3
[L]CURPRO = "REFTAB3"
Return

$_AOTHERS_REFTAB3
[L]CURPRO = "REFTAB3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB3
[L]CURPRO = "REFTAB3"
Return

$PROPAGATE_REFTAB3
this.isReadonly = 0
[L]CURPRO = "REFTAB3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB3
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB3"
$_LNKPRO_REFTAB3
Return


####################################################################
# 28 : REFTAB4 Reference free field 4 ( Field C 4)
####################################################################

$SET_REFTAB4
If [L]_AOLDVAL<>this.REFTAB4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB4
 Gosub PROPAGATE_REFTAB4
Endif
Return

$INIT_REFTAB4
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB4
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB4               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB4               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB4
[L]CURPRO = "REFTAB4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB4=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB4
[L]CURPRO = "REFTAB4"
Return

$_AOTHERS_REFTAB4
[L]CURPRO = "REFTAB4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB4
[L]CURPRO = "REFTAB4"
Return

$PROPAGATE_REFTAB4
this.isReadonly = 0
[L]CURPRO = "REFTAB4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB4
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB4"
$_LNKPRO_REFTAB4
Return


####################################################################
# 29 : REFTAB5 Reference free field 5 ( Field C 4)
####################################################################

$SET_REFTAB5
If [L]_AOLDVAL<>this.REFTAB5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB5
 Gosub PROPAGATE_REFTAB5
Endif
Return

$INIT_REFTAB5
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB5
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB5               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB5               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB5
[L]CURPRO = "REFTAB5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB5=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB5
[L]CURPRO = "REFTAB5"
Return

$_AOTHERS_REFTAB5
[L]CURPRO = "REFTAB5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB5
[L]CURPRO = "REFTAB5"
Return

$PROPAGATE_REFTAB5
this.isReadonly = 0
[L]CURPRO = "REFTAB5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB5
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB5"
$_LNKPRO_REFTAB5
Return


####################################################################
# 30 : REFTAB6 Reference free field 6 ( Field C 4)
####################################################################

$SET_REFTAB6
If [L]_AOLDVAL<>this.REFTAB6
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB6
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB6
 Gosub PROPAGATE_REFTAB6
Endif
Return

$INIT_REFTAB6
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB6"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB6
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB6"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB6               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB6               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB6
[L]CURPRO = "REFTAB6"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB6=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB6
[L]CURPRO = "REFTAB6"
Return

$_AOTHERS_REFTAB6
[L]CURPRO = "REFTAB6"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB6
[L]CURPRO = "REFTAB6"
Return

$PROPAGATE_REFTAB6
this.isReadonly = 0
[L]CURPRO = "REFTAB6"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB6
Gosub DECLARE_VAR From WMC0GRANTS
[L]CURPRO = "REFTAB6"
$_LNKPRO_REFTAB6
Return




