#<AdxTL>@(#)0.0.0.0 $Revision$Class Physical assets
# Supervisor
## ACLA-CLASSE ## PHYELT
# 2018-08-27 12:38:19 695


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 2 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"C")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 3 : ENAFLG Active ( Field Local menu number 1)
####################################################################

$SET_ENAFLG
If [L]_AOLDVAL<>this.ENAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENAFLG
 Gosub PROPAGATE_ENAFLG
Endif
Return

$INIT_ENAFLG
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ENAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ENAFLG=0 and fmet this.AGETATTRIBUTE("ENAFLG","$isMandatory")="true"
 this.ENAFLG = 1
Endif
Return
 
$CONTROL_ENAFLG
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ENAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENAFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENAFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENAFLG
[L]CURPRO = "ENAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENAFLG
[L]CURPRO = "ENAFLG"
If this.ENAFLG<0 or this.ENAFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ENAFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ENAFLG
[L]CURPRO = "ENAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENAFLG
[L]CURPRO = "ENAFLG"
Return

$PROPAGATE_ENAFLG
this.isReadonly = 0
[L]CURPRO = "ENAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENAFLG
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ENAFLG"
$_LNKPRO_ENAFLG
Return


####################################################################
# 4 : PHYREF Reference ( Field PHY 20)
####################################################################

$SET_PHYREF
If [L]_AOLDVAL<>this.PHYREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PHYREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PHYREF
 Gosub PROPAGATE_PHYREF
Endif
Return

$INIT_PHYREF
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PHYREF
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PHYREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PHYREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PHYREF
[L]CURPRO = "PHYREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PHYREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PHYREF
[L]CURPRO = "PHYREF"
If vireblc(this.PHYREF,2)<>vireblc(format$("K:20c",this.PHYREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PHYREF
[L]CURPRO = "PHYREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PHYREF
[L]CURPRO = "PHYREF"
Return

$PROPAGATE_PHYREF
this.isReadonly = 0
[L]CURPRO = "PHYREF"
Gosub _LNKPRO_PHYREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PHYREF
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYREF"
$_LNKPRO_PHYREF
If vireblc(this.PHYREF,2)<>""
 # Link PHYELT
 Local File PHYELT [WPHY]
 Read [F:WPHY]PHY0 = this.PHYREF
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PHYREF","$title",[F:WPHY]PHYDES1)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PHYREF","$description",[F:WPHY]PHYDES1)
 Endif
 LogicClose File [WPHY]
Endif
Return


####################################################################
# 5 : PHYDES1 Description ( Field DCO 60)
####################################################################

$SET_PHYDES1
If [L]_AOLDVAL<>this.PHYDES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PHYDES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PHYDES1
 Gosub PROPAGATE_PHYDES1
Endif
Return

$INIT_PHYDES1
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYDES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PHYDES1
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYDES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PHYDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PHYDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PHYDES1
[L]CURPRO = "PHYDES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PHYDES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PHYDES1
[L]CURPRO = "PHYDES1"
If vireblc(this.PHYDES1,2)<>vireblc(format$("K:60X",this.PHYDES1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PHYDES1
[L]CURPRO = "PHYDES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PHYDES1
[L]CURPRO = "PHYDES1"
Return

$PROPAGATE_PHYDES1
this.isReadonly = 0
[L]CURPRO = "PHYDES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PHYDES1
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYDES1"
$_LNKPRO_PHYDES1
Return

$_ALOADATTRIBUTE_PHYDES1
[L]ASTATUS = fmet this.ASETATTRIBUTE("PHYDES1","$isMandatory","true")
Return


####################################################################
# 6 : PHYDES2 Description 2 ( Field DCO 60)
####################################################################

$SET_PHYDES2
If [L]_AOLDVAL<>this.PHYDES2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PHYDES2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PHYDES2
 Gosub PROPAGATE_PHYDES2
Endif
Return

$INIT_PHYDES2
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYDES2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PHYDES2
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYDES2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PHYDES2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PHYDES2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PHYDES2
[L]CURPRO = "PHYDES2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PHYDES2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PHYDES2
[L]CURPRO = "PHYDES2"
If vireblc(this.PHYDES2,2)<>vireblc(format$("K:60X",this.PHYDES2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PHYDES2
[L]CURPRO = "PHYDES2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PHYDES2
[L]CURPRO = "PHYDES2"
Return

$PROPAGATE_PHYDES2
this.isReadonly = 0
[L]CURPRO = "PHYDES2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PHYDES2
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYDES2"
$_LNKPRO_PHYDES2
Return


####################################################################
# 7 : BPS Supplier ( Field BPS 15)
####################################################################

$SET_BPS
If [L]_AOLDVAL<>this.BPS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPS
 Gosub PROPAGATE_BPS
Endif
Return

$INIT_BPS
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "BPS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPS
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "BPS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPS
[L]CURPRO = "BPS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPS
[L]CURPRO = "BPS"
If vireblc(this.BPS,2)<>vireblc(format$("K:15c",this.BPS),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPS
[L]CURPRO = "BPS"
If vireblc(this.BPS,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPS.ACTRLREF(this,"BPS",this.BPS,this.BPS,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPS<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPS
[L]CURPRO = "BPS"
Return

$PROPAGATE_BPS
this.isReadonly = 0
[L]CURPRO = "BPS"
Gosub _LNKPRO_BPS
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPS
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "BPS"
$_LNKPRO_BPS
If vireblc(this.BPS,2)<>""
 # Link BPSUPPLIER
 Local File BPSUPPLIER [WBPS]
 Read [F:WBPS]BPS0 = this.BPS
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPS","$title",[F:WBPS]BPSSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPS","$description",[F:WBPS]BPSNAM)
 Endif
 LogicClose File [WBPS]
Endif
Return


####################################################################
# 8 : PHYCAT Category ( Field Miscellaneous table number)
####################################################################

$SET_PHYCAT
If [L]_AOLDVAL<>this.PHYCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PHYCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PHYCAT
 Gosub PROPAGATE_PHYCAT
Endif
Return

$INIT_PHYCAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYCAT"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"PHYCAT",this.PHYCAT,537)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PHYCAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PHYCAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PHYCAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PHYCAT
[L]CURPRO = "PHYCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PHYCAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PHYCAT
[L]CURPRO = "PHYCAT"
If vireblc(this.PHYCAT,2)<>vireblc(format$("K:20B",this.PHYCAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PHYCAT
[L]CURPRO = "PHYCAT"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"PHYCAT",this.PHYCAT,537,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PHYCAT
[L]CURPRO = "PHYCAT"
Return

$PROPAGATE_PHYCAT
this.isReadonly = 0
[L]CURPRO = "PHYCAT"
Gosub _LNKPRO_PHYCAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PHYCAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHYCAT"
$_LNKPRO_PHYCAT
If vireblc(this.PHYCAT,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 537;this.PHYCAT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PHYCAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PHYCAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 9 : ORDBUY Order number ( Field A 20)
####################################################################

$SET_ORDBUY
If [L]_AOLDVAL<>this.ORDBUY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDBUY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDBUY
 Gosub PROPAGATE_ORDBUY
Endif
Return

$INIT_ORDBUY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ORDBUY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORDBUY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ORDBUY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDBUY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDBUY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDBUY
[L]CURPRO = "ORDBUY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ORDBUY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDBUY
[L]CURPRO = "ORDBUY"
Return

$_AOTHERS_ORDBUY
[L]CURPRO = "ORDBUY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDBUY
[L]CURPRO = "ORDBUY"
Return

$PROPAGATE_ORDBUY
this.isReadonly = 0
[L]CURPRO = "ORDBUY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDBUY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ORDBUY"
$_LNKPRO_ORDBUY
Return


####################################################################
# 10 : DORDBUY Order date ( Field D4)
####################################################################

$SET_DORDBUY
If [L]_AOLDVAL<>this.DORDBUY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DORDBUY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DORDBUY
 Gosub PROPAGATE_DORDBUY
Endif
Return

$INIT_DORDBUY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "DORDBUY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DORDBUY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "DORDBUY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DORDBUY               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DORDBUY               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DORDBUY
[L]CURPRO = "DORDBUY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DORDBUY=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DORDBUY
[L]CURPRO = "DORDBUY"
Return

$_AOTHERS_DORDBUY
[L]CURPRO = "DORDBUY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DORDBUY
[L]CURPRO = "DORDBUY"
Return

$PROPAGATE_DORDBUY
this.isReadonly = 0
[L]CURPRO = "DORDBUY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DORDBUY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "DORDBUY"
$_LNKPRO_DORDBUY
Return


####################################################################
# 11 : NUMRECEP Receipt number ( Field A 20)
####################################################################

$SET_NUMRECEP
If [L]_AOLDVAL<>this.NUMRECEP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMRECEP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMRECEP
 Gosub PROPAGATE_NUMRECEP
Endif
Return

$INIT_NUMRECEP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "NUMRECEP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUMRECEP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "NUMRECEP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMRECEP              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMRECEP              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMRECEP
[L]CURPRO = "NUMRECEP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUMRECEP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMRECEP
[L]CURPRO = "NUMRECEP"
Return

$_AOTHERS_NUMRECEP
[L]CURPRO = "NUMRECEP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMRECEP
[L]CURPRO = "NUMRECEP"
Return

$PROPAGATE_NUMRECEP
this.isReadonly = 0
[L]CURPRO = "NUMRECEP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMRECEP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "NUMRECEP"
$_LNKPRO_NUMRECEP
Return


####################################################################
# 12 : DNUMRECEP Receipt date ( Field D4)
####################################################################

$SET_DNUMRECEP
If [L]_AOLDVAL<>this.DNUMRECEP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DNUMRECEP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DNUMRECEP
 Gosub PROPAGATE_DNUMRECEP
Endif
Return

$INIT_DNUMRECEP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "DNUMRECEP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DNUMRECEP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "DNUMRECEP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DNUMRECEP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DNUMRECEP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DNUMRECEP
[L]CURPRO = "DNUMRECEP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DNUMRECEP=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DNUMRECEP
[L]CURPRO = "DNUMRECEP"
Return

$_AOTHERS_DNUMRECEP
[L]CURPRO = "DNUMRECEP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DNUMRECEP
[L]CURPRO = "DNUMRECEP"
Return

$PROPAGATE_DNUMRECEP
this.isReadonly = 0
[L]CURPRO = "DNUMRECEP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DNUMRECEP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "DNUMRECEP"
$_LNKPRO_DNUMRECEP
Return


####################################################################
# 13 : BAC Bar code ( Field BAC 20)
####################################################################

$SET_BAC
If [L]_AOLDVAL<>this.BAC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BAC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BAC
 Gosub PROPAGATE_BAC
Endif
Return

$INIT_BAC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "BAC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BAC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "BAC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BAC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BAC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BAC
[L]CURPRO = "BAC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BAC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BAC
[L]CURPRO = "BAC"
If vireblc(this.BAC,2)<>vireblc(format$("K:20X",this.BAC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BAC
[L]CURPRO = "BAC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BAC
[L]CURPRO = "BAC"
Return

$PROPAGATE_BAC
this.isReadonly = 0
[L]CURPRO = "BAC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BAC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "BAC"
$_LNKPRO_BAC
Return


####################################################################
# 14 : SRLNBR Serial number ( Field SRL 30)
####################################################################

$SET_SRLNBR
If [L]_AOLDVAL<>this.SRLNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SRLNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SRLNBR
 Gosub PROPAGATE_SRLNBR
Endif
Return

$INIT_SRLNBR
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "SRLNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SRLNBR
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "SRLNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SRLNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SRLNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SRLNBR
[L]CURPRO = "SRLNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SRLNBR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SRLNBR
[L]CURPRO = "SRLNBR"
If vireblc(this.SRLNBR,2)<>vireblc(format$("K:30X",this.SRLNBR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SRLNBR
[L]CURPRO = "SRLNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SRLNBR
[L]CURPRO = "SRLNBR"
Return

$PROPAGATE_SRLNBR
this.isReadonly = 0
[L]CURPRO = "SRLNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SRLNBR
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "SRLNBR"
$_LNKPRO_SRLNBR
Return


####################################################################
# 15 : CNTNUM Contact ( Field Miscellaneous table number)
####################################################################

$SET_CNTNUM
If [L]_AOLDVAL<>this.CNTNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CNTNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CNTNUM
 Gosub PROPAGATE_CNTNUM
Endif
Return

$INIT_CNTNUM
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CNTNUM"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"CNTNUM",this.CNTNUM,630)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CNTNUM
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CNTNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CNTNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CNTNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CNTNUM
[L]CURPRO = "CNTNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CNTNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CNTNUM
[L]CURPRO = "CNTNUM"
If vireblc(this.CNTNUM,2)<>vireblc(format$("K:20B",this.CNTNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CNTNUM
[L]CURPRO = "CNTNUM"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"CNTNUM",this.CNTNUM,630,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CNTNUM
[L]CURPRO = "CNTNUM"
Return

$PROPAGATE_CNTNUM
this.isReadonly = 0
[L]CURPRO = "CNTNUM"
Gosub _LNKPRO_CNTNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CNTNUM
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CNTNUM"
$_LNKPRO_CNTNUM
If vireblc(this.CNTNUM,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 630;this.CNTNUM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CNTNUM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CNTNUM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 16 : LCTCOD Location ( Field LCT 30)
####################################################################

$SET_LCTCOD
If [L]_AOLDVAL<>this.LCTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LCTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LCTCOD
 Gosub PROPAGATE_LCTCOD
Endif
Return

$INIT_LCTCOD
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "LCTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LCTCOD
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "LCTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LCTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LCTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LCTCOD
[L]CURPRO = "LCTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LCTCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LCTCOD
[L]CURPRO = "LCTCOD"
If vireblc(this.LCTCOD,2)<>vireblc(format$("K:30c",this.LCTCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LCTCOD
[L]CURPRO = "LCTCOD"
If vireblc(this.LCTCOD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLCT.ACTRLREF(this,"LCTCOD",this.LCTCOD,this.LCTCOD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LCTCOD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LCTCOD
[L]CURPRO = "LCTCOD"
Return

$PROPAGATE_LCTCOD
this.isReadonly = 0
[L]CURPRO = "LCTCOD"
Gosub _LNKPRO_LCTCOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LCTCOD
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "LCTCOD"
$_LNKPRO_LCTCOD
If vireblc(this.LCTCOD,2)<>""
 # Link PHYLCT
 Local File PHYLCT [WLCT]
 Read [F:WLCT]LCT0 = this.LCTCOD
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LCTCOD","$title",[F:WLCT]LCTDES)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LCTCOD","$description",[F:WLCT]LCTDES)
 Endif
 LogicClose File [WLCT]
Endif
Return

$_ALOADATTRIBUTE_LCTCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("LCTCOD","$isMandatory","true")
Return


####################################################################
# 17 : GEOLOC Geolocation ( Field A 250)
####################################################################

$GET_GEOLOC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GEOLOC"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_GEOLOC
If [L]_AOLDVAL<>this.GEOLOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GEOLOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GEOLOC
 Gosub PROPAGATE_GEOLOC
Endif
Return

$INIT_GEOLOC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GEOLOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GEOLOC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GEOLOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GEOLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GEOLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GEOLOC
[L]CURPRO = "GEOLOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GEOLOC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GEOLOC
[L]CURPRO = "GEOLOC"
Return

$_AOTHERS_GEOLOC
[L]CURPRO = "GEOLOC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GEOLOC
[L]CURPRO = "GEOLOC"
Return

$PROPAGATE_GEOLOC
this.isReadonly = 0
[L]CURPRO = "GEOLOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GEOLOC
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GEOLOC"
$_LNKPRO_GEOLOC
Return


####################################################################
# 18 : AASREF Assignment asset ( Field FAS 20)
####################################################################

$SET_AASREF
If [L]_AOLDVAL<>this.AASREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AASREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AASREF
 Gosub PROPAGATE_AASREF
Endif
Return

$INIT_AASREF
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "AASREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AASREF
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "AASREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AASREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AASREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AASREF
[L]CURPRO = "AASREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.AASREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AASREF
[L]CURPRO = "AASREF"
If vireblc(this.AASREF,2)<>vireblc(format$("K:20c",this.AASREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_AASREF
[L]CURPRO = "AASREF"
If vireblc(this.AASREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFAS.ACTRLREF(this,"AASREF",this.AASREF,this.AASREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.AASREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AASREF
[L]CURPRO = "AASREF"
Return

$PROPAGATE_AASREF
this.isReadonly = 0
[L]CURPRO = "AASREF"
Gosub _LNKPRO_AASREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AASREF
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "AASREF"
$_LNKPRO_AASREF
If vireblc(this.AASREF,2)<>""
 # Link FXDASSETS
 Local File FXDASSETS [WFAS]
 Read [F:WFAS]FAS0 = this.AASREF
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$title",[F:WFAS]AASDES1)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$description",[F:WFAS]AASDES1)
 Endif
 LogicClose File [WFAS]
Endif
Return


####################################################################
# 20 : IVYDAT Last phys asset count note date ( Field D4)
####################################################################

$SET_IVYDAT
If [L]_AOLDVAL<>this.IVYDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVYDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVYDAT
 Gosub PROPAGATE_IVYDAT
Endif
Return

$INIT_IVYDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IVYDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVYDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVYDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVYDAT
[L]CURPRO = "IVYDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVYDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVYDAT
[L]CURPRO = "IVYDAT"
Return

$_AOTHERS_IVYDAT
[L]CURPRO = "IVYDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVYDAT
[L]CURPRO = "IVYDAT"
Return

$PROPAGATE_IVYDAT
this.isReadonly = 0
[L]CURPRO = "IVYDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVYDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYDAT"
$_LNKPRO_IVYDAT
Return


####################################################################
# 21 : IVYTIM Last phys asset count note time ( Field HS 8)
####################################################################

$SET_IVYTIM
If [L]_AOLDVAL<>this.IVYTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVYTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVYTIM
 Gosub PROPAGATE_IVYTIM
Endif
Return

$INIT_IVYTIM
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IVYTIM
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVYTIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVYTIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVYTIM
[L]CURPRO = "IVYTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.IVYTIM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVYTIM
[L]CURPRO = "IVYTIM"
If vireblc(this.IVYTIM,2)<>vireblc(format$("Kz:8X",this.IVYTIM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_IVYTIM
[L]CURPRO = "IVYTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVYTIM
[L]CURPRO = "IVYTIM"
Return

$PROPAGATE_IVYTIM
this.isReadonly = 0
[L]CURPRO = "IVYTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVYTIM
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYTIM"
$_LNKPRO_IVYTIM
Return


####################################################################
# 22 : IVYRES Phys asset count result ( Field Local menu number 3194)
####################################################################

$SET_IVYRES
If [L]_AOLDVAL<>this.IVYRES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVYRES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVYRES
 Gosub PROPAGATE_IVYRES
Endif
Return

$INIT_IVYRES
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYRES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IVYRES=0 and fmet this.AGETATTRIBUTE("IVYRES","$isMandatory")="true"
 this.IVYRES = 1
Endif
Return
 
$CONTROL_IVYRES
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYRES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVYRES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVYRES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVYRES
[L]CURPRO = "IVYRES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVYRES=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVYRES
[L]CURPRO = "IVYRES"
If this.IVYRES<0 or this.IVYRES>len(mess(0,3194,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3194 ->"-num$(this.IVYRES)-mess(99,123,1)):  Return : # Local menu "3194 -> Invalid option
Endif
Return

$_AOTHERS_IVYRES
[L]CURPRO = "IVYRES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVYRES
[L]CURPRO = "IVYRES"
Return

$PROPAGATE_IVYRES
this.isReadonly = 0
[L]CURPRO = "IVYRES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVYRES
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "IVYRES"
$_LNKPRO_IVYRES
Return


####################################################################
# 23 : CURCND Curr status ( Field Miscellaneous table number)
####################################################################

$SET_CURCND
If [L]_AOLDVAL<>this.CURCND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURCND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURCND
 Gosub PROPAGATE_CURCND
Endif
Return

$INIT_CURCND
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CURCND"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"CURCND",this.CURCND,538)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURCND
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CURCND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURCND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURCND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURCND
[L]CURPRO = "CURCND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURCND,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURCND
[L]CURPRO = "CURCND"
If vireblc(this.CURCND,2)<>vireblc(format$("K:20B",this.CURCND),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURCND
[L]CURPRO = "CURCND"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"CURCND",this.CURCND,538,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURCND
[L]CURPRO = "CURCND"
Return

$PROPAGATE_CURCND
this.isReadonly = 0
[L]CURPRO = "CURCND"
Gosub _LNKPRO_CURCND
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURCND
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "CURCND"
$_LNKPRO_CURCND
If vireblc(this.CURCND,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 538;this.CURCND
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURCND","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURCND","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 24 : ISSDAT Date of departure ( Field D4)
####################################################################

$SET_ISSDAT
If [L]_AOLDVAL<>this.ISSDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISSDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISSDAT
 Gosub PROPAGATE_ISSDAT
Endif
Return

$INIT_ISSDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ISSDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISSDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISSDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISSDAT
[L]CURPRO = "ISSDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISSDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISSDAT
[L]CURPRO = "ISSDAT"
Return

$_AOTHERS_ISSDAT
[L]CURPRO = "ISSDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISSDAT
[L]CURPRO = "ISSDAT"
Return

$PROPAGATE_ISSDAT
this.isReadonly = 0
[L]CURPRO = "ISSDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISSDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSDAT"
$_LNKPRO_ISSDAT
Return


####################################################################
# 25 : ISSTYP Output reason ( Field Local menu number 3175)
####################################################################

$SET_ISSTYP
If [L]_AOLDVAL<>this.ISSTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISSTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISSTYP
 Gosub PROPAGATE_ISSTYP
Endif
Return

$INIT_ISSTYP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ISSTYP=0 and fmet this.AGETATTRIBUTE("ISSTYP","$isMandatory")="true"
 this.ISSTYP = 1
Endif
Return
 
$CONTROL_ISSTYP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISSTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISSTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISSTYP
[L]CURPRO = "ISSTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISSTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISSTYP
[L]CURPRO = "ISSTYP"
If this.ISSTYP<0 or this.ISSTYP>len(mess(0,3175,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3175 ->"-num$(this.ISSTYP)-mess(99,123,1)):  Return : # Local menu "3175 -> Invalid option
Endif
Return

$_AOTHERS_ISSTYP
[L]CURPRO = "ISSTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISSTYP
[L]CURPRO = "ISSTYP"
Return

$PROPAGATE_ISSTYP
this.isReadonly = 0
[L]CURPRO = "ISSTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISSTYP
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSTYP"
$_LNKPRO_ISSTYP
Return


####################################################################
# 26 : TRFDAT Last transfer ( Field D4)
####################################################################

$SET_TRFDAT
If [L]_AOLDVAL<>this.TRFDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRFDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRFDAT
 Gosub PROPAGATE_TRFDAT
Endif
Return

$INIT_TRFDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "TRFDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRFDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "TRFDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRFDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRFDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRFDAT
[L]CURPRO = "TRFDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TRFDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRFDAT
[L]CURPRO = "TRFDAT"
Return

$_AOTHERS_TRFDAT
[L]CURPRO = "TRFDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRFDAT
[L]CURPRO = "TRFDAT"
Return

$PROPAGATE_TRFDAT
this.isReadonly = 0
[L]CURPRO = "TRFDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRFDAT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "TRFDAT"
$_LNKPRO_TRFDAT
Return


####################################################################
# 27 : COMMENT Comments ( Field ACRTF 1)
####################################################################

$GET_COMMENT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "COMMENT"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("COMMENT",
& this.PHYREF
& ,[L]_CNT,this.COMMENT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_COMMENT
If fmet this.AGETATTRIBUTE("COMMENT","$isLoaded")<>"true" or [L]_AOLDVAL<>this.COMMENT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_COMMENT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("COMMENT","$isLoaded")<>"true" or [L]_AOLDVAL<>this.COMMENT
 Gosub PROPAGATE_COMMENT
Endif
Return

$INIT_COMMENT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "COMMENT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_COMMENT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "COMMENT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_COMMENT               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_COMMENT               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_COMMENT
[L]CURPRO = "COMMENT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.COMMENT)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_COMMENT
[L]CURPRO = "COMMENT"
Return

$_AOTHERS_COMMENT
[L]CURPRO = "COMMENT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_COMMENT
[L]CURPRO = "COMMENT"
Return

$PROPAGATE_COMMENT
this.isReadonly = 0
[L]CURPRO = "COMMENT"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_COMMENT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "COMMENT"
$_LNKPRO_COMMENT
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_COMMENT From WMC0PHYELT
[L]ASTATUS = fmet this.ASETATTRIBUTE("COMMENT","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 28 : PHOTO Picture ( Field ABIMG 1)
####################################################################

$GET_PHOTO
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHOTO"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_BLB("PHOTO",
& "PHYELT"
& +[V]CST_AURLSEPLOB+this.PHYREF
& +[V]CST_AURLSEPLOB+""
& +[V]CST_AURLSEPLOB+""
& ,[L]_CNT,this.PHOTO)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_PHOTO
If fmet this.AGETATTRIBUTE("PHOTO","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PHOTO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PHOTO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("PHOTO","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PHOTO
 Gosub PROPAGATE_PHOTO
Endif
Return

$INIT_PHOTO
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHOTO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PHOTO
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHOTO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PHOTO                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PHOTO                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PHOTO
[L]CURPRO = "PHOTO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.PHOTO)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PHOTO
[L]CURPRO = "PHOTO"
Return

$_AOTHERS_PHOTO
[L]CURPRO = "PHOTO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PHOTO
[L]CURPRO = "PHOTO"
Return

$PROPAGATE_PHOTO
this.isReadonly = 0
[L]CURPRO = "PHOTO"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PHOTO
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "PHOTO"
$_LNKPRO_PHOTO
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_PHOTO From WMC0PHYELT
[L]ASTATUS = fmet this.ASETATTRIBUTE("PHOTO","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 29 : ISSPCT Picture ( Field ABIMG 1)
####################################################################

$GET_ISSPCT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSPCT"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_BLB("ISSPCT",
& "PHYELTISS"
& +[V]CST_AURLSEPLOB+this.PHYREF
& +[V]CST_AURLSEPLOB+""
& +[V]CST_AURLSEPLOB+""
& ,[L]_CNT,this.ISSPCT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_ISSPCT
If fmet this.AGETATTRIBUTE("ISSPCT","$isLoaded")<>"true" or [L]_AOLDVAL<>this.ISSPCT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISSPCT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("ISSPCT","$isLoaded")<>"true" or [L]_AOLDVAL<>this.ISSPCT
 Gosub PROPAGATE_ISSPCT
Endif
Return

$INIT_ISSPCT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSPCT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ISSPCT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSPCT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISSPCT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISSPCT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISSPCT
[L]CURPRO = "ISSPCT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.ISSPCT)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISSPCT
[L]CURPRO = "ISSPCT"
Return

$_AOTHERS_ISSPCT
[L]CURPRO = "ISSPCT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISSPCT
[L]CURPRO = "ISSPCT"
Return

$PROPAGATE_ISSPCT
this.isReadonly = 0
[L]CURPRO = "ISSPCT"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISSPCT
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "ISSPCT"
$_LNKPRO_ISSPCT
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_ISSPCT From WMC0PHYELT
[L]ASTATUS = fmet this.ASETATTRIBUTE("ISSPCT","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 30 : GRUORIPHY IGS source element ( Field A 20)
####################################################################

$SET_GRUORIPHY
If [L]_AOLDVAL<>this.GRUORIPHY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRUORIPHY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRUORIPHY
 Gosub PROPAGATE_GRUORIPHY
Endif
Return

$INIT_GRUORIPHY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GRUORIPHY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRUORIPHY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GRUORIPHY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRUORIPHY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRUORIPHY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRUORIPHY
[L]CURPRO = "GRUORIPHY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRUORIPHY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRUORIPHY
[L]CURPRO = "GRUORIPHY"
Return

$_AOTHERS_GRUORIPHY
[L]CURPRO = "GRUORIPHY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRUORIPHY
[L]CURPRO = "GRUORIPHY"
Return

$PROPAGATE_GRUORIPHY
this.isReadonly = 0
[L]CURPRO = "GRUORIPHY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRUORIPHY
Gosub DECLARE_VAR From WMC0PHYELT
[L]CURPRO = "GRUORIPHY"
$_LNKPRO_GRUORIPHY
Return




