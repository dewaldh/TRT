#<AdxTL>@(#)0.0.0.0 $Revision$Class List of queries
# Supervisor
## ACLA-CLASSE ## ASYRREQ
# 2018-08-27 12:22:46 869


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : DAT Date ( Field D)
####################################################################

$SET_DAT
If [L]_AOLDVAL<>this.DAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DAT
 Gosub PROPAGATE_DAT
Endif
Return

$INIT_DAT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DAT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DAT
[L]CURPRO = "DAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DAT
[L]CURPRO = "DAT"
Return

$_AOTHERS_DAT
[L]CURPRO = "DAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DAT
[L]CURPRO = "DAT"
Return

$PROPAGATE_DAT
this.isReadonly = 0
[L]CURPRO = "DAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DAT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DAT"
$_LNKPRO_DAT
Return


####################################################################
# 2 : DFIN End date ( Field D)
####################################################################

$SET_DFIN
If [L]_AOLDVAL<>this.DFIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DFIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DFIN
 Gosub PROPAGATE_DFIN
Endif
Return

$INIT_DFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DFIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DFIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DFIN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DFIN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DFIN
[L]CURPRO = "DFIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DFIN=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DFIN
[L]CURPRO = "DFIN"
Return

$_AOTHERS_DFIN
[L]CURPRO = "DFIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DFIN
[L]CURPRO = "DFIN"
Return

$PROPAGATE_DFIN
this.isReadonly = 0
[L]CURPRO = "DFIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DFIN"
$_LNKPRO_DFIN
Return


####################################################################
# 3 : DOSSIER Folder ( Field ADS 10)
####################################################################

$SET_DOSSIER
If [L]_AOLDVAL<>this.DOSSIER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DOSSIER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DOSSIER
 Gosub PROPAGATE_DOSSIER
Endif
Return

$INIT_DOSSIER
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DOSSIER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DOSSIER
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DOSSIER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DOSSIER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DOSSIER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DOSSIER
[L]CURPRO = "DOSSIER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DOSSIER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DOSSIER
[L]CURPRO = "DOSSIER"
If vireblc(this.DOSSIER,2)<>vireblc(format$("KTD:A9B",this.DOSSIER),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DOSSIER
[L]CURPRO = "DOSSIER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DOSSIER
[L]CURPRO = "DOSSIER"
Return

$PROPAGATE_DOSSIER
this.isReadonly = 0
[L]CURPRO = "DOSSIER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DOSSIER
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "DOSSIER"
$_LNKPRO_DOSSIER
Return

$_ALOADATTRIBUTE_DOSSIER
[L]ASTATUS = fmet this.ASETATTRIBUTE("DOSSIER","$isMandatory","true")
Return


####################################################################
# 4 : ETAT Processing ( Field ADC 30)
####################################################################

$SET_ETAT
If [L]_AOLDVAL<>this.ETAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ETAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ETAT
 Gosub PROPAGATE_ETAT
Endif
Return

$INIT_ETAT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "ETAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ETAT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "ETAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ETAT                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ETAT                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ETAT
[L]CURPRO = "ETAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ETAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ETAT
[L]CURPRO = "ETAT"
If vireblc(this.ETAT,2)<>vireblc(format$("KTD:30X",this.ETAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ETAT
[L]CURPRO = "ETAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ETAT
[L]CURPRO = "ETAT"
Return

$PROPAGATE_ETAT
this.isReadonly = 0
[L]CURPRO = "ETAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ETAT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "ETAT"
$_LNKPRO_ETAT
Return


####################################################################
# 5 : FLAG Status ( Field Local menu number 21)
####################################################################

$SET_FLAG
If [L]_AOLDVAL<>this.FLAG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLAG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLAG
 Gosub PROPAGATE_FLAG
Endif
Return

$INIT_FLAG
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FLAG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLAG=0 and fmet this.AGETATTRIBUTE("FLAG","$isMandatory")="true"
 this.FLAG = 1
Endif
Return
 
$CONTROL_FLAG
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FLAG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLAG                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLAG                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLAG
[L]CURPRO = "FLAG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLAG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLAG
[L]CURPRO = "FLAG"
If this.FLAG<0 or this.FLAG>len(mess(0,21,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"21 ->"-num$(this.FLAG)-mess(99,123,1)):  Return : # Local menu "21 -> Invalid option
Endif
Return

$_AOTHERS_FLAG
[L]CURPRO = "FLAG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLAG
[L]CURPRO = "FLAG"
Return

$PROPAGATE_FLAG
this.isReadonly = 0
[L]CURPRO = "FLAG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLAG
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FLAG"
$_LNKPRO_FLAG
Return


####################################################################
# 6 : HEURE Time ( Field HM 6)
####################################################################

$SET_HEURE
If [L]_AOLDVAL<>this.HEURE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_HEURE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.HEURE
 Gosub PROPAGATE_HEURE
Endif
Return

$INIT_HEURE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HEURE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_HEURE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HEURE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_HEURE                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_HEURE                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_HEURE
[L]CURPRO = "HEURE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.HEURE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_HEURE
[L]CURPRO = "HEURE"
If vireblc(this.HEURE,2)<>vireblc(format$("Kz:6X",this.HEURE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_HEURE
[L]CURPRO = "HEURE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_HEURE
[L]CURPRO = "HEURE"
Return

$PROPAGATE_HEURE
this.isReadonly = 0
[L]CURPRO = "HEURE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_HEURE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HEURE"
$_LNKPRO_HEURE
Return


####################################################################
# 7 : HFIN Time ( Field HS 8)
####################################################################

$SET_HFIN
If [L]_AOLDVAL<>this.HFIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_HFIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.HFIN
 Gosub PROPAGATE_HFIN
Endif
Return

$INIT_HFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HFIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_HFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HFIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_HFIN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_HFIN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_HFIN
[L]CURPRO = "HFIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.HFIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_HFIN
[L]CURPRO = "HFIN"
If vireblc(this.HFIN,2)<>vireblc(format$("Kz:8X",this.HFIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_HFIN
[L]CURPRO = "HFIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_HFIN
[L]CURPRO = "HFIN"
Return

$PROPAGATE_HFIN
this.isReadonly = 0
[L]CURPRO = "HFIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_HFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HFIN"
$_LNKPRO_HFIN
Return


####################################################################
# 8 : IMPETX Printer ( Field C 2)
####################################################################

$SET_IMPETX
If [L]_AOLDVAL<>this.IMPETX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IMPETX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IMPETX
 Gosub PROPAGATE_IMPETX
Endif
Return

$INIT_IMPETX
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "IMPETX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IMPETX
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "IMPETX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IMPETX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IMPETX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IMPETX
[L]CURPRO = "IMPETX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IMPETX=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IMPETX
[L]CURPRO = "IMPETX"
Return

$_AOTHERS_IMPETX
[L]CURPRO = "IMPETX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IMPETX
[L]CURPRO = "IMPETX"
Return

$PROPAGATE_IMPETX
this.isReadonly = 0
[L]CURPRO = "IMPETX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IMPETX
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "IMPETX"
$_LNKPRO_IMPETX
Return


####################################################################
# 9 : MESSAGE Message - user ( Field Local menu number 1)
####################################################################

$SET_MESSAGE
If [L]_AOLDVAL<>this.MESSAGE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MESSAGE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MESSAGE
 Gosub PROPAGATE_MESSAGE
Endif
Return

$INIT_MESSAGE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MESSAGE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MESSAGE=0 and fmet this.AGETATTRIBUTE("MESSAGE","$isMandatory")="true"
 this.MESSAGE = 1
Endif
Return
 
$CONTROL_MESSAGE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MESSAGE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MESSAGE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MESSAGE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MESSAGE
[L]CURPRO = "MESSAGE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MESSAGE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MESSAGE
[L]CURPRO = "MESSAGE"
If this.MESSAGE<0 or this.MESSAGE>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.MESSAGE)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_MESSAGE
[L]CURPRO = "MESSAGE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MESSAGE
[L]CURPRO = "MESSAGE"
Return

$PROPAGATE_MESSAGE
this.isReadonly = 0
[L]CURPRO = "MESSAGE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MESSAGE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MESSAGE"
$_LNKPRO_MESSAGE
Return


####################################################################
# 10 : MONO Single-user ( Field Local menu number 1)
####################################################################

$SET_MONO
If [L]_AOLDVAL<>this.MONO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MONO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MONO
 Gosub PROPAGATE_MONO
Endif
Return

$INIT_MONO
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MONO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MONO=0 and fmet this.AGETATTRIBUTE("MONO","$isMandatory")="true"
 this.MONO = 1
Endif
Return
 
$CONTROL_MONO
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MONO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MONO                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MONO                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MONO
[L]CURPRO = "MONO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MONO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MONO
[L]CURPRO = "MONO"
If this.MONO<0 or this.MONO>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.MONO)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_MONO
[L]CURPRO = "MONO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MONO
[L]CURPRO = "MONO"
Return

$PROPAGATE_MONO
this.isReadonly = 0
[L]CURPRO = "MONO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MONO
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MONO"
$_LNKPRO_MONO
Return


####################################################################
# 11 : NUMREQ Query no. ( Field L 8)
####################################################################

$SET_NUMREQ
If [L]_AOLDVAL<>this.NUMREQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMREQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMREQ
 Gosub PROPAGATE_NUMREQ
Endif
Return

$INIT_NUMREQ
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "NUMREQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUMREQ
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "NUMREQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMREQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMREQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMREQ
[L]CURPRO = "NUMREQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NUMREQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMREQ
[L]CURPRO = "NUMREQ"
Return

$_AOTHERS_NUMREQ
[L]CURPRO = "NUMREQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMREQ
[L]CURPRO = "NUMREQ"
Return

$PROPAGATE_NUMREQ
this.isReadonly = 0
[L]CURPRO = "NUMREQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMREQ
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "NUMREQ"
$_LNKPRO_NUMREQ
Return


####################################################################
# 12 : PRIO Priority ( Field C 2)
####################################################################

$SET_PRIO
If [L]_AOLDVAL<>this.PRIO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIO
 Gosub PROPAGATE_PRIO
Endif
Return

$INIT_PRIO
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "PRIO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIO
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "PRIO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIO                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIO                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIO
[L]CURPRO = "PRIO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIO
[L]CURPRO = "PRIO"
Return

$_AOTHERS_PRIO
[L]CURPRO = "PRIO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIO
[L]CURPRO = "PRIO"
Return

$PROPAGATE_PRIO
this.isReadonly = 0
[L]CURPRO = "PRIO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIO
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "PRIO"
$_LNKPRO_PRIO
Return


####################################################################
# 13 : PROCESS Process no. ( Field A 10)
####################################################################

$SET_PROCESS
If [L]_AOLDVAL<>this.PROCESS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PROCESS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PROCESS
 Gosub PROPAGATE_PROCESS
Endif
Return

$INIT_PROCESS
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "PROCESS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PROCESS
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "PROCESS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PROCESS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PROCESS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PROCESS
[L]CURPRO = "PROCESS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PROCESS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PROCESS
[L]CURPRO = "PROCESS"
Return

$_AOTHERS_PROCESS
[L]CURPRO = "PROCESS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PROCESS
[L]CURPRO = "PROCESS"
Return

$PROPAGATE_PROCESS
this.isReadonly = 0
[L]CURPRO = "PROCESS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PROCESS
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "PROCESS"
$_LNKPRO_PROCESS
Return


####################################################################
# 14 : TACHE Task code ( Field ABT 10)
####################################################################

$SET_TACHE
If [L]_AOLDVAL<>this.TACHE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TACHE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TACHE
 Gosub PROPAGATE_TACHE
Endif
Return

$INIT_TACHE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TACHE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TACHE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TACHE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TACHE                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TACHE                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TACHE
[L]CURPRO = "TACHE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TACHE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TACHE
[L]CURPRO = "TACHE"
If vireblc(this.TACHE,2)<>vireblc(format$("K:10c",this.TACHE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TACHE
[L]CURPRO = "TACHE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TACHE
[L]CURPRO = "TACHE"
Return

$PROPAGATE_TACHE
this.isReadonly = 0
[L]CURPRO = "TACHE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TACHE
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TACHE"
$_LNKPRO_TACHE
Return


####################################################################
# 15 : GRP Group ( Field ABG 10)
####################################################################

$SET_GRP
If [L]_AOLDVAL<>this.GRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRP
 Gosub PROPAGATE_GRP
Endif
Return

$INIT_GRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "GRP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "GRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRP
[L]CURPRO = "GRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GRP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRP
[L]CURPRO = "GRP"
If vireblc(this.GRP,2)<>vireblc(format$("K:10c",this.GRP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GRP
[L]CURPRO = "GRP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRP
[L]CURPRO = "GRP"
Return

$PROPAGATE_GRP
this.isReadonly = 0
[L]CURPRO = "GRP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "GRP"
$_LNKPRO_GRP
Return


####################################################################
# 16 : NUMGRP Order no. ( Field L 8)
####################################################################

$SET_NUMGRP
If [L]_AOLDVAL<>this.NUMGRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMGRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMGRP
 Gosub PROPAGATE_NUMGRP
Endif
Return

$INIT_NUMGRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "NUMGRP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUMGRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "NUMGRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMGRP
[L]CURPRO = "NUMGRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NUMGRP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMGRP
[L]CURPRO = "NUMGRP"
Return

$_AOTHERS_NUMGRP
[L]CURPRO = "NUMGRP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMGRP
[L]CURPRO = "NUMGRP"
Return

$PROPAGATE_NUMGRP
this.isReadonly = 0
[L]CURPRO = "NUMGRP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMGRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "NUMGRP"
$_LNKPRO_NUMGRP
Return


####################################################################
# 17 : SEQGRP Sequence ( Field L 8)
####################################################################

$SET_SEQGRP
If [L]_AOLDVAL<>this.SEQGRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEQGRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEQGRP
 Gosub PROPAGATE_SEQGRP
Endif
Return

$INIT_SEQGRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "SEQGRP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEQGRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "SEQGRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEQGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEQGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEQGRP
[L]CURPRO = "SEQGRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SEQGRP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEQGRP
[L]CURPRO = "SEQGRP"
Return

$_AOTHERS_SEQGRP
[L]CURPRO = "SEQGRP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEQGRP
[L]CURPRO = "SEQGRP"
Return

$PROPAGATE_SEQGRP
this.isReadonly = 0
[L]CURPRO = "SEQGRP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEQGRP
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "SEQGRP"
$_LNKPRO_SEQGRP
Return


####################################################################
# 18 : TIMOUT Time-out ( Field L 8)
####################################################################

$SET_TIMOUT
If [L]_AOLDVAL<>this.TIMOUT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TIMOUT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TIMOUT
 Gosub PROPAGATE_TIMOUT
Endif
Return

$INIT_TIMOUT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TIMOUT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TIMOUT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TIMOUT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TIMOUT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TIMOUT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TIMOUT
[L]CURPRO = "TIMOUT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TIMOUT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TIMOUT
[L]CURPRO = "TIMOUT"
Return

$_AOTHERS_TIMOUT
[L]CURPRO = "TIMOUT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TIMOUT
[L]CURPRO = "TIMOUT"
Return

$PROPAGATE_TIMOUT
this.isReadonly = 0
[L]CURPRO = "TIMOUT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TIMOUT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TIMOUT"
$_LNKPRO_TIMOUT
Return


####################################################################
# 19 : TYPTAC Task type ( Field Local menu number 20)
####################################################################

$SET_TYPTAC
If [L]_AOLDVAL<>this.TYPTAC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPTAC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPTAC
 Gosub PROPAGATE_TYPTAC
Endif
Return

$INIT_TYPTAC
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TYPTAC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPTAC=0 and fmet this.AGETATTRIBUTE("TYPTAC","$isMandatory")="true"
 this.TYPTAC = 1
Endif
Return
 
$CONTROL_TYPTAC
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TYPTAC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPTAC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPTAC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPTAC
[L]CURPRO = "TYPTAC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPTAC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPTAC
[L]CURPRO = "TYPTAC"
If this.TYPTAC<0 or this.TYPTAC>len(mess(0,20,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"20 ->"-num$(this.TYPTAC)-mess(99,123,1)):  Return : # Local menu "20 -> Invalid option
Endif
Return

$_AOTHERS_TYPTAC
[L]CURPRO = "TYPTAC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPTAC
[L]CURPRO = "TYPTAC"
Return

$PROPAGATE_TYPTAC
this.isReadonly = 0
[L]CURPRO = "TYPTAC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPTAC
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "TYPTAC"
$_LNKPRO_TYPTAC
Return


####################################################################
# 20 : USER User code ( Field AUS 5)
####################################################################

$SET_USER
If [L]_AOLDVAL<>this.USER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_USER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.USER
 Gosub PROPAGATE_USER
Endif
Return

$INIT_USER
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "USER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_USER
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "USER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_USER                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_USER                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_USER
[L]CURPRO = "USER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.USER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_USER
[L]CURPRO = "USER"
If vireblc(this.USER,2)<>vireblc(format$("K:5B",this.USER),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_USER
[L]CURPRO = "USER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_USER
[L]CURPRO = "USER"
Return

$PROPAGATE_USER
this.isReadonly = 0
[L]CURPRO = "USER"
Gosub _LNKPRO_USER
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_USER
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "USER"
$_LNKPRO_USER
If vireblc(this.USER,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.USER
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("USER","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("USER","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return


####################################################################
# 21 : LOGIN Login ( Field ALO 20)
####################################################################

$SET_LOGIN
If [L]_AOLDVAL<>this.LOGIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOGIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOGIN
 Gosub PROPAGATE_LOGIN
Endif
Return

$INIT_LOGIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "LOGIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOGIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "LOGIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOGIN                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOGIN                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOGIN
[L]CURPRO = "LOGIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOGIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOGIN
[L]CURPRO = "LOGIN"
If vireblc(this.LOGIN,2)<>vireblc(format$("K:20X",this.LOGIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOGIN
[L]CURPRO = "LOGIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOGIN
[L]CURPRO = "LOGIN"
Return

$PROPAGATE_LOGIN
this.isReadonly = 0
[L]CURPRO = "LOGIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOGIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "LOGIN"
$_LNKPRO_LOGIN
Return


####################################################################
# 22 : JOB Batch file ( Field FIC 50)
####################################################################

$SET_JOB
If [L]_AOLDVAL<>this.JOB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOB
 Gosub PROPAGATE_JOB
Endif
Return

$INIT_JOB
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "JOB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOB
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "JOB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOB                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOB                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOB
[L]CURPRO = "JOB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOB
[L]CURPRO = "JOB"
If vireblc(this.JOB,2)<>vireblc(format$("K:50X",this.JOB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_JOB
[L]CURPRO = "JOB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOB
[L]CURPRO = "JOB"
Return

$PROPAGATE_JOB
this.isReadonly = 0
[L]CURPRO = "JOB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOB
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "JOB"
$_LNKPRO_JOB
Return


####################################################################
# 23 : HDEB Start time ( Field HS 8)
####################################################################

$SET_HDEB
If [L]_AOLDVAL<>this.HDEB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_HDEB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.HDEB
 Gosub PROPAGATE_HDEB
Endif
Return

$INIT_HDEB
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HDEB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_HDEB
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HDEB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_HDEB                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_HDEB                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_HDEB
[L]CURPRO = "HDEB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.HDEB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_HDEB
[L]CURPRO = "HDEB"
If vireblc(this.HDEB,2)<>vireblc(format$("Kz:8X",this.HDEB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_HDEB
[L]CURPRO = "HDEB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_HDEB
[L]CURPRO = "HDEB"
Return

$PROPAGATE_HDEB
this.isReadonly = 0
[L]CURPRO = "HDEB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_HDEB
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "HDEB"
$_LNKPRO_HDEB
Return


####################################################################
# 24 : MOTINT Reason for interruption ( Field DES 30)
####################################################################

$SET_MOTINT
If [L]_AOLDVAL<>this.MOTINT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MOTINT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MOTINT
 Gosub PROPAGATE_MOTINT
Endif
Return

$INIT_MOTINT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MOTINT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MOTINT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MOTINT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MOTINT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MOTINT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MOTINT
[L]CURPRO = "MOTINT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MOTINT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MOTINT
[L]CURPRO = "MOTINT"
If vireblc(this.MOTINT,2)<>vireblc(format$("K:30X",this.MOTINT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MOTINT
[L]CURPRO = "MOTINT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MOTINT
[L]CURPRO = "MOTINT"
Return

$PROPAGATE_MOTINT
this.isReadonly = 0
[L]CURPRO = "MOTINT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MOTINT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "MOTINT"
$_LNKPRO_MOTINT
Return


####################################################################
# 25 : USRINT User ( Field AUS 5)
####################################################################

$SET_USRINT
If [L]_AOLDVAL<>this.USRINT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_USRINT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.USRINT
 Gosub PROPAGATE_USRINT
Endif
Return

$INIT_USRINT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "USRINT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_USRINT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "USRINT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_USRINT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_USRINT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_USRINT
[L]CURPRO = "USRINT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.USRINT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_USRINT
[L]CURPRO = "USRINT"
If vireblc(this.USRINT,2)<>vireblc(format$("K:5B",this.USRINT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_USRINT
[L]CURPRO = "USRINT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_USRINT
[L]CURPRO = "USRINT"
Return

$PROPAGATE_USRINT
this.isReadonly = 0
[L]CURPRO = "USRINT"
Gosub _LNKPRO_USRINT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_USRINT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "USRINT"
$_LNKPRO_USRINT
If vireblc(this.USRINT,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.USRINT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("USRINT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("USRINT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return


####################################################################
# 26 : FRQ Frequency (min) ( Field L 8)
####################################################################

$SET_FRQ
If [L]_AOLDVAL<>this.FRQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FRQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FRQ
 Gosub PROPAGATE_FRQ
Endif
Return

$INIT_FRQ
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FRQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FRQ
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FRQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FRQ                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FRQ                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FRQ
[L]CURPRO = "FRQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FRQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FRQ
[L]CURPRO = "FRQ"
Return

$_AOTHERS_FRQ
[L]CURPRO = "FRQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FRQ
[L]CURPRO = "FRQ"
Return

$PROPAGATE_FRQ
this.isReadonly = 0
[L]CURPRO = "FRQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FRQ
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FRQ"
$_LNKPRO_FRQ
Return


####################################################################
# 27 : FRQFIN End time ( Field HM 6)
####################################################################

$SET_FRQFIN
If [L]_AOLDVAL<>this.FRQFIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FRQFIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FRQFIN
 Gosub PROPAGATE_FRQFIN
Endif
Return

$INIT_FRQFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FRQFIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FRQFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FRQFIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FRQFIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FRQFIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FRQFIN
[L]CURPRO = "FRQFIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FRQFIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FRQFIN
[L]CURPRO = "FRQFIN"
If vireblc(this.FRQFIN,2)<>vireblc(format$("Kz:6X",this.FRQFIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FRQFIN
[L]CURPRO = "FRQFIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FRQFIN
[L]CURPRO = "FRQFIN"
Return

$PROPAGATE_FRQFIN
this.isReadonly = 0
[L]CURPRO = "FRQFIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FRQFIN
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FRQFIN"
$_LNKPRO_FRQFIN
Return


####################################################################
# 28 : FLGV3 V3 flag ( Field C 4)
####################################################################

$SET_FLGV3
If [L]_AOLDVAL<>this.FLGV3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGV3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGV3
 Gosub PROPAGATE_FLGV3
Endif
Return

$INIT_FLGV3
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FLGV3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLGV3
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FLGV3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGV3                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGV3                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGV3
[L]CURPRO = "FLGV3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGV3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGV3
[L]CURPRO = "FLGV3"
Return

$_AOTHERS_FLGV3
[L]CURPRO = "FLGV3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGV3
[L]CURPRO = "FLGV3"
Return

$PROPAGATE_FLGV3
this.isReadonly = 0
[L]CURPRO = "FLGV3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGV3
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "FLGV3"
$_LNKPRO_FLGV3
Return


####################################################################
# 29 : EPUR Purge ( Field Local menu number 1)
####################################################################

$SET_EPUR
If [L]_AOLDVAL<>this.EPUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EPUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EPUR
 Gosub PROPAGATE_EPUR
Endif
Return

$INIT_EPUR
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "EPUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EPUR=0 and fmet this.AGETATTRIBUTE("EPUR","$isMandatory")="true"
 this.EPUR = 1
Endif
Return
 
$CONTROL_EPUR
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "EPUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EPUR                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EPUR                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EPUR
[L]CURPRO = "EPUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EPUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EPUR
[L]CURPRO = "EPUR"
If this.EPUR<0 or this.EPUR>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.EPUR)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_EPUR
[L]CURPRO = "EPUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EPUR
[L]CURPRO = "EPUR"
Return

$PROPAGATE_EPUR
this.isReadonly = 0
[L]CURPRO = "EPUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EPUR
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "EPUR"
$_LNKPRO_EPUR
Return


####################################################################
# 30 : CODABT Recurring task code ( Field ABA 10)
####################################################################

$SET_CODABT
If [L]_AOLDVAL<>this.CODABT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODABT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODABT
 Gosub PROPAGATE_CODABT
Endif
Return

$INIT_CODABT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "CODABT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODABT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "CODABT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODABT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODABT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODABT
[L]CURPRO = "CODABT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODABT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODABT
[L]CURPRO = "CODABT"
If vireblc(this.CODABT,2)<>vireblc(format$("K:10c",this.CODABT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CODABT
[L]CURPRO = "CODABT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODABT
[L]CURPRO = "CODABT"
Return

$PROPAGATE_CODABT
this.isReadonly = 0
[L]CURPRO = "CODABT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODABT
Gosub DECLARE_VAR From WMC0ASYRREQ
[L]CURPRO = "CODABT"
$_LNKPRO_CODABT
Return




