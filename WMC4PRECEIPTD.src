#<AdxTL>@(#)0.0.0.0 $Revision$Class Detail receipts
# Supervisor
## ACLA-CLASSE ## PRECEIPTD
# 2018-08-27 12:42:34 826

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 91 : RTNQTYSTU Returned STK qty. ( Field QTY 0)
####################################################################

$SET_RTNQTYSTU
If [L]_AOLDVAL<>this.RTNQTYSTU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RTNQTYSTU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RTNQTYSTU
 Gosub PROPAGATE_RTNQTYSTU
Endif
Return

$INIT_RTNQTYSTU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "RTNQTYSTU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RTNQTYSTU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "RTNQTYSTU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RTNQTYSTU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RTNQTYSTU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RTNQTYSTU
[L]CURPRO = "RTNQTYSTU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RTNQTYSTU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RTNQTYSTU
[L]CURPRO = "RTNQTYSTU"
Return

$_AOTHERS_RTNQTYSTU
[L]CURPRO = "RTNQTYSTU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RTNQTYSTU
[L]CURPRO = "RTNQTYSTU"
Return

$PROPAGATE_RTNQTYSTU
this.isReadonly = 0
[L]CURPRO = "RTNQTYSTU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RTNQTYSTU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "RTNQTYSTU"
$_LNKPRO_RTNQTYSTU
Return


####################################################################
# 92 : INVQTYPUU Invoiced PUR qty. ( Field QTY 0)
####################################################################

$SET_INVQTYPUU
If [L]_AOLDVAL<>this.INVQTYPUU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVQTYPUU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVQTYPUU
 Gosub PROPAGATE_INVQTYPUU
Endif
Return

$INIT_INVQTYPUU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "INVQTYPUU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVQTYPUU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "INVQTYPUU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVQTYPUU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVQTYPUU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVQTYPUU
[L]CURPRO = "INVQTYPUU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVQTYPUU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVQTYPUU
[L]CURPRO = "INVQTYPUU"
Return

$_AOTHERS_INVQTYPUU
[L]CURPRO = "INVQTYPUU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVQTYPUU
[L]CURPRO = "INVQTYPUU"
Return

$PROPAGATE_INVQTYPUU
this.isReadonly = 0
[L]CURPRO = "INVQTYPUU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVQTYPUU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "INVQTYPUU"
$_LNKPRO_INVQTYPUU
Return


####################################################################
# 93 : INVQTYSTU Invoiced STU qty. ( Field QTY 0)
####################################################################

$SET_INVQTYSTU
If [L]_AOLDVAL<>this.INVQTYSTU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVQTYSTU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVQTYSTU
 Gosub PROPAGATE_INVQTYSTU
Endif
Return

$INIT_INVQTYSTU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "INVQTYSTU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVQTYSTU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "INVQTYSTU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVQTYSTU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVQTYSTU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVQTYSTU
[L]CURPRO = "INVQTYSTU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVQTYSTU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVQTYSTU
[L]CURPRO = "INVQTYSTU"
Return

$_AOTHERS_INVQTYSTU
[L]CURPRO = "INVQTYSTU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVQTYSTU
[L]CURPRO = "INVQTYSTU"
Return

$PROPAGATE_INVQTYSTU
this.isReadonly = 0
[L]CURPRO = "INVQTYSTU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVQTYSTU
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "INVQTYSTU"
$_LNKPRO_INVQTYSTU
Return


####################################################################
# 94 : LINPRNFLG Line printed ( Field Local menu number 1)
####################################################################

$SET_LINPRNFLG
If [L]_AOLDVAL<>this.LINPRNFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPRNFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPRNFLG
 Gosub PROPAGATE_LINPRNFLG
Endif
Return

$INIT_LINPRNFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPRNFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINPRNFLG=0 and fmet this.AGETATTRIBUTE("LINPRNFLG","$isMandatory")="true"
 this.LINPRNFLG = 1
Endif
Return
 
$CONTROL_LINPRNFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPRNFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPRNFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPRNFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPRNFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
If this.LINPRNFLG<0 or this.LINPRNFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINPRNFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPRNFLG
[L]CURPRO = "LINPRNFLG"
Return

$PROPAGATE_LINPRNFLG
this.isReadonly = 0
[L]CURPRO = "LINPRNFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPRNFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPRNFLG"
$_LNKPRO_LINPRNFLG
Return


####################################################################
# 95 : LININVFLG Invoiced line ( Field Local menu number 1)
####################################################################

$SET_LININVFLG
If [L]_AOLDVAL<>this.LININVFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LININVFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LININVFLG
 Gosub PROPAGATE_LININVFLG
Endif
Return

$INIT_LININVFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LININVFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LININVFLG=0 and fmet this.AGETATTRIBUTE("LININVFLG","$isMandatory")="true"
 this.LININVFLG = 1
Endif
Return
 
$CONTROL_LININVFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LININVFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LININVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LININVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LININVFLG
[L]CURPRO = "LININVFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LININVFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LININVFLG
[L]CURPRO = "LININVFLG"
If this.LININVFLG<0 or this.LININVFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LININVFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LININVFLG
[L]CURPRO = "LININVFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LININVFLG
[L]CURPRO = "LININVFLG"
Return

$PROPAGATE_LININVFLG
this.isReadonly = 0
[L]CURPRO = "LININVFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LININVFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LININVFLG"
$_LNKPRO_LININVFLG
Return


####################################################################
# 96 : LINEECFLG Debit line ( Field Local menu number 1)
####################################################################

$SET_LINEECFLG
If [L]_AOLDVAL<>this.LINEECFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINEECFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINEECFLG
 Gosub PROPAGATE_LINEECFLG
Endif
Return

$INIT_LINEECFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINEECFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINEECFLG=0 and fmet this.AGETATTRIBUTE("LINEECFLG","$isMandatory")="true"
 this.LINEECFLG = 1
Endif
Return
 
$CONTROL_LINEECFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINEECFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINEECFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINEECFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINEECFLG
[L]CURPRO = "LINEECFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINEECFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINEECFLG
[L]CURPRO = "LINEECFLG"
If this.LINEECFLG<0 or this.LINEECFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINEECFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINEECFLG
[L]CURPRO = "LINEECFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINEECFLG
[L]CURPRO = "LINEECFLG"
Return

$PROPAGATE_LINEECFLG
this.isReadonly = 0
[L]CURPRO = "LINEECFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINEECFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINEECFLG"
$_LNKPRO_LINEECFLG
Return


####################################################################
# 97 : LINPSTFLG Posted line ( Field Local menu number 1)
####################################################################

$SET_LINPSTFLG
If [L]_AOLDVAL<>this.LINPSTFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPSTFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPSTFLG
 Gosub PROPAGATE_LINPSTFLG
Endif
Return

$INIT_LINPSTFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPSTFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINPSTFLG=0 and fmet this.AGETATTRIBUTE("LINPSTFLG","$isMandatory")="true"
 this.LINPSTFLG = 1
Endif
Return
 
$CONTROL_LINPSTFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPSTFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPSTFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPSTFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPSTFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
If this.LINPSTFLG<0 or this.LINPSTFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINPSTFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPSTFLG
[L]CURPRO = "LINPSTFLG"
Return

$PROPAGATE_LINPSTFLG
this.isReadonly = 0
[L]CURPRO = "LINPSTFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPSTFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPSTFLG"
$_LNKPRO_LINPSTFLG
Return


####################################################################
# 98 : LINPSTDAT Reversal date ( Field D)
####################################################################

$SET_LINPSTDAT
If [L]_AOLDVAL<>this.LINPSTDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPSTDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPSTDAT
 Gosub PROPAGATE_LINPSTDAT
Endif
Return

$INIT_LINPSTDAT
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPSTDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINPSTDAT
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPSTDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPSTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPSTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPSTDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
Return

$_AOTHERS_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPSTDAT
[L]CURPRO = "LINPSTDAT"
Return

$PROPAGATE_LINPSTDAT
this.isReadonly = 0
[L]CURPRO = "LINPSTDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPSTDAT
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPSTDAT"
$_LNKPRO_LINPSTDAT
Return


####################################################################
# 99 : QUAFLG QC management ( Field Local menu number 275)
####################################################################

$SET_QUAFLG
If [L]_AOLDVAL<>this.QUAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUAFLG
 Gosub PROPAGATE_QUAFLG
Endif
Return

$INIT_QUAFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "QUAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QUAFLG=0 and fmet this.AGETATTRIBUTE("QUAFLG","$isMandatory")="true"
 this.QUAFLG = 1
Endif
Return
 
$CONTROL_QUAFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "QUAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUAFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUAFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUAFLG
[L]CURPRO = "QUAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUAFLG
[L]CURPRO = "QUAFLG"
If this.QUAFLG<0 or this.QUAFLG>len(mess(0,275,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"275 ->"-num$(this.QUAFLG)-mess(99,123,1)):  Return : # Local menu "275 -> Invalid option
Endif
Return

$_AOTHERS_QUAFLG
[L]CURPRO = "QUAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUAFLG
[L]CURPRO = "QUAFLG"
Return

$PROPAGATE_QUAFLG
this.isReadonly = 0
[L]CURPRO = "QUAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUAFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "QUAFLG"
$_LNKPRO_QUAFLG
Return


####################################################################
# 100 : QUARTNFLG Return from QC ( Field Local menu number 1)
####################################################################

$SET_QUARTNFLG
If [L]_AOLDVAL<>this.QUARTNFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUARTNFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUARTNFLG
 Gosub PROPAGATE_QUARTNFLG
Endif
Return

$INIT_QUARTNFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "QUARTNFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QUARTNFLG=0 and fmet this.AGETATTRIBUTE("QUARTNFLG","$isMandatory")="true"
 this.QUARTNFLG = 1
Endif
Return
 
$CONTROL_QUARTNFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "QUARTNFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUARTNFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUARTNFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUARTNFLG
[L]CURPRO = "QUARTNFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUARTNFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUARTNFLG
[L]CURPRO = "QUARTNFLG"
If this.QUARTNFLG<0 or this.QUARTNFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.QUARTNFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_QUARTNFLG
[L]CURPRO = "QUARTNFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUARTNFLG
[L]CURPRO = "QUARTNFLG"
Return

$PROPAGATE_QUARTNFLG
this.isReadonly = 0
[L]CURPRO = "QUARTNFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUARTNFLG
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "QUARTNFLG"
$_LNKPRO_QUARTNFLG
Return


####################################################################
# 101 : LINPURTYP Purchase type ( Field Local menu number 646)
####################################################################

$SET_LINPURTYP
If [L]_AOLDVAL<>this.LINPURTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPURTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPURTYP
 Gosub PROPAGATE_LINPURTYP
Endif
Return

$INIT_LINPURTYP
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPURTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINPURTYP=0 and fmet this.AGETATTRIBUTE("LINPURTYP","$isMandatory")="true"
 this.LINPURTYP = 1
Endif
Return
 
$CONTROL_LINPURTYP
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPURTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPURTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPURTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPURTYP
[L]CURPRO = "LINPURTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPURTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPURTYP
[L]CURPRO = "LINPURTYP"
If this.LINPURTYP<0 or this.LINPURTYP>len(mess(0,646,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"646 ->"-num$(this.LINPURTYP)-mess(99,123,1)):  Return : # Local menu "646 -> Invalid option
Endif
Return

$_AOTHERS_LINPURTYP
[L]CURPRO = "LINPURTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPURTYP
[L]CURPRO = "LINPURTYP"
Return

$PROPAGATE_LINPURTYP
this.isReadonly = 0
[L]CURPRO = "LINPURTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPURTYP
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINPURTYP"
$_LNKPRO_LINPURTYP
Return


####################################################################
# 102 : EECINCRAT EU increase ( Field RAT 0)
####################################################################

$SET_EECINCRAT
If [L]_AOLDVAL<>this.EECINCRAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECINCRAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECINCRAT
 Gosub PROPAGATE_EECINCRAT
Endif
Return

$INIT_EECINCRAT
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "EECINCRAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EECINCRAT
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "EECINCRAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECINCRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECINCRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECINCRAT
[L]CURPRO = "EECINCRAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EECINCRAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECINCRAT
[L]CURPRO = "EECINCRAT"
Return

$_AOTHERS_EECINCRAT
[L]CURPRO = "EECINCRAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECINCRAT
[L]CURPRO = "EECINCRAT"
Return

$PROPAGATE_EECINCRAT
this.isReadonly = 0
[L]CURPRO = "EECINCRAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECINCRAT
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "EECINCRAT"
$_LNKPRO_EECINCRAT
Return


####################################################################
# 103 : ORICRY Country of origin ( Field CRY 3)
####################################################################

$SET_ORICRY
If [L]_AOLDVAL<>this.ORICRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORICRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORICRY
 Gosub PROPAGATE_ORICRY
Endif
Return

$INIT_ORICRY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "ORICRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORICRY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "ORICRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORICRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORICRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORICRY
[L]CURPRO = "ORICRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ORICRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORICRY
[L]CURPRO = "ORICRY"
If vireblc(this.ORICRY,2)<>vireblc(format$("K:3c",this.ORICRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ORICRY
[L]CURPRO = "ORICRY"
If vireblc(this.ORICRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"ORICRY",this.ORICRY,this.ORICRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ORICRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORICRY
[L]CURPRO = "ORICRY"
Return

$PROPAGATE_ORICRY
this.isReadonly = 0
[L]CURPRO = "ORICRY"
Gosub _LNKPRO_ORICRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORICRY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "ORICRY"
$_LNKPRO_ORICRY
If vireblc(this.ORICRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.ORICRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ORICRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ORICRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return


####################################################################
# 104 : BPOCRY Shipping country ( Field CRY 3)
####################################################################

$SET_BPOCRY
If [L]_AOLDVAL<>this.BPOCRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOCRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOCRY
 Gosub PROPAGATE_BPOCRY
Endif
Return

$INIT_BPOCRY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "BPOCRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOCRY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "BPOCRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOCRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOCRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOCRY
[L]CURPRO = "BPOCRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOCRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOCRY
[L]CURPRO = "BPOCRY"
If vireblc(this.BPOCRY,2)<>vireblc(format$("K:3c",this.BPOCRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOCRY
[L]CURPRO = "BPOCRY"
If vireblc(this.BPOCRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"BPOCRY",this.BPOCRY,this.BPOCRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPOCRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOCRY
[L]CURPRO = "BPOCRY"
Return

$PROPAGATE_BPOCRY
this.isReadonly = 0
[L]CURPRO = "BPOCRY"
Gosub _LNKPRO_BPOCRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOCRY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "BPOCRY"
$_LNKPRO_BPOCRY
If vireblc(this.BPOCRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.BPOCRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOCRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOCRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return


####################################################################
# 105 : SATISS Issue region ( Field SAT 35)
####################################################################

$SET_SATISS
If [L]_AOLDVAL<>this.SATISS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SATISS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SATISS
 Gosub PROPAGATE_SATISS
Endif
Return

$INIT_SATISS
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SATISS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SATISS
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SATISS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SATISS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SATISS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SATISS
[L]CURPRO = "SATISS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SATISS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SATISS
[L]CURPRO = "SATISS"
If vireblc(this.SATISS,2)<>vireblc(format$("K:35X",this.SATISS),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SATISS
[L]CURPRO = "SATISS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLSAT(this,"SATISS",this.SATISS,this.ORICRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SATISS
[L]CURPRO = "SATISS"
Return

$PROPAGATE_SATISS
this.isReadonly = 0
[L]CURPRO = "SATISS"
Gosub _LNKPRO_SATISS
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SATISS
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SATISS"
$_LNKPRO_SATISS
If vireblc(this.SATISS,2)<>""
 # Link TABSUBDIV
 Local File TABSUBDIV [WATU]
 Read [F:WATU]ATU0 = this.BPOCRY;this.POHTYP;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SATISS","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SATISS","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WATU]
Endif
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATSAT(this,"SATISS",this.SATISS,[L]AFORMAT,this.ORICRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("SATISS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 107 : TRSFAM Transaction group ( Field Miscellaneous table number)
####################################################################

$SET_TRSFAM
If [L]_AOLDVAL<>this.TRSFAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRSFAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRSFAM
 Gosub PROPAGATE_TRSFAM
Endif
Return

$INIT_TRSFAM
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TRSFAM"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"TRSFAM",this.TRSFAM,9)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRSFAM
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TRSFAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRSFAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRSFAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRSFAM
[L]CURPRO = "TRSFAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TRSFAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRSFAM
[L]CURPRO = "TRSFAM"
If vireblc(this.TRSFAM,2)<>vireblc(format$("K:20B",this.TRSFAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TRSFAM
[L]CURPRO = "TRSFAM"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"TRSFAM",this.TRSFAM,9,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRSFAM
[L]CURPRO = "TRSFAM"
Return

$PROPAGATE_TRSFAM
this.isReadonly = 0
[L]CURPRO = "TRSFAM"
Gosub _LNKPRO_TRSFAM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRSFAM
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TRSFAM"
$_LNKPRO_TRSFAM
If vireblc(this.TRSFAM,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 9;this.TRSFAM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TRSFAM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TRSFAM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 108 : VAT1 Tax 1 ( Field VAT 5)
####################################################################

$GET_VAT1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT1"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_VAT1
If [L]_AOLDVAL<>this.VAT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT1
 Gosub PROPAGATE_VAT1
Endif
Return

$INIT_VAT1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT1
[L]CURPRO = "VAT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT1
[L]CURPRO = "VAT1"
If vireblc(this.VAT1,2)<>vireblc(format$("K:5c",this.VAT1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT1
[L]CURPRO = "VAT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT1
[L]CURPRO = "VAT1"
If vireblc(this.VAT1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VAT1",this.VAT1,this.VAT1,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VAT1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VAT1
this.isReadonly = 0
[L]CURPRO = "VAT1"
Gosub _LNKPRO_VAT1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT1"
$_LNKPRO_VAT1
If vireblc(this.VAT1,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VAT1;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT1","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT1","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 109 : VAT2 Tax 2 ( Field VAT 5)
####################################################################

$GET_VAT2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT2"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_VAT2
If [L]_AOLDVAL<>this.VAT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT2
 Gosub PROPAGATE_VAT2
Endif
Return

$INIT_VAT2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT2
[L]CURPRO = "VAT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT2
[L]CURPRO = "VAT2"
If vireblc(this.VAT2,2)<>vireblc(format$("K:5c",this.VAT2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT2
[L]CURPRO = "VAT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT2
[L]CURPRO = "VAT2"
If vireblc(this.VAT2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VAT2",this.VAT2,this.VAT2,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VAT2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VAT2
this.isReadonly = 0
[L]CURPRO = "VAT2"
Gosub _LNKPRO_VAT2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT2"
$_LNKPRO_VAT2
If vireblc(this.VAT2,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VAT2;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 110 : VAT3 Tax 3 ( Field VAT 5)
####################################################################

$GET_VAT3
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT3"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_VAT3
If [L]_AOLDVAL<>this.VAT3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT3
 Gosub PROPAGATE_VAT3
Endif
Return

$INIT_VAT3
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT3
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT3
[L]CURPRO = "VAT3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT3
[L]CURPRO = "VAT3"
If vireblc(this.VAT3,2)<>vireblc(format$("K:5c",this.VAT3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT3
[L]CURPRO = "VAT3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT3
[L]CURPRO = "VAT3"
If vireblc(this.VAT3,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VAT3",this.VAT3,this.VAT3,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VAT3<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VAT3
this.isReadonly = 0
[L]CURPRO = "VAT3"
Gosub _LNKPRO_VAT3
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT3
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "VAT3"
$_LNKPRO_VAT3
If vireblc(this.VAT3,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VAT3;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT3","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT3","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 111 : TAXRCP Receipt tax ( Field VAT 5)
####################################################################

$SET_TAXRCP
If [L]_AOLDVAL<>this.TAXRCP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXRCP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXRCP
 Gosub PROPAGATE_TAXRCP
Endif
Return

$INIT_TAXRCP
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXRCP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TAXRCP
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXRCP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXRCP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXRCP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXRCP
[L]CURPRO = "TAXRCP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TAXRCP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXRCP
[L]CURPRO = "TAXRCP"
If vireblc(this.TAXRCP,2)<>vireblc(format$("K:5c",this.TAXRCP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TAXRCP
[L]CURPRO = "TAXRCP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXRCP
[L]CURPRO = "TAXRCP"
If vireblc(this.TAXRCP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"TAXRCP",this.TAXRCP,this.TAXRCP,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TAXRCP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_TAXRCP
this.isReadonly = 0
[L]CURPRO = "TAXRCP"
Gosub _LNKPRO_TAXRCP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXRCP
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXRCP"
$_LNKPRO_TAXRCP
If vireblc(this.TAXRCP,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.TAXRCP;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXRCP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXRCP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 112 : TAXISS Issue tax ( Field VAT 5)
####################################################################

$SET_TAXISS
If [L]_AOLDVAL<>this.TAXISS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXISS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXISS
 Gosub PROPAGATE_TAXISS
Endif
Return

$INIT_TAXISS
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXISS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TAXISS
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXISS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXISS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXISS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXISS
[L]CURPRO = "TAXISS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TAXISS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXISS
[L]CURPRO = "TAXISS"
If vireblc(this.TAXISS,2)<>vireblc(format$("K:5c",this.TAXISS),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TAXISS
[L]CURPRO = "TAXISS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXISS
[L]CURPRO = "TAXISS"
If vireblc(this.TAXISS,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"TAXISS",this.TAXISS,this.TAXISS,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TAXISS<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_TAXISS
this.isReadonly = 0
[L]CURPRO = "TAXISS"
Gosub _LNKPRO_TAXISS
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXISS
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXISS"
$_LNKPRO_TAXISS
If vireblc(this.TAXISS,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.TAXISS;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXISS","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXISS","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 113 : TAXOTH1 Other tax 1 ( Field VAT 5)
####################################################################

$SET_TAXOTH1
If [L]_AOLDVAL<>this.TAXOTH1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXOTH1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXOTH1
 Gosub PROPAGATE_TAXOTH1
Endif
Return

$INIT_TAXOTH1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXOTH1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TAXOTH1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXOTH1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXOTH1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXOTH1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXOTH1
[L]CURPRO = "TAXOTH1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TAXOTH1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXOTH1
[L]CURPRO = "TAXOTH1"
If vireblc(this.TAXOTH1,2)<>vireblc(format$("K:5c",this.TAXOTH1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TAXOTH1
[L]CURPRO = "TAXOTH1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXOTH1
[L]CURPRO = "TAXOTH1"
If vireblc(this.TAXOTH1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"TAXOTH1",this.TAXOTH1,this.TAXOTH1,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TAXOTH1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_TAXOTH1
this.isReadonly = 0
[L]CURPRO = "TAXOTH1"
Gosub _LNKPRO_TAXOTH1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXOTH1
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXOTH1"
$_LNKPRO_TAXOTH1
If vireblc(this.TAXOTH1,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.TAXOTH1;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXOTH1","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXOTH1","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 114 : TAXOTH2 Other tax 2 ( Field VAT 5)
####################################################################

$SET_TAXOTH2
If [L]_AOLDVAL<>this.TAXOTH2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXOTH2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXOTH2
 Gosub PROPAGATE_TAXOTH2
Endif
Return

$INIT_TAXOTH2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXOTH2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TAXOTH2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXOTH2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXOTH2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXOTH2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXOTH2
[L]CURPRO = "TAXOTH2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TAXOTH2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXOTH2
[L]CURPRO = "TAXOTH2"
If vireblc(this.TAXOTH2,2)<>vireblc(format$("K:5c",this.TAXOTH2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TAXOTH2
[L]CURPRO = "TAXOTH2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXOTH2
[L]CURPRO = "TAXOTH2"
If vireblc(this.TAXOTH2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"TAXOTH2",this.TAXOTH2,this.TAXOTH2,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TAXOTH2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_TAXOTH2
this.isReadonly = 0
[L]CURPRO = "TAXOTH2"
Gosub _LNKPRO_TAXOTH2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXOTH2
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "TAXOTH2"
$_LNKPRO_TAXOTH2
If vireblc(this.TAXOTH2,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.TAXOTH2;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXOTH2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TAXOTH2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 115 : LINTEX Text ( Field TXC 12)
####################################################################

$SET_LINTEX
If [L]_AOLDVAL<>this.LINTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINTEX
 Gosub PROPAGATE_LINTEX
Endif
Return

$INIT_LINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINTEX
[L]CURPRO = "LINTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LINTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINTEX
[L]CURPRO = "LINTEX"
If vireblc(this.LINTEX,2)<>vireblc(format$("K:12X",this.LINTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LINTEX
[L]CURPRO = "LINTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINTEX
[L]CURPRO = "LINTEX"
Return

$PROPAGATE_LINTEX
this.isReadonly = 0
[L]CURPRO = "LINTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINTEX"
$_LNKPRO_LINTEX
Return


####################################################################
# 116 : CLALINTEX Line text ( Field ACRTF 1)
####################################################################

$GET_CLALINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "CLALINTEX"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("CLALINTEX",
& this.LINTEX
& ,[L]_CNT,this.CLALINTEX)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_CLALINTEX
If fmet this.AGETATTRIBUTE("CLALINTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLALINTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLALINTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("CLALINTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLALINTEX
 Gosub PROPAGATE_CLALINTEX
Endif
Return

$INIT_CLALINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "CLALINTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLALINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "CLALINTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLALINTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLALINTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLALINTEX
[L]CURPRO = "CLALINTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.CLALINTEX)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLALINTEX
[L]CURPRO = "CLALINTEX"
Return

$_AOTHERS_CLALINTEX
[L]CURPRO = "CLALINTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLALINTEX
[L]CURPRO = "CLALINTEX"
Return

$PROPAGATE_CLALINTEX
this.isReadonly = 0
[L]CURPRO = "CLALINTEX"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLALINTEX
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "CLALINTEX"
$_LNKPRO_CLALINTEX
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_CLALINTEX From WMC0PRECEIPTD
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLALINTEX","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 117 : SDHNUM Delivery no. ( Field VCR 20)
####################################################################

$SET_SDHNUM
If [L]_AOLDVAL<>this.SDHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SDHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SDHNUM
 Gosub PROPAGATE_SDHNUM
Endif
Return

$INIT_SDHNUM
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SDHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SDHNUM
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SDHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SDHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SDHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SDHNUM
[L]CURPRO = "SDHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SDHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SDHNUM
[L]CURPRO = "SDHNUM"
If vireblc(this.SDHNUM,2)<>vireblc(format$("K:20X",this.SDHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SDHNUM
[L]CURPRO = "SDHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SDHNUM
[L]CURPRO = "SDHNUM"
Return

$PROPAGATE_SDHNUM
this.isReadonly = 0
[L]CURPRO = "SDHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SDHNUM
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SDHNUM"
$_LNKPRO_SDHNUM
Return


####################################################################
# 118 : SDDLIN Delivery line ( Field L 8)
####################################################################

$SET_SDDLIN
If [L]_AOLDVAL<>this.SDDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SDDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SDDLIN
 Gosub PROPAGATE_SDDLIN
Endif
Return

$INIT_SDDLIN
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SDDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SDDLIN
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SDDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SDDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SDDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SDDLIN
[L]CURPRO = "SDDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SDDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SDDLIN
[L]CURPRO = "SDDLIN"
Return

$_AOTHERS_SDDLIN
[L]CURPRO = "SDDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SDDLIN
[L]CURPRO = "SDDLIN"
Return

$PROPAGATE_SDDLIN
this.isReadonly = 0
[L]CURPRO = "SDDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SDDLIN
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "SDDLIN"
$_LNKPRO_SDDLIN
Return


####################################################################
# 119 : LINSTOFCY Shipment site ( Field FCY 5)
####################################################################

$SET_LINSTOFCY
If [L]_AOLDVAL<>this.LINSTOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINSTOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINSTOFCY
 Gosub PROPAGATE_LINSTOFCY
Endif
Return

$INIT_LINSTOFCY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINSTOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINSTOFCY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINSTOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINSTOFCY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINSTOFCY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINSTOFCY
[L]CURPRO = "LINSTOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LINSTOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINSTOFCY
[L]CURPRO = "LINSTOFCY"
If vireblc(this.LINSTOFCY,2)<>vireblc(format$("K:5c",this.LINSTOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LINSTOFCY
[L]CURPRO = "LINSTOFCY"
If vireblc(this.LINSTOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"LINSTOFCY",this.LINSTOFCY,this.LINSTOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LINSTOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINSTOFCY
[L]CURPRO = "LINSTOFCY"
Return

$PROPAGATE_LINSTOFCY
this.isReadonly = 0
[L]CURPRO = "LINSTOFCY"
Gosub _LNKPRO_LINSTOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINSTOFCY
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "LINSTOFCY"
$_LNKPRO_LINSTOFCY
If vireblc(this.LINSTOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.LINSTOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LINSTOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LINSTOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 120 : ITMREFORI Released product ( Field ITM 20)
####################################################################

$SET_ITMREFORI
If [L]_AOLDVAL<>this.ITMREFORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREFORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREFORI
 Gosub PROPAGATE_ITMREFORI
Endif
Return

$INIT_ITMREFORI
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "ITMREFORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREFORI
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "ITMREFORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREFORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREFORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREFORI
[L]CURPRO = "ITMREFORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREFORI,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREFORI
[L]CURPRO = "ITMREFORI"
If vireblc(this.ITMREFORI,2)<>vireblc(format$("K:20c",this.ITMREFORI),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREFORI
[L]CURPRO = "ITMREFORI"
If vireblc(this.ITMREFORI,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREFORI",this.ITMREFORI,this.ITMREFORI,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREFORI<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREFORI
[L]CURPRO = "ITMREFORI"
Return

$PROPAGATE_ITMREFORI
this.isReadonly = 0
[L]CURPRO = "ITMREFORI"
Gosub _LNKPRO_ITMREFORI
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREFORI
Gosub DECLARE_VAR From WMC0PRECEIPTD
[L]CURPRO = "ITMREFORI"
$_LNKPRO_ITMREFORI
If vireblc(this.ITMREFORI,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREFORI
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREFORI","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return




