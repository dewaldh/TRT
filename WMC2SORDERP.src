#<AdxTL>@(#)0.0.0.0 $Revision$Class Sales orders - price
# Supervisor
## ACLA-CLASSE ## SORDERP
# 2018-08-27 12:48:24 250

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 31 : NETPRINOT Net price - tax ( Field MD8 0)
####################################################################

$SET_NETPRINOT
If [L]_AOLDVAL<>this.NETPRINOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRINOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRINOT
 Gosub PROPAGATE_NETPRINOT
Endif
Return

$INIT_NETPRINOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "NETPRINOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRINOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "NETPRINOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRINOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRINOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRINOT
[L]CURPRO = "NETPRINOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRINOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRINOT
[L]CURPRO = "NETPRINOT"
Return

$_AOTHERS_NETPRINOT
[L]CURPRO = "NETPRINOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRINOT
[L]CURPRO = "NETPRINOT"
Return

$PROPAGATE_NETPRINOT
this.isReadonly = 0
[L]CURPRO = "NETPRINOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRINOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "NETPRINOT"
$_LNKPRO_NETPRINOT
Return


####################################################################
# 32 : NETPRIATI Net price + tax ( Field MD8 0)
####################################################################

$SET_NETPRIATI
If [L]_AOLDVAL<>this.NETPRIATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRIATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRIATI
 Gosub PROPAGATE_NETPRIATI
Endif
Return

$INIT_NETPRIATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "NETPRIATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRIATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "NETPRIATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRIATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRIATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRIATI
[L]CURPRO = "NETPRIATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRIATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRIATI
[L]CURPRO = "NETPRIATI"
Return

$_AOTHERS_NETPRIATI
[L]CURPRO = "NETPRIATI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRIATI
[L]CURPRO = "NETPRIATI"
Return

$PROPAGATE_NETPRIATI
this.isReadonly = 0
[L]CURPRO = "NETPRIATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRIATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "NETPRIATI"
$_LNKPRO_NETPRIATI
Return


####################################################################
# 33 : PFM Margin ( Field MD1 0)
####################################################################

$SET_PFM
If [L]_AOLDVAL<>this.PFM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PFM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PFM
 Gosub PROPAGATE_PFM
Endif
Return

$INIT_PFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "PFM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "PFM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PFM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PFM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PFM
[L]CURPRO = "PFM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PFM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PFM
[L]CURPRO = "PFM"
Return

$_AOTHERS_PFM
[L]CURPRO = "PFM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PFM",this.PFM,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PFM
[L]CURPRO = "PFM"
Return

$PROPAGATE_PFM
this.isReadonly = 0
[L]CURPRO = "PFM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "PFM"
$_LNKPRO_PFM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PFM",this.PFM,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PFM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 34 : CPRPRI Cost price ( Field MD8 0)
####################################################################

$SET_CPRPRI
If [L]_AOLDVAL<>this.CPRPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPRPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPRPRI
 Gosub PROPAGATE_CPRPRI
Endif
Return

$INIT_CPRPRI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CPRPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPRPRI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CPRPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPRPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPRPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPRPRI
[L]CURPRO = "CPRPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPRPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPRPRI
[L]CURPRO = "CPRPRI"
Return

$_AOTHERS_CPRPRI
[L]CURPRO = "CPRPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPRPRI
[L]CURPRO = "CPRPRI"
Return

$PROPAGATE_CPRPRI
this.isReadonly = 0
[L]CURPRO = "CPRPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPRPRI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CPRPRI"
$_LNKPRO_CPRPRI
Return


####################################################################
# 35 : DISCRGVAL1 Discount/Charge 1 ( Field MD8 0)
####################################################################

$SET_DISCRGVAL1
If [L]_AOLDVAL<>this.DISCRGVAL1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGVAL1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGVAL1
 Gosub PROPAGATE_DISCRGVAL1
Endif
Return

$INIT_DISCRGVAL1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGVAL1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGVAL1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGVAL1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGVAL1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
Return

$_AOTHERS_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
Return

$PROPAGATE_DISCRGVAL1
this.isReadonly = 0
[L]CURPRO = "DISCRGVAL1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGVAL1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL1"
$_LNKPRO_DISCRGVAL1
Return


####################################################################
# 36 : DISCRGVAL2 Discount/Charge 2 ( Field MD8 0)
####################################################################

$SET_DISCRGVAL2
If [L]_AOLDVAL<>this.DISCRGVAL2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGVAL2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGVAL2
 Gosub PROPAGATE_DISCRGVAL2
Endif
Return

$INIT_DISCRGVAL2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGVAL2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGVAL2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGVAL2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGVAL2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
Return

$_AOTHERS_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
Return

$PROPAGATE_DISCRGVAL2
this.isReadonly = 0
[L]CURPRO = "DISCRGVAL2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGVAL2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL2"
$_LNKPRO_DISCRGVAL2
Return


####################################################################
# 37 : DISCRGVAL3 Discount/Charge 3 ( Field MD8 0)
####################################################################

$SET_DISCRGVAL3
If [L]_AOLDVAL<>this.DISCRGVAL3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGVAL3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGVAL3
 Gosub PROPAGATE_DISCRGVAL3
Endif
Return

$INIT_DISCRGVAL3
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGVAL3
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGVAL3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGVAL3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGVAL3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
Return

$_AOTHERS_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
Return

$PROPAGATE_DISCRGVAL3
this.isReadonly = 0
[L]CURPRO = "DISCRGVAL3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGVAL3
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGVAL3"
$_LNKPRO_DISCRGVAL3
Return


####################################################################
# 38 : DISCRGREN1 Discount 1 reason ( Field SPR 0)
####################################################################

$SET_DISCRGREN1
If [L]_AOLDVAL<>this.DISCRGREN1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGREN1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGREN1
 Gosub PROPAGATE_DISCRGREN1
Endif
Return

$INIT_DISCRGREN1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGREN1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGREN1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGREN1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGREN1
[L]CURPRO = "DISCRGREN1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGREN1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGREN1
[L]CURPRO = "DISCRGREN1"
Return

$_AOTHERS_DISCRGREN1
[L]CURPRO = "DISCRGREN1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGREN1
[L]CURPRO = "DISCRGREN1"
Return

$PROPAGATE_DISCRGREN1
this.isReadonly = 0
[L]CURPRO = "DISCRGREN1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGREN1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN1"
$_LNKPRO_DISCRGREN1
Return


####################################################################
# 39 : DISCRGREN2 Discount 2 reason ( Field SPR 0)
####################################################################

$SET_DISCRGREN2
If [L]_AOLDVAL<>this.DISCRGREN2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGREN2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGREN2
 Gosub PROPAGATE_DISCRGREN2
Endif
Return

$INIT_DISCRGREN2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGREN2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGREN2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGREN2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGREN2
[L]CURPRO = "DISCRGREN2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGREN2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGREN2
[L]CURPRO = "DISCRGREN2"
Return

$_AOTHERS_DISCRGREN2
[L]CURPRO = "DISCRGREN2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGREN2
[L]CURPRO = "DISCRGREN2"
Return

$PROPAGATE_DISCRGREN2
this.isReadonly = 0
[L]CURPRO = "DISCRGREN2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGREN2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN2"
$_LNKPRO_DISCRGREN2
Return


####################################################################
# 40 : DISCRGREN3 Discount 3 reason ( Field SPR 0)
####################################################################

$SET_DISCRGREN3
If [L]_AOLDVAL<>this.DISCRGREN3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGREN3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGREN3
 Gosub PROPAGATE_DISCRGREN3
Endif
Return

$INIT_DISCRGREN3
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGREN3
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGREN3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGREN3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGREN3
[L]CURPRO = "DISCRGREN3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGREN3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGREN3
[L]CURPRO = "DISCRGREN3"
Return

$_AOTHERS_DISCRGREN3
[L]CURPRO = "DISCRGREN3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGREN3
[L]CURPRO = "DISCRGREN3"
Return

$PROPAGATE_DISCRGREN3
this.isReadonly = 0
[L]CURPRO = "DISCRGREN3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGREN3
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "DISCRGREN3"
$_LNKPRO_DISCRGREN3
Return


####################################################################
# 42 : CLCAMT1 Tax calculation basis 1 ( Field MD1 0)
####################################################################

$SET_CLCAMT1
If [L]_AOLDVAL<>this.CLCAMT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLCAMT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLCAMT1
 Gosub PROPAGATE_CLCAMT1
Endif
Return

$INIT_CLCAMT1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CLCAMT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLCAMT1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CLCAMT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLCAMT1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLCAMT1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLCAMT1
[L]CURPRO = "CLCAMT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLCAMT1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLCAMT1
[L]CURPRO = "CLCAMT1"
Return

$_AOTHERS_CLCAMT1
[L]CURPRO = "CLCAMT1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"CLCAMT1",this.CLCAMT1,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLCAMT1
[L]CURPRO = "CLCAMT1"
Return

$PROPAGATE_CLCAMT1
this.isReadonly = 0
[L]CURPRO = "CLCAMT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLCAMT1
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CLCAMT1"
$_LNKPRO_CLCAMT1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"CLCAMT1",this.CLCAMT1,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLCAMT1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 43 : CLCAMT2 Tax calculation basis 2 ( Field MD1 0)
####################################################################

$SET_CLCAMT2
If [L]_AOLDVAL<>this.CLCAMT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLCAMT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLCAMT2
 Gosub PROPAGATE_CLCAMT2
Endif
Return

$INIT_CLCAMT2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CLCAMT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLCAMT2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CLCAMT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLCAMT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLCAMT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLCAMT2
[L]CURPRO = "CLCAMT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLCAMT2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLCAMT2
[L]CURPRO = "CLCAMT2"
Return

$_AOTHERS_CLCAMT2
[L]CURPRO = "CLCAMT2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"CLCAMT2",this.CLCAMT2,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLCAMT2
[L]CURPRO = "CLCAMT2"
Return

$PROPAGATE_CLCAMT2
this.isReadonly = 0
[L]CURPRO = "CLCAMT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLCAMT2
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CLCAMT2"
$_LNKPRO_CLCAMT2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"CLCAMT2",this.CLCAMT2,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLCAMT2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 44 : SAU Sales unit ( Field UOM 3)
####################################################################

$SET_SAU
If [L]_AOLDVAL<>this.SAU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAU
 Gosub PROPAGATE_SAU
Endif
Return

$INIT_SAU
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SAU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAU
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SAU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAU
[L]CURPRO = "SAU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAU
[L]CURPRO = "SAU"
If vireblc(this.SAU,2)<>vireblc(format$("K:3X",this.SAU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAU
[L]CURPRO = "SAU"
If vireblc(this.SAU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"SAU",this.SAU,this.SAU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SAU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAU
[L]CURPRO = "SAU"
Return

$PROPAGATE_SAU
this.isReadonly = 0
[L]CURPRO = "SAU"
Gosub _LNKPRO_SAU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAU
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SAU"
$_LNKPRO_SAU
If vireblc(this.SAU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.SAU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_SAU
[L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$isMandatory","true")
Return


####################################################################
# 45 : STU Stock unit ( Field UOM 3)
####################################################################

$SET_STU
If [L]_AOLDVAL<>this.STU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STU
 Gosub PROPAGATE_STU
Endif
Return

$INIT_STU
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "STU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STU
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "STU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STU
[L]CURPRO = "STU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>vireblc(format$("K:3X",this.STU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"STU",this.STU,this.STU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STU
[L]CURPRO = "STU"
Return

$PROPAGATE_STU
this.isReadonly = 0
[L]CURPRO = "STU"
Gosub _LNKPRO_STU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STU
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "STU"
$_LNKPRO_STU
If vireblc(this.STU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.STU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_STU
[L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$isMandatory","true")
Return


####################################################################
# 46 : SAUSTUCOE SAL-STK conv. ( Field COE 0)
####################################################################

$SET_SAUSTUCOE
If [L]_AOLDVAL<>this.SAUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAUSTUCOE
 Gosub PROPAGATE_SAUSTUCOE
Endif
Return

$INIT_SAUSTUCOE
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAUSTUCOE
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SAUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SAUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
Return

$_AOTHERS_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
Return

$PROPAGATE_SAUSTUCOE
this.isReadonly = 0
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAUSTUCOE
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SAUSTUCOE"
$_LNKPRO_SAUSTUCOE
Return


####################################################################
# 48 : SOQSTA Line status ( Field Local menu number 279)
####################################################################

$SET_SOQSTA
If [L]_AOLDVAL<>this.SOQSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOQSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOQSTA
 Gosub PROPAGATE_SOQSTA
Endif
Return

$INIT_SOQSTA
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SOQSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SOQSTA=0 and fmet this.AGETATTRIBUTE("SOQSTA","$isMandatory")="true"
 this.SOQSTA = 1
Endif
Return
 
$CONTROL_SOQSTA
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SOQSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOQSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOQSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOQSTA
[L]CURPRO = "SOQSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOQSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOQSTA
[L]CURPRO = "SOQSTA"
If this.SOQSTA<0 or this.SOQSTA>len(mess(0,279,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"279 ->"-num$(this.SOQSTA)-mess(99,123,1)):  Return : # Local menu "279 -> Invalid option
Endif
Return

$_AOTHERS_SOQSTA
[L]CURPRO = "SOQSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOQSTA
[L]CURPRO = "SOQSTA"
Return

$PROPAGATE_SOQSTA
this.isReadonly = 0
[L]CURPRO = "SOQSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOQSTA
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SOQSTA"
$_LNKPRO_SOQSTA
Return

$_ALOADATTRIBUTE_SOQSTA
[L]ASTATUS = fmet this.ASETATTRIBUTE("SOQSTA","$isMandatory","true")
Return


####################################################################
# 49 : LINTYP Line type ( Field Local menu number 423)
####################################################################

$SET_LINTYP
If [L]_AOLDVAL<>this.LINTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINTYP
 Gosub PROPAGATE_LINTYP
Endif
Return

$INIT_LINTYP
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINTYP=0 and fmet this.AGETATTRIBUTE("LINTYP","$isMandatory")="true"
 this.LINTYP = 1
Endif
Return
 
$CONTROL_LINTYP
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINTYP
[L]CURPRO = "LINTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINTYP
[L]CURPRO = "LINTYP"
If this.LINTYP<0 or this.LINTYP>len(mess(0,423,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"423 ->"-num$(this.LINTYP)-mess(99,123,1)):  Return : # Local menu "423 -> Invalid option
Endif
Return

$_AOTHERS_LINTYP
[L]CURPRO = "LINTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINTYP
[L]CURPRO = "LINTYP"
Return

$PROPAGATE_LINTYP
this.isReadonly = 0
[L]CURPRO = "LINTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINTYP
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINTYP"
$_LNKPRO_LINTYP
Return


####################################################################
# 50 : FOCFLG Free ( Field Local menu number 439)
####################################################################

$SET_FOCFLG
If [L]_AOLDVAL<>this.FOCFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FOCFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FOCFLG
 Gosub PROPAGATE_FOCFLG
Endif
Return

$INIT_FOCFLG
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "FOCFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FOCFLG=0 and fmet this.AGETATTRIBUTE("FOCFLG","$isMandatory")="true"
 this.FOCFLG = 1
Endif
Return
 
$CONTROL_FOCFLG
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "FOCFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FOCFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FOCFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FOCFLG
[L]CURPRO = "FOCFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FOCFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FOCFLG
[L]CURPRO = "FOCFLG"
If this.FOCFLG<0 or this.FOCFLG>len(mess(0,439,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"439 ->"-num$(this.FOCFLG)-mess(99,123,1)):  Return : # Local menu "439 -> Invalid option
Endif
Return

$_AOTHERS_FOCFLG
[L]CURPRO = "FOCFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FOCFLG
[L]CURPRO = "FOCFLG"
Return

$PROPAGATE_FOCFLG
this.isReadonly = 0
[L]CURPRO = "FOCFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FOCFLG
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "FOCFLG"
$_LNKPRO_FOCFLG
Return


####################################################################
# 51 : ORILIN Free line source ( Field L 8)
####################################################################

$SET_ORILIN
If [L]_AOLDVAL<>this.ORILIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORILIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORILIN
 Gosub PROPAGATE_ORILIN
Endif
Return

$INIT_ORILIN
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "ORILIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORILIN
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "ORILIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORILIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORILIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORILIN
[L]CURPRO = "ORILIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORILIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORILIN
[L]CURPRO = "ORILIN"
Return

$_AOTHERS_ORILIN
[L]CURPRO = "ORILIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORILIN
[L]CURPRO = "ORILIN"
Return

$PROPAGATE_ORILIN
this.isReadonly = 0
[L]CURPRO = "ORILIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORILIN
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "ORILIN"
$_LNKPRO_ORILIN
Return


####################################################################
# 52 : SQHNUM Quote no. ( Field VCR 20)
####################################################################

$SET_SQHNUM
If [L]_AOLDVAL<>this.SQHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SQHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SQHNUM
 Gosub PROPAGATE_SQHNUM
Endif
Return

$INIT_SQHNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SQHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SQHNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SQHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SQHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SQHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SQHNUM
[L]CURPRO = "SQHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SQHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SQHNUM
[L]CURPRO = "SQHNUM"
If vireblc(this.SQHNUM,2)<>vireblc(format$("K:20X",this.SQHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SQHNUM
[L]CURPRO = "SQHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SQHNUM
[L]CURPRO = "SQHNUM"
Return

$PROPAGATE_SQHNUM
this.isReadonly = 0
[L]CURPRO = "SQHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SQHNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SQHNUM"
$_LNKPRO_SQHNUM
Return


####################################################################
# 53 : CONNUM Service contract no. ( Field VCR 20)
####################################################################

$SET_CONNUM
If [L]_AOLDVAL<>this.CONNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CONNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CONNUM
 Gosub PROPAGATE_CONNUM
Endif
Return

$INIT_CONNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CONNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CONNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CONNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CONNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CONNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CONNUM
[L]CURPRO = "CONNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CONNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CONNUM
[L]CURPRO = "CONNUM"
If vireblc(this.CONNUM,2)<>vireblc(format$("K:20X",this.CONNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CONNUM
[L]CURPRO = "CONNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CONNUM
[L]CURPRO = "CONNUM"
Return

$PROPAGATE_CONNUM
this.isReadonly = 0
[L]CURPRO = "CONNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CONNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "CONNUM"
$_LNKPRO_CONNUM
Return


####################################################################
# 54 : SQDLIN Quote line ( Field L 8)
####################################################################

$SET_SQDLIN
If [L]_AOLDVAL<>this.SQDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SQDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SQDLIN
 Gosub PROPAGATE_SQDLIN
Endif
Return

$INIT_SQDLIN
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SQDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SQDLIN
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SQDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SQDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SQDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SQDLIN
[L]CURPRO = "SQDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SQDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SQDLIN
[L]CURPRO = "SQDLIN"
Return

$_AOTHERS_SQDLIN
[L]CURPRO = "SQDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SQDLIN
[L]CURPRO = "SQDLIN"
Return

$PROPAGATE_SQDLIN
this.isReadonly = 0
[L]CURPRO = "SQDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SQDLIN
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "SQDLIN"
$_LNKPRO_SQDLIN
Return


####################################################################
# 55 : LINREVNUM Revision no. ( Field C 4)
####################################################################

$SET_LINREVNUM
If [L]_AOLDVAL<>this.LINREVNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINREVNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINREVNUM
 Gosub PROPAGATE_LINREVNUM
Endif
Return

$INIT_LINREVNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINREVNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINREVNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINREVNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINREVNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINREVNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINREVNUM
[L]CURPRO = "LINREVNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINREVNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINREVNUM
[L]CURPRO = "LINREVNUM"
Return

$_AOTHERS_LINREVNUM
[L]CURPRO = "LINREVNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINREVNUM
[L]CURPRO = "LINREVNUM"
Return

$PROPAGATE_LINREVNUM
this.isReadonly = 0
[L]CURPRO = "LINREVNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINREVNUM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINREVNUM"
$_LNKPRO_LINREVNUM
Return


####################################################################
# 56 : LINORDNOT Line amt. - tax ( Field MD1 0)
####################################################################

$GET_LINORDNOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDNOT"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_LINORDNOT
If [L]_AOLDVAL<>this.LINORDNOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINORDNOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINORDNOT
 Gosub PROPAGATE_LINORDNOT
Endif
Return

$INIT_LINORDNOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDNOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINORDNOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDNOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINORDNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINORDNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINORDNOT
[L]CURPRO = "LINORDNOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINORDNOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINORDNOT
[L]CURPRO = "LINORDNOT"
Return

$_AOTHERS_LINORDNOT
[L]CURPRO = "LINORDNOT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"LINORDNOT",this.LINORDNOT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINORDNOT
[L]CURPRO = "LINORDNOT"
Return

$PROPAGATE_LINORDNOT
this.isReadonly = 0
[L]CURPRO = "LINORDNOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINORDNOT
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDNOT"
$_LNKPRO_LINORDNOT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"LINORDNOT",this.LINORDNOT,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("LINORDNOT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 57 : LINORDATI Line amt. + tax ( Field MD1 0)
####################################################################

$GET_LINORDATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDATI"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_LINORDATI
If [L]_AOLDVAL<>this.LINORDATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINORDATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINORDATI
 Gosub PROPAGATE_LINORDATI
Endif
Return

$INIT_LINORDATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINORDATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINORDATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINORDATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINORDATI
[L]CURPRO = "LINORDATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINORDATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINORDATI
[L]CURPRO = "LINORDATI"
Return

$_AOTHERS_LINORDATI
[L]CURPRO = "LINORDATI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"LINORDATI",this.LINORDATI,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINORDATI
[L]CURPRO = "LINORDATI"
Return

$PROPAGATE_LINORDATI
this.isReadonly = 0
[L]CURPRO = "LINORDATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINORDATI
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINORDATI"
$_LNKPRO_LINORDATI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"LINORDATI",this.LINORDATI,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("LINORDATI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 58 : LINPFM Line margin ( Field MD1 0)
####################################################################

$GET_LINPFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINPFM"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_LINPFM
If [L]_AOLDVAL<>this.LINPFM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINPFM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINPFM
 Gosub PROPAGATE_LINPFM
Endif
Return

$INIT_LINPFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINPFM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINPFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINPFM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINPFM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINPFM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINPFM
[L]CURPRO = "LINPFM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINPFM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINPFM
[L]CURPRO = "LINPFM"
Return

$_AOTHERS_LINPFM
[L]CURPRO = "LINPFM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"LINPFM",this.LINPFM,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINPFM
[L]CURPRO = "LINPFM"
Return

$PROPAGATE_LINPFM
this.isReadonly = 0
[L]CURPRO = "LINPFM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINPFM
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LINPFM"
$_LNKPRO_LINPFM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"LINPFM",this.LINPFM,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("LINPFM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 59 : LEG Legislation ( Field Miscellaneous table number)
####################################################################

$SET_LEG
If [L]_AOLDVAL<>this.LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEG
 Gosub PROPAGATE_LEG
Endif
Return

$INIT_LEG
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"LEG",this.LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEG
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEG
[L]CURPRO = "LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEG
[L]CURPRO = "LEG"
If vireblc(this.LEG,2)<>vireblc(format$("K:20B",this.LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEG
[L]CURPRO = "LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"LEG",this.LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEG
[L]CURPRO = "LEG"
Return

$PROPAGATE_LEG
this.isReadonly = 0
[L]CURPRO = "LEG"
Gosub _LNKPRO_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEG
Gosub DECLARE_VAR From WMC0SORDERP
[L]CURPRO = "LEG"
$_LNKPRO_LEG
If vireblc(this.LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return




