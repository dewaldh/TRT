#<AdxTL>@(#)0.0.0.0 $Revision$Class Subcontract orders
# Supervisor
## ACLA-CLASSE ## SCOHEAD
# 2018-08-27 12:44:04 139


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : SCONUM Subcontract order ( Field VCR 20)
####################################################################

$SET_SCONUM
If [L]_AOLDVAL<>this.SCONUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCONUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCONUM
 Gosub PROPAGATE_SCONUM
Endif
Return

$INIT_SCONUM
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCONUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCONUM
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCONUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCONUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCONUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCONUM
[L]CURPRO = "SCONUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SCONUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCONUM
[L]CURPRO = "SCONUM"
If vireblc(this.SCONUM,2)<>vireblc(format$("K:20X",this.SCONUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SCONUM
[L]CURPRO = "SCONUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCONUM
[L]CURPRO = "SCONUM"
Return

$PROPAGATE_SCONUM
this.isReadonly = 0
[L]CURPRO = "SCONUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCONUM
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCONUM"
$_LNKPRO_SCONUM
Return

$_ALOADATTRIBUTE_SCONUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("SCONUM","$isMandatory","true")
Return


####################################################################
# 2 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 3 : SCODES Description ( Field DES 30)
####################################################################

$SET_SCODES
If [L]_AOLDVAL<>this.SCODES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCODES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCODES
 Gosub PROPAGATE_SCODES
Endif
Return

$INIT_SCODES
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCODES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCODES
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCODES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCODES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCODES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCODES
[L]CURPRO = "SCODES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SCODES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCODES
[L]CURPRO = "SCODES"
If vireblc(this.SCODES,2)<>vireblc(format$("K:30X",this.SCODES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SCODES
[L]CURPRO = "SCODES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCODES
[L]CURPRO = "SCODES"
Return

$PROPAGATE_SCODES
this.isReadonly = 0
[L]CURPRO = "SCODES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCODES
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCODES"
$_LNKPRO_SCODES
Return


####################################################################
# 4 : POHFCY Order site ( Field FCY 5)
####################################################################

$SET_POHFCY
If [L]_AOLDVAL<>this.POHFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POHFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POHFCY
 Gosub PROPAGATE_POHFCY
Endif
Return

$INIT_POHFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "POHFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POHFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "POHFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POHFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POHFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POHFCY
[L]CURPRO = "POHFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POHFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POHFCY
[L]CURPRO = "POHFCY"
If vireblc(this.POHFCY,2)<>vireblc(format$("K:5c",this.POHFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POHFCY
[L]CURPRO = "POHFCY"
If vireblc(this.POHFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"POHFCY",this.POHFCY,this.POHFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.POHFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POHFCY
[L]CURPRO = "POHFCY"
Return

$PROPAGATE_POHFCY
this.isReadonly = 0
[L]CURPRO = "POHFCY"
Gosub _LNKPRO_POHFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POHFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "POHFCY"
$_LNKPRO_POHFCY
If vireblc(this.POHFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.POHFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("POHFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("POHFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_POHFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("POHFCY","$isMandatory","true")
Return


####################################################################
# 5 : MFGFCY Production site ( Field FCY 5)
####################################################################

$SET_MFGFCY
If [L]_AOLDVAL<>this.MFGFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFGFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFGFCY
 Gosub PROPAGATE_MFGFCY
Endif
Return

$INIT_MFGFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MFGFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MFGFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MFGFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFGFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFGFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFGFCY
[L]CURPRO = "MFGFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MFGFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFGFCY
[L]CURPRO = "MFGFCY"
If vireblc(this.MFGFCY,2)<>vireblc(format$("K:5c",this.MFGFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MFGFCY
[L]CURPRO = "MFGFCY"
If vireblc(this.MFGFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"MFGFCY",this.MFGFCY,this.MFGFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.MFGFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFGFCY
[L]CURPRO = "MFGFCY"
Return

$PROPAGATE_MFGFCY
this.isReadonly = 0
[L]CURPRO = "MFGFCY"
Gosub _LNKPRO_MFGFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFGFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MFGFCY"
$_LNKPRO_MFGFCY
If vireblc(this.MFGFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.MFGFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("MFGFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("MFGFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_MFGFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("MFGFCY","$isMandatory","true")
Return


####################################################################
# 6 : INVFCY Invoicing site ( Field FCY 5)
####################################################################

$SET_INVFCY
If [L]_AOLDVAL<>this.INVFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVFCY
 Gosub PROPAGATE_INVFCY
Endif
Return

$INIT_INVFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "INVFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "INVFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVFCY
[L]CURPRO = "INVFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INVFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVFCY
[L]CURPRO = "INVFCY"
If vireblc(this.INVFCY,2)<>vireblc(format$("K:5c",this.INVFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_INVFCY
[L]CURPRO = "INVFCY"
If vireblc(this.INVFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"INVFCY",this.INVFCY,this.INVFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.INVFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVFCY
[L]CURPRO = "INVFCY"
Return

$PROPAGATE_INVFCY
this.isReadonly = 0
[L]CURPRO = "INVFCY"
Gosub _LNKPRO_INVFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "INVFCY"
$_LNKPRO_INVFCY
If vireblc(this.INVFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.INVFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("INVFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("INVFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 7 : BPRNUM Supplier ( Field BPR 15)
####################################################################

$SET_BPRNUM
If [L]_AOLDVAL<>this.BPRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRNUM
 Gosub PROPAGATE_BPRNUM
Endif
Return

$INIT_BPRNUM
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BPRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRNUM
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BPRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRNUM
[L]CURPRO = "BPRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRNUM
[L]CURPRO = "BPRNUM"
If vireblc(this.BPRNUM,2)<>vireblc(format$("K:15c",this.BPRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRNUM
[L]CURPRO = "BPRNUM"
If vireblc(this.BPRNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BPRNUM",this.BPRNUM,this.BPRNUM,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPRNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRNUM
[L]CURPRO = "BPRNUM"
Return

$PROPAGATE_BPRNUM
this.isReadonly = 0
[L]CURPRO = "BPRNUM"
Gosub _LNKPRO_BPRNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRNUM
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BPRNUM"
$_LNKPRO_BPRNUM
If vireblc(this.BPRNUM,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BPRNUM
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRNUM","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRNUM","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return

$_ALOADATTRIBUTE_BPRNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPRNUM","$isMandatory","true")
Return


####################################################################
# 8 : ORDDAT Order date ( Field D)
####################################################################

$SET_ORDDAT
If [L]_AOLDVAL<>this.ORDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDDAT
 Gosub PROPAGATE_ORDDAT
Endif
Return

$INIT_ORDDAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ORDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORDDAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ORDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDDAT
[L]CURPRO = "ORDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDDAT
[L]CURPRO = "ORDDAT"
Return

$_AOTHERS_ORDDAT
[L]CURPRO = "ORDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDDAT
[L]CURPRO = "ORDDAT"
Return

$PROPAGATE_ORDDAT
this.isReadonly = 0
[L]CURPRO = "ORDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDDAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ORDDAT"
$_LNKPRO_ORDDAT
Return


####################################################################
# 9 : RETDAT Requirement date ( Field D)
####################################################################

$SET_RETDAT
If [L]_AOLDVAL<>this.RETDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RETDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RETDAT
 Gosub PROPAGATE_RETDAT
Endif
Return

$INIT_RETDAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "RETDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RETDAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "RETDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RETDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RETDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RETDAT
[L]CURPRO = "RETDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RETDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RETDAT
[L]CURPRO = "RETDAT"
Return

$_AOTHERS_RETDAT
[L]CURPRO = "RETDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RETDAT
[L]CURPRO = "RETDAT"
Return

$PROPAGATE_RETDAT
this.isReadonly = 0
[L]CURPRO = "RETDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RETDAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "RETDAT"
$_LNKPRO_RETDAT
Return


####################################################################
# 10 : SCOSTA Document status ( Field Local menu number 317)
####################################################################

$SET_SCOSTA
If [L]_AOLDVAL<>this.SCOSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCOSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCOSTA
 Gosub PROPAGATE_SCOSTA
Endif
Return

$INIT_SCOSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SCOSTA=0 and fmet this.AGETATTRIBUTE("SCOSTA","$isMandatory")="true"
 this.SCOSTA = 1
Endif
Return
 
$CONTROL_SCOSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCOSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCOSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCOSTA
[L]CURPRO = "SCOSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SCOSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCOSTA
[L]CURPRO = "SCOSTA"
If this.SCOSTA<0 or this.SCOSTA>len(mess(0,317,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"317 ->"-num$(this.SCOSTA)-mess(99,123,1)):  Return : # Local menu "317 -> Invalid option
Endif
Return

$_AOTHERS_SCOSTA
[L]CURPRO = "SCOSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCOSTA
[L]CURPRO = "SCOSTA"
Return

$PROPAGATE_SCOSTA
this.isReadonly = 0
[L]CURPRO = "SCOSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCOSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOSTA"
$_LNKPRO_SCOSTA
Return


####################################################################
# 11 : BETFCY Intersite ( Field Local menu number 1)
####################################################################

$SET_BETFCY
If [L]_AOLDVAL<>this.BETFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BETFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BETFCY
 Gosub PROPAGATE_BETFCY
Endif
Return

$INIT_BETFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BETFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BETFCY=0 and fmet this.AGETATTRIBUTE("BETFCY","$isMandatory")="true"
 this.BETFCY = 1
Endif
Return
 
$CONTROL_BETFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BETFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BETFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BETFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BETFCY
[L]CURPRO = "BETFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BETFCY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BETFCY
[L]CURPRO = "BETFCY"
If this.BETFCY<0 or this.BETFCY>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.BETFCY)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_BETFCY
[L]CURPRO = "BETFCY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BETFCY
[L]CURPRO = "BETFCY"
Return

$PROPAGATE_BETFCY
this.isReadonly = 0
[L]CURPRO = "BETFCY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BETFCY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BETFCY"
$_LNKPRO_BETFCY
Return


####################################################################
# 12 : BETCPY Intercompany ( Field Local menu number 1)
####################################################################

$SET_BETCPY
If [L]_AOLDVAL<>this.BETCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BETCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BETCPY
 Gosub PROPAGATE_BETCPY
Endif
Return

$INIT_BETCPY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BETCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BETCPY=0 and fmet this.AGETATTRIBUTE("BETCPY","$isMandatory")="true"
 this.BETCPY = 1
Endif
Return
 
$CONTROL_BETCPY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BETCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BETCPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BETCPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BETCPY
[L]CURPRO = "BETCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BETCPY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BETCPY
[L]CURPRO = "BETCPY"
If this.BETCPY<0 or this.BETCPY>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.BETCPY)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_BETCPY
[L]CURPRO = "BETCPY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BETCPY
[L]CURPRO = "BETCPY"
Return

$PROPAGATE_BETCPY
this.isReadonly = 0
[L]CURPRO = "BETCPY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BETCPY
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "BETCPY"
$_LNKPRO_BETCPY
Return


####################################################################
# 13 : ITMLINNBR Number of products ( Field L 8)
####################################################################

$SET_ITMLINNBR
If [L]_AOLDVAL<>this.ITMLINNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMLINNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMLINNBR
 Gosub PROPAGATE_ITMLINNBR
Endif
Return

$INIT_ITMLINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ITMLINNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMLINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ITMLINNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMLINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMLINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMLINNBR
[L]CURPRO = "ITMLINNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMLINNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMLINNBR
[L]CURPRO = "ITMLINNBR"
Return

$_AOTHERS_ITMLINNBR
[L]CURPRO = "ITMLINNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMLINNBR
[L]CURPRO = "ITMLINNBR"
Return

$PROPAGATE_ITMLINNBR
this.isReadonly = 0
[L]CURPRO = "ITMLINNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMLINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ITMLINNBR"
$_LNKPRO_ITMLINNBR
Return


####################################################################
# 14 : MATLINNBR Number of materials ( Field L 8)
####################################################################

$SET_MATLINNBR
If [L]_AOLDVAL<>this.MATLINNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MATLINNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MATLINNBR
 Gosub PROPAGATE_MATLINNBR
Endif
Return

$INIT_MATLINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MATLINNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MATLINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MATLINNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MATLINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MATLINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MATLINNBR
[L]CURPRO = "MATLINNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MATLINNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MATLINNBR
[L]CURPRO = "MATLINNBR"
Return

$_AOTHERS_MATLINNBR
[L]CURPRO = "MATLINNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MATLINNBR
[L]CURPRO = "MATLINNBR"
Return

$PROPAGATE_MATLINNBR
this.isReadonly = 0
[L]CURPRO = "MATLINNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MATLINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MATLINNBR"
$_LNKPRO_MATLINNBR
Return


####################################################################
# 15 : OPELINNBR Number of operations ( Field L 8)
####################################################################

$SET_OPELINNBR
If [L]_AOLDVAL<>this.OPELINNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPELINNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPELINNBR
 Gosub PROPAGATE_OPELINNBR
Endif
Return

$INIT_OPELINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OPELINNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPELINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OPELINNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPELINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPELINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPELINNBR
[L]CURPRO = "OPELINNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPELINNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPELINNBR
[L]CURPRO = "OPELINNBR"
Return

$_AOTHERS_OPELINNBR
[L]CURPRO = "OPELINNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPELINNBR
[L]CURPRO = "OPELINNBR"
Return

$PROPAGATE_OPELINNBR
this.isReadonly = 0
[L]CURPRO = "OPELINNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPELINNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OPELINNBR"
$_LNKPRO_OPELINNBR
Return


####################################################################
# 16 : ITMCLENBR Number of products closed ( Field L 8)
####################################################################

$SET_ITMCLENBR
If [L]_AOLDVAL<>this.ITMCLENBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMCLENBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMCLENBR
 Gosub PROPAGATE_ITMCLENBR
Endif
Return

$INIT_ITMCLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ITMCLENBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMCLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ITMCLENBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMCLENBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMCLENBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMCLENBR
[L]CURPRO = "ITMCLENBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMCLENBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMCLENBR
[L]CURPRO = "ITMCLENBR"
Return

$_AOTHERS_ITMCLENBR
[L]CURPRO = "ITMCLENBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMCLENBR
[L]CURPRO = "ITMCLENBR"
Return

$PROPAGATE_ITMCLENBR
this.isReadonly = 0
[L]CURPRO = "ITMCLENBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMCLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ITMCLENBR"
$_LNKPRO_ITMCLENBR
Return


####################################################################
# 17 : MATCLENBR Number of materials closed ( Field L 8)
####################################################################

$SET_MATCLENBR
If [L]_AOLDVAL<>this.MATCLENBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MATCLENBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MATCLENBR
 Gosub PROPAGATE_MATCLENBR
Endif
Return

$INIT_MATCLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MATCLENBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MATCLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MATCLENBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MATCLENBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MATCLENBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MATCLENBR
[L]CURPRO = "MATCLENBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MATCLENBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MATCLENBR
[L]CURPRO = "MATCLENBR"
Return

$_AOTHERS_MATCLENBR
[L]CURPRO = "MATCLENBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MATCLENBR
[L]CURPRO = "MATCLENBR"
Return

$PROPAGATE_MATCLENBR
this.isReadonly = 0
[L]CURPRO = "MATCLENBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MATCLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "MATCLENBR"
$_LNKPRO_MATCLENBR
Return


####################################################################
# 18 : OPECLENBR No. of operations closed ( Field L 8)
####################################################################

$SET_OPECLENBR
If [L]_AOLDVAL<>this.OPECLENBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPECLENBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPECLENBR
 Gosub PROPAGATE_OPECLENBR
Endif
Return

$INIT_OPECLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OPECLENBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPECLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OPECLENBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPECLENBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPECLENBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPECLENBR
[L]CURPRO = "OPECLENBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPECLENBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPECLENBR
[L]CURPRO = "OPECLENBR"
Return

$_AOTHERS_OPECLENBR
[L]CURPRO = "OPECLENBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPECLENBR
[L]CURPRO = "OPECLENBR"
Return

$PROPAGATE_OPECLENBR
this.isReadonly = 0
[L]CURPRO = "OPECLENBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPECLENBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OPECLENBR"
$_LNKPRO_OPECLENBR
Return


####################################################################
# 19 : OVRALLNBR Number of global allocations ( Field L 8)
####################################################################

$SET_OVRALLNBR
If [L]_AOLDVAL<>this.OVRALLNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OVRALLNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OVRALLNBR
 Gosub PROPAGATE_OVRALLNBR
Endif
Return

$INIT_OVRALLNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OVRALLNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OVRALLNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OVRALLNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OVRALLNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OVRALLNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OVRALLNBR
[L]CURPRO = "OVRALLNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OVRALLNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OVRALLNBR
[L]CURPRO = "OVRALLNBR"
Return

$_AOTHERS_OVRALLNBR
[L]CURPRO = "OVRALLNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OVRALLNBR
[L]CURPRO = "OVRALLNBR"
Return

$PROPAGATE_OVRALLNBR
this.isReadonly = 0
[L]CURPRO = "OVRALLNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OVRALLNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "OVRALLNBR"
$_LNKPRO_OVRALLNBR
Return


####################################################################
# 20 : DETALLNBR Number of detail allocations ( Field L 8)
####################################################################

$SET_DETALLNBR
If [L]_AOLDVAL<>this.DETALLNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DETALLNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DETALLNBR
 Gosub PROPAGATE_DETALLNBR
Endif
Return

$INIT_DETALLNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "DETALLNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DETALLNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "DETALLNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DETALLNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DETALLNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DETALLNBR
[L]CURPRO = "DETALLNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DETALLNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DETALLNBR
[L]CURPRO = "DETALLNBR"
Return

$_AOTHERS_DETALLNBR
[L]CURPRO = "DETALLNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DETALLNBR
[L]CURPRO = "DETALLNBR"
Return

$PROPAGATE_DETALLNBR
this.isReadonly = 0
[L]CURPRO = "DETALLNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DETALLNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "DETALLNBR"
$_LNKPRO_DETALLNBR
Return


####################################################################
# 21 : ALLSTA Allocation status ( Field Local menu number 336)
####################################################################

$SET_ALLSTA
If [L]_AOLDVAL<>this.ALLSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ALLSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ALLSTA
 Gosub PROPAGATE_ALLSTA
Endif
Return

$INIT_ALLSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ALLSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ALLSTA=0 and fmet this.AGETATTRIBUTE("ALLSTA","$isMandatory")="true"
 this.ALLSTA = 1
Endif
Return
 
$CONTROL_ALLSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ALLSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ALLSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ALLSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ALLSTA
[L]CURPRO = "ALLSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ALLSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ALLSTA
[L]CURPRO = "ALLSTA"
If this.ALLSTA<0 or this.ALLSTA>len(mess(0,336,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"336 ->"-num$(this.ALLSTA)-mess(99,123,1)):  Return : # Local menu "336 -> Invalid option
Endif
Return

$_AOTHERS_ALLSTA
[L]CURPRO = "ALLSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ALLSTA
[L]CURPRO = "ALLSTA"
Return

$PROPAGATE_ALLSTA
this.isReadonly = 0
[L]CURPRO = "ALLSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ALLSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "ALLSTA"
$_LNKPRO_ALLSTA
Return


####################################################################
# 22 : SHTMATNBR Number short ( Field L 8)
####################################################################

$SET_SHTMATNBR
If [L]_AOLDVAL<>this.SHTMATNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHTMATNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHTMATNBR
 Gosub PROPAGATE_SHTMATNBR
Endif
Return

$INIT_SHTMATNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SHTMATNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHTMATNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SHTMATNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHTMATNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHTMATNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHTMATNBR
[L]CURPRO = "SHTMATNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SHTMATNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHTMATNBR
[L]CURPRO = "SHTMATNBR"
Return

$_AOTHERS_SHTMATNBR
[L]CURPRO = "SHTMATNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHTMATNBR
[L]CURPRO = "SHTMATNBR"
Return

$PROPAGATE_SHTMATNBR
this.isReadonly = 0
[L]CURPRO = "SHTMATNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHTMATNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SHTMATNBR"
$_LNKPRO_SHTMATNBR
Return


####################################################################
# 23 : PRPMATNBR No. of prepared mat ( Field L 8)
####################################################################

$SET_PRPMATNBR
If [L]_AOLDVAL<>this.PRPMATNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRPMATNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRPMATNBR
 Gosub PROPAGATE_PRPMATNBR
Endif
Return

$INIT_PRPMATNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "PRPMATNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRPMATNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "PRPMATNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRPMATNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRPMATNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRPMATNBR
[L]CURPRO = "PRPMATNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRPMATNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRPMATNBR
[L]CURPRO = "PRPMATNBR"
Return

$_AOTHERS_PRPMATNBR
[L]CURPRO = "PRPMATNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRPMATNBR
[L]CURPRO = "PRPMATNBR"
Return

$PROPAGATE_PRPMATNBR
this.isReadonly = 0
[L]CURPRO = "PRPMATNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRPMATNBR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "PRPMATNBR"
$_LNKPRO_PRPMATNBR
Return


####################################################################
# 24 : PRPSTA Picking status ( Field Local menu number 338)
####################################################################

$SET_PRPSTA
If [L]_AOLDVAL<>this.PRPSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRPSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRPSTA
 Gosub PROPAGATE_PRPSTA
Endif
Return

$INIT_PRPSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "PRPSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRPSTA=0 and fmet this.AGETATTRIBUTE("PRPSTA","$isMandatory")="true"
 this.PRPSTA = 1
Endif
Return
 
$CONTROL_PRPSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "PRPSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRPSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRPSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRPSTA
[L]CURPRO = "PRPSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRPSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRPSTA
[L]CURPRO = "PRPSTA"
If this.PRPSTA<0 or this.PRPSTA>len(mess(0,338,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"338 ->"-num$(this.PRPSTA)-mess(99,123,1)):  Return : # Local menu "338 -> Invalid option
Endif
Return

$_AOTHERS_PRPSTA
[L]CURPRO = "PRPSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRPSTA
[L]CURPRO = "PRPSTA"
Return

$PROPAGATE_PRPSTA
this.isReadonly = 0
[L]CURPRO = "PRPSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRPSTA
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "PRPSTA"
$_LNKPRO_PRPSTA
Return


####################################################################
# 25 : SCOTRKFLG Tracking flag ( Field Local menu number 339)
####################################################################

$SET_SCOTRKFLG
If [L]_AOLDVAL<>this.SCOTRKFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCOTRKFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCOTRKFLG
 Gosub PROPAGATE_SCOTRKFLG
Endif
Return

$INIT_SCOTRKFLG
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOTRKFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SCOTRKFLG=0 and fmet this.AGETATTRIBUTE("SCOTRKFLG","$isMandatory")="true"
 this.SCOTRKFLG = 1
Endif
Return
 
$CONTROL_SCOTRKFLG
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOTRKFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCOTRKFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCOTRKFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCOTRKFLG
[L]CURPRO = "SCOTRKFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SCOTRKFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCOTRKFLG
[L]CURPRO = "SCOTRKFLG"
If this.SCOTRKFLG<0 or this.SCOTRKFLG>len(mess(0,339,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"339 ->"-num$(this.SCOTRKFLG)-mess(99,123,1)):  Return : # Local menu "339 -> Invalid option
Endif
Return

$_AOTHERS_SCOTRKFLG
[L]CURPRO = "SCOTRKFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCOTRKFLG
[L]CURPRO = "SCOTRKFLG"
Return

$PROPAGATE_SCOTRKFLG
this.isReadonly = 0
[L]CURPRO = "SCOTRKFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCOTRKFLG
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOTRKFLG"
$_LNKPRO_SCOTRKFLG
Return


####################################################################
# 26 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 27 : CHGTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_CHGTYP
If [L]_AOLDVAL<>this.CHGTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CHGTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CHGTYP
 Gosub PROPAGATE_CHGTYP
Endif
Return

$INIT_CHGTYP
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CHGTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CHGTYP=0 and fmet this.AGETATTRIBUTE("CHGTYP","$isMandatory")="true"
 this.CHGTYP = 1
Endif
Return
 
$CONTROL_CHGTYP
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CHGTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CHGTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CHGTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CHGTYP
[L]CURPRO = "CHGTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CHGTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CHGTYP
[L]CURPRO = "CHGTYP"
If this.CHGTYP<0 or this.CHGTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.CHGTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_CHGTYP
[L]CURPRO = "CHGTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CHGTYP
[L]CURPRO = "CHGTYP"
Return

$PROPAGATE_CHGTYP
this.isReadonly = 0
[L]CURPRO = "CHGTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CHGTYP
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CHGTYP"
$_LNKPRO_CHGTYP
Return


####################################################################
# 28 : CHGCOE Rate ( Field RCU 0)
####################################################################

$SET_CHGCOE
If [L]_AOLDVAL<>this.CHGCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CHGCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CHGCOE
 Gosub PROPAGATE_CHGCOE
Endif
Return

$INIT_CHGCOE
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CHGCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CHGCOE
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CHGCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CHGCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CHGCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CHGCOE
[L]CURPRO = "CHGCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CHGCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CHGCOE
[L]CURPRO = "CHGCOE"
Return

$_AOTHERS_CHGCOE
[L]CURPRO = "CHGCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CHGCOE
[L]CURPRO = "CHGCOE"
Return

$PROPAGATE_CHGCOE
this.isReadonly = 0
[L]CURPRO = "CHGCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CHGCOE
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CHGCOE"
$_LNKPRO_CHGCOE
Return


####################################################################
# 29 : CLODAT Closing date ( Field D)
####################################################################

$SET_CLODAT
If [L]_AOLDVAL<>this.CLODAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLODAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLODAT
 Gosub PROPAGATE_CLODAT
Endif
Return

$INIT_CLODAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CLODAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLODAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CLODAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLODAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLODAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLODAT
[L]CURPRO = "CLODAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLODAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLODAT
[L]CURPRO = "CLODAT"
Return

$_AOTHERS_CLODAT
[L]CURPRO = "CLODAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLODAT
[L]CURPRO = "CLODAT"
Return

$PROPAGATE_CLODAT
this.isReadonly = 0
[L]CURPRO = "CLODAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLODAT
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "CLODAT"
$_LNKPRO_CLODAT
Return


####################################################################
# 30 : SCOTEX Text ( Field TEX 12)
####################################################################

$SET_SCOTEX
If [L]_AOLDVAL<>this.SCOTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCOTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCOTEX
 Gosub PROPAGATE_SCOTEX
Endif
Return

$INIT_SCOTEX
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCOTEX
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCOTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCOTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCOTEX
[L]CURPRO = "SCOTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SCOTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCOTEX
[L]CURPRO = "SCOTEX"
If vireblc(this.SCOTEX,2)<>vireblc(format$("K:12X",this.SCOTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SCOTEX
[L]CURPRO = "SCOTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCOTEX
[L]CURPRO = "SCOTEX"
Return

$PROPAGATE_SCOTEX
this.isReadonly = 0
[L]CURPRO = "SCOTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCOTEX
Gosub DECLARE_VAR From WMC0SCOHEAD
[L]CURPRO = "SCOTEX"
$_LNKPRO_SCOTEX
Return




