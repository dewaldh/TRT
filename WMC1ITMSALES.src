#<AdxTL>@(#)0.0.0.0 $Revision$Class Products - sales
# Supervisor
## ACLA-CLASSE ## ITMSALES
# 2018-08-27 12:35:46 087


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : ITMREF Product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 2 : ITMDES1 Description 1 ( Field DES 30)
####################################################################

$SET_ITMDES1
If [L]_AOLDVAL<>this.ITMDES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES1
 Gosub PROPAGATE_ITMDES1
Endif
Return

$INIT_ITMDES1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMDES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMDES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES1
[L]CURPRO = "ITMDES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES1
[L]CURPRO = "ITMDES1"
If vireblc(this.ITMDES1,2)<>vireblc(format$("K:30X",this.ITMDES1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES1
[L]CURPRO = "ITMDES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES1
[L]CURPRO = "ITMDES1"
Return

$PROPAGATE_ITMDES1
this.isReadonly = 0
[L]CURPRO = "ITMDES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMDES1"
$_LNKPRO_ITMDES1
Return


####################################################################
# 3 : DES1AXX Description 1 ( Field AX3)
####################################################################

$GET_DES1AXX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "DES1AXX"
this.DES1AXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_DES1AXX
If [L]_AOLDVAL<>this.DES1AXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES1AXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES1AXX
 Gosub PROPAGATE_DES1AXX
Endif
Return

$INIT_DES1AXX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "DES1AXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES1AXX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "DES1AXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES1AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES1AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES1AXX
[L]CURPRO = "DES1AXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES1AXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES1AXX
[L]CURPRO = "DES1AXX"
If vireblc(fmet this.AGETTEXTRA("DES1AXX"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("DES1AXX")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DES1AXX
[L]CURPRO = "DES1AXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES1AXX
[L]CURPRO = "DES1AXX"
Return

$PROPAGATE_DES1AXX
this.isReadonly = 0
[L]CURPRO = "DES1AXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.DES1AXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES1AXX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "DES1AXX"
$_LNKPRO_DES1AXX
Return


####################################################################
# 4 : ITMTYP Type ( Field Local menu number 436)
####################################################################

$SET_ITMTYP
If [L]_AOLDVAL<>this.ITMTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMTYP
 Gosub PROPAGATE_ITMTYP
Endif
Return

$INIT_ITMTYP
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ITMTYP=0 and fmet this.AGETATTRIBUTE("ITMTYP","$isMandatory")="true"
 this.ITMTYP = 1
Endif
Return
 
$CONTROL_ITMTYP
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMTYP
[L]CURPRO = "ITMTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMTYP
[L]CURPRO = "ITMTYP"
If this.ITMTYP<0 or this.ITMTYP>len(mess(0,436,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"436 ->"-num$(this.ITMTYP)-mess(99,123,1)):  Return : # Local menu "436 -> Invalid option
Endif
Return

$_AOTHERS_ITMTYP
[L]CURPRO = "ITMTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMTYP
[L]CURPRO = "ITMTYP"
Return

$PROPAGATE_ITMTYP
this.isReadonly = 0
[L]CURPRO = "ITMTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMTYP
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITMTYP"
$_LNKPRO_ITMTYP
Return


####################################################################
# 5 : QTYFOR Quantity formula ( Field A 3)
####################################################################

$SET_QTYFOR
If [L]_AOLDVAL<>this.QTYFOR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYFOR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYFOR
 Gosub PROPAGATE_QTYFOR
Endif
Return

$INIT_QTYFOR
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "QTYFOR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYFOR
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "QTYFOR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYFOR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYFOR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYFOR
[L]CURPRO = "QTYFOR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.QTYFOR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYFOR
[L]CURPRO = "QTYFOR"
Return

$_AOTHERS_QTYFOR
[L]CURPRO = "QTYFOR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYFOR
[L]CURPRO = "QTYFOR"
Return

$PROPAGATE_QTYFOR
this.isReadonly = 0
[L]CURPRO = "QTYFOR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYFOR
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "QTYFOR"
$_LNKPRO_QTYFOR
Return


####################################################################
# 6 : SBSITM Substitution product ( Field ITM 20)
####################################################################

$SET_SBSITM
If [L]_AOLDVAL<>this.SBSITM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SBSITM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SBSITM
 Gosub PROPAGATE_SBSITM
Endif
Return

$INIT_SBSITM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "SBSITM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SBSITM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "SBSITM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SBSITM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SBSITM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SBSITM
[L]CURPRO = "SBSITM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SBSITM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SBSITM
[L]CURPRO = "SBSITM"
If vireblc(this.SBSITM,2)<>vireblc(format$("K:20c",this.SBSITM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SBSITM
[L]CURPRO = "SBSITM"
If vireblc(this.SBSITM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"SBSITM",this.SBSITM,this.SBSITM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SBSITM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SBSITM
[L]CURPRO = "SBSITM"
Return

$PROPAGATE_SBSITM
this.isReadonly = 0
[L]CURPRO = "SBSITM"
Gosub _LNKPRO_SBSITM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SBSITM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "SBSITM"
$_LNKPRO_SBSITM
If vireblc(this.SBSITM,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.SBSITM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SBSITM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return


####################################################################
# 7 : SBSDAT Substitution date ( Field D)
####################################################################

$SET_SBSDAT
If [L]_AOLDVAL<>this.SBSDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SBSDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SBSDAT
 Gosub PROPAGATE_SBSDAT
Endif
Return

$INIT_SBSDAT
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "SBSDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SBSDAT
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "SBSDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SBSDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SBSDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SBSDAT
[L]CURPRO = "SBSDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SBSDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SBSDAT
[L]CURPRO = "SBSDAT"
Return

$_AOTHERS_SBSDAT
[L]CURPRO = "SBSDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SBSDAT
[L]CURPRO = "SBSDAT"
Return

$PROPAGATE_SBSDAT
this.isReadonly = 0
[L]CURPRO = "SBSDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SBSDAT
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "SBSDAT"
$_LNKPRO_SBSDAT
Return


####################################################################
# 8 : ITSTEX Sales text ( Field TXC 12)
####################################################################

$SET_ITSTEX
If [L]_AOLDVAL<>this.ITSTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITSTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITSTEX
 Gosub PROPAGATE_ITSTEX
Endif
Return

$INIT_ITSTEX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITSTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITSTEX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITSTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITSTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITSTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITSTEX
[L]CURPRO = "ITSTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITSTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITSTEX
[L]CURPRO = "ITSTEX"
If vireblc(this.ITSTEX,2)<>vireblc(format$("K:12X",this.ITSTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITSTEX
[L]CURPRO = "ITSTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITSTEX
[L]CURPRO = "ITSTEX"
Return

$PROPAGATE_ITSTEX
this.isReadonly = 0
[L]CURPRO = "ITSTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITSTEX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITSTEX"
$_LNKPRO_ITSTEX
Return


####################################################################
# 9 : CLAITSTEX1 Sales text ( Field ACRTF 1)
####################################################################

$GET_CLAITSTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITSTEX1"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("CLAITSTEX1",
& this.ITSTEX
& ,[L]_CNT,this.CLAITSTEX1)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_CLAITSTEX1
If fmet this.AGETATTRIBUTE("CLAITSTEX1","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLAITSTEX1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLAITSTEX1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("CLAITSTEX1","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLAITSTEX1
 Gosub PROPAGATE_CLAITSTEX1
Endif
Return

$INIT_CLAITSTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITSTEX1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLAITSTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITSTEX1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLAITSTEX1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLAITSTEX1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLAITSTEX1
[L]CURPRO = "CLAITSTEX1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.CLAITSTEX1)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLAITSTEX1
[L]CURPRO = "CLAITSTEX1"
Return

$_AOTHERS_CLAITSTEX1
[L]CURPRO = "CLAITSTEX1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLAITSTEX1
[L]CURPRO = "CLAITSTEX1"
Return

$PROPAGATE_CLAITSTEX1
this.isReadonly = 0
[L]CURPRO = "CLAITSTEX1"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLAITSTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITSTEX1"
$_LNKPRO_CLAITSTEX1
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_CLAITSTEX1 From WMC0ITMSALES
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLAITSTEX1","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 10 : ITPTEX Picking text ( Field TXC 12)
####################################################################

$SET_ITPTEX
If [L]_AOLDVAL<>this.ITPTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITPTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITPTEX
 Gosub PROPAGATE_ITPTEX
Endif
Return

$INIT_ITPTEX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITPTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITPTEX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITPTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITPTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITPTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITPTEX
[L]CURPRO = "ITPTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITPTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITPTEX
[L]CURPRO = "ITPTEX"
If vireblc(this.ITPTEX,2)<>vireblc(format$("K:12X",this.ITPTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITPTEX
[L]CURPRO = "ITPTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITPTEX
[L]CURPRO = "ITPTEX"
Return

$PROPAGATE_ITPTEX
this.isReadonly = 0
[L]CURPRO = "ITPTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITPTEX
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "ITPTEX"
$_LNKPRO_ITPTEX
Return


####################################################################
# 11 : CLAITPTEX1 Picking text ( Field ACRTF 1)
####################################################################

$GET_CLAITPTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITPTEX1"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("CLAITPTEX1",
& this.ITPTEX
& ,[L]_CNT,this.CLAITPTEX1)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_CLAITPTEX1
If fmet this.AGETATTRIBUTE("CLAITPTEX1","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLAITPTEX1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLAITPTEX1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("CLAITPTEX1","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLAITPTEX1
 Gosub PROPAGATE_CLAITPTEX1
Endif
Return

$INIT_CLAITPTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITPTEX1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLAITPTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITPTEX1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLAITPTEX1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLAITPTEX1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLAITPTEX1
[L]CURPRO = "CLAITPTEX1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.CLAITPTEX1)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLAITPTEX1
[L]CURPRO = "CLAITPTEX1"
Return

$_AOTHERS_CLAITPTEX1
[L]CURPRO = "CLAITPTEX1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLAITPTEX1
[L]CURPRO = "CLAITPTEX1"
Return

$PROPAGATE_CLAITPTEX1
this.isReadonly = 0
[L]CURPRO = "CLAITPTEX1"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLAITPTEX1
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CLAITPTEX1"
$_LNKPRO_CLAITPTEX1
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_CLAITPTEX1 From WMC0ITMSALES
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLAITPTEX1","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 12 : PCK Packaging ( Field PCK 5)
####################################################################

$SET_PCK
If [L]_AOLDVAL<>this.PCK
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCK
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCK
 Gosub PROPAGATE_PCK
Endif
Return

$INIT_PCK
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PCK"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCK
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PCK"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCK                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCK                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCK
[L]CURPRO = "PCK"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PCK,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCK
[L]CURPRO = "PCK"
If vireblc(this.PCK,2)<>vireblc(format$("K:5c",this.PCK),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PCK
[L]CURPRO = "PCK"
If vireblc(this.PCK,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPCK.ACTRLREF(this,"PCK",this.PCK,this.PCK,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PCK<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCK
[L]CURPRO = "PCK"
Return

$PROPAGATE_PCK
this.isReadonly = 0
[L]CURPRO = "PCK"
Gosub _LNKPRO_PCK
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCK
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PCK"
$_LNKPRO_PCK
If vireblc(this.PCK,2)<>""
 # Link TABPACKAGE
 Local File TABPACKAGE [WTPA]
 Read [F:WTPA]TPA0 = this.PCK
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPACKAGE" & ZONE="SHOAXX" & IDENT1=[F:WTPA]PCK & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCK","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPACKAGE" & ZONE="DESAXX" & IDENT1=[F:WTPA]PCK & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCK","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTPA]
Endif
Return


####################################################################
# 13 : PCKCAP Packaging capacity ( Field COE 0)
####################################################################

$SET_PCKCAP
If [L]_AOLDVAL<>this.PCKCAP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCKCAP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCKCAP
 Gosub PROPAGATE_PCKCAP
Endif
Return

$INIT_PCKCAP
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PCKCAP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCKCAP
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PCKCAP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCKCAP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCKCAP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCKCAP
[L]CURPRO = "PCKCAP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PCKCAP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCKCAP
[L]CURPRO = "PCKCAP"
Return

$_AOTHERS_PCKCAP
[L]CURPRO = "PCKCAP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCKCAP
[L]CURPRO = "PCKCAP"
Return

$PROPAGATE_PCKCAP
this.isReadonly = 0
[L]CURPRO = "PCKCAP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCKCAP
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PCKCAP"
$_LNKPRO_PCKCAP
Return


####################################################################
# 14 : INVCND Invoicing term ( Field INVCND 20)
####################################################################

$SET_INVCND
If [L]_AOLDVAL<>this.INVCND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVCND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVCND
 Gosub PROPAGATE_INVCND
Endif
Return

$INIT_INVCND
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "INVCND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVCND
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "INVCND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVCND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVCND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVCND
[L]CURPRO = "INVCND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INVCND,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVCND
[L]CURPRO = "INVCND"
If vireblc(this.INVCND,2)<>vireblc(format$("K:20c",this.INVCND),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_INVCND
[L]CURPRO = "INVCND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVCND
[L]CURPRO = "INVCND"
Return

$PROPAGATE_INVCND
this.isReadonly = 0
[L]CURPRO = "INVCND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVCND
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "INVCND"
$_LNKPRO_INVCND
Return


####################################################################
# 15 : GUAMON Warranty (month) ( Field C 2)
####################################################################

$SET_GUAMON
If [L]_AOLDVAL<>this.GUAMON
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GUAMON
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GUAMON
 Gosub PROPAGATE_GUAMON
Endif
Return

$INIT_GUAMON
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "GUAMON"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GUAMON
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "GUAMON"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GUAMON                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GUAMON                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GUAMON
[L]CURPRO = "GUAMON"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GUAMON=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GUAMON
[L]CURPRO = "GUAMON"
Return

$_AOTHERS_GUAMON
[L]CURPRO = "GUAMON"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GUAMON
[L]CURPRO = "GUAMON"
Return

$PROPAGATE_GUAMON
this.isReadonly = 0
[L]CURPRO = "GUAMON"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GUAMON
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "GUAMON"
$_LNKPRO_GUAMON
Return


####################################################################
# 16 : LNDFLG Loan authorized ( Field Local menu number 1)
####################################################################

$SET_LNDFLG
If [L]_AOLDVAL<>this.LNDFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LNDFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LNDFLG
 Gosub PROPAGATE_LNDFLG
Endif
Return

$INIT_LNDFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "LNDFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LNDFLG=0 and fmet this.AGETATTRIBUTE("LNDFLG","$isMandatory")="true"
 this.LNDFLG = 1
Endif
Return
 
$CONTROL_LNDFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "LNDFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LNDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LNDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LNDFLG
[L]CURPRO = "LNDFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LNDFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LNDFLG
[L]CURPRO = "LNDFLG"
If this.LNDFLG<0 or this.LNDFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LNDFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LNDFLG
[L]CURPRO = "LNDFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LNDFLG
[L]CURPRO = "LNDFLG"
Return

$PROPAGATE_LNDFLG
this.isReadonly = 0
[L]CURPRO = "LNDFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LNDFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "LNDFLG"
$_LNKPRO_LNDFLG
Return


####################################################################
# 17 : CTMFLG Back-to-back order ( Field Local menu number 1)
####################################################################

$SET_CTMFLG
If [L]_AOLDVAL<>this.CTMFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTMFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTMFLG
 Gosub PROPAGATE_CTMFLG
Endif
Return

$INIT_CTMFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CTMFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CTMFLG=0 and fmet this.AGETATTRIBUTE("CTMFLG","$isMandatory")="true"
 this.CTMFLG = 1
Endif
Return
 
$CONTROL_CTMFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CTMFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTMFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTMFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTMFLG
[L]CURPRO = "CTMFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CTMFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTMFLG
[L]CURPRO = "CTMFLG"
If this.CTMFLG<0 or this.CTMFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CTMFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CTMFLG
[L]CURPRO = "CTMFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTMFLG
[L]CURPRO = "CTMFLG"
Return

$PROPAGATE_CTMFLG
this.isReadonly = 0
[L]CURPRO = "CTMFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTMFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CTMFLG"
$_LNKPRO_CTMFLG
Return


####################################################################
# 18 : CTMQTY Direct bk-to-bk qty ( Field QTY 0)
####################################################################

$SET_CTMQTY
If [L]_AOLDVAL<>this.CTMQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTMQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTMQTY
 Gosub PROPAGATE_CTMQTY
Endif
Return

$INIT_CTMQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CTMQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTMQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CTMQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTMQTY
[L]CURPRO = "CTMQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CTMQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTMQTY
[L]CURPRO = "CTMQTY"
Return

$_AOTHERS_CTMQTY
[L]CURPRO = "CTMQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTMQTY
[L]CURPRO = "CTMQTY"
Return

$PROPAGATE_CTMQTY
this.isReadonly = 0
[L]CURPRO = "CTMQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTMQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CTMQTY"
$_LNKPRO_CTMQTY
Return


####################################################################
# 19 : MINRMNPRC Delivery tolerance % ( Field RAT 0)
####################################################################

$SET_MINRMNPRC
If [L]_AOLDVAL<>this.MINRMNPRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MINRMNPRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MINRMNPRC
 Gosub PROPAGATE_MINRMNPRC
Endif
Return

$INIT_MINRMNPRC
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINRMNPRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MINRMNPRC
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINRMNPRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MINRMNPRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MINRMNPRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MINRMNPRC
[L]CURPRO = "MINRMNPRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MINRMNPRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MINRMNPRC
[L]CURPRO = "MINRMNPRC"
Return

$_AOTHERS_MINRMNPRC
[L]CURPRO = "MINRMNPRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MINRMNPRC
[L]CURPRO = "MINRMNPRC"
Return

$PROPAGATE_MINRMNPRC
this.isReadonly = 0
[L]CURPRO = "MINRMNPRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MINRMNPRC
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINRMNPRC"
$_LNKPRO_MINRMNPRC
Return


####################################################################
# 20 : MINQTY Minimum quantity ( Field QTY 0)
####################################################################

$SET_MINQTY
If [L]_AOLDVAL<>this.MINQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MINQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MINQTY
 Gosub PROPAGATE_MINQTY
Endif
Return

$INIT_MINQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MINQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MINQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MINQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MINQTY
[L]CURPRO = "MINQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MINQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MINQTY
[L]CURPRO = "MINQTY"
Return

$_AOTHERS_MINQTY
[L]CURPRO = "MINQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MINQTY
[L]CURPRO = "MINQTY"
Return

$PROPAGATE_MINQTY
this.isReadonly = 0
[L]CURPRO = "MINQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MINQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINQTY"
$_LNKPRO_MINQTY
Return


####################################################################
# 21 : MAXQTY Maximum quantity ( Field QTY 0)
####################################################################

$SET_MAXQTY
If [L]_AOLDVAL<>this.MAXQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MAXQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MAXQTY
 Gosub PROPAGATE_MAXQTY
Endif
Return

$INIT_MAXQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MAXQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MAXQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MAXQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MAXQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MAXQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MAXQTY
[L]CURPRO = "MAXQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MAXQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MAXQTY
[L]CURPRO = "MAXQTY"
Return

$_AOTHERS_MAXQTY
[L]CURPRO = "MAXQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MAXQTY
[L]CURPRO = "MAXQTY"
Return

$PROPAGATE_MAXQTY
this.isReadonly = 0
[L]CURPRO = "MAXQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MAXQTY
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MAXQTY"
$_LNKPRO_MAXQTY
Return


####################################################################
# 22 : MINPRI Minimum price ( Field MD7 0)
####################################################################

$SET_MINPRI
If [L]_AOLDVAL<>this.MINPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MINPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MINPRI
 Gosub PROPAGATE_MINPRI
Endif
Return

$INIT_MINPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MINPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MINPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MINPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MINPRI
[L]CURPRO = "MINPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MINPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MINPRI
[L]CURPRO = "MINPRI"
Return

$_AOTHERS_MINPRI
[L]CURPRO = "MINPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MINPRI
[L]CURPRO = "MINPRI"
Return

$PROPAGATE_MINPRI
this.isReadonly = 0
[L]CURPRO = "MINPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MINPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINPRI"
$_LNKPRO_MINPRI
Return


####################################################################
# 23 : THEPRI Theoretical price ( Field MD7 0)
####################################################################

$SET_THEPRI
If [L]_AOLDVAL<>this.THEPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_THEPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.THEPRI
 Gosub PROPAGATE_THEPRI
Endif
Return

$INIT_THEPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "THEPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_THEPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "THEPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_THEPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_THEPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_THEPRI
[L]CURPRO = "THEPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.THEPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_THEPRI
[L]CURPRO = "THEPRI"
Return

$_AOTHERS_THEPRI
[L]CURPRO = "THEPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_THEPRI
[L]CURPRO = "THEPRI"
Return

$PROPAGATE_THEPRI
this.isReadonly = 0
[L]CURPRO = "THEPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_THEPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "THEPRI"
$_LNKPRO_THEPRI
Return


####################################################################
# 24 : MINPFM Minimum margin ( Field RAT 0)
####################################################################

$SET_MINPFM
If [L]_AOLDVAL<>this.MINPFM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MINPFM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MINPFM
 Gosub PROPAGATE_MINPFM
Endif
Return

$INIT_MINPFM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINPFM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MINPFM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINPFM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MINPFM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MINPFM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MINPFM
[L]CURPRO = "MINPFM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MINPFM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MINPFM
[L]CURPRO = "MINPFM"
Return

$_AOTHERS_MINPFM
[L]CURPRO = "MINPFM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MINPFM
[L]CURPRO = "MINPFM"
Return

$PROPAGATE_MINPFM
this.isReadonly = 0
[L]CURPRO = "MINPFM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MINPFM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "MINPFM"
$_LNKPRO_MINPFM
Return


####################################################################
# 25 : BASPRI Base price ( Field MD7 0)
####################################################################

$SET_BASPRI
If [L]_AOLDVAL<>this.BASPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASPRI
 Gosub PROPAGATE_BASPRI
Endif
Return

$INIT_BASPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "BASPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BASPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "BASPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASPRI
[L]CURPRO = "BASPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASPRI
[L]CURPRO = "BASPRI"
Return

$_AOTHERS_BASPRI
[L]CURPRO = "BASPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASPRI
[L]CURPRO = "BASPRI"
Return

$PROPAGATE_BASPRI
this.isReadonly = 0
[L]CURPRO = "BASPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASPRI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "BASPRI"
$_LNKPRO_BASPRI
Return


####################################################################
# 26 : LOAECCFLG Version preloading ( Field Local menu number 1)
####################################################################

$SET_LOAECCFLG
If [L]_AOLDVAL<>this.LOAECCFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOAECCFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOAECCFLG
 Gosub PROPAGATE_LOAECCFLG
Endif
Return

$INIT_LOAECCFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "LOAECCFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LOAECCFLG=0 and fmet this.AGETATTRIBUTE("LOAECCFLG","$isMandatory")="true"
 this.LOAECCFLG = 1
Endif
Return
 
$CONTROL_LOAECCFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "LOAECCFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOAECCFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOAECCFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOAECCFLG
[L]CURPRO = "LOAECCFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LOAECCFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOAECCFLG
[L]CURPRO = "LOAECCFLG"
If this.LOAECCFLG<0 or this.LOAECCFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LOAECCFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LOAECCFLG
[L]CURPRO = "LOAECCFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOAECCFLG
[L]CURPRO = "LOAECCFLG"
Return

$PROPAGATE_LOAECCFLG
this.isReadonly = 0
[L]CURPRO = "LOAECCFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOAECCFLG
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "LOAECCFLG"
$_LNKPRO_LOAECCFLG
Return


####################################################################
# 27 : BASPRIORI Price origin ( Field Local menu number 2271)
####################################################################

$SET_BASPRIORI
If [L]_AOLDVAL<>this.BASPRIORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASPRIORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASPRIORI
 Gosub PROPAGATE_BASPRIORI
Endif
Return

$INIT_BASPRIORI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "BASPRIORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BASPRIORI=0 and fmet this.AGETATTRIBUTE("BASPRIORI","$isMandatory")="true"
 this.BASPRIORI = 1
Endif
Return
 
$CONTROL_BASPRIORI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "BASPRIORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASPRIORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASPRIORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASPRIORI
[L]CURPRO = "BASPRIORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASPRIORI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASPRIORI
[L]CURPRO = "BASPRIORI"
If this.BASPRIORI<0 or this.BASPRIORI>len(mess(0,2271,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2271 ->"-num$(this.BASPRIORI)-mess(99,123,1)):  Return : # Local menu "2271 -> Invalid option
Endif
Return

$_AOTHERS_BASPRIORI
[L]CURPRO = "BASPRIORI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASPRIORI
[L]CURPRO = "BASPRIORI"
Return

$PROPAGATE_BASPRIORI
this.isReadonly = 0
[L]CURPRO = "BASPRIORI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASPRIORI
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "BASPRIORI"
$_LNKPRO_BASPRIORI
Return


####################################################################
# 28 : PURPRIPRC % applied ( Field RAT 0)
####################################################################

$SET_PURPRIPRC
If [L]_AOLDVAL<>this.PURPRIPRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PURPRIPRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PURPRIPRC
 Gosub PROPAGATE_PURPRIPRC
Endif
Return

$INIT_PURPRIPRC
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PURPRIPRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PURPRIPRC
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PURPRIPRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PURPRIPRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PURPRIPRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PURPRIPRC
[L]CURPRO = "PURPRIPRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PURPRIPRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PURPRIPRC
[L]CURPRO = "PURPRIPRC"
Return

$_AOTHERS_PURPRIPRC
[L]CURPRO = "PURPRIPRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PURPRIPRC
[L]CURPRO = "PURPRIPRC"
Return

$PROPAGATE_PURPRIPRC
this.isReadonly = 0
[L]CURPRO = "PURPRIPRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PURPRIPRC
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "PURPRIPRC"
$_LNKPRO_PURPRIPRC
Return


####################################################################
# 29 : EXPNUM Export number ( Field L 8)
####################################################################

$SET_EXPNUM
If [L]_AOLDVAL<>this.EXPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPNUM
 Gosub PROPAGATE_EXPNUM
Endif
Return

$INIT_EXPNUM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "EXPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPNUM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "EXPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPNUM
[L]CURPRO = "EXPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXPNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$_AOTHERS_EXPNUM
[L]CURPRO = "EXPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$PROPAGATE_EXPNUM
this.isReadonly = 0
[L]CURPRO = "EXPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPNUM
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "EXPNUM"
$_LNKPRO_EXPNUM
Return


####################################################################
# 30 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0ITMSALES
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return




