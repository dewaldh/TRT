#<AdxTL>@(#)0.0.0.0 $Revision$Class Open items
# Supervisor
## ACLA-CLASSE ## GACCDUDATE
# 2018-08-27 12:32:23 115


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : TYP Entry type ( Field GTE 5)
####################################################################

$SET_TYP
If [L]_AOLDVAL<>this.TYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYP
 Gosub PROPAGATE_TYP
Endif
Return

$INIT_TYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYP
[L]CURPRO = "TYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYP
[L]CURPRO = "TYP"
If vireblc(this.TYP,2)<>vireblc(format$("K:5d",this.TYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TYP
[L]CURPRO = "TYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYP
[L]CURPRO = "TYP"
If vireblc(this.TYP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGTE.ACTRLREF(this,"TYP",this.TYP,this.TYP,"",2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TYP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_TYP
this.isReadonly = 0
[L]CURPRO = "TYP"
Gosub _LNKPRO_TYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TYP"
$_LNKPRO_TYP
If vireblc(this.TYP,2)<>""
 # Link GTYPACCENT
 Local File GTYPACCENT [WGTE]
 Read [F:WGTE]GTE0 = this.TYP;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="SHOTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="DESTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGTE]
Endif
Return

$_ALOADATTRIBUTE_TYP
[L]ASTATUS = fmet this.ASETATTRIBUTE("TYP","$isMandatory","true")
Return


####################################################################
# 2 : NUM Document no. ( Field VCR 20)
####################################################################

$SET_NUM
If [L]_AOLDVAL<>this.NUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUM
 Gosub PROPAGATE_NUM
Endif
Return

$INIT_NUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "NUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "NUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUM
[L]CURPRO = "NUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUM
[L]CURPRO = "NUM"
If vireblc(this.NUM,2)<>vireblc(format$("K:20X",this.NUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_NUM
[L]CURPRO = "NUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUM
[L]CURPRO = "NUM"
Return

$PROPAGATE_NUM
this.isReadonly = 0
[L]CURPRO = "NUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "NUM"
$_LNKPRO_NUM
Return

$_ALOADATTRIBUTE_NUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("NUM","$isMandatory","true")
Return


####################################################################
# 3 : LIG Line number ( Field C 3)
####################################################################

$SET_LIG
If [L]_AOLDVAL<>this.LIG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIG
 Gosub PROPAGATE_LIG
Endif
Return

$INIT_LIG
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "LIG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIG
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "LIG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIG
[L]CURPRO = "LIG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIG
[L]CURPRO = "LIG"
Return

$_AOTHERS_LIG
[L]CURPRO = "LIG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIG
[L]CURPRO = "LIG"
Return

$PROPAGATE_LIG
this.isReadonly = 0
[L]CURPRO = "LIG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIG
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "LIG"
$_LNKPRO_LIG
Return


####################################################################
# 4 : DUDLIG Due date number ( Field C 3)
####################################################################

$SET_DUDLIG
If [L]_AOLDVAL<>this.DUDLIG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DUDLIG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DUDLIG
 Gosub PROPAGATE_DUDLIG
Endif
Return

$INIT_DUDLIG
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDLIG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DUDLIG
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDLIG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DUDLIG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DUDLIG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DUDLIG
[L]CURPRO = "DUDLIG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DUDLIG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DUDLIG
[L]CURPRO = "DUDLIG"
Return

$_AOTHERS_DUDLIG
[L]CURPRO = "DUDLIG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DUDLIG
[L]CURPRO = "DUDLIG"
Return

$PROPAGATE_DUDLIG
this.isReadonly = 0
[L]CURPRO = "DUDLIG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DUDLIG
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDLIG"
$_LNKPRO_DUDLIG
Return


####################################################################
# 5 : ACCNUM Internal number ( Field L 8)
####################################################################

$SET_ACCNUM
If [L]_AOLDVAL<>this.ACCNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCNUM
 Gosub PROPAGATE_ACCNUM
Endif
Return

$INIT_ACCNUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "ACCNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCNUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "ACCNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCNUM
[L]CURPRO = "ACCNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACCNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCNUM
[L]CURPRO = "ACCNUM"
Return

$_AOTHERS_ACCNUM
[L]CURPRO = "ACCNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCNUM
[L]CURPRO = "ACCNUM"
Return

$PROPAGATE_ACCNUM
this.isReadonly = 0
[L]CURPRO = "ACCNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCNUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "ACCNUM"
$_LNKPRO_ACCNUM
Return


####################################################################
# 6 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 7 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 8 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 9 : SAC Control ( Field SAC 12)
####################################################################

$SET_SAC
If [L]_AOLDVAL<>this.SAC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAC
 Gosub PROPAGATE_SAC
Endif
Return

$INIT_SAC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SAC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SAC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAC
[L]CURPRO = "SAC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAC
[L]CURPRO = "SAC"
If vireblc(this.SAC,2)<>vireblc(format$("K:A11B",this.SAC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAC
[L]CURPRO = "SAC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAC
[L]CURPRO = "SAC"
Return

$PROPAGATE_SAC
this.isReadonly = 0
[L]CURPRO = "SAC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SAC"
$_LNKPRO_SAC
Return


####################################################################
# 10 : BPR BP ( Field BPR 15)
####################################################################

$SET_BPR
If [L]_AOLDVAL<>this.BPR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPR
 Gosub PROPAGATE_BPR
Endif
Return

$INIT_BPR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPR
[L]CURPRO = "BPR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPR
[L]CURPRO = "BPR"
If vireblc(this.BPR,2)<>vireblc(format$("K:15c",this.BPR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPR
[L]CURPRO = "BPR"
If vireblc(this.BPR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BPR",this.BPR,this.BPR,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPR
[L]CURPRO = "BPR"
Return

$PROPAGATE_BPR
this.isReadonly = 0
[L]CURPRO = "BPR"
Gosub _LNKPRO_BPR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPR"
$_LNKPRO_BPR
If vireblc(this.BPR,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BPR
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPR","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPR","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return

$_ALOADATTRIBUTE_BPR
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPR","$isMandatory","true")
Return


####################################################################
# 11 : BPRTYP BP type ( Field Local menu number 644)
####################################################################

$SET_BPRTYP
If [L]_AOLDVAL<>this.BPRTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRTYP
 Gosub PROPAGATE_BPRTYP
Endif
Return

$INIT_BPRTYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BPRTYP=0 and fmet this.AGETATTRIBUTE("BPRTYP","$isMandatory")="true"
 this.BPRTYP = 1
Endif
Return
 
$CONTROL_BPRTYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRTYP
[L]CURPRO = "BPRTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BPRTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRTYP
[L]CURPRO = "BPRTYP"
If this.BPRTYP<0 or this.BPRTYP>len(mess(0,644,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"644 ->"-num$(this.BPRTYP)-mess(99,123,1)):  Return : # Local menu "644 -> Invalid option
Endif
Return

$_AOTHERS_BPRTYP
[L]CURPRO = "BPRTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRTYP
[L]CURPRO = "BPRTYP"
Return

$PROPAGATE_BPRTYP
this.isReadonly = 0
[L]CURPRO = "BPRTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRTYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRTYP"
$_LNKPRO_BPRTYP
Return


####################################################################
# 12 : BPRPAY Pay-by ( Field BPR 15)
####################################################################

$SET_BPRPAY
If [L]_AOLDVAL<>this.BPRPAY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRPAY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRPAY
 Gosub PROPAGATE_BPRPAY
Endif
Return

$INIT_BPRPAY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRPAY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRPAY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRPAY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRPAY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRPAY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRPAY
[L]CURPRO = "BPRPAY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRPAY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRPAY
[L]CURPRO = "BPRPAY"
If vireblc(this.BPRPAY,2)<>vireblc(format$("K:15c",this.BPRPAY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRPAY
[L]CURPRO = "BPRPAY"
If vireblc(this.BPRPAY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BPRPAY",this.BPRPAY,this.BPR,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPRPAY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRPAY
[L]CURPRO = "BPRPAY"
Return

$PROPAGATE_BPRPAY
this.isReadonly = 0
[L]CURPRO = "BPRPAY"
Gosub _LNKPRO_BPRPAY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRPAY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRPAY"
$_LNKPRO_BPRPAY
If vireblc(this.BPRPAY,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BPR
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRPAY","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRPAY","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return


####################################################################
# 13 : BPAPAY Business partner address ( Field ADR 5)
####################################################################

$SET_BPAPAY
If [L]_AOLDVAL<>this.BPAPAY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAPAY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAPAY
 Gosub PROPAGATE_BPAPAY
Endif
Return

$INIT_BPAPAY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPAPAY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAPAY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPAPAY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAPAY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAPAY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAPAY
[L]CURPRO = "BPAPAY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAPAY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAPAY
[L]CURPRO = "BPAPAY"
If vireblc(this.BPAPAY,2)<>vireblc(format$("K:5c",this.BPAPAY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAPAY
[L]CURPRO = "BPAPAY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAPAY
[L]CURPRO = "BPAPAY"
If vireblc(this.BPAPAY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPADR.ACTRLREF(this,"BPAPAY",this.BPAPAY,1,this.BPRPAY,this.BPAPAY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPAPAY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_BPAPAY
this.isReadonly = 0
[L]CURPRO = "BPAPAY"
Gosub _LNKPRO_BPAPAY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAPAY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPAPAY"
$_LNKPRO_BPAPAY
If vireblc(this.BPAPAY,2)<>""
 # Link BPADDRESS
 Local File BPADDRESS [WBPA]
 Read [F:WBPA]BPA0 = 1;this.BPRPAY;this.BPAPAY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPAPAY","$description",[F:WBPA]BPADES)
 Endif
 LogicClose File [WBPA]
Endif
Return


####################################################################
# 14 : DUDDAT Due date ( Field D)
####################################################################

$SET_DUDDAT
If [L]_AOLDVAL<>this.DUDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DUDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DUDDAT
 Gosub PROPAGATE_DUDDAT
Endif
Return

$INIT_DUDDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DUDDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DUDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DUDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DUDDAT
[L]CURPRO = "DUDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DUDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DUDDAT
[L]CURPRO = "DUDDAT"
Return

$_AOTHERS_DUDDAT
[L]CURPRO = "DUDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DUDDAT
[L]CURPRO = "DUDDAT"
Return

$PROPAGATE_DUDDAT
this.isReadonly = 0
[L]CURPRO = "DUDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DUDDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDDAT"
$_LNKPRO_DUDDAT
Return


####################################################################
# 15 : PAM Payment method ( Field TAM 5)
####################################################################

$SET_PAM
If [L]_AOLDVAL<>this.PAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAM
 Gosub PROPAGATE_PAM
Endif
Return

$INIT_PAM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PAM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAM
[L]CURPRO = "PAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAM
[L]CURPRO = "PAM"
If vireblc(this.PAM,2)<>vireblc(format$("K:5c",this.PAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PAM
[L]CURPRO = "PAM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAM
[L]CURPRO = "PAM"
Return

$PROPAGATE_PAM
this.isReadonly = 0
[L]CURPRO = "PAM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAM"
$_LNKPRO_PAM
Return


####################################################################
# 16 : PAMTYP Payment type ( Field Local menu number 292)
####################################################################

$SET_PAMTYP
If [L]_AOLDVAL<>this.PAMTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAMTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAMTYP
 Gosub PROPAGATE_PAMTYP
Endif
Return

$INIT_PAMTYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAMTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PAMTYP=0 and fmet this.AGETATTRIBUTE("PAMTYP","$isMandatory")="true"
 this.PAMTYP = 1
Endif
Return
 
$CONTROL_PAMTYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAMTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAMTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAMTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAMTYP
[L]CURPRO = "PAMTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PAMTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAMTYP
[L]CURPRO = "PAMTYP"
If this.PAMTYP<0 or this.PAMTYP>len(mess(0,292,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"292 ->"-num$(this.PAMTYP)-mess(99,123,1)):  Return : # Local menu "292 -> Invalid option
Endif
Return

$_AOTHERS_PAMTYP
[L]CURPRO = "PAMTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAMTYP
[L]CURPRO = "PAMTYP"
Return

$PROPAGATE_PAMTYP
this.isReadonly = 0
[L]CURPRO = "PAMTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAMTYP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAMTYP"
$_LNKPRO_PAMTYP
Return


####################################################################
# 17 : DEP Bank discount/charge code ( Field TDA 5)
####################################################################

$SET_DEP
If [L]_AOLDVAL<>this.DEP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEP
 Gosub PROPAGATE_DEP
Endif
Return

$INIT_DEP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DEP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DEP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEP
[L]CURPRO = "DEP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DEP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEP
[L]CURPRO = "DEP"
If vireblc(this.DEP,2)<>vireblc(format$("K:5c",this.DEP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DEP
[L]CURPRO = "DEP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEP
[L]CURPRO = "DEP"
If vireblc(this.DEP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPTDA.ACTRLREF(this,"DEP",this.DEP,this.DEP,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.DEP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_DEP
this.isReadonly = 0
[L]CURPRO = "DEP"
Gosub _LNKPRO_DEP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DEP"
$_LNKPRO_DEP
If vireblc(this.DEP,2)<>""
 # Link TABDEPAGIO
 Local File TABDEPAGIO [WTDA]
 Read [F:WTDA]TDA0 = this.DEP;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABDEPAGIO" & ZONE="SHOAXX" & IDENT1=[F:WTDA]DEP & IDENT2=[F:WTDA]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DEP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABDEPAGIO" & ZONE="DESAXX" & IDENT1=[F:WTDA]DEP & IDENT2=[F:WTDA]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DEP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTDA]
Endif
Return


####################################################################
# 18 : SNS Sign ( Field C 2)
####################################################################

$SET_SNS
If [L]_AOLDVAL<>this.SNS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SNS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SNS
 Gosub PROPAGATE_SNS
Endif
Return

$INIT_SNS
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SNS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SNS
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SNS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SNS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SNS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SNS
[L]CURPRO = "SNS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SNS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SNS
[L]CURPRO = "SNS"
Return

$_AOTHERS_SNS
[L]CURPRO = "SNS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SNS
[L]CURPRO = "SNS"
Return

$PROPAGATE_SNS
this.isReadonly = 0
[L]CURPRO = "SNS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SNS
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SNS"
$_LNKPRO_SNS
Return


####################################################################
# 19 : AMTCUR Amount in currency ( Field MD1 0)
####################################################################

$SET_AMTCUR
If [L]_AOLDVAL<>this.AMTCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTCUR
 Gosub PROPAGATE_AMTCUR
Endif
Return

$INIT_AMTCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AMTCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AMTCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTCUR
[L]CURPRO = "AMTCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTCUR
[L]CURPRO = "AMTCUR"
Return

$_AOTHERS_AMTCUR
[L]CURPRO = "AMTCUR"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTCUR",this.AMTCUR,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTCUR
[L]CURPRO = "AMTCUR"
Return

$PROPAGATE_AMTCUR
this.isReadonly = 0
[L]CURPRO = "AMTCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AMTCUR"
$_LNKPRO_AMTCUR
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTCUR",this.AMTCUR,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTCUR","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 20 : AMTLOC Ledger currency open item amt ( Field MD1 0)
####################################################################

$SET_AMTLOC
If [L]_AOLDVAL<>this.AMTLOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTLOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTLOC
 Gosub PROPAGATE_AMTLOC
Endif
Return

$INIT_AMTLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AMTLOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AMTLOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTLOC
[L]CURPRO = "AMTLOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTLOC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTLOC
[L]CURPRO = "AMTLOC"
Return

$_AOTHERS_AMTLOC
[L]CURPRO = "AMTLOC"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTLOC",this.AMTLOC,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTLOC
[L]CURPRO = "AMTLOC"
Return

$PROPAGATE_AMTLOC
this.isReadonly = 0
[L]CURPRO = "AMTLOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AMTLOC"
$_LNKPRO_AMTLOC
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTLOC",this.AMTLOC,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTLOC","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 21 : PAYCUR Paid ( Field MD1 0)
####################################################################

$SET_PAYCUR
If [L]_AOLDVAL<>this.PAYCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAYCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAYCUR
 Gosub PROPAGATE_PAYCUR
Endif
Return

$INIT_PAYCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PAYCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAYCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAYCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAYCUR
[L]CURPRO = "PAYCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PAYCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAYCUR
[L]CURPRO = "PAYCUR"
Return

$_AOTHERS_PAYCUR
[L]CURPRO = "PAYCUR"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PAYCUR",this.PAYCUR,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAYCUR
[L]CURPRO = "PAYCUR"
Return

$PROPAGATE_PAYCUR
this.isReadonly = 0
[L]CURPRO = "PAYCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAYCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYCUR"
$_LNKPRO_PAYCUR
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PAYCUR",this.PAYCUR,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PAYCUR","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 22 : PAYLOC Ledger currency paid open item ( Field MD1 0)
####################################################################

$SET_PAYLOC
If [L]_AOLDVAL<>this.PAYLOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAYLOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAYLOC
 Gosub PROPAGATE_PAYLOC
Endif
Return

$INIT_PAYLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYLOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PAYLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYLOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAYLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAYLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAYLOC
[L]CURPRO = "PAYLOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PAYLOC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAYLOC
[L]CURPRO = "PAYLOC"
Return

$_AOTHERS_PAYLOC
[L]CURPRO = "PAYLOC"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PAYLOC",this.PAYLOC,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAYLOC
[L]CURPRO = "PAYLOC"
Return

$PROPAGATE_PAYLOC
this.isReadonly = 0
[L]CURPRO = "PAYLOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAYLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYLOC"
$_LNKPRO_PAYLOC
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PAYLOC",this.PAYLOC,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PAYLOC","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 23 : TMPCUR Provisional payment ( Field MD1 0)
####################################################################

$SET_TMPCUR
If [L]_AOLDVAL<>this.TMPCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TMPCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TMPCUR
 Gosub PROPAGATE_TMPCUR
Endif
Return

$INIT_TMPCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TMPCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TMPCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TMPCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TMPCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TMPCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TMPCUR
[L]CURPRO = "TMPCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TMPCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TMPCUR
[L]CURPRO = "TMPCUR"
Return

$_AOTHERS_TMPCUR
[L]CURPRO = "TMPCUR"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"TMPCUR",this.TMPCUR,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TMPCUR
[L]CURPRO = "TMPCUR"
Return

$PROPAGATE_TMPCUR
this.isReadonly = 0
[L]CURPRO = "TMPCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TMPCUR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TMPCUR"
$_LNKPRO_TMPCUR
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"TMPCUR",this.TMPCUR,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("TMPCUR","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 24 : TMPLOC Provisional payment ref. currency ( Field MD1 0)
####################################################################

$SET_TMPLOC
If [L]_AOLDVAL<>this.TMPLOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TMPLOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TMPLOC
 Gosub PROPAGATE_TMPLOC
Endif
Return

$INIT_TMPLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TMPLOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TMPLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TMPLOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TMPLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TMPLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TMPLOC
[L]CURPRO = "TMPLOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TMPLOC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TMPLOC
[L]CURPRO = "TMPLOC"
Return

$_AOTHERS_TMPLOC
[L]CURPRO = "TMPLOC"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"TMPLOC",this.TMPLOC,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TMPLOC
[L]CURPRO = "TMPLOC"
Return

$PROPAGATE_TMPLOC
this.isReadonly = 0
[L]CURPRO = "TMPLOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TMPLOC
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TMPLOC"
$_LNKPRO_TMPLOC
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"TMPLOC",this.TMPLOC,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("TMPLOC","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 25 : FLGFUP Reminder ( Field Local menu number 1)
####################################################################

$SET_FLGFUP
If [L]_AOLDVAL<>this.FLGFUP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGFUP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGFUP
 Gosub PROPAGATE_FLGFUP
Endif
Return

$INIT_FLGFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGFUP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGFUP=0 and fmet this.AGETATTRIBUTE("FLGFUP","$isMandatory")="true"
 this.FLGFUP = 1
Endif
Return
 
$CONTROL_FLGFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGFUP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGFUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGFUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGFUP
[L]CURPRO = "FLGFUP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGFUP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGFUP
[L]CURPRO = "FLGFUP"
If this.FLGFUP<0 or this.FLGFUP>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGFUP)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGFUP
[L]CURPRO = "FLGFUP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGFUP
[L]CURPRO = "FLGFUP"
Return

$PROPAGATE_FLGFUP
this.isReadonly = 0
[L]CURPRO = "FLGFUP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGFUP"
$_LNKPRO_FLGFUP
Return


####################################################################
# 26 : LEVFUP Reminder level ( Field C 2)
####################################################################

$SET_LEVFUP
If [L]_AOLDVAL<>this.LEVFUP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEVFUP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEVFUP
 Gosub PROPAGATE_LEVFUP
Endif
Return

$INIT_LEVFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "LEVFUP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEVFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "LEVFUP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEVFUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEVFUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEVFUP
[L]CURPRO = "LEVFUP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LEVFUP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEVFUP
[L]CURPRO = "LEVFUP"
Return

$_AOTHERS_LEVFUP
[L]CURPRO = "LEVFUP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEVFUP
[L]CURPRO = "LEVFUP"
Return

$PROPAGATE_LEVFUP
this.isReadonly = 0
[L]CURPRO = "LEVFUP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEVFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "LEVFUP"
$_LNKPRO_LEVFUP
Return


####################################################################
# 27 : DATFUP Reminder date ( Field D)
####################################################################

$SET_DATFUP
If [L]_AOLDVAL<>this.DATFUP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DATFUP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DATFUP
 Gosub PROPAGATE_DATFUP
Endif
Return

$INIT_DATFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DATFUP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DATFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DATFUP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DATFUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DATFUP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DATFUP
[L]CURPRO = "DATFUP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DATFUP=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DATFUP
[L]CURPRO = "DATFUP"
Return

$_AOTHERS_DATFUP
[L]CURPRO = "DATFUP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DATFUP
[L]CURPRO = "DATFUP"
Return

$PROPAGATE_DATFUP
this.isReadonly = 0
[L]CURPRO = "DATFUP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DATFUP
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DATFUP"
$_LNKPRO_DATFUP
Return


####################################################################
# 28 : DPTCOD Dispute code ( Field Miscellaneous table number)
####################################################################

$SET_DPTCOD
If [L]_AOLDVAL<>this.DPTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPTCOD
 Gosub PROPAGATE_DPTCOD
Endif
Return

$INIT_DPTCOD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DPTCOD"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"DPTCOD",this.DPTCOD,315)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPTCOD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DPTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPTCOD
[L]CURPRO = "DPTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DPTCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPTCOD
[L]CURPRO = "DPTCOD"
If vireblc(this.DPTCOD,2)<>vireblc(format$("K:20B",this.DPTCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DPTCOD
[L]CURPRO = "DPTCOD"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"DPTCOD",this.DPTCOD,315,this.DPTCOD)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPTCOD
[L]CURPRO = "DPTCOD"
Return

$PROPAGATE_DPTCOD
this.isReadonly = 0
[L]CURPRO = "DPTCOD"
Gosub _LNKPRO_DPTCOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPTCOD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DPTCOD"
$_LNKPRO_DPTCOD
If vireblc(this.DPTCOD,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 315;this.DPTCOD
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DPTCOD","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DPTCOD","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 29 : FLGPAZ Pay approval ( Field Local menu number 510)
####################################################################

$SET_FLGPAZ
If [L]_AOLDVAL<>this.FLGPAZ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGPAZ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGPAZ
 Gosub PROPAGATE_FLGPAZ
Endif
Return

$INIT_FLGPAZ
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGPAZ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGPAZ=0 and fmet this.AGETATTRIBUTE("FLGPAZ","$isMandatory")="true"
 this.FLGPAZ = 1
Endif
Return
 
$CONTROL_FLGPAZ
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGPAZ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGPAZ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGPAZ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGPAZ
[L]CURPRO = "FLGPAZ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGPAZ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGPAZ
[L]CURPRO = "FLGPAZ"
If this.FLGPAZ<0 or this.FLGPAZ>len(mess(0,510,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"510 ->"-num$(this.FLGPAZ)-mess(99,123,1)):  Return : # Local menu "510 -> Invalid option
Endif
Return

$_AOTHERS_FLGPAZ
[L]CURPRO = "FLGPAZ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGPAZ
[L]CURPRO = "FLGPAZ"
Return

$PROPAGATE_FLGPAZ
this.isReadonly = 0
[L]CURPRO = "FLGPAZ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGPAZ
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGPAZ"
$_LNKPRO_FLGPAZ
Return


####################################################################
# 30 : SOI Statement ( Field Local menu number 1)
####################################################################

$SET_SOI
If [L]_AOLDVAL<>this.SOI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOI
 Gosub PROPAGATE_SOI
Endif
Return

$INIT_SOI
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SOI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SOI=0 and fmet this.AGETATTRIBUTE("SOI","$isMandatory")="true"
 this.SOI = 1
Endif
Return
 
$CONTROL_SOI
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SOI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOI                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOI                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOI
[L]CURPRO = "SOI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOI
[L]CURPRO = "SOI"
If this.SOI<0 or this.SOI>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.SOI)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_SOI
[L]CURPRO = "SOI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOI
[L]CURPRO = "SOI"
Return

$PROPAGATE_SOI
this.isReadonly = 0
[L]CURPRO = "SOI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOI
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SOI"
$_LNKPRO_SOI
Return




