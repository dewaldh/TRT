#<AdxTL>@(#)0.0.0.0 $Revision$
#--------------------------------------------------------------------
#After execution
#--------------------------------------------------------------------
$AP_WS
  Case WW_ACTION
    When "READ" : Gosub AP_READ
  Endcase
Return

#--------------------------------------------------------------------
#Before execution
#--------------------------------------------------------------------
$AV_WS
  Case WW_ACTION
    When "MODIFY" : Gosub AV_MODIFY
    When "CREATE" : Gosub AV_CREATE
  Endcase
Return

#--------------------------------------------------------------------
#After execution - Read
#--------------------------------------------------------------------
$AP_READ

  # do not return the banking details with a read.
  For I = 0 To NBRIB_5
      BIDBPAADD_5(I)  = ""
      BIDCRY_5(I)     = ""
      IBAN_5(I)       = ""
      BIDNUM_5(I)     = ""
      BIDNUMFLG_5(I)  = ""
      BIDCUR_5(I)     = ""
      PAB1_5(I)       = ""
      BNF_5(I)        = ""
      PAB2_5(I)       = ""
      PAB3_5(I)       = ""
      PAB4_5(I)       = ""
      BICCOD_5(I)     = ""
      MIDPAB1_5(I)    = ""
      MIDPAB2_5(I)    = ""
      MIDPAB3_5(I)    = ""
      MIDPAB4_5(I)    = ""
      MIDBICCOD_5(I)  = ""
      MIDCRY_5(I)     = ""
  Next

  Raz NBRIB_5
Return


#--------------------------------------------------------------------
#Before execution - Modify
#--------------------------------------------------------------------
$AV_MODIFY

#do not allow banking detail on modification
  If BIDNUM_5(0) <> "" or NBRIB_5 > 0
    GPE=1
    WW_GRAVE = 3
    WW_MESS(1) = "No banking details allowed"
  Endif
Return


#--------------------------------------------------------------------
#Before execution - Create
#--------------------------------------------------------------------
$AV_CREATE
#Supplier not allowed to be created in active status
  If YSUPSTA_A  = 1
    YSUPSTA_A = 2 #change status to waiting authorization.
  Endif
Return

