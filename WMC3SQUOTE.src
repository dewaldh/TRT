#<AdxTL>@(#)0.0.0.0 $Revision$Class Quote header
# Supervisor
## ACLA-CLASSE ## SQUOTE
# 2018-08-27 12:49:18 419

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 61 : QUOINVNOT Valuation - tax ( Field MD1 0)
####################################################################

$SET_QUOINVNOT
If [L]_AOLDVAL<>this.QUOINVNOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOINVNOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOINVNOT
 Gosub PROPAGATE_QUOINVNOT
Endif
Return

$INIT_QUOINVNOT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVNOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUOINVNOT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVNOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOINVNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOINVNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOINVNOT
[L]CURPRO = "QUOINVNOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOINVNOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOINVNOT
[L]CURPRO = "QUOINVNOT"
Return

$_AOTHERS_QUOINVNOT
[L]CURPRO = "QUOINVNOT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"QUOINVNOT",this.QUOINVNOT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOINVNOT
[L]CURPRO = "QUOINVNOT"
Return

$PROPAGATE_QUOINVNOT
this.isReadonly = 0
[L]CURPRO = "QUOINVNOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOINVNOT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVNOT"
$_LNKPRO_QUOINVNOT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"QUOINVNOT",this.QUOINVNOT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("QUOINVNOT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 62 : QUOINVTAX Tax amount ( Field MD1 0)
####################################################################

$GET_QUOINVTAX
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVTAX"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_QUOINVTAX
If [L]_AOLDVAL<>this.QUOINVTAX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOINVTAX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOINVTAX
 Gosub PROPAGATE_QUOINVTAX
Endif
Return

$INIT_QUOINVTAX
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVTAX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUOINVTAX
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVTAX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOINVTAX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOINVTAX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOINVTAX
[L]CURPRO = "QUOINVTAX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOINVTAX=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOINVTAX
[L]CURPRO = "QUOINVTAX"
Return

$_AOTHERS_QUOINVTAX
[L]CURPRO = "QUOINVTAX"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"QUOINVTAX",this.QUOINVTAX,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOINVTAX
[L]CURPRO = "QUOINVTAX"
Return

$PROPAGATE_QUOINVTAX
this.isReadonly = 0
[L]CURPRO = "QUOINVTAX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOINVTAX
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVTAX"
$_LNKPRO_QUOINVTAX
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"QUOINVTAX",this.QUOINVTAX,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("QUOINVTAX","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 63 : QUOINVATI Valuation + tax ( Field MD1 0)
####################################################################

$SET_QUOINVATI
If [L]_AOLDVAL<>this.QUOINVATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOINVATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOINVATI
 Gosub PROPAGATE_QUOINVATI
Endif
Return

$INIT_QUOINVATI
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUOINVATI
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOINVATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOINVATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOINVATI
[L]CURPRO = "QUOINVATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOINVATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOINVATI
[L]CURPRO = "QUOINVATI"
Return

$_AOTHERS_QUOINVATI
[L]CURPRO = "QUOINVATI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"QUOINVATI",this.QUOINVATI,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOINVATI
[L]CURPRO = "QUOINVATI"
Return

$PROPAGATE_QUOINVATI
this.isReadonly = 0
[L]CURPRO = "QUOINVATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOINVATI
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVATI"
$_LNKPRO_QUOINVATI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"QUOINVATI",this.QUOINVATI,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("QUOINVATI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 64 : QUOINVNOTL Costing tax excl. cy ( Field MD1 0)
####################################################################

$SET_QUOINVNOTL
If [L]_AOLDVAL<>this.QUOINVNOTL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOINVNOTL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOINVNOTL
 Gosub PROPAGATE_QUOINVNOTL
Endif
Return

$INIT_QUOINVNOTL
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVNOTL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUOINVNOTL
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVNOTL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOINVNOTL            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOINVNOTL            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOINVNOTL
[L]CURPRO = "QUOINVNOTL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOINVNOTL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOINVNOTL
[L]CURPRO = "QUOINVNOTL"
Return

$_AOTHERS_QUOINVNOTL
[L]CURPRO = "QUOINVNOTL"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"QUOINVNOTL",this.QUOINVNOTL,this.CPYCUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOINVNOTL
[L]CURPRO = "QUOINVNOTL"
Return

$PROPAGATE_QUOINVNOTL
this.isReadonly = 0
[L]CURPRO = "QUOINVNOTL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOINVNOTL
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVNOTL"
$_LNKPRO_QUOINVNOTL
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"QUOINVNOTL",this.QUOINVNOTL,[L]AFORMAT,this.CPYCUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("QUOINVNOTL","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 65 : QUOINVATIL Costing tax incl. cy ( Field MD1 0)
####################################################################

$SET_QUOINVATIL
If [L]_AOLDVAL<>this.QUOINVATIL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOINVATIL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOINVATIL
 Gosub PROPAGATE_QUOINVATIL
Endif
Return

$INIT_QUOINVATIL
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVATIL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUOINVATIL
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVATIL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOINVATIL            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOINVATIL            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOINVATIL
[L]CURPRO = "QUOINVATIL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOINVATIL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOINVATIL
[L]CURPRO = "QUOINVATIL"
Return

$_AOTHERS_QUOINVATIL
[L]CURPRO = "QUOINVATIL"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"QUOINVATIL",this.QUOINVATIL,this.CPYCUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOINVATIL
[L]CURPRO = "QUOINVATIL"
Return

$PROPAGATE_QUOINVATIL
this.isReadonly = 0
[L]CURPRO = "QUOINVATIL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOINVATIL
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOINVATIL"
$_LNKPRO_QUOINVATIL
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"QUOINVATIL",this.QUOINVATIL,[L]AFORMAT,this.CPYCUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("QUOINVATIL","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 66 : PFMTOT Total margin ( Field MD1 0)
####################################################################

$SET_PFMTOT
If [L]_AOLDVAL<>this.PFMTOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PFMTOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PFMTOT
 Gosub PROPAGATE_PFMTOT
Endif
Return

$INIT_PFMTOT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PFMTOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PFMTOT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PFMTOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PFMTOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PFMTOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PFMTOT
[L]CURPRO = "PFMTOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PFMTOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PFMTOT
[L]CURPRO = "PFMTOT"
Return

$_AOTHERS_PFMTOT
[L]CURPRO = "PFMTOT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PFMTOT",this.PFMTOT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PFMTOT
[L]CURPRO = "PFMTOT"
Return

$PROPAGATE_PFMTOT
this.isReadonly = 0
[L]CURPRO = "PFMTOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PFMTOT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PFMTOT"
$_LNKPRO_PFMTOT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PFMTOT",this.PFMTOT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PFMTOT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 67 : DEP Settlement discount ( Field TDA 5)
####################################################################

$SET_DEP
If [L]_AOLDVAL<>this.DEP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEP
 Gosub PROPAGATE_DEP
Endif
Return

$INIT_DEP
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "DEP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEP
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "DEP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEP
[L]CURPRO = "DEP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DEP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEP
[L]CURPRO = "DEP"
If vireblc(this.DEP,2)<>vireblc(format$("K:5c",this.DEP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DEP
[L]CURPRO = "DEP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEP
[L]CURPRO = "DEP"
If vireblc(this.DEP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPTDA.ACTRLREF(this,"DEP",this.DEP,this.DEP,this.DEP_LEG,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.DEP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_DEP
this.isReadonly = 0
[L]CURPRO = "DEP"
Gosub _LNKPRO_DEP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEP
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "DEP"
$_LNKPRO_DEP
If vireblc(this.DEP,2)<>""
 # Link TABDEPAGIO
 Local File TABDEPAGIO [WTDA]
 Read [F:WTDA]TDA0 = this.DEP;this.DEP_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABDEPAGIO" & ZONE="SHOAXX" & IDENT1=[F:WTDA]DEP & IDENT2=[F:WTDA]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DEP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABDEPAGIO" & ZONE="DESAXX" & IDENT1=[F:WTDA]DEP & IDENT2=[F:WTDA]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DEP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTDA]
Endif
Return


####################################################################
# 68 : DEP_LEG Legislation ( Field Miscellaneous table number)
####################################################################

$SET_DEP_LEG
If [L]_AOLDVAL<>this.DEP_LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEP_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEP_LEG
 Gosub PROPAGATE_DEP_LEG
Endif
Return

$INIT_DEP_LEG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "DEP_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"DEP_LEG",this.DEP_LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEP_LEG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "DEP_LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEP_LEG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEP_LEG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEP_LEG
[L]CURPRO = "DEP_LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DEP_LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEP_LEG
[L]CURPRO = "DEP_LEG"
If vireblc(this.DEP_LEG,2)<>vireblc(format$("K:20B",this.DEP_LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DEP_LEG
[L]CURPRO = "DEP_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"DEP_LEG",this.DEP_LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEP_LEG
[L]CURPRO = "DEP_LEG"
Return

$PROPAGATE_DEP_LEG
this.isReadonly = 0
[L]CURPRO = "DEP_LEG"
Gosub _LNKPRO_DEP_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEP_LEG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "DEP_LEG"
$_LNKPRO_DEP_LEG
If vireblc(this.DEP_LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.DEP_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DEP_LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DEP_LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 69 : PTE Payment term ( Field PTE 15)
####################################################################

$SET_PTE
If [L]_AOLDVAL<>this.PTE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTE
 Gosub PROPAGATE_PTE
Endif
Return

$INIT_PTE
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PTE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTE
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PTE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTE                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTE                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTE
[L]CURPRO = "PTE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTE
[L]CURPRO = "PTE"
If vireblc(this.PTE,2)<>vireblc(format$("K:15c",this.PTE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PTE
[L]CURPRO = "PTE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTE
[L]CURPRO = "PTE"
If vireblc(this.PTE,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPTE.ACTRLREF(this,"PTE",this.PTE,this.PTE,this.PTE_LEG,1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PTE<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_PTE
this.isReadonly = 0
[L]CURPRO = "PTE"
Gosub _LNKPRO_PTE
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTE
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PTE"
$_LNKPRO_PTE
If vireblc(this.PTE,2)<>""
 # Link TABPAYTERM
 Local File TABPAYTERM [WTPT]
 Read [F:WTPT]TPT0 = this.PTE;this.PTE_LEG;1
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPAYTERM" & ZONE="SHOAXX" & IDENT1=[F:WTPT]PTE & IDENT2=[F:WTPT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTE","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPAYTERM" & ZONE="DESAXX" & IDENT1=[F:WTPT]PTE & IDENT2=[F:WTPT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTE","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTPT]
Endif
Return

$_ALOADATTRIBUTE_PTE
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTE","$isMandatory","true")
Return


####################################################################
# 70 : PTE_LEG Legislation ( Field Miscellaneous table number)
####################################################################

$SET_PTE_LEG
If [L]_AOLDVAL<>this.PTE_LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTE_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTE_LEG
 Gosub PROPAGATE_PTE_LEG
Endif
Return

$INIT_PTE_LEG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PTE_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"PTE_LEG",this.PTE_LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTE_LEG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PTE_LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTE_LEG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTE_LEG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTE_LEG
[L]CURPRO = "PTE_LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTE_LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTE_LEG
[L]CURPRO = "PTE_LEG"
If vireblc(this.PTE_LEG,2)<>vireblc(format$("K:20B",this.PTE_LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PTE_LEG
[L]CURPRO = "PTE_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"PTE_LEG",this.PTE_LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTE_LEG
[L]CURPRO = "PTE_LEG"
Return

$PROPAGATE_PTE_LEG
this.isReadonly = 0
[L]CURPRO = "PTE_LEG"
Gosub _LNKPRO_PTE_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTE_LEG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PTE_LEG"
$_LNKPRO_PTE_LEG
If vireblc(this.PTE_LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.PTE_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTE_LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTE_LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 73 : PBYPRC Probability % ( Field C 3)
####################################################################

$SET_PBYPRC
If [L]_AOLDVAL<>this.PBYPRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PBYPRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PBYPRC
 Gosub PROPAGATE_PBYPRC
Endif
Return

$INIT_PBYPRC
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PBYPRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PBYPRC
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PBYPRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PBYPRC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PBYPRC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PBYPRC
[L]CURPRO = "PBYPRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PBYPRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PBYPRC
[L]CURPRO = "PBYPRC"
Return

$_AOTHERS_PBYPRC
[L]CURPRO = "PBYPRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PBYPRC
[L]CURPRO = "PBYPRC"
Return

$PROPAGATE_PBYPRC
this.isReadonly = 0
[L]CURPRO = "PBYPRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PBYPRC
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PBYPRC"
$_LNKPRO_PBYPRC
Return


####################################################################
# 74 : SOHNUM Order no. ( Field VCR 20)
####################################################################

$SET_SOHNUM
If [L]_AOLDVAL<>this.SOHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOHNUM
 Gosub PROPAGATE_SOHNUM
Endif
Return

$INIT_SOHNUM
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SOHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOHNUM
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SOHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOHNUM
[L]CURPRO = "SOHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SOHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOHNUM
[L]CURPRO = "SOHNUM"
If vireblc(this.SOHNUM,2)<>vireblc(format$("K:20X",this.SOHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SOHNUM
[L]CURPRO = "SOHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOHNUM
[L]CURPRO = "SOHNUM"
Return

$PROPAGATE_SOHNUM
this.isReadonly = 0
[L]CURPRO = "SOHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOHNUM
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SOHNUM"
$_LNKPRO_SOHNUM
Return


####################################################################
# 75 : ORDDAT Order date ( Field D)
####################################################################

$SET_ORDDAT
If [L]_AOLDVAL<>this.ORDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDDAT
 Gosub PROPAGATE_ORDDAT
Endif
Return

$INIT_ORDDAT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ORDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORDDAT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ORDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDDAT
[L]CURPRO = "ORDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDDAT
[L]CURPRO = "ORDDAT"
Return

$_AOTHERS_ORDDAT
[L]CURPRO = "ORDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDDAT
[L]CURPRO = "ORDDAT"
Return

$PROPAGATE_ORDDAT
this.isReadonly = 0
[L]CURPRO = "ORDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDDAT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ORDDAT"
$_LNKPRO_ORDDAT
Return


####################################################################
# 76 : ORDNBR Number of orders ( Field C 2)
####################################################################

$SET_ORDNBR
If [L]_AOLDVAL<>this.ORDNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDNBR
 Gosub PROPAGATE_ORDNBR
Endif
Return

$INIT_ORDNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ORDNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORDNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ORDNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDNBR
[L]CURPRO = "ORDNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORDNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDNBR
[L]CURPRO = "ORDNBR"
Return

$_AOTHERS_ORDNBR
[L]CURPRO = "ORDNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDNBR
[L]CURPRO = "ORDNBR"
Return

$PROPAGATE_ORDNBR
this.isReadonly = 0
[L]CURPRO = "ORDNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ORDNBR"
$_LNKPRO_ORDNBR
Return


####################################################################
# 77 : CFMLINNBR Number of validated lines ( Field C 4)
####################################################################

$SET_CFMLINNBR
If [L]_AOLDVAL<>this.CFMLINNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CFMLINNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CFMLINNBR
 Gosub PROPAGATE_CFMLINNBR
Endif
Return

$INIT_CFMLINNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CFMLINNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CFMLINNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CFMLINNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CFMLINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CFMLINNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CFMLINNBR
[L]CURPRO = "CFMLINNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CFMLINNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CFMLINNBR
[L]CURPRO = "CFMLINNBR"
Return

$_AOTHERS_CFMLINNBR
[L]CURPRO = "CFMLINNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CFMLINNBR
[L]CURPRO = "CFMLINNBR"
Return

$PROPAGATE_CFMLINNBR
this.isReadonly = 0
[L]CURPRO = "CFMLINNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CFMLINNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CFMLINNBR"
$_LNKPRO_CFMLINNBR
Return


####################################################################
# 78 : LINNBR Number of lines ( Field C 4)
####################################################################

$SET_LINNBR
If [L]_AOLDVAL<>this.LINNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINNBR
 Gosub PROPAGATE_LINNBR
Endif
Return

$INIT_LINNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "LINNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "LINNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINNBR
[L]CURPRO = "LINNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINNBR
[L]CURPRO = "LINNBR"
Return

$_AOTHERS_LINNBR
[L]CURPRO = "LINNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINNBR
[L]CURPRO = "LINNBR"
Return

$PROPAGATE_LINNBR
this.isReadonly = 0
[L]CURPRO = "LINNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "LINNBR"
$_LNKPRO_LINNBR
Return


####################################################################
# 79 : QUOSTA Quote status ( Field Local menu number 430)
####################################################################

$SET_QUOSTA
If [L]_AOLDVAL<>this.QUOSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOSTA
 Gosub PROPAGATE_QUOSTA
Endif
Return

$INIT_QUOSTA
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QUOSTA=0 and fmet this.AGETATTRIBUTE("QUOSTA","$isMandatory")="true"
 this.QUOSTA = 1
Endif
Return
 
$CONTROL_QUOSTA
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOSTA
[L]CURPRO = "QUOSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOSTA
[L]CURPRO = "QUOSTA"
If this.QUOSTA<0 or this.QUOSTA>len(mess(0,430,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"430 ->"-num$(this.QUOSTA)-mess(99,123,1)):  Return : # Local menu "430 -> Invalid option
Endif
Return

$_AOTHERS_QUOSTA
[L]CURPRO = "QUOSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOSTA
[L]CURPRO = "QUOSTA"
Return

$PROPAGATE_QUOSTA
this.isReadonly = 0
[L]CURPRO = "QUOSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOSTA
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOSTA"
$_LNKPRO_QUOSTA
Return


####################################################################
# 80 : APPFLG Signed ( Field Local menu number 280)
####################################################################

$SET_APPFLG
If [L]_AOLDVAL<>this.APPFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_APPFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.APPFLG
 Gosub PROPAGATE_APPFLG
Endif
Return

$INIT_APPFLG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "APPFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.APPFLG=0 and fmet this.AGETATTRIBUTE("APPFLG","$isMandatory")="true"
 this.APPFLG = 1
Endif
Return
 
$CONTROL_APPFLG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "APPFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_APPFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_APPFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_APPFLG
[L]CURPRO = "APPFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.APPFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_APPFLG
[L]CURPRO = "APPFLG"
If this.APPFLG<0 or this.APPFLG>len(mess(0,280,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"280 ->"-num$(this.APPFLG)-mess(99,123,1)):  Return : # Local menu "280 -> Invalid option
Endif
Return

$_AOTHERS_APPFLG
[L]CURPRO = "APPFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_APPFLG
[L]CURPRO = "APPFLG"
Return

$PROPAGATE_APPFLG
this.isReadonly = 0
[L]CURPRO = "APPFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_APPFLG
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "APPFLG"
$_LNKPRO_APPFLG
Return


####################################################################
# 81 : QUOPRN Printed quote ( Field Local menu number 1)
####################################################################

$SET_QUOPRN
If [L]_AOLDVAL<>this.QUOPRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUOPRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUOPRN
 Gosub PROPAGATE_QUOPRN
Endif
Return

$INIT_QUOPRN
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOPRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QUOPRN=0 and fmet this.AGETATTRIBUTE("QUOPRN","$isMandatory")="true"
 this.QUOPRN = 1
Endif
Return
 
$CONTROL_QUOPRN
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOPRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUOPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUOPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUOPRN
[L]CURPRO = "QUOPRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUOPRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUOPRN
[L]CURPRO = "QUOPRN"
If this.QUOPRN<0 or this.QUOPRN>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.QUOPRN)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_QUOPRN
[L]CURPRO = "QUOPRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUOPRN
[L]CURPRO = "QUOPRN"
Return

$PROPAGATE_QUOPRN
this.isReadonly = 0
[L]CURPRO = "QUOPRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUOPRN
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "QUOPRN"
$_LNKPRO_QUOPRN
Return


####################################################################
# 82 : COPNBR No. copies quote ( Field C 1)
####################################################################

$SET_COPNBR
If [L]_AOLDVAL<>this.COPNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_COPNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.COPNBR
 Gosub PROPAGATE_COPNBR
Endif
Return

$INIT_COPNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "COPNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_COPNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "COPNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_COPNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_COPNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_COPNBR
[L]CURPRO = "COPNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.COPNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_COPNBR
[L]CURPRO = "COPNBR"
Return

$_AOTHERS_COPNBR
[L]CURPRO = "COPNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_COPNBR
[L]CURPRO = "COPNBR"
Return

$PROPAGATE_COPNBR
this.isReadonly = 0
[L]CURPRO = "COPNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_COPNBR
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "COPNBR"
$_LNKPRO_COPNBR
Return


####################################################################
# 83 : SQHTEX1 Quote header text ( Field TXC 12)
####################################################################

$SET_SQHTEX1
If [L]_AOLDVAL<>this.SQHTEX1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SQHTEX1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SQHTEX1
 Gosub PROPAGATE_SQHTEX1
Endif
Return

$INIT_SQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SQHTEX1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SQHTEX1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SQHTEX1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SQHTEX1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SQHTEX1
[L]CURPRO = "SQHTEX1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SQHTEX1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SQHTEX1
[L]CURPRO = "SQHTEX1"
If vireblc(this.SQHTEX1,2)<>vireblc(format$("K:12X",this.SQHTEX1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SQHTEX1
[L]CURPRO = "SQHTEX1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SQHTEX1
[L]CURPRO = "SQHTEX1"
Return

$PROPAGATE_SQHTEX1
this.isReadonly = 0
[L]CURPRO = "SQHTEX1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SQHTEX1"
$_LNKPRO_SQHTEX1
Return


####################################################################
# 84 : CLASQHTEX1 Quote header text ( Field ACRTF 1)
####################################################################

$GET_CLASQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX1"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("CLASQHTEX1",
& this.SQHTEX1
& ,[L]_CNT,this.CLASQHTEX1)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_CLASQHTEX1
If fmet this.AGETATTRIBUTE("CLASQHTEX1","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLASQHTEX1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLASQHTEX1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("CLASQHTEX1","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLASQHTEX1
 Gosub PROPAGATE_CLASQHTEX1
Endif
Return

$INIT_CLASQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLASQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLASQHTEX1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLASQHTEX1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLASQHTEX1
[L]CURPRO = "CLASQHTEX1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.CLASQHTEX1)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLASQHTEX1
[L]CURPRO = "CLASQHTEX1"
Return

$_AOTHERS_CLASQHTEX1
[L]CURPRO = "CLASQHTEX1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLASQHTEX1
[L]CURPRO = "CLASQHTEX1"
Return

$PROPAGATE_CLASQHTEX1
this.isReadonly = 0
[L]CURPRO = "CLASQHTEX1"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLASQHTEX1
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX1"
$_LNKPRO_CLASQHTEX1
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_CLASQHTEX1 From WMC0SQUOTE
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLASQHTEX1","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 85 : SQHTEX2 Quote footer text ( Field TXC 12)
####################################################################

$SET_SQHTEX2
If [L]_AOLDVAL<>this.SQHTEX2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SQHTEX2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SQHTEX2
 Gosub PROPAGATE_SQHTEX2
Endif
Return

$INIT_SQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SQHTEX2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SQHTEX2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SQHTEX2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SQHTEX2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SQHTEX2
[L]CURPRO = "SQHTEX2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SQHTEX2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SQHTEX2
[L]CURPRO = "SQHTEX2"
If vireblc(this.SQHTEX2,2)<>vireblc(format$("K:12X",this.SQHTEX2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SQHTEX2
[L]CURPRO = "SQHTEX2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SQHTEX2
[L]CURPRO = "SQHTEX2"
Return

$PROPAGATE_SQHTEX2
this.isReadonly = 0
[L]CURPRO = "SQHTEX2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "SQHTEX2"
$_LNKPRO_SQHTEX2
Return


####################################################################
# 86 : CLASQHTEX2 Quote footer text ( Field ACRTF 1)
####################################################################

$GET_CLASQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX2"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("CLASQHTEX2",
& this.SQHTEX2
& ,[L]_CNT,this.CLASQHTEX2)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_CLASQHTEX2
If fmet this.AGETATTRIBUTE("CLASQHTEX2","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLASQHTEX2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLASQHTEX2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("CLASQHTEX2","$isLoaded")<>"true" or [L]_AOLDVAL<>this.CLASQHTEX2
 Gosub PROPAGATE_CLASQHTEX2
Endif
Return

$INIT_CLASQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLASQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLASQHTEX2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLASQHTEX2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLASQHTEX2
[L]CURPRO = "CLASQHTEX2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.CLASQHTEX2)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLASQHTEX2
[L]CURPRO = "CLASQHTEX2"
Return

$_AOTHERS_CLASQHTEX2
[L]CURPRO = "CLASQHTEX2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLASQHTEX2
[L]CURPRO = "CLASQHTEX2"
Return

$PROPAGATE_CLASQHTEX2
this.isReadonly = 0
[L]CURPRO = "CLASQHTEX2"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLASQHTEX2
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "CLASQHTEX2"
$_LNKPRO_CLASQHTEX2
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_CLASQHTEX2 From WMC0SQUOTE
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLASQHTEX2","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 87 : PRFNUM Proforma invoice no. ( Field VCR 20)
####################################################################

$SET_PRFNUM
If [L]_AOLDVAL<>this.PRFNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRFNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRFNUM
 Gosub PROPAGATE_PRFNUM
Endif
Return

$INIT_PRFNUM
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PRFNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRFNUM
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PRFNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRFNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRFNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRFNUM
[L]CURPRO = "PRFNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PRFNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRFNUM
[L]CURPRO = "PRFNUM"
If vireblc(this.PRFNUM,2)<>vireblc(format$("K:20X",this.PRFNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PRFNUM
[L]CURPRO = "PRFNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRFNUM
[L]CURPRO = "PRFNUM"
Return

$PROPAGATE_PRFNUM
this.isReadonly = 0
[L]CURPRO = "PRFNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRFNUM
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "PRFNUM"
$_LNKPRO_PRFNUM
Return


####################################################################
# 88 : EECICT Incoterm ( Field Miscellaneous table number)
####################################################################

$SET_EECICT
If [L]_AOLDVAL<>this.EECICT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECICT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECICT
 Gosub PROPAGATE_EECICT
Endif
Return

$INIT_EECICT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "EECICT"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"EECICT",this.EECICT,5)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EECICT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "EECICT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECICT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECICT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECICT
[L]CURPRO = "EECICT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EECICT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECICT
[L]CURPRO = "EECICT"
If vireblc(this.EECICT,2)<>vireblc(format$("K:20B",this.EECICT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EECICT
[L]CURPRO = "EECICT"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"EECICT",this.EECICT,5,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECICT
[L]CURPRO = "EECICT"
Return

$PROPAGATE_EECICT
this.isReadonly = 0
[L]CURPRO = "EECICT"
Gosub _LNKPRO_EECICT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECICT
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "EECICT"
$_LNKPRO_EECICT
If vireblc(this.EECICT,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 5;this.EECICT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EECICT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EECICT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 89 : EECLOC EU transport location ( Field Local menu number 236)
####################################################################

$SET_EECLOC
If [L]_AOLDVAL<>this.EECLOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECLOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECLOC
 Gosub PROPAGATE_EECLOC
Endif
Return

$INIT_EECLOC
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "EECLOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EECLOC=0 and fmet this.AGETATTRIBUTE("EECLOC","$isMandatory")="true"
 this.EECLOC = 1
Endif
Return
 
$CONTROL_EECLOC
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "EECLOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECLOC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECLOC
[L]CURPRO = "EECLOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EECLOC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECLOC
[L]CURPRO = "EECLOC"
If this.EECLOC<0 or this.EECLOC>len(mess(0,236,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"236 ->"-num$(this.EECLOC)-mess(99,123,1)):  Return : # Local menu "236 -> Invalid option
Endif
Return

$_AOTHERS_EECLOC
[L]CURPRO = "EECLOC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECLOC
[L]CURPRO = "EECLOC"
Return

$PROPAGATE_EECLOC
this.isReadonly = 0
[L]CURPRO = "EECLOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECLOC
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "EECLOC"
$_LNKPRO_EECLOC
Return


####################################################################
# 90 : ICTCTY Incoterm town ( Field CTY 40)
####################################################################

$SET_ICTCTY
If [L]_AOLDVAL<>this.ICTCTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ICTCTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ICTCTY
 Gosub PROPAGATE_ICTCTY
Endif
Return

$INIT_ICTCTY
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ICTCTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ICTCTY
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ICTCTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ICTCTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ICTCTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ICTCTY
[L]CURPRO = "ICTCTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ICTCTY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ICTCTY
[L]CURPRO = "ICTCTY"
If vireblc(this.ICTCTY,2)<>vireblc(format$("K:40X",this.ICTCTY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ICTCTY
[L]CURPRO = "ICTCTY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLCTY(this,"ICTCTY",this.ICTCTY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ICTCTY
[L]CURPRO = "ICTCTY"
Return

$PROPAGATE_ICTCTY
this.isReadonly = 0
[L]ASTATUS =  func ASYRTRTATY.PROPAGATECTY(this,"ICTCTY",this.ICTCTY,this.ICTCTY_POS,this.ICTCTY_SAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]CURPRO = "ICTCTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ICTCTY
Gosub DECLARE_VAR From WMC0SQUOTE
[L]CURPRO = "ICTCTY"
$_LNKPRO_ICTCTY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATCTY(this,"ICTCTY",this.ICTCTY,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("ICTCTY","$x3Format",[L]AFORMAT)
Endif
Return




