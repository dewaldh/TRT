#<AdxTL>@(#)0.0.0.0 $Revision$Class Purchase invoices
# Supervisor
## ACLA-CLASSE ## PINVOICE
# 2018-08-27 12:39:19 549

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 91 : BOX1099 1099 box ( Field A 4)
####################################################################

$SET_BOX1099
If [L]_AOLDVAL<>this.BOX1099
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOX1099
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOX1099
 Gosub PROPAGATE_BOX1099
Endif
Return

$INIT_BOX1099
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BOX1099"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOX1099
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BOX1099"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOX1099               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOX1099               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOX1099
[L]CURPRO = "BOX1099"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOX1099,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOX1099
[L]CURPRO = "BOX1099"
Return

$_AOTHERS_BOX1099
[L]CURPRO = "BOX1099"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOX1099
[L]CURPRO = "BOX1099"
Return

$PROPAGATE_BOX1099
this.isReadonly = 0
[L]CURPRO = "BOX1099"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOX1099
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BOX1099"
$_LNKPRO_BOX1099
Return


####################################################################
# 92 : AMTSUBJ1099 Amt. subject to 1099 ( Field MD1 0)
####################################################################

$SET_AMTSUBJ1099
If [L]_AOLDVAL<>this.AMTSUBJ1099
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTSUBJ1099
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTSUBJ1099
 Gosub PROPAGATE_AMTSUBJ1099
Endif
Return

$INIT_AMTSUBJ1099
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "AMTSUBJ1099"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTSUBJ1099
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "AMTSUBJ1099"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTSUBJ1099           : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTSUBJ1099           : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTSUBJ1099
[L]CURPRO = "AMTSUBJ1099"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTSUBJ1099=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTSUBJ1099
[L]CURPRO = "AMTSUBJ1099"
Return

$_AOTHERS_AMTSUBJ1099
[L]CURPRO = "AMTSUBJ1099"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTSUBJ1099",this.AMTSUBJ1099,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTSUBJ1099
[L]CURPRO = "AMTSUBJ1099"
Return

$PROPAGATE_AMTSUBJ1099
this.isReadonly = 0
[L]CURPRO = "AMTSUBJ1099"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTSUBJ1099
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "AMTSUBJ1099"
$_LNKPRO_AMTSUBJ1099
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTSUBJ1099",this.AMTSUBJ1099,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTSUBJ1099","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 93 : BPRLNK BP link ( Field A 5)
####################################################################

$SET_BPRLNK
If [L]_AOLDVAL<>this.BPRLNK
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRLNK
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRLNK
 Gosub PROPAGATE_BPRLNK
Endif
Return

$INIT_BPRLNK
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRLNK"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRLNK
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRLNK"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRLNK                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRLNK                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRLNK
[L]CURPRO = "BPRLNK"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRLNK,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRLNK
[L]CURPRO = "BPRLNK"
Return

$_AOTHERS_BPRLNK
[L]CURPRO = "BPRLNK"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRLNK
[L]CURPRO = "BPRLNK"
Return

$PROPAGATE_BPRLNK
this.isReadonly = 0
[L]CURPRO = "BPRLNK"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRLNK
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRLNK"
$_LNKPRO_BPRLNK
Return


####################################################################
# 94 : PURPRITYP AP amount type ( Field Local menu number 243)
####################################################################

$SET_PURPRITYP
If [L]_AOLDVAL<>this.PURPRITYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PURPRITYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PURPRITYP
 Gosub PROPAGATE_PURPRITYP
Endif
Return

$INIT_PURPRITYP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "PURPRITYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PURPRITYP=0 and fmet this.AGETATTRIBUTE("PURPRITYP","$isMandatory")="true"
 this.PURPRITYP = 1
Endif
Return
 
$CONTROL_PURPRITYP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "PURPRITYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PURPRITYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PURPRITYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PURPRITYP
[L]CURPRO = "PURPRITYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PURPRITYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PURPRITYP
[L]CURPRO = "PURPRITYP"
If this.PURPRITYP<0 or this.PURPRITYP>len(mess(0,243,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"243 ->"-num$(this.PURPRITYP)-mess(99,123,1)):  Return : # Local menu "243 -> Invalid option
Endif
Return

$_AOTHERS_PURPRITYP
[L]CURPRO = "PURPRITYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PURPRITYP
[L]CURPRO = "PURPRITYP"
Return

$PROPAGATE_PURPRITYP
this.isReadonly = 0
[L]CURPRO = "PURPRITYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PURPRITYP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "PURPRITYP"
$_LNKPRO_PURPRITYP
Return


####################################################################
# 95 : CREDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_CREDATTIM
If [L]_AOLDVAL<>this.CREDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDATTIM
 Gosub PROPAGATE_CREDATTIM
Endif
Return

$INIT_CREDATTIM
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CREDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDATTIM
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CREDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDATTIM
[L]CURPRO = "CREDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$_AOTHERS_CREDATTIM
[L]CURPRO = "CREDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$PROPAGATE_CREDATTIM
this.isReadonly = 0
[L]CURPRO = "CREDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDATTIM
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CREDATTIM"
$_LNKPRO_CREDATTIM
Return


####################################################################
# 96 : UPDDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_UPDDATTIM
If [L]_AOLDVAL<>this.UPDDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDATTIM
 Gosub PROPAGATE_UPDDATTIM
Endif
Return

$INIT_UPDDATTIM
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDATTIM
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "UPDDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
Return

$_AOTHERS_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
Return

$PROPAGATE_UPDDATTIM
this.isReadonly = 0
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDATTIM
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "UPDDATTIM"
$_LNKPRO_UPDDATTIM
Return


####################################################################
# 97 : AUUID Single identifier ( Field  Uuident)
####################################################################

$SET_AUUID
If [L]_AOLDVAL<>this.AUUID
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AUUID
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AUUID
 Gosub PROPAGATE_AUUID
Endif
Return

$INIT_AUUID
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "AUUID"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AUUID
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "AUUID"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AUUID                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AUUID                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AUUID
[L]CURPRO = "AUUID"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AUUID=NullUuid
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AUUID
[L]CURPRO = "AUUID"
Return

$_AOTHERS_AUUID
[L]CURPRO = "AUUID"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AUUID
[L]CURPRO = "AUUID"
Return

$PROPAGATE_AUUID
this.isReadonly = 0
[L]CURPRO = "AUUID"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AUUID
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "AUUID"
$_LNKPRO_AUUID
Return


####################################################################
# 98 : BASDEP Early disc/late charge calc basis ( Field MD1 0)
####################################################################

$SET_BASDEP
If [L]_AOLDVAL<>this.BASDEP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASDEP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASDEP
 Gosub PROPAGATE_BASDEP
Endif
Return

$INIT_BASDEP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BASDEP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BASDEP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BASDEP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASDEP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASDEP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASDEP
[L]CURPRO = "BASDEP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASDEP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASDEP
[L]CURPRO = "BASDEP"
Return

$_AOTHERS_BASDEP
[L]CURPRO = "BASDEP"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"BASDEP",this.BASDEP,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASDEP
[L]CURPRO = "BASDEP"
Return

$PROPAGATE_BASDEP
this.isReadonly = 0
[L]CURPRO = "BASDEP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASDEP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BASDEP"
$_LNKPRO_BASDEP
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"BASDEP",this.BASDEP,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BASDEP","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 99 : DEPTYP Price - / +tax ( Field Local menu number 243)
####################################################################

$SET_DEPTYP
If [L]_AOLDVAL<>this.DEPTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEPTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEPTYP
 Gosub PROPAGATE_DEPTYP
Endif
Return

$INIT_DEPTYP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DEPTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DEPTYP=0 and fmet this.AGETATTRIBUTE("DEPTYP","$isMandatory")="true"
 this.DEPTYP = 1
Endif
Return
 
$CONTROL_DEPTYP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DEPTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEPTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEPTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEPTYP
[L]CURPRO = "DEPTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEPTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEPTYP
[L]CURPRO = "DEPTYP"
If this.DEPTYP<0 or this.DEPTYP>len(mess(0,243,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"243 ->"-num$(this.DEPTYP)-mess(99,123,1)):  Return : # Local menu "243 -> Invalid option
Endif
Return

$_AOTHERS_DEPTYP
[L]CURPRO = "DEPTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEPTYP
[L]CURPRO = "DEPTYP"
Return

$PROPAGATE_DEPTYP
this.isReadonly = 0
[L]CURPRO = "DEPTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEPTYP
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DEPTYP"
$_LNKPRO_DEPTYP
Return


####################################################################
# 100 : CSTMAJ New cost ( Field Local menu number 1)
####################################################################

$SET_CSTMAJ
If [L]_AOLDVAL<>this.CSTMAJ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CSTMAJ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CSTMAJ
 Gosub PROPAGATE_CSTMAJ
Endif
Return

$INIT_CSTMAJ
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CSTMAJ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CSTMAJ=0 and fmet this.AGETATTRIBUTE("CSTMAJ","$isMandatory")="true"
 this.CSTMAJ = 1
Endif
Return
 
$CONTROL_CSTMAJ
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CSTMAJ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CSTMAJ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CSTMAJ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CSTMAJ
[L]CURPRO = "CSTMAJ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CSTMAJ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CSTMAJ
[L]CURPRO = "CSTMAJ"
If this.CSTMAJ<0 or this.CSTMAJ>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CSTMAJ)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CSTMAJ
[L]CURPRO = "CSTMAJ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CSTMAJ
[L]CURPRO = "CSTMAJ"
Return

$PROPAGATE_CSTMAJ
this.isReadonly = 0
[L]CURPRO = "CSTMAJ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CSTMAJ
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CSTMAJ"
$_LNKPRO_CSTMAJ
Return


####################################################################
# 101 : TOTATIAMT1 Invoice total including tax ( Field MD1 0)
####################################################################

$SET_TOTATIAMT1
If [L]_AOLDVAL<>this.TOTATIAMT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TOTATIAMT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TOTATIAMT1
 Gosub PROPAGATE_TOTATIAMT1
Endif
Return

$INIT_TOTATIAMT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "TOTATIAMT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TOTATIAMT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "TOTATIAMT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TOTATIAMT1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TOTATIAMT1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TOTATIAMT1
[L]CURPRO = "TOTATIAMT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TOTATIAMT1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TOTATIAMT1
[L]CURPRO = "TOTATIAMT1"
Return

$_AOTHERS_TOTATIAMT1
[L]CURPRO = "TOTATIAMT1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"TOTATIAMT1",this.TOTATIAMT1,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TOTATIAMT1
[L]CURPRO = "TOTATIAMT1"
Return

$PROPAGATE_TOTATIAMT1
this.isReadonly = 0
[L]CURPRO = "TOTATIAMT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TOTATIAMT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "TOTATIAMT1"
$_LNKPRO_TOTATIAMT1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"TOTATIAMT1",this.TOTATIAMT1,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("TOTATIAMT1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 102 : CUR2 Currency ( Field CUR 3)
####################################################################

$SET_CUR2
If [L]_AOLDVAL<>this.CUR2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR2
 Gosub PROPAGATE_CUR2
Endif
Return

$INIT_CUR2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CUR2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CUR2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR2
[L]CURPRO = "CUR2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR2
[L]CURPRO = "CUR2"
If vireblc(this.CUR2,2)<>vireblc(format$("K:3c",this.CUR2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR2
[L]CURPRO = "CUR2"
If vireblc(this.CUR2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR2",this.CUR2,this.CUR2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR2
[L]CURPRO = "CUR2"
Return

$PROPAGATE_CUR2
this.isReadonly = 0
[L]CURPRO = "CUR2"
Gosub _LNKPRO_CUR2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CUR2"
$_LNKPRO_CUR2
If vireblc(this.CUR2,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR2
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 103 : LIBPAZ Reason ( Field A 35)
####################################################################

$SET_LIBPAZ
If [L]_AOLDVAL<>this.LIBPAZ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIBPAZ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIBPAZ
 Gosub PROPAGATE_LIBPAZ
Endif
Return

$INIT_LIBPAZ
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "LIBPAZ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIBPAZ
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "LIBPAZ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIBPAZ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIBPAZ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIBPAZ
[L]CURPRO = "LIBPAZ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LIBPAZ,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIBPAZ
[L]CURPRO = "LIBPAZ"
Return

$_AOTHERS_LIBPAZ
[L]CURPRO = "LIBPAZ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIBPAZ
[L]CURPRO = "LIBPAZ"
Return

$PROPAGATE_LIBPAZ
this.isReadonly = 0
[L]CURPRO = "LIBPAZ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIBPAZ
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "LIBPAZ"
$_LNKPRO_LIBPAZ
Return


####################################################################
# 104 : DUDAT1 1st due date ( Field D)
####################################################################

$SET_DUDAT1
If [L]_AOLDVAL<>this.DUDAT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DUDAT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DUDAT1
 Gosub PROPAGATE_DUDAT1
Endif
Return

$INIT_DUDAT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DUDAT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DUDAT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DUDAT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DUDAT1                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DUDAT1                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DUDAT1
[L]CURPRO = "DUDAT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DUDAT1=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DUDAT1
[L]CURPRO = "DUDAT1"
Return

$_AOTHERS_DUDAT1
[L]CURPRO = "DUDAT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DUDAT1
[L]CURPRO = "DUDAT1"
Return

$PROPAGATE_DUDAT1
this.isReadonly = 0
[L]CURPRO = "DUDAT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DUDAT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DUDAT1"
$_LNKPRO_DUDAT1
Return


####################################################################
# 105 : BPRNAME1 Company name ( Field NAM 35)
####################################################################

$SET_BPRNAME1
If [L]_AOLDVAL<>this.BPRNAME1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRNAME1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRNAME1
 Gosub PROPAGATE_BPRNAME1
Endif
Return

$INIT_BPRNAME1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRNAME1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRNAME1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRNAME1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRNAME1              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRNAME1              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRNAME1
[L]CURPRO = "BPRNAME1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRNAME1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRNAME1
[L]CURPRO = "BPRNAME1"
If vireblc(this.BPRNAME1,2)<>vireblc(format$("K:35X",this.BPRNAME1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRNAME1
[L]CURPRO = "BPRNAME1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRNAME1
[L]CURPRO = "BPRNAME1"
Return

$PROPAGATE_BPRNAME1
this.isReadonly = 0
[L]CURPRO = "BPRNAME1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRNAME1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRNAME1"
$_LNKPRO_BPRNAME1
Return


####################################################################
# 106 : BPRNAME2 Company name 2 ( Field NAM 35)
####################################################################

$SET_BPRNAME2
If [L]_AOLDVAL<>this.BPRNAME2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRNAME2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRNAME2
 Gosub PROPAGATE_BPRNAME2
Endif
Return

$INIT_BPRNAME2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRNAME2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRNAME2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRNAME2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRNAME2              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRNAME2              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRNAME2
[L]CURPRO = "BPRNAME2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRNAME2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRNAME2
[L]CURPRO = "BPRNAME2"
If vireblc(this.BPRNAME2,2)<>vireblc(format$("K:35X",this.BPRNAME2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRNAME2
[L]CURPRO = "BPRNAME2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRNAME2
[L]CURPRO = "BPRNAME2"
Return

$PROPAGATE_BPRNAME2
this.isReadonly = 0
[L]CURPRO = "BPRNAME2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRNAME2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPRNAME2"
$_LNKPRO_BPRNAME2
Return


####################################################################
# 107 : BPAADDLIG1 Address line 1 ( Field ADL 50)
####################################################################

$SET_BPAADDLIG1
If [L]_AOLDVAL<>this.BPAADDLIG1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADDLIG1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADDLIG1
 Gosub PROPAGATE_BPAADDLIG1
Endif
Return

$INIT_BPAADDLIG1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADDLIG1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADDLIG1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
If vireblc(this.BPAADDLIG1,2)<>vireblc(format$("K:50X",this.BPAADDLIG1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPAADDLIG1",this.BPAADDLIG1,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
Return

$PROPAGATE_BPAADDLIG1
this.isReadonly = 0
[L]CURPRO = "BPAADDLIG1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADDLIG1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG1"
$_LNKPRO_BPAADDLIG1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPAADDLIG1",this.BPAADDLIG1,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADDLIG1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 108 : BPAADDLIG2 Address line 2 ( Field ADL 50)
####################################################################

$SET_BPAADDLIG2
If [L]_AOLDVAL<>this.BPAADDLIG2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADDLIG2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADDLIG2
 Gosub PROPAGATE_BPAADDLIG2
Endif
Return

$INIT_BPAADDLIG2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADDLIG2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADDLIG2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
If vireblc(this.BPAADDLIG2,2)<>vireblc(format$("K:50X",this.BPAADDLIG2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPAADDLIG2",this.BPAADDLIG2,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
Return

$PROPAGATE_BPAADDLIG2
this.isReadonly = 0
[L]CURPRO = "BPAADDLIG2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADDLIG2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG2"
$_LNKPRO_BPAADDLIG2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPAADDLIG2",this.BPAADDLIG2,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADDLIG2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 109 : BPAADDLIG3 Address line 3 ( Field ADL 50)
####################################################################

$SET_BPAADDLIG3
If [L]_AOLDVAL<>this.BPAADDLIG3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADDLIG3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADDLIG3
 Gosub PROPAGATE_BPAADDLIG3
Endif
Return

$INIT_BPAADDLIG3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADDLIG3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADDLIG3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
If vireblc(this.BPAADDLIG3,2)<>vireblc(format$("K:50X",this.BPAADDLIG3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPAADDLIG3",this.BPAADDLIG3,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
Return

$PROPAGATE_BPAADDLIG3
this.isReadonly = 0
[L]CURPRO = "BPAADDLIG3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADDLIG3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPAADDLIG3"
$_LNKPRO_BPAADDLIG3
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPAADDLIG3",this.BPAADDLIG3,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADDLIG3","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 110 : BPYNAME1 Company name ( Field NAM 35)
####################################################################

$SET_BPYNAME1
If [L]_AOLDVAL<>this.BPYNAME1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPYNAME1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPYNAME1
 Gosub PROPAGATE_BPYNAME1
Endif
Return

$INIT_BPYNAME1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYNAME1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPYNAME1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYNAME1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPYNAME1              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPYNAME1              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPYNAME1
[L]CURPRO = "BPYNAME1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPYNAME1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPYNAME1
[L]CURPRO = "BPYNAME1"
If vireblc(this.BPYNAME1,2)<>vireblc(format$("K:35X",this.BPYNAME1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPYNAME1
[L]CURPRO = "BPYNAME1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPYNAME1
[L]CURPRO = "BPYNAME1"
Return

$PROPAGATE_BPYNAME1
this.isReadonly = 0
[L]CURPRO = "BPYNAME1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPYNAME1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYNAME1"
$_LNKPRO_BPYNAME1
Return


####################################################################
# 111 : BPYNAME2 Company name 2 ( Field NAM 35)
####################################################################

$SET_BPYNAME2
If [L]_AOLDVAL<>this.BPYNAME2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPYNAME2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPYNAME2
 Gosub PROPAGATE_BPYNAME2
Endif
Return

$INIT_BPYNAME2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYNAME2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPYNAME2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYNAME2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPYNAME2              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPYNAME2              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPYNAME2
[L]CURPRO = "BPYNAME2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPYNAME2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPYNAME2
[L]CURPRO = "BPYNAME2"
If vireblc(this.BPYNAME2,2)<>vireblc(format$("K:35X",this.BPYNAME2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPYNAME2
[L]CURPRO = "BPYNAME2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPYNAME2
[L]CURPRO = "BPYNAME2"
Return

$PROPAGATE_BPYNAME2
this.isReadonly = 0
[L]CURPRO = "BPYNAME2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPYNAME2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYNAME2"
$_LNKPRO_BPYNAME2
Return


####################################################################
# 112 : BPYADDLIG1 Address line 1 ( Field ADL 50)
####################################################################

$SET_BPYADDLIG1
If [L]_AOLDVAL<>this.BPYADDLIG1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPYADDLIG1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPYADDLIG1
 Gosub PROPAGATE_BPYADDLIG1
Endif
Return

$INIT_BPYADDLIG1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPYADDLIG1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPYADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPYADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPYADDLIG1
[L]CURPRO = "BPYADDLIG1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPYADDLIG1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPYADDLIG1
[L]CURPRO = "BPYADDLIG1"
If vireblc(this.BPYADDLIG1,2)<>vireblc(format$("K:50X",this.BPYADDLIG1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPYADDLIG1
[L]CURPRO = "BPYADDLIG1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPYADDLIG1",this.BPYADDLIG1,this.BPYCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPYADDLIG1
[L]CURPRO = "BPYADDLIG1"
Return

$PROPAGATE_BPYADDLIG1
this.isReadonly = 0
[L]CURPRO = "BPYADDLIG1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPYADDLIG1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG1"
$_LNKPRO_BPYADDLIG1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPYADDLIG1",this.BPYADDLIG1,[L]AFORMAT,this.BPYCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPYADDLIG1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 113 : BPYADDLIG2 Address line 2 ( Field ADL 50)
####################################################################

$SET_BPYADDLIG2
If [L]_AOLDVAL<>this.BPYADDLIG2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPYADDLIG2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPYADDLIG2
 Gosub PROPAGATE_BPYADDLIG2
Endif
Return

$INIT_BPYADDLIG2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPYADDLIG2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPYADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPYADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPYADDLIG2
[L]CURPRO = "BPYADDLIG2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPYADDLIG2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPYADDLIG2
[L]CURPRO = "BPYADDLIG2"
If vireblc(this.BPYADDLIG2,2)<>vireblc(format$("K:50X",this.BPYADDLIG2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPYADDLIG2
[L]CURPRO = "BPYADDLIG2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPYADDLIG2",this.BPYADDLIG2,this.BPYCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPYADDLIG2
[L]CURPRO = "BPYADDLIG2"
Return

$PROPAGATE_BPYADDLIG2
this.isReadonly = 0
[L]CURPRO = "BPYADDLIG2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPYADDLIG2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG2"
$_LNKPRO_BPYADDLIG2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPYADDLIG2",this.BPYADDLIG2,[L]AFORMAT,this.BPYCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPYADDLIG2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 114 : BPYADDLIG3 Address line 3 ( Field ADL 50)
####################################################################

$SET_BPYADDLIG3
If [L]_AOLDVAL<>this.BPYADDLIG3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPYADDLIG3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPYADDLIG3
 Gosub PROPAGATE_BPYADDLIG3
Endif
Return

$INIT_BPYADDLIG3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPYADDLIG3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPYADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPYADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPYADDLIG3
[L]CURPRO = "BPYADDLIG3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPYADDLIG3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPYADDLIG3
[L]CURPRO = "BPYADDLIG3"
If vireblc(this.BPYADDLIG3,2)<>vireblc(format$("K:50X",this.BPYADDLIG3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPYADDLIG3
[L]CURPRO = "BPYADDLIG3"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPYADDLIG3",this.BPYADDLIG3,this.BPYCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPYADDLIG3
[L]CURPRO = "BPYADDLIG3"
Return

$PROPAGATE_BPYADDLIG3
this.isReadonly = 0
[L]CURPRO = "BPYADDLIG3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPYADDLIG3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "BPYADDLIG3"
$_LNKPRO_BPYADDLIG3
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPYADDLIG3",this.BPYADDLIG3,[L]AFORMAT,this.BPYCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPYADDLIG3","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 115 : RAT1 Rate ( Field RCU 0)
####################################################################

$SET_RAT1
If [L]_AOLDVAL<>this.RAT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RAT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RAT1
 Gosub PROPAGATE_RAT1
Endif
Return

$INIT_RAT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "RAT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RAT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "RAT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RAT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RAT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RAT1
[L]CURPRO = "RAT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RAT1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RAT1
[L]CURPRO = "RAT1"
Return

$_AOTHERS_RAT1
[L]CURPRO = "RAT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RAT1
[L]CURPRO = "RAT1"
Return

$PROPAGATE_RAT1
this.isReadonly = 0
[L]CURPRO = "RAT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RAT1
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "RAT1"
$_LNKPRO_RAT1
Return


####################################################################
# 116 : CURDIV Currency ( Field CUR 3)
####################################################################

$SET_CURDIV
If [L]_AOLDVAL<>this.CURDIV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURDIV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURDIV
 Gosub PROPAGATE_CURDIV
Endif
Return

$INIT_CURDIV
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CURDIV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURDIV
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CURDIV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURDIV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURDIV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURDIV
[L]CURPRO = "CURDIV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURDIV,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURDIV
[L]CURPRO = "CURDIV"
If vireblc(this.CURDIV,2)<>vireblc(format$("K:3c",this.CURDIV),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURDIV
[L]CURPRO = "CURDIV"
If vireblc(this.CURDIV,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CURDIV",this.CURDIV,this.CURDIV,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CURDIV<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURDIV
[L]CURPRO = "CURDIV"
Return

$PROPAGATE_CURDIV
this.isReadonly = 0
[L]CURPRO = "CURDIV"
Gosub _LNKPRO_CURDIV
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURDIV
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CURDIV"
$_LNKPRO_CURDIV
If vireblc(this.CURDIV,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CURDIV
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURDIV","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURDIV","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CURDIV","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURDIV","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURDIV","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 117 : RAT2 Rate ( Field RAT 0)
####################################################################

$SET_RAT2
If [L]_AOLDVAL<>this.RAT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RAT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RAT2
 Gosub PROPAGATE_RAT2
Endif
Return

$INIT_RAT2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "RAT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RAT2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "RAT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RAT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RAT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RAT2
[L]CURPRO = "RAT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RAT2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RAT2
[L]CURPRO = "RAT2"
Return

$_AOTHERS_RAT2
[L]CURPRO = "RAT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RAT2
[L]CURPRO = "RAT2"
Return

$PROPAGATE_RAT2
this.isReadonly = 0
[L]CURPRO = "RAT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RAT2
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "RAT2"
$_LNKPRO_RAT2
Return


####################################################################
# 118 : CURMLT Currency ( Field CUR 3)
####################################################################

$SET_CURMLT
If [L]_AOLDVAL<>this.CURMLT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURMLT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURMLT
 Gosub PROPAGATE_CURMLT
Endif
Return

$INIT_CURMLT
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CURMLT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURMLT
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CURMLT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURMLT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURMLT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURMLT
[L]CURPRO = "CURMLT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURMLT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURMLT
[L]CURPRO = "CURMLT"
If vireblc(this.CURMLT,2)<>vireblc(format$("K:3c",this.CURMLT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURMLT
[L]CURPRO = "CURMLT"
If vireblc(this.CURMLT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CURMLT",this.CURMLT,this.CURMLT,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CURMLT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURMLT
[L]CURPRO = "CURMLT"
Return

$PROPAGATE_CURMLT
this.isReadonly = 0
[L]CURPRO = "CURMLT"
Gosub _LNKPRO_CURMLT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURMLT
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CURMLT"
$_LNKPRO_CURMLT
If vireblc(this.CURMLT,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CURMLT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURMLT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURMLT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CURMLT","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURMLT","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURMLT","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 119 : DIFAMTATI Variance + tax ( Field MD1 0)
####################################################################

$SET_DIFAMTATI
If [L]_AOLDVAL<>this.DIFAMTATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DIFAMTATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DIFAMTATI
 Gosub PROPAGATE_DIFAMTATI
Endif
Return

$INIT_DIFAMTATI
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DIFAMTATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DIFAMTATI
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DIFAMTATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DIFAMTATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DIFAMTATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DIFAMTATI
[L]CURPRO = "DIFAMTATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DIFAMTATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DIFAMTATI
[L]CURPRO = "DIFAMTATI"
Return

$_AOTHERS_DIFAMTATI
[L]CURPRO = "DIFAMTATI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DIFAMTATI",this.DIFAMTATI,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DIFAMTATI
[L]CURPRO = "DIFAMTATI"
Return

$PROPAGATE_DIFAMTATI
this.isReadonly = 0
[L]CURPRO = "DIFAMTATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DIFAMTATI
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "DIFAMTATI"
$_LNKPRO_DIFAMTATI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DIFAMTATI",this.DIFAMTATI,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DIFAMTATI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 120 : CUR3 Currency ( Field CUR 3)
####################################################################

$SET_CUR3
If [L]_AOLDVAL<>this.CUR3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR3
 Gosub PROPAGATE_CUR3
Endif
Return

$INIT_CUR3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CUR3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CUR3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR3
[L]CURPRO = "CUR3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR3
[L]CURPRO = "CUR3"
If vireblc(this.CUR3,2)<>vireblc(format$("K:3c",this.CUR3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR3
[L]CURPRO = "CUR3"
If vireblc(this.CUR3,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR3",this.CUR3,this.CUR3,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR3<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR3
[L]CURPRO = "CUR3"
Return

$PROPAGATE_CUR3
this.isReadonly = 0
[L]CURPRO = "CUR3"
Gosub _LNKPRO_CUR3
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR3
Gosub DECLARE_VAR From WMC0PINVOICE
[L]CURPRO = "CUR3"
$_LNKPRO_CUR3
If vireblc(this.CUR3,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR3
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return




