#<AdxTL>@(#)0.0.0.0 $Revision$Class Products
# Supervisor
## ACLA-CLASSE ## ITMMASTER
# 2018-08-27 12:35:32 089

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 31 : SSUSTUCOE STA-STK conv. ( Field COE 0)
####################################################################

$SET_SSUSTUCOE
If [L]_AOLDVAL<>this.SSUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SSUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SSUSTUCOE
 Gosub PROPAGATE_SSUSTUCOE
Endif
Return

$INIT_SSUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SSUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SSUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SSUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SSUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SSUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SSUSTUCOE
[L]CURPRO = "SSUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SSUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SSUSTUCOE
[L]CURPRO = "SSUSTUCOE"
Return

$_AOTHERS_SSUSTUCOE
[L]CURPRO = "SSUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SSUSTUCOE
[L]CURPRO = "SSUSTUCOE"
Return

$PROPAGATE_SSUSTUCOE
this.isReadonly = 0
[L]CURPRO = "SSUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SSUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SSUSTUCOE"
$_LNKPRO_SSUSTUCOE
Return


####################################################################
# 32 : EEUSTUCOE EU-STK conv. ( Field COE 0)
####################################################################

$SET_EEUSTUCOE
If [L]_AOLDVAL<>this.EEUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EEUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EEUSTUCOE
 Gosub PROPAGATE_EEUSTUCOE
Endif
Return

$INIT_EEUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EEUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EEUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EEUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EEUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EEUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EEUSTUCOE
[L]CURPRO = "EEUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EEUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EEUSTUCOE
[L]CURPRO = "EEUSTUCOE"
Return

$_AOTHERS_EEUSTUCOE
[L]CURPRO = "EEUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EEUSTUCOE
[L]CURPRO = "EEUSTUCOE"
Return

$PROPAGATE_EEUSTUCOE
this.isReadonly = 0
[L]CURPRO = "EEUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EEUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EEUSTUCOE"
$_LNKPRO_EEUSTUCOE
Return


####################################################################
# 33 : WEU Weight unit ( Field UOM 3)
####################################################################

$SET_WEU
If [L]_AOLDVAL<>this.WEU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WEU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WEU
 Gosub PROPAGATE_WEU
Endif
Return

$INIT_WEU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "WEU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WEU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "WEU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WEU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WEU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WEU
[L]CURPRO = "WEU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WEU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WEU
[L]CURPRO = "WEU"
If vireblc(this.WEU,2)<>vireblc(format$("K:3X",this.WEU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WEU
[L]CURPRO = "WEU"
If vireblc(this.WEU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"WEU",this.WEU,this.WEU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.WEU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WEU
[L]CURPRO = "WEU"
Return

$PROPAGATE_WEU
this.isReadonly = 0
[L]CURPRO = "WEU"
Gosub _LNKPRO_WEU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WEU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "WEU"
$_LNKPRO_WEU
If vireblc(this.WEU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.WEU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("WEU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("WEU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("WEU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("WEU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 34 : ITMWEI Item weight ( Field WEI 0)
####################################################################

$SET_ITMWEI
If [L]_AOLDVAL<>this.ITMWEI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMWEI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMWEI
 Gosub PROPAGATE_ITMWEI
Endif
Return

$INIT_ITMWEI
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMWEI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMWEI
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMWEI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMWEI
[L]CURPRO = "ITMWEI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMWEI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMWEI
[L]CURPRO = "ITMWEI"
Return

$_AOTHERS_ITMWEI
[L]CURPRO = "ITMWEI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMWEI
[L]CURPRO = "ITMWEI"
Return

$PROPAGATE_ITMWEI
this.isReadonly = 0
[L]CURPRO = "ITMWEI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMWEI
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMWEI"
$_LNKPRO_ITMWEI
Return


####################################################################
# 35 : VOU Volume unit ( Field UOM 3)
####################################################################

$SET_VOU
If [L]_AOLDVAL<>this.VOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VOU
 Gosub PROPAGATE_VOU
Endif
Return

$INIT_VOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "VOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "VOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VOU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VOU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VOU
[L]CURPRO = "VOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VOU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VOU
[L]CURPRO = "VOU"
If vireblc(this.VOU,2)<>vireblc(format$("K:3X",this.VOU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VOU
[L]CURPRO = "VOU"
If vireblc(this.VOU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"VOU",this.VOU,this.VOU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VOU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VOU
[L]CURPRO = "VOU"
Return

$PROPAGATE_VOU
this.isReadonly = 0
[L]CURPRO = "VOU"
Gosub _LNKPRO_VOU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "VOU"
$_LNKPRO_VOU
If vireblc(this.VOU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.VOU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VOU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VOU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("VOU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("VOU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 36 : ITMVOU STK volume ( Field VOL 0)
####################################################################

$SET_ITMVOU
If [L]_AOLDVAL<>this.ITMVOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMVOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMVOU
 Gosub PROPAGATE_ITMVOU
Endif
Return

$INIT_ITMVOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMVOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMVOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMVOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMVOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMVOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMVOU
[L]CURPRO = "ITMVOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMVOU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMVOU
[L]CURPRO = "ITMVOU"
Return

$_AOTHERS_ITMVOU
[L]CURPRO = "ITMVOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMVOU
[L]CURPRO = "ITMVOU"
Return

$PROPAGATE_ITMVOU
this.isReadonly = 0
[L]CURPRO = "ITMVOU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMVOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMVOU"
$_LNKPRO_ITMVOU
Return


####################################################################
# 38 : STOMGTCOD Stock management ( Field Local menu number 215)
####################################################################

$SET_STOMGTCOD
If [L]_AOLDVAL<>this.STOMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOMGTCOD
 Gosub PROPAGATE_STOMGTCOD
Endif
Return

$INIT_STOMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STOMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STOMGTCOD=0 and fmet this.AGETATTRIBUTE("STOMGTCOD","$isMandatory")="true"
 this.STOMGTCOD = 1
Endif
Return
 
$CONTROL_STOMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STOMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STOMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
If this.STOMGTCOD<0 or this.STOMGTCOD>len(mess(0,215,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"215 ->"-num$(this.STOMGTCOD)-mess(99,123,1)):  Return : # Local menu "215 -> Invalid option
Endif
Return

$_AOTHERS_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
Return

$PROPAGATE_STOMGTCOD
this.isReadonly = 0
[L]CURPRO = "STOMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STOMGTCOD"
$_LNKPRO_STOMGTCOD
Return


####################################################################
# 39 : LOTMGTCOD Lot management ( Field Local menu number 2711)
####################################################################

$SET_LOTMGTCOD
If [L]_AOLDVAL<>this.LOTMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOTMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOTMGTCOD
 Gosub PROPAGATE_LOTMGTCOD
Endif
Return

$INIT_LOTMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LOTMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LOTMGTCOD=0 and fmet this.AGETATTRIBUTE("LOTMGTCOD","$isMandatory")="true"
 this.LOTMGTCOD = 1
Endif
Return
 
$CONTROL_LOTMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LOTMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOTMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOTMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOTMGTCOD
[L]CURPRO = "LOTMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LOTMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOTMGTCOD
[L]CURPRO = "LOTMGTCOD"
If this.LOTMGTCOD<0 or this.LOTMGTCOD>len(mess(0,2711,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2711 ->"-num$(this.LOTMGTCOD)-mess(99,123,1)):  Return : # Local menu "2711 -> Invalid option
Endif
Return

$_AOTHERS_LOTMGTCOD
[L]CURPRO = "LOTMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOTMGTCOD
[L]CURPRO = "LOTMGTCOD"
Return

$PROPAGATE_LOTMGTCOD
this.isReadonly = 0
[L]CURPRO = "LOTMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOTMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LOTMGTCOD"
$_LNKPRO_LOTMGTCOD
Return


####################################################################
# 40 : LOTCOU Lot sequence number ( Field ANM 5)
####################################################################

$SET_LOTCOU
If [L]_AOLDVAL<>this.LOTCOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOTCOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOTCOU
 Gosub PROPAGATE_LOTCOU
Endif
Return

$INIT_LOTCOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LOTCOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOTCOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LOTCOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOTCOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOTCOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOTCOU
[L]CURPRO = "LOTCOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOTCOU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOTCOU
[L]CURPRO = "LOTCOU"
If vireblc(this.LOTCOU,2)<>vireblc(format$("K:5B",this.LOTCOU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOTCOU
[L]CURPRO = "LOTCOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOTCOU
[L]CURPRO = "LOTCOU"
Return

$PROPAGATE_LOTCOU
this.isReadonly = 0
[L]CURPRO = "LOTCOU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOTCOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LOTCOU"
$_LNKPRO_LOTCOU
Return


####################################################################
# 41 : SERCOU Serial sequence ( Field ANM 5)
####################################################################

$SET_SERCOU
If [L]_AOLDVAL<>this.SERCOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SERCOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SERCOU
 Gosub PROPAGATE_SERCOU
Endif
Return

$INIT_SERCOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SERCOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SERCOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SERCOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SERCOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SERCOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SERCOU
[L]CURPRO = "SERCOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SERCOU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SERCOU
[L]CURPRO = "SERCOU"
If vireblc(this.SERCOU,2)<>vireblc(format$("K:5B",this.SERCOU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SERCOU
[L]CURPRO = "SERCOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SERCOU
[L]CURPRO = "SERCOU"
Return

$PROPAGATE_SERCOU
this.isReadonly = 0
[L]CURPRO = "SERCOU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SERCOU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SERCOU"
$_LNKPRO_SERCOU
Return


####################################################################
# 42 : SERMGTCOD Serial no. management ( Field Local menu number 210)
####################################################################

$SET_SERMGTCOD
If [L]_AOLDVAL<>this.SERMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SERMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SERMGTCOD
 Gosub PROPAGATE_SERMGTCOD
Endif
Return

$INIT_SERMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SERMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SERMGTCOD=0 and fmet this.AGETATTRIBUTE("SERMGTCOD","$isMandatory")="true"
 this.SERMGTCOD = 1
Endif
Return
 
$CONTROL_SERMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SERMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SERMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SERMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SERMGTCOD
[L]CURPRO = "SERMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SERMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SERMGTCOD
[L]CURPRO = "SERMGTCOD"
If this.SERMGTCOD<0 or this.SERMGTCOD>len(mess(0,210,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"210 ->"-num$(this.SERMGTCOD)-mess(99,123,1)):  Return : # Local menu "210 -> Invalid option
Endif
Return

$_AOTHERS_SERMGTCOD
[L]CURPRO = "SERMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SERMGTCOD
[L]CURPRO = "SERMGTCOD"
Return

$PROPAGATE_SERMGTCOD
this.isReadonly = 0
[L]CURPRO = "SERMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SERMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SERMGTCOD"
$_LNKPRO_SERMGTCOD
Return


####################################################################
# 43 : EXYMGTCOD Expiration management ( Field Local menu number 211)
####################################################################

$SET_EXYMGTCOD
If [L]_AOLDVAL<>this.EXYMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXYMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXYMGTCOD
 Gosub PROPAGATE_EXYMGTCOD
Endif
Return

$INIT_EXYMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EXYMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EXYMGTCOD=0 and fmet this.AGETATTRIBUTE("EXYMGTCOD","$isMandatory")="true"
 this.EXYMGTCOD = 1
Endif
Return
 
$CONTROL_EXYMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EXYMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXYMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXYMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXYMGTCOD
[L]CURPRO = "EXYMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXYMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXYMGTCOD
[L]CURPRO = "EXYMGTCOD"
If this.EXYMGTCOD<0 or this.EXYMGTCOD>len(mess(0,211,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"211 ->"-num$(this.EXYMGTCOD)-mess(99,123,1)):  Return : # Local menu "211 -> Invalid option
Endif
Return

$_AOTHERS_EXYMGTCOD
[L]CURPRO = "EXYMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXYMGTCOD
[L]CURPRO = "EXYMGTCOD"
Return

$PROPAGATE_EXYMGTCOD
this.isReadonly = 0
[L]CURPRO = "EXYMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXYMGTCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EXYMGTCOD"
$_LNKPRO_EXYMGTCOD
Return


####################################################################
# 44 : EXYSTA Expiration status ( Field A 1)
####################################################################

$SET_EXYSTA
If [L]_AOLDVAL<>this.EXYSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXYSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXYSTA
 Gosub PROPAGATE_EXYSTA
Endif
Return

$INIT_EXYSTA
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EXYSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXYSTA
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EXYSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXYSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXYSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXYSTA
[L]CURPRO = "EXYSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXYSTA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXYSTA
[L]CURPRO = "EXYSTA"
Return

$_AOTHERS_EXYSTA
[L]CURPRO = "EXYSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXYSTA
[L]CURPRO = "EXYSTA"
Return

$PROPAGATE_EXYSTA
this.isReadonly = 0
[L]CURPRO = "EXYSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXYSTA
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EXYSTA"
$_LNKPRO_EXYSTA
Return


####################################################################
# 45 : SHL Shelf life ( Field C 4)
####################################################################

$SET_SHL
If [L]_AOLDVAL<>this.SHL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHL
 Gosub PROPAGATE_SHL
Endif
Return

$INIT_SHL
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SHL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHL
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SHL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHL                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHL                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHL
[L]CURPRO = "SHL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SHL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHL
[L]CURPRO = "SHL"
Return

$_AOTHERS_SHL
[L]CURPRO = "SHL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHL
[L]CURPRO = "SHL"
Return

$PROPAGATE_SHL
this.isReadonly = 0
[L]CURPRO = "SHL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHL
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SHL"
$_LNKPRO_SHL
Return


####################################################################
# 46 : SHLLTI Check lead time ( Field C 4)
####################################################################

$SET_SHLLTI
If [L]_AOLDVAL<>this.SHLLTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHLLTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHLLTI
 Gosub PROPAGATE_SHLLTI
Endif
Return

$INIT_SHLLTI
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SHLLTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHLLTI
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SHLLTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHLLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHLLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHLLTI
[L]CURPRO = "SHLLTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SHLLTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHLLTI
[L]CURPRO = "SHLLTI"
Return

$_AOTHERS_SHLLTI
[L]CURPRO = "SHLLTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHLLTI
[L]CURPRO = "SHLLTI"
Return

$PROPAGATE_SHLLTI
this.isReadonly = 0
[L]CURPRO = "SHLLTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHLLTI
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SHLLTI"
$_LNKPRO_SHLLTI
Return


####################################################################
# 47 : NEGSTO Stock < 0 authorized ( Field Local menu number 1)
####################################################################

$SET_NEGSTO
If [L]_AOLDVAL<>this.NEGSTO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NEGSTO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NEGSTO
 Gosub PROPAGATE_NEGSTO
Endif
Return

$INIT_NEGSTO
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "NEGSTO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.NEGSTO=0 and fmet this.AGETATTRIBUTE("NEGSTO","$isMandatory")="true"
 this.NEGSTO = 1
Endif
Return
 
$CONTROL_NEGSTO
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "NEGSTO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NEGSTO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NEGSTO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NEGSTO
[L]CURPRO = "NEGSTO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NEGSTO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NEGSTO
[L]CURPRO = "NEGSTO"
If this.NEGSTO<0 or this.NEGSTO>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.NEGSTO)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_NEGSTO
[L]CURPRO = "NEGSTO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NEGSTO
[L]CURPRO = "NEGSTO"
Return

$PROPAGATE_NEGSTO
this.isReadonly = 0
[L]CURPRO = "NEGSTO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NEGSTO
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "NEGSTO"
$_LNKPRO_NEGSTO
Return


####################################################################
# 48 : CSTGRP Cost group links ( Field A 10)
####################################################################

$SET_CSTGRP
If [L]_AOLDVAL<>this.CSTGRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CSTGRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CSTGRP
 Gosub PROPAGATE_CSTGRP
Endif
Return

$INIT_CSTGRP
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "CSTGRP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CSTGRP
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "CSTGRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CSTGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CSTGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CSTGRP
[L]CURPRO = "CSTGRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CSTGRP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CSTGRP
[L]CURPRO = "CSTGRP"
Return

$_AOTHERS_CSTGRP
[L]CURPRO = "CSTGRP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CSTGRP
[L]CURPRO = "CSTGRP"
Return

$PROPAGATE_CSTGRP
this.isReadonly = 0
[L]CURPRO = "CSTGRP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CSTGRP
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "CSTGRP"
$_LNKPRO_CSTGRP
Return


####################################################################
# 49 : BRDCOD Cost group links ( Field Local menu number 325)
####################################################################

$SET_BRDCOD
If [L]_AOLDVAL<>this.BRDCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BRDCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BRDCOD
 Gosub PROPAGATE_BRDCOD
Endif
Return

$INIT_BRDCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "BRDCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BRDCOD=0 and fmet this.AGETATTRIBUTE("BRDCOD","$isMandatory")="true"
 this.BRDCOD = 1
Endif
Return
 
$CONTROL_BRDCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "BRDCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BRDCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BRDCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BRDCOD
[L]CURPRO = "BRDCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BRDCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BRDCOD
[L]CURPRO = "BRDCOD"
If this.BRDCOD<0 or this.BRDCOD>len(mess(0,325,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"325 ->"-num$(this.BRDCOD)-mess(99,123,1)):  Return : # Local menu "325 -> Invalid option
Endif
Return

$_AOTHERS_BRDCOD
[L]CURPRO = "BRDCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BRDCOD
[L]CURPRO = "BRDCOD"
Return

$PROPAGATE_BRDCOD
this.isReadonly = 0
[L]CURPRO = "BRDCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BRDCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "BRDCOD"
$_LNKPRO_BRDCOD
Return


####################################################################
# 50 : PLAACS User access ( Field ACS 10)
####################################################################

$SET_PLAACS
If [L]_AOLDVAL<>this.PLAACS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLAACS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLAACS
 Gosub PROPAGATE_PLAACS
Endif
Return

$INIT_PLAACS
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PLAACS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLAACS
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PLAACS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLAACS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLAACS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLAACS
[L]CURPRO = "PLAACS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PLAACS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLAACS
[L]CURPRO = "PLAACS"
If vireblc(this.PLAACS,2)<>vireblc(format$("KTD:10B",this.PLAACS),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PLAACS
[L]CURPRO = "PLAACS"
If vireblc(this.PLAACS,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPACS.ACTRLREF(this,"PLAACS",this.PLAACS,this.PLAACS,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PLAACS<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLAACS
[L]CURPRO = "PLAACS"
Return

$PROPAGATE_PLAACS
this.isReadonly = 0
[L]CURPRO = "PLAACS"
Gosub _LNKPRO_PLAACS
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLAACS
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PLAACS"
$_LNKPRO_PLAACS
If vireblc(this.PLAACS,2)<>""
 # Link ACCCOD
 Local File ACCCOD [WACS]
 Read [F:WACS]ACS0 = this.PLAACS
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ACCCOD" & ZONE="DESACC" & IDENT1=[F:WACS]CODACC & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PLAACS","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WACS]
Endif
Return


####################################################################
# 51 : RPLITM Alternate product ( Field ITM 20)
####################################################################

$SET_RPLITM
If [L]_AOLDVAL<>this.RPLITM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPLITM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPLITM
 Gosub PROPAGATE_RPLITM
Endif
Return

$INIT_RPLITM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "RPLITM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPLITM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "RPLITM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPLITM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPLITM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPLITM
[L]CURPRO = "RPLITM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.RPLITM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPLITM
[L]CURPRO = "RPLITM"
If vireblc(this.RPLITM,2)<>vireblc(format$("K:20c",this.RPLITM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_RPLITM
[L]CURPRO = "RPLITM"
If vireblc(this.RPLITM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"RPLITM",this.RPLITM,this.RPLITM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.RPLITM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPLITM
[L]CURPRO = "RPLITM"
Return

$PROPAGATE_RPLITM
this.isReadonly = 0
[L]CURPRO = "RPLITM"
Gosub _LNKPRO_RPLITM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPLITM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "RPLITM"
$_LNKPRO_RPLITM
If vireblc(this.RPLITM,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.RPLITM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("RPLITM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return


####################################################################
# 52 : EECGES Sub Intrastat ( Field Local menu number 1)
####################################################################

$SET_EECGES
If [L]_AOLDVAL<>this.EECGES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECGES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECGES
 Gosub PROPAGATE_EECGES
Endif
Return

$INIT_EECGES
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EECGES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EECGES=0 and fmet this.AGETATTRIBUTE("EECGES","$isMandatory")="true"
 this.EECGES = 1
Endif
Return
 
$CONTROL_EECGES
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EECGES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECGES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECGES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECGES
[L]CURPRO = "EECGES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EECGES=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECGES
[L]CURPRO = "EECGES"
If this.EECGES<0 or this.EECGES>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.EECGES)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_EECGES
[L]CURPRO = "EECGES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECGES
[L]CURPRO = "EECGES"
Return

$PROPAGATE_EECGES
this.isReadonly = 0
[L]CURPRO = "EECGES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECGES
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EECGES"
$_LNKPRO_EECGES
Return


####################################################################
# 53 : CUSREF Customs reference ( Field INO 12)
####################################################################

$SET_CUSREF
If [L]_AOLDVAL<>this.CUSREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUSREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUSREF
 Gosub PROPAGATE_CUSREF
Endif
Return

$INIT_CUSREF
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "CUSREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUSREF
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "CUSREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUSREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUSREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUSREF
[L]CURPRO = "CUSREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUSREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUSREF
[L]CURPRO = "CUSREF"
If vireblc(this.CUSREF,2)<>vireblc(format$("K:12#",this.CUSREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUSREF
[L]CURPRO = "CUSREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUSREF
[L]CURPRO = "CUSREF"
Return

$PROPAGATE_CUSREF
this.isReadonly = 0
[L]CURPRO = "CUSREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUSREF
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "CUSREF"
$_LNKPRO_CUSREF
Return


####################################################################
# 55 : FRTHORUOM Planning horizon time unit ( Field Local menu number 291)
####################################################################

$SET_FRTHORUOM
If [L]_AOLDVAL<>this.FRTHORUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FRTHORUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FRTHORUOM
 Gosub PROPAGATE_FRTHORUOM
Endif
Return

$INIT_FRTHORUOM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FRTHORUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FRTHORUOM=0 and fmet this.AGETATTRIBUTE("FRTHORUOM","$isMandatory")="true"
 this.FRTHORUOM = 1
Endif
Return
 
$CONTROL_FRTHORUOM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FRTHORUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FRTHORUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FRTHORUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FRTHORUOM
[L]CURPRO = "FRTHORUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FRTHORUOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FRTHORUOM
[L]CURPRO = "FRTHORUOM"
If this.FRTHORUOM<0 or this.FRTHORUOM>len(mess(0,291,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"291 ->"-num$(this.FRTHORUOM)-mess(99,123,1)):  Return : # Local menu "291 -> Invalid option
Endif
Return

$_AOTHERS_FRTHORUOM
[L]CURPRO = "FRTHORUOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FRTHORUOM
[L]CURPRO = "FRTHORUOM"
Return

$PROPAGATE_FRTHORUOM
this.isReadonly = 0
[L]CURPRO = "FRTHORUOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FRTHORUOM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FRTHORUOM"
$_LNKPRO_FRTHORUOM
Return


####################################################################
# 56 : FRTHOR Planning horizon ( Field C 4)
####################################################################

$SET_FRTHOR
If [L]_AOLDVAL<>this.FRTHOR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FRTHOR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FRTHOR
 Gosub PROPAGATE_FRTHOR
Endif
Return

$INIT_FRTHOR
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FRTHOR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FRTHOR
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FRTHOR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FRTHOR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FRTHOR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FRTHOR
[L]CURPRO = "FRTHOR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FRTHOR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FRTHOR
[L]CURPRO = "FRTHOR"
Return

$_AOTHERS_FRTHOR
[L]CURPRO = "FRTHOR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FRTHOR
[L]CURPRO = "FRTHOR"
Return

$PROPAGATE_FRTHOR
this.isReadonly = 0
[L]CURPRO = "FRTHOR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FRTHOR
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FRTHOR"
$_LNKPRO_FRTHOR
Return


####################################################################
# 57 : FIMHOR Firm horizon ( Field C 4)
####################################################################

$SET_FIMHOR
If [L]_AOLDVAL<>this.FIMHOR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FIMHOR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FIMHOR
 Gosub PROPAGATE_FIMHOR
Endif
Return

$INIT_FIMHOR
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FIMHOR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FIMHOR
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FIMHOR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FIMHOR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FIMHOR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FIMHOR
[L]CURPRO = "FIMHOR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FIMHOR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FIMHOR
[L]CURPRO = "FIMHOR"
Return

$_AOTHERS_FIMHOR
[L]CURPRO = "FIMHOR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FIMHOR
[L]CURPRO = "FIMHOR"
Return

$PROPAGATE_FIMHOR
this.isReadonly = 0
[L]CURPRO = "FIMHOR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FIMHOR
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FIMHOR"
$_LNKPRO_FIMHOR
Return


####################################################################
# 58 : FIMHORUOM Firm horizon time un ( Field Local menu number 291)
####################################################################

$SET_FIMHORUOM
If [L]_AOLDVAL<>this.FIMHORUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FIMHORUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FIMHORUOM
 Gosub PROPAGATE_FIMHORUOM
Endif
Return

$INIT_FIMHORUOM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FIMHORUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FIMHORUOM=0 and fmet this.AGETATTRIBUTE("FIMHORUOM","$isMandatory")="true"
 this.FIMHORUOM = 1
Endif
Return
 
$CONTROL_FIMHORUOM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FIMHORUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FIMHORUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FIMHORUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FIMHORUOM
[L]CURPRO = "FIMHORUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FIMHORUOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FIMHORUOM
[L]CURPRO = "FIMHORUOM"
If this.FIMHORUOM<0 or this.FIMHORUOM>len(mess(0,291,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"291 ->"-num$(this.FIMHORUOM)-mess(99,123,1)):  Return : # Local menu "291 -> Invalid option
Endif
Return

$_AOTHERS_FIMHORUOM
[L]CURPRO = "FIMHORUOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FIMHORUOM
[L]CURPRO = "FIMHORUOM"
Return

$PROPAGATE_FIMHORUOM
this.isReadonly = 0
[L]CURPRO = "FIMHORUOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FIMHORUOM
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "FIMHORUOM"
$_LNKPRO_FIMHORUOM
Return


####################################################################
# 59 : BUY Buyer ( Field AUS 5)
####################################################################

$SET_BUY
If [L]_AOLDVAL<>this.BUY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BUY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BUY
 Gosub PROPAGATE_BUY
Endif
Return

$INIT_BUY
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "BUY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BUY
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "BUY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BUY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BUY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BUY
[L]CURPRO = "BUY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BUY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BUY
[L]CURPRO = "BUY"
If vireblc(this.BUY,2)<>vireblc(format$("K:5B",this.BUY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BUY
[L]CURPRO = "BUY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BUY
[L]CURPRO = "BUY"
Return

$PROPAGATE_BUY
this.isReadonly = 0
[L]CURPRO = "BUY"
Gosub _LNKPRO_BUY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BUY
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "BUY"
$_LNKPRO_BUY
If vireblc(this.BUY,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.BUY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BUY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BUY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return


####################################################################
# 60 : PLANNER Planner ( Field AUS 5)
####################################################################

$SET_PLANNER
If [L]_AOLDVAL<>this.PLANNER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLANNER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLANNER
 Gosub PROPAGATE_PLANNER
Endif
Return

$INIT_PLANNER
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PLANNER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLANNER
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PLANNER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLANNER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLANNER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLANNER
[L]CURPRO = "PLANNER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PLANNER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLANNER
[L]CURPRO = "PLANNER"
If vireblc(this.PLANNER,2)<>vireblc(format$("K:5B",this.PLANNER),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PLANNER
[L]CURPRO = "PLANNER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLANNER
[L]CURPRO = "PLANNER"
Return

$PROPAGATE_PLANNER
this.isReadonly = 0
[L]CURPRO = "PLANNER"
Gosub _LNKPRO_PLANNER
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLANNER
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PLANNER"
$_LNKPRO_PLANNER
If vireblc(this.PLANNER,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.PLANNER
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PLANNER","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PLANNER","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return




