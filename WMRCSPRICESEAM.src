#<AdxTL>@(#)0.0.0.0 $Revision$Class Price list inquiry
# Supervisor
## ACLA-CLASSE ## SPRICESEARCH
# 2018-08-27 13:32:51 528

####################################################################
# _ACONTROL
####################################################################

$_ACONTROL
Gosub _AMANDATORY     : [L]ASTATUS = max([L]ASTATUS,[L]ALLSTAT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AFORMAT        : [L]ASTATUS = max([L]ASTATUS,[L]ALLSTAT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS        : [L]ASTATUS = max([L]ASTATUS,[L]ALLSTAT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

####################################################################
# MANDATORY
####################################################################

$_AMANDATORY
Gosub DECLARE_VAR From WMR0SPRICESEAM
Local Integer ALLSTAT
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_BPCORD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_BPCORD_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_ITMREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_ITMREF_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_CURREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_CURREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_PRITYP_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_SAUREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_SAUREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_BPAADD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_BPAADD_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_VACBPR_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_VACBPR_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_PTE_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_PTE_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_MDL_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_MDL_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_EECICT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_EECICT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_PJT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AMANDATORY_PJT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If this.SPRISEA<>null
 [L]ASTATUS = fmet this.SPRISEA._AMANDATORY : Gosub TESTALLSTAT
Endif
Return

####################################################################
# FORMAT
####################################################################

$_AFORMAT
Gosub DECLARE_VAR From WMR0SPRICESEAM
Local Integer ALLSTAT
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_BPCORD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_BPCORD_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_ITMREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_ITMREF_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_CURREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_CURREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_PRITYP_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_SAUREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_SAUREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_BPAADD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_BPAADD_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_VACBPR_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_VACBPR_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_PTE_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_PTE_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_MDL_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_MDL_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_EECICT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_EECICT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_PJT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AFORMAT_PJT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If this.SPRISEA<>null
 [L]ASTATUS = fmet this.SPRISEA._AFORMAT : Gosub TESTALLSTAT
Endif
Return

####################################################################
# OTHERS
####################################################################

$_AOTHERS
Gosub DECLARE_VAR From WMR0SPRICESEAM
Local Integer ALLSTAT
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_BPCORD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_BPCORD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_BPCORD_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_BPCORD_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_ITMREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_ITMREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_ITMREF_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_ITMREF_GETDF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_CURREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_CURREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_CURREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_CURREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_PRITYP_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_PRITYP_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_SAUREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_SAUREF_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_SAUREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_SAUREF_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_BPAADD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_BPAADD_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_BPAADD_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_BPAADD_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_VACBPR_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_VACBPR_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_VACBPR_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_VACBPR_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_PTE_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_PTE_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_PTE_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_PTE_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_MDL_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_MDL_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_MDL_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_MDL_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_EECICT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_EECICT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_EECICT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_EECICT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_PJT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_PJT_REP From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If !find(this.ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL) : Gosub _AOTHERS_PJT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT : Gosub _AOTHERS_REF_PJT_ISDEF From WMR1SPRICESEAM : Gosub TESTALLSTAT :  Endif
If this.SPRISEA<>null
 [L]ASTATUS = fmet this.SPRISEA._AOTHERS : Gosub TESTALLSTAT
Endif
[L]ASTATUS = fmet this.ACONTROL
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



