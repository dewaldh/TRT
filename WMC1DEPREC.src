#<AdxTL>@(#)0.0.0.0 $Revision$Class Depreciation plans
# Supervisor
## ACLA-CLASSE ## DEPREC
# 2018-08-27 12:30:45 521


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 2 : AASREF Asset ( Field FAS 20)
####################################################################

$SET_AASREF
If [L]_AOLDVAL<>this.AASREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AASREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AASREF
 Gosub PROPAGATE_AASREF
Endif
Return

$INIT_AASREF
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "AASREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AASREF
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "AASREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AASREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AASREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AASREF
[L]CURPRO = "AASREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.AASREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AASREF
[L]CURPRO = "AASREF"
If vireblc(this.AASREF,2)<>vireblc(format$("K:20c",this.AASREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_AASREF
[L]CURPRO = "AASREF"
If vireblc(this.AASREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFAS.ACTRLREF(this,"AASREF",this.AASREF,this.AASREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.AASREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AASREF
[L]CURPRO = "AASREF"
Return

$PROPAGATE_AASREF
this.isReadonly = 0
[L]CURPRO = "AASREF"
Gosub _LNKPRO_AASREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AASREF
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "AASREF"
$_LNKPRO_AASREF
If vireblc(this.AASREF,2)<>""
 # Link FXDASSETS
 Local File FXDASSETS [WFAS]
 Read [F:WFAS]FAS0 = this.AASREF
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$title",[F:WFAS]AASDES1)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$description",[F:WFAS]AASDES1)
 Endif
 LogicClose File [WFAS]
Endif
Return

$_ALOADATTRIBUTE_AASREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$isMandatory","true")
Return


####################################################################
# 3 : FCY Financial site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 4 : CNX Context ( Field Local menu number 3100)
####################################################################

$SET_CNX
If [L]_AOLDVAL<>this.CNX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CNX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CNX
 Gosub PROPAGATE_CNX
Endif
Return

$INIT_CNX
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "CNX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CNX=0 and fmet this.AGETATTRIBUTE("CNX","$isMandatory")="true"
 this.CNX = 1
Endif
Return
 
$CONTROL_CNX
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "CNX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CNX                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CNX                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CNX
[L]CURPRO = "CNX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CNX=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CNX
[L]CURPRO = "CNX"
If this.CNX<0 or this.CNX>len(mess(0,3100,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3100 ->"-num$(this.CNX)-mess(99,123,1)):  Return : # Local menu "3100 -> Invalid option
Endif
Return

$_AOTHERS_CNX
[L]CURPRO = "CNX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CNX
[L]CURPRO = "CNX"
Return

$PROPAGATE_CNX
this.isReadonly = 0
[L]CURPRO = "CNX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CNX
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "CNX"
$_LNKPRO_CNX
Return

$_ALOADATTRIBUTE_CNX
[L]ASTATUS = fmet this.ASETATTRIBUTE("CNX","$isMandatory","true")
Return


####################################################################
# 5 : DPRPLN Depreciation plan ( Field Local menu number 3101)
####################################################################

$SET_DPRPLN
If [L]_AOLDVAL<>this.DPRPLN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPRPLN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPRPLN
 Gosub PROPAGATE_DPRPLN
Endif
Return

$INIT_DPRPLN
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRPLN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DPRPLN=0 and fmet this.AGETATTRIBUTE("DPRPLN","$isMandatory")="true"
 this.DPRPLN = 1
Endif
Return
 
$CONTROL_DPRPLN
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRPLN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPRPLN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPRPLN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPRPLN
[L]CURPRO = "DPRPLN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPRPLN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPRPLN
[L]CURPRO = "DPRPLN"
If this.DPRPLN<0 or this.DPRPLN>len(mess(0,3101,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3101 ->"-num$(this.DPRPLN)-mess(99,123,1)):  Return : # Local menu "3101 -> Invalid option
Endif
Return

$_AOTHERS_DPRPLN
[L]CURPRO = "DPRPLN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPRPLN
[L]CURPRO = "DPRPLN"
Return

$PROPAGATE_DPRPLN
this.isReadonly = 0
[L]CURPRO = "DPRPLN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPRPLN
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRPLN"
$_LNKPRO_DPRPLN
Return

$_ALOADATTRIBUTE_DPRPLN
[L]ASTATUS = fmet this.ASETATTRIBUTE("DPRPLN","$isMandatory","true")
Return


####################################################################
# 6 : DEPSTA Detailed status ( Field Local menu number 3110)
####################################################################

$SET_DEPSTA
If [L]_AOLDVAL<>this.DEPSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEPSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEPSTA
 Gosub PROPAGATE_DEPSTA
Endif
Return

$INIT_DEPSTA
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DEPSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DEPSTA=0 and fmet this.AGETATTRIBUTE("DEPSTA","$isMandatory")="true"
 this.DEPSTA = 1
Endif
Return
 
$CONTROL_DEPSTA
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DEPSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEPSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEPSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEPSTA
[L]CURPRO = "DEPSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEPSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEPSTA
[L]CURPRO = "DEPSTA"
If this.DEPSTA<0 or this.DEPSTA>len(mess(0,3110,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3110 ->"-num$(this.DEPSTA)-mess(99,123,1)):  Return : # Local menu "3110 -> Invalid option
Endif
Return

$_AOTHERS_DEPSTA
[L]CURPRO = "DEPSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEPSTA
[L]CURPRO = "DEPSTA"
Return

$PROPAGATE_DEPSTA
this.isReadonly = 0
[L]CURPRO = "DEPSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEPSTA
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DEPSTA"
$_LNKPRO_DEPSTA
Return

$_ALOADATTRIBUTE_DEPSTA
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEPSTA","$isMandatory","true")
Return


####################################################################
# 7 : RATCUR Currency rate ( Field RCU 0)
####################################################################

$SET_RATCUR
If [L]_AOLDVAL<>this.RATCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RATCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RATCUR
 Gosub PROPAGATE_RATCUR
Endif
Return

$INIT_RATCUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RATCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RATCUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RATCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RATCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RATCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RATCUR
[L]CURPRO = "RATCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RATCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RATCUR
[L]CURPRO = "RATCUR"
Return

$_AOTHERS_RATCUR
[L]CURPRO = "RATCUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RATCUR
[L]CURPRO = "RATCUR"
Return

$PROPAGATE_RATCUR
this.isReadonly = 0
[L]CURPRO = "RATCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RATCUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RATCUR"
$_LNKPRO_RATCUR
Return


####################################################################
# 8 : BSEVAL Init bal sheet value ( Field MD1 0)
####################################################################

$SET_BSEVAL
If [L]_AOLDVAL<>this.BSEVAL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BSEVAL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BSEVAL
 Gosub PROPAGATE_BSEVAL
Endif
Return

$INIT_BSEVAL
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "BSEVAL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BSEVAL
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "BSEVAL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BSEVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BSEVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BSEVAL
[L]CURPRO = "BSEVAL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BSEVAL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BSEVAL
[L]CURPRO = "BSEVAL"
Return

$_AOTHERS_BSEVAL
[L]CURPRO = "BSEVAL"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"BSEVAL",this.BSEVAL,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BSEVAL
[L]CURPRO = "BSEVAL"
Return

$PROPAGATE_BSEVAL
this.isReadonly = 0
[L]CURPRO = "BSEVAL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BSEVAL
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "BSEVAL"
$_LNKPRO_BSEVAL
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"BSEVAL",this.BSEVAL,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BSEVAL","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 9 : DPM Depreciation method ( Field DPM 8)
####################################################################

$SET_DPM
If [L]_AOLDVAL<>this.DPM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPM
 Gosub PROPAGATE_DPM
Endif
Return

$INIT_DPM
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPM
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPM
[L]CURPRO = "DPM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DPM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPM
[L]CURPRO = "DPM"
If vireblc(this.DPM,2)<>vireblc(format$("K:8c",this.DPM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DPM
[L]CURPRO = "DPM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPM
[L]CURPRO = "DPM"
Return

$PROPAGATE_DPM
this.isReadonly = 0
[L]CURPRO = "DPM"
Gosub _LNKPRO_DPM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPM
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPM"
$_LNKPRO_DPM
If vireblc(this.DPM,2)<>""
 # Link DPRMOD
 Local File DPRMOD [WDPM]
 Read [F:WDPM]DPM0 = this.DPM;this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("DPM","$description",[F:WDPM]DES)
 Endif
 LogicClose File [WDPM]
Endif
Return


####################################################################
# 10 : PRATYP Prorata ( Field Local menu number 3105)
####################################################################

$SET_PRATYP
If [L]_AOLDVAL<>this.PRATYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRATYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRATYP
 Gosub PROPAGATE_PRATYP
Endif
Return

$INIT_PRATYP
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PRATYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRATYP=0 and fmet this.AGETATTRIBUTE("PRATYP","$isMandatory")="true"
 this.PRATYP = 1
Endif
Return
 
$CONTROL_PRATYP
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PRATYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRATYP
[L]CURPRO = "PRATYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRATYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRATYP
[L]CURPRO = "PRATYP"
If this.PRATYP<0 or this.PRATYP>len(mess(0,3105,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3105 ->"-num$(this.PRATYP)-mess(99,123,1)):  Return : # Local menu "3105 -> Invalid option
Endif
Return

$_AOTHERS_PRATYP
[L]CURPRO = "PRATYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRATYP
[L]CURPRO = "PRATYP"
Return

$PROPAGATE_PRATYP
this.isReadonly = 0
[L]CURPRO = "PRATYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRATYP
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PRATYP"
$_LNKPRO_PRATYP
Return


####################################################################
# 11 : ACLCOE Acceleration coeff. ( Field RA1 0)
####################################################################

$SET_ACLCOE
If [L]_AOLDVAL<>this.ACLCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACLCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACLCOE
 Gosub PROPAGATE_ACLCOE
Endif
Return

$INIT_ACLCOE
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ACLCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACLCOE
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ACLCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACLCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACLCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACLCOE
[L]CURPRO = "ACLCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACLCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACLCOE
[L]CURPRO = "ACLCOE"
Return

$_AOTHERS_ACLCOE
[L]CURPRO = "ACLCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACLCOE
[L]CURPRO = "ACLCOE"
Return

$PROPAGATE_ACLCOE
this.isReadonly = 0
[L]CURPRO = "ACLCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACLCOE
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ACLCOE"
$_LNKPRO_ACLCOE
Return


####################################################################
# 12 : PEREXCDPRI Excep per deprec I ( Field MD1 0)
####################################################################

$SET_PEREXCDPRI
If [L]_AOLDVAL<>this.PEREXCDPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PEREXCDPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PEREXCDPRI
 Gosub PROPAGATE_PEREXCDPRI
Endif
Return

$INIT_PEREXCDPRI
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PEREXCDPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PEREXCDPRI
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PEREXCDPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PEREXCDPRI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PEREXCDPRI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PEREXCDPRI
[L]CURPRO = "PEREXCDPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PEREXCDPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PEREXCDPRI
[L]CURPRO = "PEREXCDPRI"
Return

$_AOTHERS_PEREXCDPRI
[L]CURPRO = "PEREXCDPRI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PEREXCDPRI",this.PEREXCDPRI,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PEREXCDPRI
[L]CURPRO = "PEREXCDPRI"
Return

$PROPAGATE_PEREXCDPRI
this.isReadonly = 0
[L]CURPRO = "PEREXCDPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PEREXCDPRI
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PEREXCDPRI"
$_LNKPRO_PEREXCDPRI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PEREXCDPRI",this.PEREXCDPRI,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PEREXCDPRI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 13 : PERREFCLC Calculation period ( Field D4)
####################################################################

$SET_PERREFCLC
If [L]_AOLDVAL<>this.PERREFCLC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERREFCLC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERREFCLC
 Gosub PROPAGATE_PERREFCLC
Endif
Return

$INIT_PERREFCLC
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERREFCLC
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERREFCLC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERREFCLC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERREFCLC
[L]CURPRO = "PERREFCLC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERREFCLC=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERREFCLC
[L]CURPRO = "PERREFCLC"
Return

$_AOTHERS_PERREFCLC
[L]CURPRO = "PERREFCLC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERREFCLC
[L]CURPRO = "PERREFCLC"
Return

$PROPAGATE_PERREFCLC
this.isReadonly = 0
[L]CURPRO = "PERREFCLC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERREFCLC
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLC"
$_LNKPRO_PERREFCLC
Return


####################################################################
# 14 : PERREFCLCT Per. for T calculation ( Field D4)
####################################################################

$SET_PERREFCLCT
If [L]_AOLDVAL<>this.PERREFCLCT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERREFCLCT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERREFCLCT
 Gosub PROPAGATE_PERREFCLCT
Endif
Return

$INIT_PERREFCLCT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLCT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERREFCLCT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLCT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERREFCLCT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERREFCLCT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERREFCLCT
[L]CURPRO = "PERREFCLCT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERREFCLCT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERREFCLCT
[L]CURPRO = "PERREFCLCT"
Return

$_AOTHERS_PERREFCLCT
[L]CURPRO = "PERREFCLCT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERREFCLCT
[L]CURPRO = "PERREFCLCT"
Return

$PROPAGATE_PERREFCLCT
this.isReadonly = 0
[L]CURPRO = "PERREFCLCT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERREFCLCT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLCT"
$_LNKPRO_PERREFCLCT
Return


####################################################################
# 15 : PERREFCLCI Per. for I calculation ( Field D4)
####################################################################

$SET_PERREFCLCI
If [L]_AOLDVAL<>this.PERREFCLCI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERREFCLCI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERREFCLCI
 Gosub PROPAGATE_PERREFCLCI
Endif
Return

$INIT_PERREFCLCI
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLCI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERREFCLCI
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLCI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERREFCLCI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERREFCLCI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERREFCLCI
[L]CURPRO = "PERREFCLCI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERREFCLCI=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERREFCLCI
[L]CURPRO = "PERREFCLCI"
Return

$_AOTHERS_PERREFCLCI
[L]CURPRO = "PERREFCLCI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERREFCLCI
[L]CURPRO = "PERREFCLCI"
Return

$PROPAGATE_PERREFCLCI
this.isReadonly = 0
[L]CURPRO = "PERREFCLCI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERREFCLCI
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PERREFCLCI"
$_LNKPRO_PERREFCLCI
Return


####################################################################
# 16 : STRDPRDAT Depreciation start date ( Field D4)
####################################################################

$SET_STRDPRDAT
If [L]_AOLDVAL<>this.STRDPRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STRDPRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STRDPRDAT
 Gosub PROPAGATE_STRDPRDAT
Endif
Return

$INIT_STRDPRDAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "STRDPRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STRDPRDAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "STRDPRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STRDPRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STRDPRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STRDPRDAT
[L]CURPRO = "STRDPRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STRDPRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STRDPRDAT
[L]CURPRO = "STRDPRDAT"
Return

$_AOTHERS_STRDPRDAT
[L]CURPRO = "STRDPRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STRDPRDAT
[L]CURPRO = "STRDPRDAT"
Return

$PROPAGATE_STRDPRDAT
this.isReadonly = 0
[L]CURPRO = "STRDPRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STRDPRDAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "STRDPRDAT"
$_LNKPRO_STRDPRDAT
Return


####################################################################
# 17 : PEREXCDPRT Excep per deprec T ( Field MD1 0)
####################################################################

$SET_PEREXCDPRT
If [L]_AOLDVAL<>this.PEREXCDPRT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PEREXCDPRT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PEREXCDPRT
 Gosub PROPAGATE_PEREXCDPRT
Endif
Return

$INIT_PEREXCDPRT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PEREXCDPRT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PEREXCDPRT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PEREXCDPRT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PEREXCDPRT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PEREXCDPRT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PEREXCDPRT
[L]CURPRO = "PEREXCDPRT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PEREXCDPRT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PEREXCDPRT
[L]CURPRO = "PEREXCDPRT"
Return

$_AOTHERS_PEREXCDPRT
[L]CURPRO = "PEREXCDPRT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PEREXCDPRT",this.PEREXCDPRT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PEREXCDPRT
[L]CURPRO = "PEREXCDPRT"
Return

$PROPAGATE_PEREXCDPRT
this.isReadonly = 0
[L]CURPRO = "PEREXCDPRT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PEREXCDPRT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "PEREXCDPRT"
$_LNKPRO_PEREXCDPRT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PEREXCDPRT",this.PEREXCDPRT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PEREXCDPRT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 18 : DPRDUR Depreciation duration ( Field DUR 0)
####################################################################

$SET_DPRDUR
If [L]_AOLDVAL<>this.DPRDUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPRDUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPRDUR
 Gosub PROPAGATE_DPRDUR
Endif
Return

$INIT_DPRDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRDUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPRDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRDUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPRDUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPRDUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPRDUR
[L]CURPRO = "DPRDUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPRDUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPRDUR
[L]CURPRO = "DPRDUR"
Return

$_AOTHERS_DPRDUR
[L]CURPRO = "DPRDUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPRDUR
[L]CURPRO = "DPRDUR"
Return

$PROPAGATE_DPRDUR
this.isReadonly = 0
[L]CURPRO = "DPRDUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPRDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRDUR"
$_LNKPRO_DPRDUR
Return


####################################################################
# 19 : APLDUR Applied duration ( Field DUR 0)
####################################################################

$SET_APLDUR
If [L]_AOLDVAL<>this.APLDUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_APLDUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.APLDUR
 Gosub PROPAGATE_APLDUR
Endif
Return

$INIT_APLDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "APLDUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_APLDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "APLDUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_APLDUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_APLDUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_APLDUR
[L]CURPRO = "APLDUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.APLDUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_APLDUR
[L]CURPRO = "APLDUR"
Return

$_AOTHERS_APLDUR
[L]CURPRO = "APLDUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_APLDUR
[L]CURPRO = "APLDUR"
Return

$PROPAGATE_APLDUR
this.isReadonly = 0
[L]CURPRO = "APLDUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_APLDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "APLDUR"
$_LNKPRO_APLDUR
Return


####################################################################
# 20 : RSDDUR Residual duration ( Field DUR 0)
####################################################################

$SET_RSDDUR
If [L]_AOLDVAL<>this.RSDDUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RSDDUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RSDDUR
 Gosub PROPAGATE_RSDDUR
Endif
Return

$INIT_RSDDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RSDDUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RSDDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RSDDUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RSDDUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RSDDUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RSDDUR
[L]CURPRO = "RSDDUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RSDDUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RSDDUR
[L]CURPRO = "RSDDUR"
Return

$_AOTHERS_RSDDUR
[L]CURPRO = "RSDDUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RSDDUR
[L]CURPRO = "RSDDUR"
Return

$PROPAGATE_RSDDUR
this.isReadonly = 0
[L]CURPRO = "RSDDUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RSDDUR
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RSDDUR"
$_LNKPRO_RSDDUR
Return


####################################################################
# 21 : ENDDPRDAT Depreciation end date ( Field D4)
####################################################################

$SET_ENDDPRDAT
If [L]_AOLDVAL<>this.ENDDPRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENDDPRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENDDPRDAT
 Gosub PROPAGATE_ENDDPRDAT
Endif
Return

$INIT_ENDDPRDAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ENDDPRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ENDDPRDAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ENDDPRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENDDPRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENDDPRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENDDPRDAT
[L]CURPRO = "ENDDPRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENDDPRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENDDPRDAT
[L]CURPRO = "ENDDPRDAT"
Return

$_AOTHERS_ENDDPRDAT
[L]CURPRO = "ENDDPRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENDDPRDAT
[L]CURPRO = "ENDDPRDAT"
Return

$PROPAGATE_ENDDPRDAT
this.isReadonly = 0
[L]CURPRO = "ENDDPRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENDDPRDAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ENDDPRDAT"
$_LNKPRO_ENDDPRDAT
Return


####################################################################
# 22 : ENDDPRFLG Forced deprec. amt ( Field Local menu number 1)
####################################################################

$SET_ENDDPRFLG
If [L]_AOLDVAL<>this.ENDDPRFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENDDPRFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENDDPRFLG
 Gosub PROPAGATE_ENDDPRFLG
Endif
Return

$INIT_ENDDPRFLG
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ENDDPRFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ENDDPRFLG=0 and fmet this.AGETATTRIBUTE("ENDDPRFLG","$isMandatory")="true"
 this.ENDDPRFLG = 1
Endif
Return
 
$CONTROL_ENDDPRFLG
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ENDDPRFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENDDPRFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENDDPRFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENDDPRFLG
[L]CURPRO = "ENDDPRFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENDDPRFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENDDPRFLG
[L]CURPRO = "ENDDPRFLG"
If this.ENDDPRFLG<0 or this.ENDDPRFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ENDDPRFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ENDDPRFLG
[L]CURPRO = "ENDDPRFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENDDPRFLG
[L]CURPRO = "ENDDPRFLG"
Return

$PROPAGATE_ENDDPRFLG
this.isReadonly = 0
[L]CURPRO = "ENDDPRFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENDDPRFLG
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "ENDDPRFLG"
$_LNKPRO_ENDDPRFLG
Return


####################################################################
# 23 : DPRRAT Depreciation rate ( Field RA1 0)
####################################################################

$SET_DPRRAT
If [L]_AOLDVAL<>this.DPRRAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPRRAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPRRAT
 Gosub PROPAGATE_DPRRAT
Endif
Return

$INIT_DPRRAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPRRAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPRRAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPRRAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPRRAT
[L]CURPRO = "DPRRAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPRRAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPRRAT
[L]CURPRO = "DPRRAT"
Return

$_AOTHERS_DPRRAT
[L]CURPRO = "DPRRAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPRRAT
[L]CURPRO = "DPRRAT"
Return

$PROPAGATE_DPRRAT
this.isReadonly = 0
[L]CURPRO = "DPRRAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPRRAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRAT"
$_LNKPRO_DPRRAT
Return


####################################################################
# 24 : DPET Theo charge ex impair. ( Field MD1 0)
####################################################################

$SET_DPET
If [L]_AOLDVAL<>this.DPET
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPET
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPET
 Gosub PROPAGATE_DPET
Endif
Return

$INIT_DPET
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPET"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPET
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPET"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPET                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPET                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPET
[L]CURPRO = "DPET"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPET=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPET
[L]CURPRO = "DPET"
Return

$_AOTHERS_DPET
[L]CURPRO = "DPET"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DPET",this.DPET,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPET
[L]CURPRO = "DPET"
Return

$PROPAGATE_DPET
this.isReadonly = 0
[L]CURPRO = "DPET"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPET
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPET"
$_LNKPRO_DPET
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DPET",this.DPET,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DPET","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 25 : DPRRAT2 Depreciation rate ( Field RA1 0)
####################################################################

$SET_DPRRAT2
If [L]_AOLDVAL<>this.DPRRAT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPRRAT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPRRAT2
 Gosub PROPAGATE_DPRRAT2
Endif
Return

$INIT_DPRRAT2
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRAT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPRRAT2
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRAT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPRRAT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPRRAT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPRRAT2
[L]CURPRO = "DPRRAT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPRRAT2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPRRAT2
[L]CURPRO = "DPRRAT2"
Return

$_AOTHERS_DPRRAT2
[L]CURPRO = "DPRRAT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPRRAT2
[L]CURPRO = "DPRRAT2"
Return

$PROPAGATE_DPRRAT2
this.isReadonly = 0
[L]CURPRO = "DPRRAT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPRRAT2
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRAT2"
$_LNKPRO_DPRRAT2
Return


####################################################################
# 26 : DPRRATFLG Forced depreciation rate flag ( Field Local menu number 1)
####################################################################

$SET_DPRRATFLG
If [L]_AOLDVAL<>this.DPRRATFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPRRATFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPRRATFLG
 Gosub PROPAGATE_DPRRATFLG
Endif
Return

$INIT_DPRRATFLG
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRATFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DPRRATFLG=0 and fmet this.AGETATTRIBUTE("DPRRATFLG","$isMandatory")="true"
 this.DPRRATFLG = 1
Endif
Return
 
$CONTROL_DPRRATFLG
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRATFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPRRATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPRRATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPRRATFLG
[L]CURPRO = "DPRRATFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPRRATFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPRRATFLG
[L]CURPRO = "DPRRATFLG"
If this.DPRRATFLG<0 or this.DPRRATFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.DPRRATFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_DPRRATFLG
[L]CURPRO = "DPRRATFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPRRATFLG
[L]CURPRO = "DPRRATFLG"
Return

$PROPAGATE_DPRRATFLG
this.isReadonly = 0
[L]CURPRO = "DPRRATFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPRRATFLG
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPRRATFLG"
$_LNKPRO_DPRRATFLG
Return


####################################################################
# 27 : RVATYP Revaluation mode ( Field Local menu number 3253)
####################################################################

$SET_RVATYP
If [L]_AOLDVAL<>this.RVATYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RVATYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RVATYP
 Gosub PROPAGATE_RVATYP
Endif
Return

$INIT_RVATYP
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVATYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.RVATYP=0 and fmet this.AGETATTRIBUTE("RVATYP","$isMandatory")="true"
 this.RVATYP = 1
Endif
Return
 
$CONTROL_RVATYP
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVATYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RVATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RVATYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RVATYP
[L]CURPRO = "RVATYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RVATYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RVATYP
[L]CURPRO = "RVATYP"
If this.RVATYP<0 or this.RVATYP>len(mess(0,3253,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3253 ->"-num$(this.RVATYP)-mess(99,123,1)):  Return : # Local menu "3253 -> Invalid option
Endif
Return

$_AOTHERS_RVATYP
[L]CURPRO = "RVATYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RVATYP
[L]CURPRO = "RVATYP"
Return

$PROPAGATE_RVATYP
this.isReadonly = 0
[L]CURPRO = "RVATYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RVATYP
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVATYP"
$_LNKPRO_RVATYP
Return


####################################################################
# 28 : RVATIADAT Reval. effective start ( Field Local menu number 3273)
####################################################################

$SET_RVATIADAT
If [L]_AOLDVAL<>this.RVATIADAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RVATIADAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RVATIADAT
 Gosub PROPAGATE_RVATIADAT
Endif
Return

$INIT_RVATIADAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVATIADAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.RVATIADAT=0 and fmet this.AGETATTRIBUTE("RVATIADAT","$isMandatory")="true"
 this.RVATIADAT = 1
Endif
Return
 
$CONTROL_RVATIADAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVATIADAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RVATIADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RVATIADAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RVATIADAT
[L]CURPRO = "RVATIADAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RVATIADAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RVATIADAT
[L]CURPRO = "RVATIADAT"
If this.RVATIADAT<0 or this.RVATIADAT>len(mess(0,3273,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3273 ->"-num$(this.RVATIADAT)-mess(99,123,1)):  Return : # Local menu "3273 -> Invalid option
Endif
Return

$_AOTHERS_RVATIADAT
[L]CURPRO = "RVATIADAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RVATIADAT
[L]CURPRO = "RVATIADAT"
Return

$PROPAGATE_RVATIADAT
this.isReadonly = 0
[L]CURPRO = "RVATIADAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RVATIADAT
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVATIADAT"
$_LNKPRO_RVATIADAT
Return


####################################################################
# 29 : DPEDEV Charge to post ( Field MD1 0)
####################################################################

$SET_DPEDEV
If [L]_AOLDVAL<>this.DPEDEV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DPEDEV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DPEDEV
 Gosub PROPAGATE_DPEDEV
Endif
Return

$INIT_DPEDEV
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPEDEV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DPEDEV
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPEDEV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DPEDEV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DPEDEV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DPEDEV
[L]CURPRO = "DPEDEV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DPEDEV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DPEDEV
[L]CURPRO = "DPEDEV"
Return

$_AOTHERS_DPEDEV
[L]CURPRO = "DPEDEV"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DPEDEV",this.DPEDEV,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DPEDEV
[L]CURPRO = "DPEDEV"
Return

$PROPAGATE_DPEDEV
this.isReadonly = 0
[L]CURPRO = "DPEDEV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DPEDEV
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "DPEDEV"
$_LNKPRO_DPEDEV
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DPEDEV",this.DPEDEV,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DPEDEV","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 30 : RVACOE Revaluation coef ( Field COE 0)
####################################################################

$SET_RVACOE
If [L]_AOLDVAL<>this.RVACOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RVACOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RVACOE
 Gosub PROPAGATE_RVACOE
Endif
Return

$INIT_RVACOE
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVACOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RVACOE
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVACOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RVACOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RVACOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RVACOE
[L]CURPRO = "RVACOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RVACOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RVACOE
[L]CURPRO = "RVACOE"
Return

$_AOTHERS_RVACOE
[L]CURPRO = "RVACOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RVACOE
[L]CURPRO = "RVACOE"
Return

$PROPAGATE_RVACOE
this.isReadonly = 0
[L]CURPRO = "RVACOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RVACOE
Gosub DECLARE_VAR From WMC0DEPREC
[L]CURPRO = "RVACOE"
$_LNKPRO_RVACOE
Return




