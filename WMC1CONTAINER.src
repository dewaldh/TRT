#<AdxTL>@(#)0.0.0.0 $Revision$Class Container
# Supervisor
## ACLA-CLASSE ## CONTAINER
# 2018-08-27 12:30:07 291


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CTRNUM Container no. ( Field VCR 20)
####################################################################

$SET_CTRNUM
If [L]_AOLDVAL<>this.CTRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTRNUM
 Gosub PROPAGATE_CTRNUM
Endif
Return

$INIT_CTRNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CTRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTRNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CTRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTRNUM
[L]CURPRO = "CTRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CTRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTRNUM
[L]CURPRO = "CTRNUM"
If vireblc(this.CTRNUM,2)<>vireblc(format$("K:20X",this.CTRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CTRNUM
[L]CURPRO = "CTRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTRNUM
[L]CURPRO = "CTRNUM"
Return

$PROPAGATE_CTRNUM
this.isReadonly = 0
[L]CURPRO = "CTRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTRNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CTRNUM"
$_LNKPRO_CTRNUM
Return


####################################################################
# 2 : CTRUID Container ID ( Field A 20)
####################################################################

$SET_CTRUID
If [L]_AOLDVAL<>this.CTRUID
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTRUID
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTRUID
 Gosub PROPAGATE_CTRUID
Endif
Return

$INIT_CTRUID
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CTRUID"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTRUID
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CTRUID"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTRUID                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTRUID                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTRUID
[L]CURPRO = "CTRUID"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CTRUID,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTRUID
[L]CURPRO = "CTRUID"
Return

$_AOTHERS_CTRUID
[L]CURPRO = "CTRUID"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTRUID
[L]CURPRO = "CTRUID"
Return

$PROPAGATE_CTRUID
this.isReadonly = 0
[L]CURPRO = "CTRUID"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTRUID
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CTRUID"
$_LNKPRO_CTRUID
Return


####################################################################
# 3 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 4 : BPSNUM Supplier ( Field BPS 15)
####################################################################

$SET_BPSNUM
If [L]_AOLDVAL<>this.BPSNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPSNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPSNUM
 Gosub PROPAGATE_BPSNUM
Endif
Return

$INIT_BPSNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "BPSNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPSNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "BPSNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPSNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPSNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPSNUM
[L]CURPRO = "BPSNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPSNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPSNUM
[L]CURPRO = "BPSNUM"
If vireblc(this.BPSNUM,2)<>vireblc(format$("K:15c",this.BPSNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPSNUM
[L]CURPRO = "BPSNUM"
If vireblc(this.BPSNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPS.ACTRLREF(this,"BPSNUM",this.BPSNUM,this.BPSNUM,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPSNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPSNUM
[L]CURPRO = "BPSNUM"
Return

$PROPAGATE_BPSNUM
this.isReadonly = 0
[L]CURPRO = "BPSNUM"
Gosub _LNKPRO_BPSNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPSNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "BPSNUM"
$_LNKPRO_BPSNUM
If vireblc(this.BPSNUM,2)<>""
 # Link BPSUPPLIER
 Local File BPSUPPLIER [WBPS]
 Read [F:WBPS]BPS0 = this.BPSNUM
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPSNUM","$title",[F:WBPS]BPSSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPSNUM","$description",[F:WBPS]BPSNAM)
 Endif
 LogicClose File [WBPS]
Endif
Return


####################################################################
# 5 : TCTRNUM Freight container ( Field TCTR 30)
####################################################################

$SET_TCTRNUM
If [L]_AOLDVAL<>this.TCTRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCTRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCTRNUM
 Gosub PROPAGATE_TCTRNUM
Endif
Return

$INIT_TCTRNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TCTRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCTRNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TCTRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCTRNUM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCTRNUM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCTRNUM
[L]CURPRO = "TCTRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TCTRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCTRNUM
[L]CURPRO = "TCTRNUM"
If vireblc(this.TCTRNUM,2)<>vireblc(format$("K:30c",this.TCTRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TCTRNUM
[L]CURPRO = "TCTRNUM"
If vireblc(this.TCTRNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPTCTR.ACTRLREF(this,"TCTRNUM",this.TCTRNUM,this.TCTRNUM,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TCTRNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCTRNUM
[L]CURPRO = "TCTRNUM"
Return

$PROPAGATE_TCTRNUM
this.isReadonly = 0
[L]CURPRO = "TCTRNUM"
Gosub _LNKPRO_TCTRNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCTRNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TCTRNUM"
$_LNKPRO_TCTRNUM
If vireblc(this.TCTRNUM,2)<>""
 # Link TABCONTAINER
 Local File TABCONTAINER [WTCTR]
 Read [F:WTCTR]TCTR0 = this.TCTRNUM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCONTAINER" & ZONE="SHOAXX" & IDENT1=[F:WTCTR]TCTRNUM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TCTRNUM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCONTAINER" & ZONE="DESAXX" & IDENT1=[F:WTCTR]TCTRNUM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TCTRNUM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCTR]
Endif
Return

$_ALOADATTRIBUTE_TCTRNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("TCTRNUM","$isMandatory","true")
Return


####################################################################
# 6 : CRRWEI Container total wgt. ( Field QTY 0)
####################################################################

$SET_CRRWEI
If [L]_AOLDVAL<>this.CRRWEI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRRWEI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRRWEI
 Gosub PROPAGATE_CRRWEI
Endif
Return

$INIT_CRRWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CRRWEI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRRWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CRRWEI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRRWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRRWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRRWEI
[L]CURPRO = "CRRWEI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CRRWEI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRRWEI
[L]CURPRO = "CRRWEI"
Return

$_AOTHERS_CRRWEI
[L]CURPRO = "CRRWEI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRRWEI
[L]CURPRO = "CRRWEI"
Return

$PROPAGATE_CRRWEI
this.isReadonly = 0
[L]CURPRO = "CRRWEI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRRWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CRRWEI"
$_LNKPRO_CRRWEI
Return


####################################################################
# 7 : MAXWEI Max wgt. ( Field WEI 0)
####################################################################

$SET_MAXWEI
If [L]_AOLDVAL<>this.MAXWEI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MAXWEI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MAXWEI
 Gosub PROPAGATE_MAXWEI
Endif
Return

$INIT_MAXWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "MAXWEI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MAXWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "MAXWEI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MAXWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MAXWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MAXWEI
[L]CURPRO = "MAXWEI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MAXWEI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MAXWEI
[L]CURPRO = "MAXWEI"
Return

$_AOTHERS_MAXWEI
[L]CURPRO = "MAXWEI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MAXWEI
[L]CURPRO = "MAXWEI"
Return

$PROPAGATE_MAXWEI
this.isReadonly = 0
[L]CURPRO = "MAXWEI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MAXWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "MAXWEI"
$_LNKPRO_MAXWEI
Return


####################################################################
# 8 : AVAWEI Avail. weight ( Field QTY 0)
####################################################################

$SET_AVAWEI
If [L]_AOLDVAL<>this.AVAWEI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AVAWEI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AVAWEI
 Gosub PROPAGATE_AVAWEI
Endif
Return

$INIT_AVAWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AVAWEI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AVAWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AVAWEI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AVAWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AVAWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AVAWEI
[L]CURPRO = "AVAWEI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AVAWEI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AVAWEI
[L]CURPRO = "AVAWEI"
Return

$_AOTHERS_AVAWEI
[L]CURPRO = "AVAWEI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AVAWEI
[L]CURPRO = "AVAWEI"
Return

$PROPAGATE_AVAWEI
this.isReadonly = 0
[L]CURPRO = "AVAWEI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AVAWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AVAWEI"
$_LNKPRO_AVAWEI
Return


####################################################################
# 9 : USFVOL Usable volume ( Field VOL 0)
####################################################################

$SET_USFVOL
If [L]_AOLDVAL<>this.USFVOL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_USFVOL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.USFVOL
 Gosub PROPAGATE_USFVOL
Endif
Return

$INIT_USFVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "USFVOL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_USFVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "USFVOL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_USFVOL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_USFVOL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_USFVOL
[L]CURPRO = "USFVOL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.USFVOL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_USFVOL
[L]CURPRO = "USFVOL"
Return

$_AOTHERS_USFVOL
[L]CURPRO = "USFVOL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_USFVOL
[L]CURPRO = "USFVOL"
Return

$PROPAGATE_USFVOL
this.isReadonly = 0
[L]CURPRO = "USFVOL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_USFVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "USFVOL"
$_LNKPRO_USFVOL
Return


####################################################################
# 10 : AVAVOL Available volume ( Field QTY 0)
####################################################################

$SET_AVAVOL
If [L]_AOLDVAL<>this.AVAVOL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AVAVOL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AVAVOL
 Gosub PROPAGATE_AVAVOL
Endif
Return

$INIT_AVAVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AVAVOL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AVAVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AVAVOL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AVAVOL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AVAVOL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AVAVOL
[L]CURPRO = "AVAVOL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AVAVOL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AVAVOL
[L]CURPRO = "AVAVOL"
Return

$_AOTHERS_AVAVOL
[L]CURPRO = "AVAVOL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AVAVOL
[L]CURPRO = "AVAVOL"
Return

$PROPAGATE_AVAVOL
this.isReadonly = 0
[L]CURPRO = "AVAVOL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AVAVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AVAVOL"
$_LNKPRO_AVAVOL
Return


####################################################################
# 11 : TCTRVOL Volume ( Field VOL 0)
####################################################################

$SET_TCTRVOL
If [L]_AOLDVAL<>this.TCTRVOL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCTRVOL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCTRVOL
 Gosub PROPAGATE_TCTRVOL
Endif
Return

$INIT_TCTRVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TCTRVOL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCTRVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TCTRVOL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCTRVOL               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCTRVOL               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCTRVOL
[L]CURPRO = "TCTRVOL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCTRVOL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCTRVOL
[L]CURPRO = "TCTRVOL"
Return

$_AOTHERS_TCTRVOL
[L]CURPRO = "TCTRVOL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCTRVOL
[L]CURPRO = "TCTRVOL"
Return

$PROPAGATE_TCTRVOL
this.isReadonly = 0
[L]CURPRO = "TCTRVOL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCTRVOL
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TCTRVOL"
$_LNKPRO_TCTRVOL
Return


####################################################################
# 12 : FULFLG Full ( Field Local menu number 1)
####################################################################

$SET_FULFLG
If [L]_AOLDVAL<>this.FULFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FULFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FULFLG
 Gosub PROPAGATE_FULFLG
Endif
Return

$INIT_FULFLG
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "FULFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FULFLG=0 and fmet this.AGETATTRIBUTE("FULFLG","$isMandatory")="true"
 this.FULFLG = 1
Endif
Return
 
$CONTROL_FULFLG
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "FULFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FULFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FULFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FULFLG
[L]CURPRO = "FULFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FULFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FULFLG
[L]CURPRO = "FULFLG"
If this.FULFLG<0 or this.FULFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FULFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FULFLG
[L]CURPRO = "FULFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FULFLG
[L]CURPRO = "FULFLG"
Return

$PROPAGATE_FULFLG
this.isReadonly = 0
[L]CURPRO = "FULFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FULFLG
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "FULFLG"
$_LNKPRO_FULFLG
Return


####################################################################
# 13 : TOTLINWEU Line weight total ( Field QTY 0)
####################################################################

$SET_TOTLINWEU
If [L]_AOLDVAL<>this.TOTLINWEU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TOTLINWEU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TOTLINWEU
 Gosub PROPAGATE_TOTLINWEU
Endif
Return

$INIT_TOTLINWEU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINWEU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TOTLINWEU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINWEU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TOTLINWEU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TOTLINWEU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TOTLINWEU
[L]CURPRO = "TOTLINWEU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TOTLINWEU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TOTLINWEU
[L]CURPRO = "TOTLINWEU"
Return

$_AOTHERS_TOTLINWEU
[L]CURPRO = "TOTLINWEU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TOTLINWEU
[L]CURPRO = "TOTLINWEU"
Return

$PROPAGATE_TOTLINWEU
this.isReadonly = 0
[L]CURPRO = "TOTLINWEU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TOTLINWEU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINWEU"
$_LNKPRO_TOTLINWEU
Return


####################################################################
# 14 : TXWOU Filling rate ( Field RAT 0)
####################################################################

$SET_TXWOU
If [L]_AOLDVAL<>this.TXWOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TXWOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TXWOU
 Gosub PROPAGATE_TXWOU
Endif
Return

$INIT_TXWOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TXWOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TXWOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TXWOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TXWOU                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TXWOU                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TXWOU
[L]CURPRO = "TXWOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TXWOU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TXWOU
[L]CURPRO = "TXWOU"
Return

$_AOTHERS_TXWOU
[L]CURPRO = "TXWOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TXWOU
[L]CURPRO = "TXWOU"
Return

$PROPAGATE_TXWOU
this.isReadonly = 0
[L]CURPRO = "TXWOU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TXWOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TXWOU"
$_LNKPRO_TXWOU
Return


####################################################################
# 15 : DSPWEU Weight unit ( Field UOM 3)
####################################################################

$SET_DSPWEU
If [L]_AOLDVAL<>this.DSPWEU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DSPWEU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DSPWEU
 Gosub PROPAGATE_DSPWEU
Endif
Return

$INIT_DSPWEU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "DSPWEU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DSPWEU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "DSPWEU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DSPWEU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DSPWEU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DSPWEU
[L]CURPRO = "DSPWEU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DSPWEU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DSPWEU
[L]CURPRO = "DSPWEU"
If vireblc(this.DSPWEU,2)<>vireblc(format$("K:3X",this.DSPWEU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DSPWEU
[L]CURPRO = "DSPWEU"
If vireblc(this.DSPWEU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"DSPWEU",this.DSPWEU,this.DSPWEU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.DSPWEU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DSPWEU
[L]CURPRO = "DSPWEU"
Return

$PROPAGATE_DSPWEU
this.isReadonly = 0
[L]CURPRO = "DSPWEU"
Gosub _LNKPRO_DSPWEU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DSPWEU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "DSPWEU"
$_LNKPRO_DSPWEU
If vireblc(this.DSPWEU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.DSPWEU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPWEU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPWEU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPWEU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPWEU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_DSPWEU
[L]ASTATUS = fmet this.ASETATTRIBUTE("DSPWEU","$isMandatory","true")
Return


####################################################################
# 16 : TXWOU2 Filling rate ( Field RAT 0)
####################################################################

$SET_TXWOU2
If [L]_AOLDVAL<>this.TXWOU2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TXWOU2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TXWOU2
 Gosub PROPAGATE_TXWOU2
Endif
Return

$INIT_TXWOU2
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TXWOU2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TXWOU2
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TXWOU2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TXWOU2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TXWOU2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TXWOU2
[L]CURPRO = "TXWOU2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TXWOU2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TXWOU2
[L]CURPRO = "TXWOU2"
Return

$_AOTHERS_TXWOU2
[L]CURPRO = "TXWOU2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TXWOU2
[L]CURPRO = "TXWOU2"
Return

$PROPAGATE_TXWOU2
this.isReadonly = 0
[L]CURPRO = "TXWOU2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TXWOU2
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TXWOU2"
$_LNKPRO_TXWOU2
Return


####################################################################
# 17 : TOTLINVOU Line volume total ( Field QTY 0)
####################################################################

$SET_TOTLINVOU
If [L]_AOLDVAL<>this.TOTLINVOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TOTLINVOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TOTLINVOU
 Gosub PROPAGATE_TOTLINVOU
Endif
Return

$INIT_TOTLINVOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINVOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TOTLINVOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINVOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TOTLINVOU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TOTLINVOU             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TOTLINVOU
[L]CURPRO = "TOTLINVOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TOTLINVOU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TOTLINVOU
[L]CURPRO = "TOTLINVOU"
Return

$_AOTHERS_TOTLINVOU
[L]CURPRO = "TOTLINVOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TOTLINVOU
[L]CURPRO = "TOTLINVOU"
Return

$PROPAGATE_TOTLINVOU
this.isReadonly = 0
[L]CURPRO = "TOTLINVOU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TOTLINVOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINVOU"
$_LNKPRO_TOTLINVOU
Return


####################################################################
# 18 : DSPVOU Volume unit ( Field UOM 3)
####################################################################

$SET_DSPVOU
If [L]_AOLDVAL<>this.DSPVOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DSPVOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DSPVOU
 Gosub PROPAGATE_DSPVOU
Endif
Return

$INIT_DSPVOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "DSPVOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DSPVOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "DSPVOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DSPVOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DSPVOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DSPVOU
[L]CURPRO = "DSPVOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DSPVOU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DSPVOU
[L]CURPRO = "DSPVOU"
If vireblc(this.DSPVOU,2)<>vireblc(format$("K:3X",this.DSPVOU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DSPVOU
[L]CURPRO = "DSPVOU"
If vireblc(this.DSPVOU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"DSPVOU",this.DSPVOU,this.DSPVOU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.DSPVOU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DSPVOU
[L]CURPRO = "DSPVOU"
Return

$PROPAGATE_DSPVOU
this.isReadonly = 0
[L]CURPRO = "DSPVOU"
Gosub _LNKPRO_DSPVOU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DSPVOU
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "DSPVOU"
$_LNKPRO_DSPVOU
If vireblc(this.DSPVOU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.DSPVOU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPVOU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPVOU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPVOU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("DSPVOU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_DSPVOU
[L]ASTATUS = fmet this.ASETATTRIBUTE("DSPVOU","$isMandatory","true")
Return


####################################################################
# 19 : TOTLINAMT Invoice lines excluding tax ( Field MD1 0)
####################################################################

$SET_TOTLINAMT
If [L]_AOLDVAL<>this.TOTLINAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TOTLINAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TOTLINAMT
 Gosub PROPAGATE_TOTLINAMT
Endif
Return

$INIT_TOTLINAMT
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TOTLINAMT
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TOTLINAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TOTLINAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TOTLINAMT
[L]CURPRO = "TOTLINAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TOTLINAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TOTLINAMT
[L]CURPRO = "TOTLINAMT"
Return

$_AOTHERS_TOTLINAMT
[L]CURPRO = "TOTLINAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"TOTLINAMT",this.TOTLINAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TOTLINAMT
[L]CURPRO = "TOTLINAMT"
Return

$PROPAGATE_TOTLINAMT
this.isReadonly = 0
[L]CURPRO = "TOTLINAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TOTLINAMT
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TOTLINAMT"
$_LNKPRO_TOTLINAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"TOTLINAMT",this.TOTLINAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("TOTLINAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 20 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 21 : SEANUM1 Seal number 1 ( Field A 30)
####################################################################

$SET_SEANUM1
If [L]_AOLDVAL<>this.SEANUM1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEANUM1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEANUM1
 Gosub PROPAGATE_SEANUM1
Endif
Return

$INIT_SEANUM1
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEANUM1
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEANUM1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEANUM1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEANUM1
[L]CURPRO = "SEANUM1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEANUM1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEANUM1
[L]CURPRO = "SEANUM1"
Return

$_AOTHERS_SEANUM1
[L]CURPRO = "SEANUM1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEANUM1
[L]CURPRO = "SEANUM1"
Return

$PROPAGATE_SEANUM1
this.isReadonly = 0
[L]CURPRO = "SEANUM1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEANUM1
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM1"
$_LNKPRO_SEANUM1
Return


####################################################################
# 22 : SEANUM2 Seal number 2 ( Field A 30)
####################################################################

$SET_SEANUM2
If [L]_AOLDVAL<>this.SEANUM2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEANUM2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEANUM2
 Gosub PROPAGATE_SEANUM2
Endif
Return

$INIT_SEANUM2
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEANUM2
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEANUM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEANUM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEANUM2
[L]CURPRO = "SEANUM2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEANUM2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEANUM2
[L]CURPRO = "SEANUM2"
Return

$_AOTHERS_SEANUM2
[L]CURPRO = "SEANUM2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEANUM2
[L]CURPRO = "SEANUM2"
Return

$PROPAGATE_SEANUM2
this.isReadonly = 0
[L]CURPRO = "SEANUM2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEANUM2
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM2"
$_LNKPRO_SEANUM2
Return


####################################################################
# 23 : SEANUM3 Seal number 3 ( Field A 30)
####################################################################

$SET_SEANUM3
If [L]_AOLDVAL<>this.SEANUM3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEANUM3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEANUM3
 Gosub PROPAGATE_SEANUM3
Endif
Return

$INIT_SEANUM3
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEANUM3
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEANUM3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEANUM3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEANUM3
[L]CURPRO = "SEANUM3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEANUM3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEANUM3
[L]CURPRO = "SEANUM3"
Return

$_AOTHERS_SEANUM3
[L]CURPRO = "SEANUM3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEANUM3
[L]CURPRO = "SEANUM3"
Return

$PROPAGATE_SEANUM3
this.isReadonly = 0
[L]CURPRO = "SEANUM3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEANUM3
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SEANUM3"
$_LNKPRO_SEANUM3
Return


####################################################################
# 24 : SHIPNUM Shipment number ( Field VCR 20)
####################################################################

$SET_SHIPNUM
If [L]_AOLDVAL<>this.SHIPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHIPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHIPNUM
 Gosub PROPAGATE_SHIPNUM
Endif
Return

$INIT_SHIPNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SHIPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHIPNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SHIPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHIPNUM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHIPNUM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHIPNUM
[L]CURPRO = "SHIPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SHIPNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHIPNUM
[L]CURPRO = "SHIPNUM"
If vireblc(this.SHIPNUM,2)<>vireblc(format$("K:20X",this.SHIPNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SHIPNUM
[L]CURPRO = "SHIPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHIPNUM
[L]CURPRO = "SHIPNUM"
Return

$PROPAGATE_SHIPNUM
this.isReadonly = 0
[L]CURPRO = "SHIPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHIPNUM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "SHIPNUM"
$_LNKPRO_SHIPNUM
Return


####################################################################
# 26 : TARWEI Tare weight ( Field WEI 0)
####################################################################

$SET_TARWEI
If [L]_AOLDVAL<>this.TARWEI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TARWEI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TARWEI
 Gosub PROPAGATE_TARWEI
Endif
Return

$INIT_TARWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TARWEI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TARWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TARWEI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TARWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TARWEI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TARWEI
[L]CURPRO = "TARWEI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TARWEI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TARWEI
[L]CURPRO = "TARWEI"
Return

$_AOTHERS_TARWEI
[L]CURPRO = "TARWEI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TARWEI
[L]CURPRO = "TARWEI"
Return

$PROPAGATE_TARWEI
this.isReadonly = 0
[L]CURPRO = "TARWEI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TARWEI
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "TARWEI"
$_LNKPRO_TARWEI
Return


####################################################################
# 27 : CREDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_CREDATTIM
If [L]_AOLDVAL<>this.CREDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDATTIM
 Gosub PROPAGATE_CREDATTIM
Endif
Return

$INIT_CREDATTIM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CREDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDATTIM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CREDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDATTIM
[L]CURPRO = "CREDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$_AOTHERS_CREDATTIM
[L]CURPRO = "CREDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$PROPAGATE_CREDATTIM
this.isReadonly = 0
[L]CURPRO = "CREDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDATTIM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CREDATTIM"
$_LNKPRO_CREDATTIM
Return


####################################################################
# 28 : UPDDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_UPDDATTIM
If [L]_AOLDVAL<>this.UPDDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDATTIM
 Gosub PROPAGATE_UPDDATTIM
Endif
Return

$INIT_UPDDATTIM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDATTIM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "UPDDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
Return

$_AOTHERS_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
Return

$PROPAGATE_UPDDATTIM
this.isReadonly = 0
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDATTIM
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "UPDDATTIM"
$_LNKPRO_UPDDATTIM
Return


####################################################################
# 29 : AUUID Single identifier ( Field  Uuident)
####################################################################

$SET_AUUID
If [L]_AOLDVAL<>this.AUUID
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AUUID
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AUUID
 Gosub PROPAGATE_AUUID
Endif
Return

$INIT_AUUID
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AUUID"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AUUID
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AUUID"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AUUID                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AUUID                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AUUID
[L]CURPRO = "AUUID"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AUUID=NullUuid
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AUUID
[L]CURPRO = "AUUID"
Return

$_AOTHERS_AUUID
[L]CURPRO = "AUUID"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AUUID
[L]CURPRO = "AUUID"
Return

$PROPAGATE_AUUID
this.isReadonly = 0
[L]CURPRO = "AUUID"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AUUID
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "AUUID"
$_LNKPRO_AUUID
Return


####################################################################
# 30 : CREUSR User ( Field AUS 5)
####################################################################

$SET_CREUSR
If [L]_AOLDVAL<>this.CREUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREUSR
 Gosub PROPAGATE_CREUSR
Endif
Return

$INIT_CREUSR
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CREUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREUSR
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CREUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREUSR
[L]CURPRO = "CREUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CREUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREUSR
[L]CURPRO = "CREUSR"
If vireblc(this.CREUSR,2)<>vireblc(format$("K:5B",this.CREUSR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CREUSR
[L]CURPRO = "CREUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREUSR
[L]CURPRO = "CREUSR"
Return

$PROPAGATE_CREUSR
this.isReadonly = 0
[L]CURPRO = "CREUSR"
Gosub _LNKPRO_CREUSR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREUSR
Gosub DECLARE_VAR From WMC0CONTAINER
[L]CURPRO = "CREUSR"
$_LNKPRO_CREUSR
If vireblc(this.CREUSR,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.CREUSR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CREUSR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CREUSR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return




