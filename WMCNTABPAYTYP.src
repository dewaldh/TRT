#<AdxTL>@(#)0.0.0.0 $Revision$Class Payment types
# Supervisor
## ACLA-CLASSE ## TABPAYTYP
# 2018-08-27 12:52:17 067

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0TABPAYTYP
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_PAYTYP From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DES From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DESSHO From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DESTRA From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_SHOTRA From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_LEG From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_GFY From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_NBRPAM From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_SNS From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_BANCSH From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_RATTYP From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_RATINV From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DENDEF From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_CIB From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACCPY From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACPAM From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACDES From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACDESLIN From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACREF From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACFRMREF From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACBAN From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACORIDAT From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACDUDDAT From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACBANDAT From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACVALDAT From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACBID From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACPAB1 From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACPAB2 From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACBPRREF From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACCHQTYP From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACCHQNUM From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACCHQBAN From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACFRMTYP From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACCRDNUM From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACCRDAUZ From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACBILDAT From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACPURTYP From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACAMTBAN From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACADD From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_NBRCOL From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DACPYL From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_LOTPROBALCTL From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_NBRSUP From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_PAYPPS From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA2 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_UPDBIL From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA3 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_AUTACE3 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_JOU3 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA4 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA5 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA6 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_EPACDTTRF From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_NATPAY From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_FILREF6 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA7 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_FILREF71 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_FILREF72 From WMC2TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_FILREF8 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA8 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_AUTACE8 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_JOU8 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_JOU82 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_STA9 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_AUTACE9 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_JOU9 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_ACETYP91 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_ACETYP92 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_CODEDT From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_ENAFLG From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_ACS From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_EDTFLG From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_DUDFLG From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_AUTACE10 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_JOU10 From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_FLGCAS From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_FICCAS From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub AINIT From WMC0TABPAYTYP : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0TABPAYTYP
Gosub _ALOADATTRIBUTE_PAYTYP From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_LEG From WMC1TABPAYTYP : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0TABPAYTYP
Gosub LNKPRO_PAYTYP From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub LNKPRO_LEG From WMC1TABPAYTYP : Gosub TESTALLSTAT
For AINDCLA=1 To 10
 If this.LISPAM(AINDCLA)<>null& find(this.LISPAM(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.LISPAM(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_DENDEF From WMC1TABPAYTYP : Gosub TESTALLSTAT
Gosub LNKPRO_CIB From WMC1TABPAYTYP : Gosub TESTALLSTAT
For AINDCLA=1 To 30
 If this.LISDACSUP(AINDCLA)<>null& find(this.LISDACSUP(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.LISDACSUP(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_ACS From WMC3TABPAYTYP : Gosub TESTALLSTAT
Gosub LNKPRO_FICCAS From WMC3TABPAYTYP : Gosub TESTALLSTAT
For AINDCLA=1 To maxtab(this.TFC)
 If this.TFC(AINDCLA)<>null& find(this.TFC(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.TFC(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



