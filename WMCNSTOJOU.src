#<AdxTL>@(#)0.0.0.0 $Revision$Class Stock journal
# Supervisor
## ACLA-CLASSE ## STOJOU
# 2018-08-27 12:50:03 793

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0STOJOU
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
For TBLINE=1 to 20
 [L]ALINE = func ASYRSUBTAB.ADDLINE([L]TBLINE,"C_CCE","C_STOJOU_C_CCE",this)
 If [L]ALINE=[V]CST_ANOTDEFINED : [L]ASTATUS = [V]CST_AERROR : Break : Endif
Next
If [L]ASTATUS = [V]CST_AERROR :  Gosub TESTALLSTAT : Endif
Gosub INIT_STOFCY From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_UPDCOD From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_ITMREF From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_IPTDAT From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_MVTSEQ From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_MVTIND From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_CSTDAT From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_CSTTIM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_CSTCOU From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_OWNER From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_LOT From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_SLO From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_BPSLOT From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_LOC From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_WRH From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_SERNUM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_TRSTYP From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_TRSFAM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_MVTDES From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_PJT From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_BPRNUM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRTYP From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRNUM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRLIN From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRTYPORI From WMC1STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRNUMORI From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRLINORI From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRSEQORI From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRTYPREG From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRNUMREG From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VCRLINREG From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_USRFLD1 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_USRFLD2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_USRFLD3 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_USRFLD4 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PCU From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_QTYPCU From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PCUSTUCOE From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_QTYSTU From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_STU From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PCUORI From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PCUSTUORI From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_AMTORD From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_AMTVAL From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VARORD From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VARVAL From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRIORD From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRIVAL From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRINAT From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_AMTVAL2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_VARVAL2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRIVAL2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRINAT2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRIREGFLG From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_AMTDEV From WMC2STOJOU : Gosub TESTALLSTAT
Gosub INIT_AMTDEV2 From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_SHLDAT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_STA From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_POT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_ACT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_ACTQTY From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_QLYCTLDEM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRNFLG From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_REGFLG From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_LBEFMT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_LBENBR From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_ENTCOD From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_FINRSPFCY From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_AGGIFAFLG From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_GTE From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_NUMVCR From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_PALNUM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_CTRNUM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_BETCPY From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_DLUDAT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_NEWLTIDAT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_CREMVTDAT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_CREMVTTIM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_CREMVTSEQ From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_PRONUM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_CRETIM From WMC3STOJOU : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC3STOJOU : Gosub TESTALLSTAT
Gosub AINIT From WMC0STOJOU : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0STOJOU
Gosub _ALOADATTRIBUTE_STOFCY From WMC1STOJOU : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_UPDCOD From WMC1STOJOU : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ITMREF From WMC1STOJOU : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_IPTDAT From WMC1STOJOU : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_MVTSEQ From WMC1STOJOU : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_STA From WMC3STOJOU : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0STOJOU
Gosub LNKPRO_STOFCY From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_ITMREF From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_WRH From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_TRSFAM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_BPRNUM From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_CREUSR From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_UPDUSR From WMC1STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_PCU From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_STU From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_PCUORI From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_AMTORD From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_AMTVAL From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_VARORD From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_VARVAL From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_PRIORD From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_PRIVAL From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_AMTVAL2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_VARVAL2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_PRIVAL2 From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_AMTDEV From WMC2STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_AMTDEV2 From WMC3STOJOU : Gosub TESTALLSTAT
For AINDCLA=1 To 20
 If this.C_CCE(AINDCLA)<>null& find(this.C_CCE(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.C_CCE(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_FINRSPFCY From WMC3STOJOU : Gosub TESTALLSTAT
Gosub LNKPRO_GTE From WMC3STOJOU : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



