#<AdxTL>@(#)0.0.0.0 $Revision$
#######################################################################################################
# FILE NAME   : SUBYSETRULTMP                                                                         #
# DESCRIPTION : Settlement Rule list populate                                                         #
#######################################################################################################
# DATE        : 19-01-2019                                                                            #
# AUTHOR      : Majid                                                                                 #
# COMPANY     : Leverage Technologies                                                                 #
#-----------------------------------------------------------------------------------------------------#
# Epics Code  : DFCX1-187                                                                             #
#-----------------------------------------------------------------------------------------------------#
#######################################################################################################
$ACTION
#Infbox ACTION
Case ACTION
  When "AV_CHOIX"          : Gosub AV_CHOIX
  When Default
Endcase
Return


$AV_CHOIX

  Call SET_RUL_LST (1, [M:YSLC]YSLCID, [M:YSLC]YSETACT) From SUBYSGBB

  If !clalev([F:YSRTMP2])          :   Local File YSETRULTMP [YSRTMP2]      :   Endif
  Filter Where USR = GUSER and SESSIONID = adxuid(1) Order By YBUSBATTYP;YFFCY;YTFCY;YEST;YLANDPUR;YPRECINCT;YSTAG;YLOT;YRULTYPCOD
  nolign = 1
  For [F:YSRTMP2]
    [M:YSETTMP] = [F:YSRTMP2]
    nolign += 1
  Next
  [M:YSETTMP]NBLIG = nolign -1
Affzo [M:YSETTMP]
Return

