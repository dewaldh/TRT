#<AdxTL>@(#)0.0.0.0 $Revision$Class Work order - operations
# Sage X3 supervisor
## ACLA-CLASSE ## MFGOPE
# 2018-03-26 00:33:04 865

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0MFGOPE
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_MFGNUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPENUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_ROUOPENUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPESPLNUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_RPLIND From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_MFGSTA From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_PLNFCY From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_MFGFCY From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDLAB From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTLAB From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLLAB From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SETLABCOE From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPELABCOE From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTA From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_INFCAPSTR From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_INFCAPEND From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTR From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPEEND From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TRKFIRST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TRKLAST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TRKFIRSTC From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TRKLASTC From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_FRCSTRDAT From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_FRCSTRHOU From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_ROODES From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPEUOM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTUCOE From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TIMUOMCOD From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_ROOTIMCOD From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TIMCOD From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_BASQTY From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CAD From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPEPLNNUM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPEROUPCT From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_TECCRD From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EQUNUM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_FXGNUM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_PRGNUM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EFF From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SHR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_WSTEFF From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDWSTNBR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTWSTNBR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLWSTNBR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDLABNBR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTLABNBR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLLABNBR From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_PRPTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDSETTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTSETTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLSETTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDUNTTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTUNTTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLUNTTIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDOPETIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTOPETIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLOPETIM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub INIT_WAITIM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_PSPTIM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTSTUQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_STDQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_REJCPLQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_QUACPLQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCOCOD From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCOWST From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCOITMREF From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCOLTI From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCOPUU From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTRCOE From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTSTRQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPSNUM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_WIPNUM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_POHNUM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_POPLIN From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_POPSEQ From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_BPRNUM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_BPAADD From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_REFPRI From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_EXTPRI From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLPRI From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CPLCRG From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_INVQTY From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SPLCOD From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SPLMAXNBR From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_FITCAPSTR From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub INIT_FITCAPEND From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_OPENUMLEV From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_ALTOPECOD From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_RSTMAC From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCHGRP From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_SCHSBB From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_GRPSETTIM From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_MFGPIO From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_MFOTRKFLG From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_MFOTEX From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub AINIT From WMC0MFGOPE : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0MFGOPE
Gosub _ALOADATTRIBUTE_MFGNUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPENUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPESPLNUM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PLNFCY From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_MFGFCY From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_EXTWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPEUOM From WMC1MFGOPE : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0MFGOPE
Gosub LNKPRO_PLNFCY From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_MFGFCY From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_STDWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_EXTWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_CPLWST From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_STDLAB From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_EXTLAB From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_CPLLAB From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_OPEUOM From WMC1MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_EQUNUM From WMC2MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_SCOWST From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_SCOITMREF From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_SCOPUU From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_BPRNUM From WMC3MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_BPAADD From WMC3MFGOPE : Gosub TESTALLSTAT
For AINDCLA=1 To 20
 If this.CALO(AINDCLA)<>null& find(this.CALO(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CALO(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_CREUSR From WMC4MFGOPE : Gosub TESTALLSTAT
Gosub LNKPRO_UPDUSR From WMC4MFGOPE : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



