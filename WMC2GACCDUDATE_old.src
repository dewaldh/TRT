#<AdxTL>@(#)0.0.0.0 $Revision$Class Open items
# Sage X3 supervisor
## ACLA-CLASSE ## GACCDUDATE
# 2018-06-20 06:44:04 296

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 31 : SOINUM Statement number ( Field VCR 20)
####################################################################

$SET_SOINUM
If [L]_AOLDVAL<>this.SOINUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOINUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOINUM
 Gosub PROPAGATE_SOINUM
Endif
Return

$INIT_SOINUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SOINUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOINUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SOINUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOINUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOINUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOINUM
[L]CURPRO = "SOINUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SOINUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOINUM
[L]CURPRO = "SOINUM"
If vireblc(this.SOINUM,2)<>vireblc(format$("K:20X",this.SOINUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SOINUM
[L]CURPRO = "SOINUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOINUM
[L]CURPRO = "SOINUM"
Return

$PROPAGATE_SOINUM
this.isReadonly = 0
[L]CURPRO = "SOINUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOINUM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SOINUM"
$_LNKPRO_SOINUM
Return


####################################################################
# 32 : DUDSTA Status ( Field C 1)
####################################################################

$SET_DUDSTA
If [L]_AOLDVAL<>this.DUDSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DUDSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DUDSTA
 Gosub PROPAGATE_DUDSTA
Endif
Return

$INIT_DUDSTA
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DUDSTA
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DUDSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DUDSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DUDSTA
[L]CURPRO = "DUDSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DUDSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DUDSTA
[L]CURPRO = "DUDSTA"
Return

$_AOTHERS_DUDSTA
[L]CURPRO = "DUDSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DUDSTA
[L]CURPRO = "DUDSTA"
Return

$PROPAGATE_DUDSTA
this.isReadonly = 0
[L]CURPRO = "DUDSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DUDSTA
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DUDSTA"
$_LNKPRO_DUDSTA
Return


####################################################################
# 33 : DINAMT Prepayment deducted ( Field MD1 0)
####################################################################

$SET_DINAMT
If [L]_AOLDVAL<>this.DINAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DINAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DINAMT
 Gosub PROPAGATE_DINAMT
Endif
Return

$INIT_DINAMT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DINAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DINAMT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DINAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DINAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DINAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DINAMT
[L]CURPRO = "DINAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DINAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DINAMT
[L]CURPRO = "DINAMT"
Return

$_AOTHERS_DINAMT
[L]CURPRO = "DINAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DINAMT",this.DINAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DINAMT
[L]CURPRO = "DINAMT"
Return

$PROPAGATE_DINAMT
this.isReadonly = 0
[L]CURPRO = "DINAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DINAMT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "DINAMT"
$_LNKPRO_DINAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DINAMT",this.DINAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DINAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 34 : IBDAMT Prepayment to deduct ( Field MD1 0)
####################################################################

$SET_IBDAMT
If [L]_AOLDVAL<>this.IBDAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IBDAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IBDAMT
 Gosub PROPAGATE_IBDAMT
Endif
Return

$INIT_IBDAMT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "IBDAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IBDAMT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "IBDAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IBDAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IBDAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IBDAMT
[L]CURPRO = "IBDAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IBDAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IBDAMT
[L]CURPRO = "IBDAMT"
Return

$_AOTHERS_IBDAMT
[L]CURPRO = "IBDAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"IBDAMT",this.IBDAMT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IBDAMT
[L]CURPRO = "IBDAMT"
Return

$PROPAGATE_IBDAMT
this.isReadonly = 0
[L]CURPRO = "IBDAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IBDAMT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "IBDAMT"
$_LNKPRO_IBDAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"IBDAMT",this.IBDAMT,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("IBDAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 35 : VAT Tax ( Field VAT 5)
####################################################################

$SET_VAT
If [L]_AOLDVAL<>this.VAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT
 Gosub PROPAGATE_VAT
Endif
Return

$INIT_VAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "VAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "VAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT
[L]CURPRO = "VAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT
[L]CURPRO = "VAT"
If vireblc(this.VAT,2)<>vireblc(format$("K:5c",this.VAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT
[L]CURPRO = "VAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT
[L]CURPRO = "VAT"
If vireblc(this.VAT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VAT",this.VAT,this.VAT,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VAT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VAT
this.isReadonly = 0
[L]CURPRO = "VAT"
Gosub _LNKPRO_VAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "VAT"
$_LNKPRO_VAT
If vireblc(this.VAT,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VAT;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 36 : FIY Fiscal year ( Field C 2)
####################################################################

$SET_FIY
If [L]_AOLDVAL<>this.FIY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FIY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FIY
 Gosub PROPAGATE_FIY
Endif
Return

$INIT_FIY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FIY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FIY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FIY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FIY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FIY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FIY
[L]CURPRO = "FIY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FIY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FIY
[L]CURPRO = "FIY"
Return

$_AOTHERS_FIY
[L]CURPRO = "FIY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FIY
[L]CURPRO = "FIY"
Return

$PROPAGATE_FIY
this.isReadonly = 0
[L]CURPRO = "FIY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FIY
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FIY"
$_LNKPRO_FIY
Return


####################################################################
# 37 : PER Period ( Field C 2)
####################################################################

$SET_PER
If [L]_AOLDVAL<>this.PER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PER
 Gosub PROPAGATE_PER
Endif
Return

$INIT_PER
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PER
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PER                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PER                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PER
[L]CURPRO = "PER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PER=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PER
[L]CURPRO = "PER"
Return

$_AOTHERS_PER
[L]CURPRO = "PER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PER
[L]CURPRO = "PER"
Return

$PROPAGATE_PER
this.isReadonly = 0
[L]CURPRO = "PER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PER
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PER"
$_LNKPRO_PER
Return


####################################################################
# 38 : EXPSENDAT Expected issue date ( Field D)
####################################################################

$SET_EXPSENDAT
If [L]_AOLDVAL<>this.EXPSENDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPSENDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPSENDAT
 Gosub PROPAGATE_EXPSENDAT
Endif
Return

$INIT_EXPSENDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "EXPSENDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPSENDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "EXPSENDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPSENDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPSENDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPSENDAT
[L]CURPRO = "EXPSENDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXPSENDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPSENDAT
[L]CURPRO = "EXPSENDAT"
Return

$_AOTHERS_EXPSENDAT
[L]CURPRO = "EXPSENDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPSENDAT
[L]CURPRO = "EXPSENDAT"
Return

$PROPAGATE_EXPSENDAT
this.isReadonly = 0
[L]CURPRO = "EXPSENDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPSENDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "EXPSENDAT"
$_LNKPRO_EXPSENDAT
Return


####################################################################
# 39 : SENDAT Issue date ( Field D)
####################################################################

$SET_SENDAT
If [L]_AOLDVAL<>this.SENDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SENDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SENDAT
 Gosub PROPAGATE_SENDAT
Endif
Return

$INIT_SENDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SENDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SENDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SENDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SENDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SENDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SENDAT
[L]CURPRO = "SENDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SENDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SENDAT
[L]CURPRO = "SENDAT"
Return

$_AOTHERS_SENDAT
[L]CURPRO = "SENDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SENDAT
[L]CURPRO = "SENDAT"
Return

$PROPAGATE_SENDAT
this.isReadonly = 0
[L]CURPRO = "SENDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SENDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SENDAT"
$_LNKPRO_SENDAT
Return


####################################################################
# 40 : SENINS Prepayment issued ( Field Local menu number 1)
####################################################################

$SET_SENINS
If [L]_AOLDVAL<>this.SENINS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SENINS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SENINS
 Gosub PROPAGATE_SENINS
Endif
Return

$INIT_SENINS
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SENINS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SENINS=0 and fmet this.AGETATTRIBUTE("SENINS","$isMandatory")="true"
 this.SENINS = 1
Endif
Return
 
$CONTROL_SENINS
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SENINS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SENINS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SENINS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SENINS
[L]CURPRO = "SENINS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SENINS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SENINS
[L]CURPRO = "SENINS"
If this.SENINS<0 or this.SENINS>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.SENINS)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_SENINS
[L]CURPRO = "SENINS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SENINS
[L]CURPRO = "SENINS"
Return

$PROPAGATE_SENINS
this.isReadonly = 0
[L]CURPRO = "SENINS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SENINS
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "SENINS"
$_LNKPRO_SENINS
Return


####################################################################
# 41 : BPRFCT Factor ( Field FCT 15)
####################################################################

$SET_BPRFCT
If [L]_AOLDVAL<>this.BPRFCT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRFCT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRFCT
 Gosub PROPAGATE_BPRFCT
Endif
Return

$INIT_BPRFCT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRFCT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRFCT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRFCT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRFCT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRFCT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRFCT
[L]CURPRO = "BPRFCT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRFCT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRFCT
[L]CURPRO = "BPRFCT"
If vireblc(this.BPRFCT,2)<>vireblc(format$("K:15c",this.BPRFCT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRFCT
[L]CURPRO = "BPRFCT"
If vireblc(this.BPRFCT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCT.ACTRLREF(this,"BPRFCT",this.BPRFCT,this.BPRFCT,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPRFCT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRFCT
[L]CURPRO = "BPRFCT"
Return

$PROPAGATE_BPRFCT
this.isReadonly = 0
[L]CURPRO = "BPRFCT"
Gosub _LNKPRO_BPRFCT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRFCT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "BPRFCT"
$_LNKPRO_BPRFCT
If vireblc(this.BPRFCT,2)<>""
 # Link FACTOR
 Local File FACTOR [WFCT]
 Read [F:WFCT]FCT0 = this.BPRFCT
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRFCT","$title",[F:WFCT]FCTNAM)
 Endif
 LogicClose File [WFCT]
Endif
Return


####################################################################
# 42 : FCTVCR Receipt ( Field VCR 20)
####################################################################

$SET_FCTVCR
If [L]_AOLDVAL<>this.FCTVCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCTVCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCTVCR
 Gosub PROPAGATE_FCTVCR
Endif
Return

$INIT_FCTVCR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FCTVCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCTVCR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FCTVCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCTVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCTVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCTVCR
[L]CURPRO = "FCTVCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCTVCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCTVCR
[L]CURPRO = "FCTVCR"
If vireblc(this.FCTVCR,2)<>vireblc(format$("K:20X",this.FCTVCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCTVCR
[L]CURPRO = "FCTVCR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCTVCR
[L]CURPRO = "FCTVCR"
Return

$PROPAGATE_FCTVCR
this.isReadonly = 0
[L]CURPRO = "FCTVCR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCTVCR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FCTVCR"
$_LNKPRO_FCTVCR
Return


####################################################################
# 43 : FLGCLE Closed ( Field C 1)
####################################################################

$SET_FLGCLE
If [L]_AOLDVAL<>this.FLGCLE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGCLE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGCLE
 Gosub PROPAGATE_FLGCLE
Endif
Return

$INIT_FLGCLE
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGCLE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLGCLE
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGCLE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGCLE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGCLE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGCLE
[L]CURPRO = "FLGCLE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGCLE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGCLE
[L]CURPRO = "FLGCLE"
Return

$_AOTHERS_FLGCLE
[L]CURPRO = "FLGCLE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGCLE
[L]CURPRO = "FLGCLE"
Return

$PROPAGATE_FLGCLE
this.isReadonly = 0
[L]CURPRO = "FLGCLE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGCLE
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "FLGCLE"
$_LNKPRO_FLGCLE
Return


####################################################################
# 44 : PAYDAT Payment date ( Field D)
####################################################################

$SET_PAYDAT
If [L]_AOLDVAL<>this.PAYDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAYDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAYDAT
 Gosub PROPAGATE_PAYDAT
Endif
Return

$INIT_PAYDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PAYDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAYDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAYDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAYDAT
[L]CURPRO = "PAYDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PAYDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAYDAT
[L]CURPRO = "PAYDAT"
Return

$_AOTHERS_PAYDAT
[L]CURPRO = "PAYDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAYDAT
[L]CURPRO = "PAYDAT"
Return

$PROPAGATE_PAYDAT
this.isReadonly = 0
[L]CURPRO = "PAYDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAYDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "PAYDAT"
$_LNKPRO_PAYDAT
Return


####################################################################
# 45 : TYPDUD Type of open item ( Field Local menu number 2614)
####################################################################

$SET_TYPDUD
If [L]_AOLDVAL<>this.TYPDUD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPDUD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPDUD
 Gosub PROPAGATE_TYPDUD
Endif
Return

$INIT_TYPDUD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TYPDUD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPDUD=0 and fmet this.AGETATTRIBUTE("TYPDUD","$isMandatory")="true"
 this.TYPDUD = 1
Endif
Return
 
$CONTROL_TYPDUD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TYPDUD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPDUD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPDUD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPDUD
[L]CURPRO = "TYPDUD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPDUD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPDUD
[L]CURPRO = "TYPDUD"
If this.TYPDUD<0 or this.TYPDUD>len(mess(0,2614,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2614 ->"-num$(this.TYPDUD)-mess(99,123,1)):  Return : # Local menu "2614 -> Invalid option
Endif
Return

$_AOTHERS_TYPDUD
[L]CURPRO = "TYPDUD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPDUD
[L]CURPRO = "TYPDUD"
Return

$PROPAGATE_TYPDUD
this.isReadonly = 0
[L]CURPRO = "TYPDUD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPDUD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "TYPDUD"
$_LNKPRO_TYPDUD
Return


####################################################################
# 46 : NUMDUD Unique number ( Field A 15)
####################################################################

$SET_NUMDUD
If [L]_AOLDVAL<>this.NUMDUD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMDUD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMDUD
 Gosub PROPAGATE_NUMDUD
Endif
Return

$INIT_NUMDUD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "NUMDUD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUMDUD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "NUMDUD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMDUD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMDUD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMDUD
[L]CURPRO = "NUMDUD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUMDUD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMDUD
[L]CURPRO = "NUMDUD"
Return

$_AOTHERS_NUMDUD
[L]CURPRO = "NUMDUD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMDUD
[L]CURPRO = "NUMDUD"
Return

$PROPAGATE_NUMDUD
this.isReadonly = 0
[L]CURPRO = "NUMDUD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMDUD
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "NUMDUD"
$_LNKPRO_NUMDUD
Return


####################################################################
# 47 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return


####################################################################
# 48 : CREUSR Creation user ( Field A 5)
####################################################################

$SET_CREUSR
If [L]_AOLDVAL<>this.CREUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREUSR
 Gosub PROPAGATE_CREUSR
Endif
Return

$INIT_CREUSR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREUSR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREUSR
[L]CURPRO = "CREUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CREUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREUSR
[L]CURPRO = "CREUSR"
Return

$_AOTHERS_CREUSR
[L]CURPRO = "CREUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREUSR
[L]CURPRO = "CREUSR"
Return

$PROPAGATE_CREUSR
this.isReadonly = 0
[L]CURPRO = "CREUSR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREUSR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREUSR"
$_LNKPRO_CREUSR
Return


####################################################################
# 49 : CREDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_CREDATTIM
If [L]_AOLDVAL<>this.CREDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDATTIM
 Gosub PROPAGATE_CREDATTIM
Endif
Return

$INIT_CREDATTIM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDATTIM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDATTIM
[L]CURPRO = "CREDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$_AOTHERS_CREDATTIM
[L]CURPRO = "CREDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$PROPAGATE_CREDATTIM
this.isReadonly = 0
[L]CURPRO = "CREDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDATTIM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "CREDATTIM"
$_LNKPRO_CREDATTIM
Return


####################################################################
# 50 : UPDDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_UPDDATTIM
If [L]_AOLDVAL<>this.UPDDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDATTIM
 Gosub PROPAGATE_UPDDATTIM
Endif
Return

$INIT_UPDDATTIM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDATTIM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "UPDDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
Return

$_AOTHERS_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDATTIM
[L]CURPRO = "UPDDATTIM"
Return

$PROPAGATE_UPDDATTIM
this.isReadonly = 0
[L]CURPRO = "UPDDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDATTIM
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "UPDDATTIM"
$_LNKPRO_UPDDATTIM
Return


####################################################################
# 51 : AUUID Single identifier ( Field  Uuident)
####################################################################

$SET_AUUID
If [L]_AOLDVAL<>this.AUUID
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AUUID
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AUUID
 Gosub PROPAGATE_AUUID
Endif
Return

$INIT_AUUID
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AUUID"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AUUID
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AUUID"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AUUID                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AUUID                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AUUID
[L]CURPRO = "AUUID"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AUUID=NullUuid
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AUUID
[L]CURPRO = "AUUID"
Return

$_AOTHERS_AUUID
[L]CURPRO = "AUUID"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AUUID
[L]CURPRO = "AUUID"
Return

$PROPAGATE_AUUID
this.isReadonly = 0
[L]CURPRO = "AUUID"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AUUID
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "AUUID"
$_LNKPRO_AUUID
Return


####################################################################
# 52 : UPDUSR User ( Field AUS 5)
####################################################################

$SET_UPDUSR
If [L]_AOLDVAL<>this.UPDUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDUSR
 Gosub PROPAGATE_UPDUSR
Endif
Return

$INIT_UPDUSR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "UPDUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDUSR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "UPDUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDUSR
[L]CURPRO = "UPDUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.UPDUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDUSR
[L]CURPRO = "UPDUSR"
If vireblc(this.UPDUSR,2)<>vireblc(format$("K:5B",this.UPDUSR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_UPDUSR
[L]CURPRO = "UPDUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDUSR
[L]CURPRO = "UPDUSR"
Return

$PROPAGATE_UPDUSR
this.isReadonly = 0
[L]CURPRO = "UPDUSR"
Gosub _LNKPRO_UPDUSR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDUSR
Gosub DECLARE_VAR From WMC0GACCDUDATE
[L]CURPRO = "UPDUSR"
$_LNKPRO_UPDUSR
If vireblc(this.UPDUSR,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.UPDUSR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("UPDUSR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("UPDUSR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return




