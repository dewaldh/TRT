#<AdxTL>@(#)0.0.0.0 $Revision$Class Purchase orders
# Supervisor
## ACLA-CLASSE ## PORDER
# 2018-08-27 12:41:23 133


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : POHNUM Order no. ( Field VCR 20)
####################################################################

$SET_POHNUM
If [L]_AOLDVAL<>this.POHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POHNUM
 Gosub PROPAGATE_POHNUM
Endif
Return

$INIT_POHNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POHNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POHNUM
[L]CURPRO = "POHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POHNUM
[L]CURPRO = "POHNUM"
If vireblc(this.POHNUM,2)<>vireblc(format$("K:20X",this.POHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POHNUM
[L]CURPRO = "POHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POHNUM
[L]CURPRO = "POHNUM"
Return

$PROPAGATE_POHNUM
this.isReadonly = 0
[L]CURPRO = "POHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POHNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHNUM"
$_LNKPRO_POHNUM
Return

$_ALOADATTRIBUTE_POHNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("POHNUM","$isMandatory","true")
Return


####################################################################
# 2 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 3 : POHFCY Order site ( Field FCY 5)
####################################################################

$SET_POHFCY
If [L]_AOLDVAL<>this.POHFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POHFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POHFCY
 Gosub PROPAGATE_POHFCY
Endif
Return

$INIT_POHFCY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POHFCY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POHFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POHFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POHFCY
[L]CURPRO = "POHFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POHFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POHFCY
[L]CURPRO = "POHFCY"
If vireblc(this.POHFCY,2)<>vireblc(format$("K:5c",this.POHFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POHFCY
[L]CURPRO = "POHFCY"
If vireblc(this.POHFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"POHFCY",this.POHFCY,this.POHFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.POHFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POHFCY
[L]CURPRO = "POHFCY"
Return

$PROPAGATE_POHFCY
this.isReadonly = 0
[L]CURPRO = "POHFCY"
Gosub _LNKPRO_POHFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POHFCY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHFCY"
$_LNKPRO_POHFCY
If vireblc(this.POHFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.POHFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("POHFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("POHFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_POHFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("POHFCY","$isMandatory","true")
Return


####################################################################
# 4 : POHTYP Order type ( Field Local menu number 506)
####################################################################

$SET_POHTYP
If [L]_AOLDVAL<>this.POHTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POHTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POHTYP
 Gosub PROPAGATE_POHTYP
Endif
Return

$INIT_POHTYP
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.POHTYP=0 and fmet this.AGETATTRIBUTE("POHTYP","$isMandatory")="true"
 this.POHTYP = 1
Endif
Return
 
$CONTROL_POHTYP
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POHTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POHTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POHTYP
[L]CURPRO = "POHTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POHTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POHTYP
[L]CURPRO = "POHTYP"
If this.POHTYP<0 or this.POHTYP>len(mess(0,506,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"506 ->"-num$(this.POHTYP)-mess(99,123,1)):  Return : # Local menu "506 -> Invalid option
Endif
Return

$_AOTHERS_POHTYP
[L]CURPRO = "POHTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POHTYP
[L]CURPRO = "POHTYP"
Return

$PROPAGATE_POHTYP
this.isReadonly = 0
[L]CURPRO = "POHTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POHTYP
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POHTYP"
$_LNKPRO_POHTYP
Return


####################################################################
# 5 : PURTYP Purchase type ( Field Local menu number 507)
####################################################################

$SET_PURTYP
If [L]_AOLDVAL<>this.PURTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PURTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PURTYP
 Gosub PROPAGATE_PURTYP
Endif
Return

$INIT_PURTYP
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "PURTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PURTYP=0 and fmet this.AGETATTRIBUTE("PURTYP","$isMandatory")="true"
 this.PURTYP = 1
Endif
Return
 
$CONTROL_PURTYP
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "PURTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PURTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PURTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PURTYP
[L]CURPRO = "PURTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PURTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PURTYP
[L]CURPRO = "PURTYP"
If this.PURTYP<0 or this.PURTYP>len(mess(0,507,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"507 ->"-num$(this.PURTYP)-mess(99,123,1)):  Return : # Local menu "507 -> Invalid option
Endif
Return

$_AOTHERS_PURTYP
[L]CURPRO = "PURTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PURTYP
[L]CURPRO = "PURTYP"
Return

$PROPAGATE_PURTYP
this.isReadonly = 0
[L]CURPRO = "PURTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PURTYP
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "PURTYP"
$_LNKPRO_PURTYP
Return


####################################################################
# 6 : REVNUM Revision no. ( Field C 4)
####################################################################

$SET_REVNUM
If [L]_AOLDVAL<>this.REVNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REVNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REVNUM
 Gosub PROPAGATE_REVNUM
Endif
Return

$INIT_REVNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "REVNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REVNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "REVNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REVNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REVNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REVNUM
[L]CURPRO = "REVNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REVNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REVNUM
[L]CURPRO = "REVNUM"
Return

$_AOTHERS_REVNUM
[L]CURPRO = "REVNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REVNUM
[L]CURPRO = "REVNUM"
Return

$PROPAGATE_REVNUM
this.isReadonly = 0
[L]CURPRO = "REVNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REVNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "REVNUM"
$_LNKPRO_REVNUM
Return


####################################################################
# 7 : ORDDAT Order date ( Field D)
####################################################################

$SET_ORDDAT
If [L]_AOLDVAL<>this.ORDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDDAT
 Gosub PROPAGATE_ORDDAT
Endif
Return

$INIT_ORDDAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "ORDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORDDAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "ORDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDDAT
[L]CURPRO = "ORDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDDAT
[L]CURPRO = "ORDDAT"
Return

$_AOTHERS_ORDDAT
[L]CURPRO = "ORDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDDAT
[L]CURPRO = "ORDDAT"
Return

$PROPAGATE_ORDDAT
this.isReadonly = 0
[L]CURPRO = "ORDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDDAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "ORDDAT"
$_LNKPRO_ORDDAT
Return


####################################################################
# 8 : ORDREF Internal reference ( Field A 20)
####################################################################

$SET_ORDREF
If [L]_AOLDVAL<>this.ORDREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORDREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORDREF
 Gosub PROPAGATE_ORDREF
Endif
Return

$INIT_ORDREF
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "ORDREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORDREF
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "ORDREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORDREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORDREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORDREF
[L]CURPRO = "ORDREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ORDREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORDREF
[L]CURPRO = "ORDREF"
Return

$_AOTHERS_ORDREF
[L]CURPRO = "ORDREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORDREF
[L]CURPRO = "ORDREF"
Return

$PROPAGATE_ORDREF
this.isReadonly = 0
[L]CURPRO = "ORDREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORDREF
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "ORDREF"
$_LNKPRO_ORDREF
Return


####################################################################
# 9 : BPSNUM Supplier ( Field BPR 15)
####################################################################

$SET_BPSNUM
If [L]_AOLDVAL<>this.BPSNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPSNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPSNUM
 Gosub PROPAGATE_BPSNUM
Endif
Return

$INIT_BPSNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPSNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPSNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPSNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPSNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPSNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPSNUM
[L]CURPRO = "BPSNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPSNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPSNUM
[L]CURPRO = "BPSNUM"
If vireblc(this.BPSNUM,2)<>vireblc(format$("K:15c",this.BPSNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPSNUM
[L]CURPRO = "BPSNUM"
If vireblc(this.BPSNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BPSNUM",this.BPSNUM,this.BPSNUM,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPSNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPSNUM
[L]CURPRO = "BPSNUM"
Return

$PROPAGATE_BPSNUM
this.isReadonly = 0
[L]CURPRO = "BPSNUM"
Gosub _LNKPRO_BPSNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPSNUM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPSNUM"
$_LNKPRO_BPSNUM
If vireblc(this.BPSNUM,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BPSNUM
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPSNUM","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPSNUM","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return

$_ALOADATTRIBUTE_BPSNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPSNUM","$isMandatory","true")
Return


####################################################################
# 10 : BPAADD Address ( Field ADR 5)
####################################################################

$SET_BPAADD
If [L]_AOLDVAL<>this.BPAADD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADD
 Gosub PROPAGATE_BPAADD
Endif
Return

$INIT_BPAADD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADD
[L]CURPRO = "BPAADD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADD
[L]CURPRO = "BPAADD"
If vireblc(this.BPAADD,2)<>vireblc(format$("K:5c",this.BPAADD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADD
[L]CURPRO = "BPAADD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADD
[L]CURPRO = "BPAADD"
If vireblc(this.BPAADD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPADR.ACTRLREF(this,"BPAADD",this.BPAADD,1,this.BPSNUM,this.BPAADD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPAADD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_BPAADD
this.isReadonly = 0
[L]CURPRO = "BPAADD"
Gosub _LNKPRO_BPAADD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADD"
$_LNKPRO_BPAADD
If vireblc(this.BPAADD,2)<>""
 # Link BPADDRESS
 Local File BPADDRESS [WBPA]
 Read [F:WBPA]BPA0 = 1;this.BPSNUM;this.BPAADD
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADD","$description",[F:WBPA]BPADES)
 Endif
 LogicClose File [WBPA]
Endif
Return


####################################################################
# 11 : BPRNAM1 Company name ( Field NAM 35)
####################################################################

$SET_BPRNAM1
If [L]_AOLDVAL<>this.BPRNAM1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRNAM1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRNAM1
 Gosub PROPAGATE_BPRNAM1
Endif
Return

$INIT_BPRNAM1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPRNAM1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRNAM1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPRNAM1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRNAM1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRNAM1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRNAM1
[L]CURPRO = "BPRNAM1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRNAM1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRNAM1
[L]CURPRO = "BPRNAM1"
If vireblc(this.BPRNAM1,2)<>vireblc(format$("K:35X",this.BPRNAM1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRNAM1
[L]CURPRO = "BPRNAM1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRNAM1
[L]CURPRO = "BPRNAM1"
Return

$PROPAGATE_BPRNAM1
this.isReadonly = 0
[L]CURPRO = "BPRNAM1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRNAM1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPRNAM1"
$_LNKPRO_BPRNAM1
Return


####################################################################
# 12 : BPRNAM2 Company name 2 ( Field NAM 35)
####################################################################

$SET_BPRNAM2
If [L]_AOLDVAL<>this.BPRNAM2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRNAM2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRNAM2
 Gosub PROPAGATE_BPRNAM2
Endif
Return

$INIT_BPRNAM2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPRNAM2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRNAM2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPRNAM2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRNAM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRNAM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRNAM2
[L]CURPRO = "BPRNAM2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRNAM2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRNAM2
[L]CURPRO = "BPRNAM2"
If vireblc(this.BPRNAM2,2)<>vireblc(format$("K:35X",this.BPRNAM2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRNAM2
[L]CURPRO = "BPRNAM2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRNAM2
[L]CURPRO = "BPRNAM2"
Return

$PROPAGATE_BPRNAM2
this.isReadonly = 0
[L]CURPRO = "BPRNAM2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRNAM2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPRNAM2"
$_LNKPRO_BPRNAM2
Return


####################################################################
# 13 : BPAADDLIG1 Address line 1 ( Field ADL 50)
####################################################################

$SET_BPAADDLIG1
If [L]_AOLDVAL<>this.BPAADDLIG1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADDLIG1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADDLIG1
 Gosub PROPAGATE_BPAADDLIG1
Endif
Return

$INIT_BPAADDLIG1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADDLIG1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADDLIG1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
If vireblc(this.BPAADDLIG1,2)<>vireblc(format$("K:50X",this.BPAADDLIG1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPAADDLIG1",this.BPAADDLIG1,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADDLIG1
[L]CURPRO = "BPAADDLIG1"
Return

$PROPAGATE_BPAADDLIG1
this.isReadonly = 0
[L]CURPRO = "BPAADDLIG1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADDLIG1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG1"
$_LNKPRO_BPAADDLIG1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPAADDLIG1",this.BPAADDLIG1,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADDLIG1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 14 : BPAADDLIG2 Address line 2 ( Field ADL 50)
####################################################################

$SET_BPAADDLIG2
If [L]_AOLDVAL<>this.BPAADDLIG2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADDLIG2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADDLIG2
 Gosub PROPAGATE_BPAADDLIG2
Endif
Return

$INIT_BPAADDLIG2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADDLIG2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADDLIG2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
If vireblc(this.BPAADDLIG2,2)<>vireblc(format$("K:50X",this.BPAADDLIG2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPAADDLIG2",this.BPAADDLIG2,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADDLIG2
[L]CURPRO = "BPAADDLIG2"
Return

$PROPAGATE_BPAADDLIG2
this.isReadonly = 0
[L]CURPRO = "BPAADDLIG2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADDLIG2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG2"
$_LNKPRO_BPAADDLIG2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPAADDLIG2",this.BPAADDLIG2,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADDLIG2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 15 : BPAADDLIG3 Address line 3 ( Field ADL 50)
####################################################################

$SET_BPAADDLIG3
If [L]_AOLDVAL<>this.BPAADDLIG3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADDLIG3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADDLIG3
 Gosub PROPAGATE_BPAADDLIG3
Endif
Return

$INIT_BPAADDLIG3
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADDLIG3
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADDLIG3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
If vireblc(this.BPAADDLIG3,2)<>vireblc(format$("K:50X",this.BPAADDLIG3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPAADDLIG3",this.BPAADDLIG3,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADDLIG3
[L]CURPRO = "BPAADDLIG3"
Return

$PROPAGATE_BPAADDLIG3
this.isReadonly = 0
[L]CURPRO = "BPAADDLIG3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADDLIG3
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPAADDLIG3"
$_LNKPRO_BPAADDLIG3
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPAADDLIG3",this.BPAADDLIG3,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADDLIG3","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 16 : POSCOD Postal code ( Field POS 10)
####################################################################

$SET_POSCOD
If [L]_AOLDVAL<>this.POSCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POSCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POSCOD
 Gosub PROPAGATE_POSCOD
Endif
Return

$INIT_POSCOD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POSCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POSCOD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POSCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POSCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POSCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POSCOD
[L]CURPRO = "POSCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POSCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POSCOD
[L]CURPRO = "POSCOD"
If vireblc(this.POSCOD,2)<>vireblc(format$("K:10X",this.POSCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POSCOD
[L]CURPRO = "POSCOD"
[L]ASTATUS =  func ASYRTRTATY.CONTROLPOS(this,"POSCOD",this.POSCOD,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POSCOD
[L]CURPRO = "POSCOD"
Return

$PROPAGATE_POSCOD
this.isReadonly = 0
[L]ASTATUS =  func ASYRTRTATY.PROPAGATEPOS(this,"POSCOD",this.POSCOD,this.CTY,this.SAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]CURPRO = "POSCOD"
Gosub _LNKPRO_POSCOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POSCOD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "POSCOD"
$_LNKPRO_POSCOD
If vireblc(this.POSCOD,2)<>""
 # Link POSCOD
 Local File POSCOD [WPOS]
 Read [F:WPOS]POS0 = this.CRY;this.POSCOD;this.CTY;""
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("POSCOD","$description",[F:WPOS]POSCTY)
 Endif
 LogicClose File [WPOS]
Endif
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATPOS(this,"POSCOD",this.POSCOD,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("POSCOD","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 17 : CTY City ( Field CTY 40)
####################################################################

$SET_CTY
If [L]_AOLDVAL<>this.CTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTY
 Gosub PROPAGATE_CTY
Endif
Return

$INIT_CTY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTY
[L]CURPRO = "CTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CTY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTY
[L]CURPRO = "CTY"
If vireblc(this.CTY,2)<>vireblc(format$("K:40X",this.CTY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CTY
[L]CURPRO = "CTY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLCTY(this,"CTY",this.CTY,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTY
[L]CURPRO = "CTY"
Return

$PROPAGATE_CTY
this.isReadonly = 0
[L]ASTATUS =  func ASYRTRTATY.PROPAGATECTY(this,"CTY",this.CTY,this.POSCOD,this.SAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]CURPRO = "CTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CTY"
$_LNKPRO_CTY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATCTY(this,"CTY",this.CTY,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CTY","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 18 : SAT County ( Field SAT 35)
####################################################################

$SET_SAT
If [L]_AOLDVAL<>this.SAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAT
 Gosub PROPAGATE_SAT
Endif
Return

$INIT_SAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "SAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "SAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAT
[L]CURPRO = "SAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAT
[L]CURPRO = "SAT"
If vireblc(this.SAT,2)<>vireblc(format$("K:35X",this.SAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAT
[L]CURPRO = "SAT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLSAT(this,"SAT",this.SAT,this.CRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAT
[L]CURPRO = "SAT"
Return

$PROPAGATE_SAT
this.isReadonly = 0
[L]CURPRO = "SAT"
Gosub _LNKPRO_SAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "SAT"
$_LNKPRO_SAT
If vireblc(this.SAT,2)<>""
 # Link TABSUBDIV
 Local File TABSUBDIV [WATU]
 Read [F:WATU]ATU0 = this.CRY;AVOID.ALIB;this.SAT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WATU]
Endif
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATSAT(this,"SAT",this.SAT,[L]AFORMAT,this.CRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("SAT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 19 : CRY Country ( Field CRY 3)
####################################################################

$SET_CRY
If [L]_AOLDVAL<>this.CRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRY
 Gosub PROPAGATE_CRY
Endif
Return

$INIT_CRY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRY
[L]CURPRO = "CRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRY
[L]CURPRO = "CRY"
If vireblc(this.CRY,2)<>vireblc(format$("K:3c",this.CRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CRY
[L]CURPRO = "CRY"
If vireblc(this.CRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"CRY",this.CRY,this.CRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRY
[L]CURPRO = "CRY"
Return

$PROPAGATE_CRY
this.isReadonly = 0
[L]CURPRO = "CRY"
Gosub _LNKPRO_CRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CRY"
$_LNKPRO_CRY
If vireblc(this.CRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.CRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return


####################################################################
# 20 : CRYNAM Country name ( Field NCY 40)
####################################################################

$SET_CRYNAM
If [L]_AOLDVAL<>this.CRYNAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRYNAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRYNAM
 Gosub PROPAGATE_CRYNAM
Endif
Return

$INIT_CRYNAM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CRYNAM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRYNAM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CRYNAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRYNAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRYNAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRYNAM
[L]CURPRO = "CRYNAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CRYNAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRYNAM
[L]CURPRO = "CRYNAM"
If vireblc(this.CRYNAM,2)<>vireblc(format$("K:40X",this.CRYNAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CRYNAM
[L]CURPRO = "CRYNAM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRYNAM
[L]CURPRO = "CRYNAM"
Return

$PROPAGATE_CRYNAM
this.isReadonly = 0
[L]CURPRO = "CRYNAM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRYNAM
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "CRYNAM"
$_LNKPRO_CRYNAM
Return


####################################################################
# 21 : BPOADD Ship-from address ( Field ADR 5)
####################################################################

$SET_BPOADD
If [L]_AOLDVAL<>this.BPOADD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOADD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOADD
 Gosub PROPAGATE_BPOADD
Endif
Return

$INIT_BPOADD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOADD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOADD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOADD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOADD
[L]CURPRO = "BPOADD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOADD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOADD
[L]CURPRO = "BPOADD"
If vireblc(this.BPOADD,2)<>vireblc(format$("K:5c",this.BPOADD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOADD
[L]CURPRO = "BPOADD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOADD
[L]CURPRO = "BPOADD"
If vireblc(this.BPOADD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPADR.ACTRLREF(this,"BPOADD",this.BPOADD,1,this.BPSNUM,this.BPOADD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPOADD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_BPOADD
this.isReadonly = 0
[L]CURPRO = "BPOADD"
Gosub _LNKPRO_BPOADD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOADD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADD"
$_LNKPRO_BPOADD
If vireblc(this.BPOADD,2)<>""
 # Link BPADDRESS
 Local File BPADDRESS [WBPA]
 Read [F:WBPA]BPA0 = 1;this.BPSNUM;this.BPOADD
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOADD","$description",[F:WBPA]BPADES)
 Endif
 LogicClose File [WBPA]
Endif
Return


####################################################################
# 22 : BPONAM1 Company name ( Field NAM 35)
####################################################################

$SET_BPONAM1
If [L]_AOLDVAL<>this.BPONAM1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPONAM1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPONAM1
 Gosub PROPAGATE_BPONAM1
Endif
Return

$INIT_BPONAM1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPONAM1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPONAM1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPONAM1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPONAM1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPONAM1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPONAM1
[L]CURPRO = "BPONAM1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPONAM1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPONAM1
[L]CURPRO = "BPONAM1"
If vireblc(this.BPONAM1,2)<>vireblc(format$("K:35X",this.BPONAM1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPONAM1
[L]CURPRO = "BPONAM1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPONAM1
[L]CURPRO = "BPONAM1"
Return

$PROPAGATE_BPONAM1
this.isReadonly = 0
[L]CURPRO = "BPONAM1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPONAM1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPONAM1"
$_LNKPRO_BPONAM1
Return


####################################################################
# 23 : BPONAM2 Company name 2 ( Field NAM 35)
####################################################################

$SET_BPONAM2
If [L]_AOLDVAL<>this.BPONAM2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPONAM2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPONAM2
 Gosub PROPAGATE_BPONAM2
Endif
Return

$INIT_BPONAM2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPONAM2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPONAM2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPONAM2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPONAM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPONAM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPONAM2
[L]CURPRO = "BPONAM2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPONAM2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPONAM2
[L]CURPRO = "BPONAM2"
If vireblc(this.BPONAM2,2)<>vireblc(format$("K:35X",this.BPONAM2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPONAM2
[L]CURPRO = "BPONAM2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPONAM2
[L]CURPRO = "BPONAM2"
Return

$PROPAGATE_BPONAM2
this.isReadonly = 0
[L]CURPRO = "BPONAM2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPONAM2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPONAM2"
$_LNKPRO_BPONAM2
Return


####################################################################
# 25 : BPOADDLIG1 Address line 1 ( Field ADL 50)
####################################################################

$SET_BPOADDLIG1
If [L]_AOLDVAL<>this.BPOADDLIG1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOADDLIG1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOADDLIG1
 Gosub PROPAGATE_BPOADDLIG1
Endif
Return

$INIT_BPOADDLIG1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOADDLIG1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOADDLIG1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOADDLIG1
[L]CURPRO = "BPOADDLIG1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOADDLIG1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOADDLIG1
[L]CURPRO = "BPOADDLIG1"
If vireblc(this.BPOADDLIG1,2)<>vireblc(format$("K:50X",this.BPOADDLIG1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOADDLIG1
[L]CURPRO = "BPOADDLIG1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPOADDLIG1",this.BPOADDLIG1,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOADDLIG1
[L]CURPRO = "BPOADDLIG1"
Return

$PROPAGATE_BPOADDLIG1
this.isReadonly = 0
[L]CURPRO = "BPOADDLIG1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOADDLIG1
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG1"
$_LNKPRO_BPOADDLIG1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPOADDLIG1",this.BPOADDLIG1,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPOADDLIG1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 26 : BPOADDLIG2 Address line 2 ( Field ADL 50)
####################################################################

$SET_BPOADDLIG2
If [L]_AOLDVAL<>this.BPOADDLIG2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOADDLIG2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOADDLIG2
 Gosub PROPAGATE_BPOADDLIG2
Endif
Return

$INIT_BPOADDLIG2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOADDLIG2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOADDLIG2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOADDLIG2
[L]CURPRO = "BPOADDLIG2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOADDLIG2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOADDLIG2
[L]CURPRO = "BPOADDLIG2"
If vireblc(this.BPOADDLIG2,2)<>vireblc(format$("K:50X",this.BPOADDLIG2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOADDLIG2
[L]CURPRO = "BPOADDLIG2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPOADDLIG2",this.BPOADDLIG2,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOADDLIG2
[L]CURPRO = "BPOADDLIG2"
Return

$PROPAGATE_BPOADDLIG2
this.isReadonly = 0
[L]CURPRO = "BPOADDLIG2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOADDLIG2
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG2"
$_LNKPRO_BPOADDLIG2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPOADDLIG2",this.BPOADDLIG2,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPOADDLIG2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 27 : BPOADDLIG3 Address line 3 ( Field ADL 50)
####################################################################

$SET_BPOADDLIG3
If [L]_AOLDVAL<>this.BPOADDLIG3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOADDLIG3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOADDLIG3
 Gosub PROPAGATE_BPOADDLIG3
Endif
Return

$INIT_BPOADDLIG3
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOADDLIG3
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOADDLIG3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOADDLIG3
[L]CURPRO = "BPOADDLIG3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOADDLIG3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOADDLIG3
[L]CURPRO = "BPOADDLIG3"
If vireblc(this.BPOADDLIG3,2)<>vireblc(format$("K:50X",this.BPOADDLIG3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOADDLIG3
[L]CURPRO = "BPOADDLIG3"
[L]ASTATUS =  func ASYRTRTATY.CONTROLADL(this,"BPOADDLIG3",this.BPOADDLIG3,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOADDLIG3
[L]CURPRO = "BPOADDLIG3"
Return

$PROPAGATE_BPOADDLIG3
this.isReadonly = 0
[L]CURPRO = "BPOADDLIG3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOADDLIG3
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOADDLIG3"
$_LNKPRO_BPOADDLIG3
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATADL(this,"BPOADDLIG3",this.BPOADDLIG3,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPOADDLIG3","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 28 : BPOPOSCOD Postal code ( Field POS 10)
####################################################################

$SET_BPOPOSCOD
If [L]_AOLDVAL<>this.BPOPOSCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOPOSCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOPOSCOD
 Gosub PROPAGATE_BPOPOSCOD
Endif
Return

$INIT_BPOPOSCOD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOPOSCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOPOSCOD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOPOSCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOPOSCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOPOSCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOPOSCOD
[L]CURPRO = "BPOPOSCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOPOSCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOPOSCOD
[L]CURPRO = "BPOPOSCOD"
If vireblc(this.BPOPOSCOD,2)<>vireblc(format$("K:10X",this.BPOPOSCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOPOSCOD
[L]CURPRO = "BPOPOSCOD"
[L]ASTATUS =  func ASYRTRTATY.CONTROLPOS(this,"BPOPOSCOD",this.BPOPOSCOD,this.BPOCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOPOSCOD
[L]CURPRO = "BPOPOSCOD"
Return

$PROPAGATE_BPOPOSCOD
this.isReadonly = 0
[L]ASTATUS =  func ASYRTRTATY.PROPAGATEPOS(this,"BPOPOSCOD",this.BPOPOSCOD,this.BPOCTY,this.BPOSAT,this.BPOCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]CURPRO = "BPOPOSCOD"
Gosub _LNKPRO_BPOPOSCOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOPOSCOD
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOPOSCOD"
$_LNKPRO_BPOPOSCOD
If vireblc(this.BPOPOSCOD,2)<>""
 # Link POSCOD
 Local File POSCOD [WPOS]
 Read [F:WPOS]POS0 = this.BPOCRY;this.BPOPOSCOD;this.BPOCTY;""
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOPOSCOD","$description",[F:WPOS]POSCTY)
 Endif
 LogicClose File [WPOS]
Endif
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATPOS(this,"BPOPOSCOD",this.BPOPOSCOD,[L]AFORMAT,this.BPOCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPOPOSCOD","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 29 : BPOCTY City ( Field CTY 40)
####################################################################

$SET_BPOCTY
If [L]_AOLDVAL<>this.BPOCTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOCTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOCTY
 Gosub PROPAGATE_BPOCTY
Endif
Return

$INIT_BPOCTY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOCTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOCTY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOCTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOCTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOCTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOCTY
[L]CURPRO = "BPOCTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOCTY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOCTY
[L]CURPRO = "BPOCTY"
If vireblc(this.BPOCTY,2)<>vireblc(format$("K:40X",this.BPOCTY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOCTY
[L]CURPRO = "BPOCTY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLCTY(this,"BPOCTY",this.BPOCTY,this.BPOCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOCTY
[L]CURPRO = "BPOCTY"
Return

$PROPAGATE_BPOCTY
this.isReadonly = 0
[L]ASTATUS =  func ASYRTRTATY.PROPAGATECTY(this,"BPOCTY",this.BPOCTY,this.BPOPOSCOD,this.BPOSAT,this.BPOCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]CURPRO = "BPOCTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOCTY
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOCTY"
$_LNKPRO_BPOCTY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATCTY(this,"BPOCTY",this.BPOCTY,[L]AFORMAT,this.BPOCRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPOCTY","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 30 : BPOSAT County ( Field SAT 35)
####################################################################

$SET_BPOSAT
If [L]_AOLDVAL<>this.BPOSAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPOSAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPOSAT
 Gosub PROPAGATE_BPOSAT
Endif
Return

$INIT_BPOSAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOSAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPOSAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOSAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPOSAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPOSAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPOSAT
[L]CURPRO = "BPOSAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPOSAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPOSAT
[L]CURPRO = "BPOSAT"
If vireblc(this.BPOSAT,2)<>vireblc(format$("K:35X",this.BPOSAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPOSAT
[L]CURPRO = "BPOSAT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLSAT(this,"BPOSAT",this.BPOSAT,this.BPOCRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPOSAT
[L]CURPRO = "BPOSAT"
Return

$PROPAGATE_BPOSAT
this.isReadonly = 0
[L]CURPRO = "BPOSAT"
Gosub _LNKPRO_BPOSAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPOSAT
Gosub DECLARE_VAR From WMC0PORDER
[L]CURPRO = "BPOSAT"
$_LNKPRO_BPOSAT
If vireblc(this.BPOSAT,2)<>""
 # Link TABSUBDIV
 Local File TABSUBDIV [WATU]
 Read [F:WATU]ATU0 = this.BPOCRY;AVOID.ALIB;this.BPOSAT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOSAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPOSAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WATU]
Endif
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATSAT(this,"BPOSAT",this.BPOSAT,[L]AFORMAT,this.BPOCRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPOSAT","$x3Format",[L]AFORMAT)
Endif
Return




