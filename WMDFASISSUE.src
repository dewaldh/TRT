#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
## BI-DIMENSION ## Synchronization rule FASISSUE

$OUVRE
Local Char FILTRE(250)
OUVTAB = GDOSSIER+".FXDASSETS" : If clalev([F:FAS])=0 : Local File =OUVTAB [FAS] : Endif
OUVTAB = GDOSSIER+".BPARTNER" : If clalev([F:BPR])=0 : Local File =OUVTAB [BPR] : Endif
OUVTAB = GDOSSIER+".COMPANY" : If clalev([F:CPY])=0 : Local File =OUVTAB [CPY] : Endif
OUVTAB = "Link [FAS]"
Link [FAS] With
& [BPR]BPR0 = [F:FAS]BUY,
& [CPY]CPY0 = [F:FAS]GRUORICPY
& As [LNK_]
& Where [F:FAS]ISSDAT<> [0/0/0]
& Order By Key CLE = [FAS]AASREF
FILTRE = ""
Return

$FERME
If clalev([F:FAS]) : Close local File [FAS] : Endif
If clalev([F:BPR]) : Close local File [BPR] : Endif
If clalev([F:CPY]) : Close local File [CPY] : Endif
Return

$DCLE
Local Char    DCLE(GLONAVA)(1..1)
Local Integer DTYP(1..1)
Local Integer NBDCLE
NBDCLE = 1
DCLE(1) = "AASREFISS"
DTYP(1) =  7
Return

$CHARGE_CLE
If dim([F:AAA_]AASREFISS)>0
 [F:AAA_]AASREFISS = [F:FAS]AASREF
Endif
Return

########################################################################
# Return the filter necessary for incremental delete in synchroonization
Subprog GET_FLTDELINC(PFLT)
Variable Clbfile PFLT
PFLT = "1=1"
Append PFLT, " & [F:AAA_]AASREFISS=[F:FAS]AASREF"

End

$MAJFLD
### AASREFISS
[L]FLD="AASREFISS"
[L]FORMULE='[F:FAS]AASREF'
If dim([F:AAA_]AASREFISS)>0
 [F:AAA_]AASREFISS = [F:FAS]AASREF
Endif

### FISOPETYP
[L]FLD="FISOPETYP"
[L]FORMULE='num$([F:FAS]FISOPETYP)-"-"-mess([F:FAS]FISOPETYP,3163,1)'
If dim([F:AAA_]FISOPETYP)>0
 [F:AAA_]FISOPETYP = num$([F:FAS]FISOPETYP)-"-"-mess([F:FAS]FISOPETYP,3163,1)
Endif

### GRUORICPY
[L]FLD="GRUORICPY"
[L]FORMULE='[F:FAS]GRUORICPY'
If dim([F:AAA_]GRUORICPY)>0
 [F:AAA_]GRUORICPY = [F:FAS]GRUORICPY
Endif

### CPYNAM
[L]FLD="CPYNAM"
[L]FORMULE='[F:CPY]CPYNAM'
If dim([F:AAA_]CPYNAM)>0
 [F:AAA_]CPYNAM = [F:CPY]CPYNAM
Endif

### ISSOPETYP
[L]FLD="ISSOPETYP"
[L]FORMULE='num$([F:FAS]ISSOPETYP)-"-"-mess([F:FAS]ISSOPETYP,3172,1)'
If dim([F:AAA_]ISSOPETYP)>0
 [F:AAA_]ISSOPETYP = num$([F:FAS]ISSOPETYP)-"-"-mess([F:FAS]ISSOPETYP,3172,1)
Endif

### GRUORIAAS
[L]FLD="GRUORIAAS"
[L]FORMULE='[F:FAS]GRUORIAAS'
If dim([F:AAA_]GRUORIAAS)>0
 [F:AAA_]GRUORIAAS = [F:FAS]GRUORIAAS
Endif

### ORIPURDAT
[L]FLD="ORIPURDAT"
[L]FORMULE='[F:FAS]ORIPURDAT'
If dim([F:AAA_]ORIPURDAT)>0
 [F:AAA_]ORIPURDAT = [F:FAS]ORIPURDAT
Endif

### BUY
[L]FLD="BUY"
[L]FORMULE='[F:FAS]BUY'
If dim([F:AAA_]BUY)>0
 [F:AAA_]BUY = [F:FAS]BUY
Endif

### BUYNAM
[L]FLD="BUYNAM"
[L]FORMULE='[F:BPR]BPRNAM'
If dim([F:AAA_]BUYNAM)>0
 [F:AAA_]BUYNAM = [F:BPR]BPRNAM
Endif

### PYBVATTYP
[L]FLD="PYBVATTYP"
[L]FORMULE='num$([F:FAS]PYBVATTYP)-"-"-mess([F:FAS]PYBVATTYP,3160,1)'
If dim([F:AAA_]PYBVATTYP)>0
 [F:AAA_]PYBVATTYP = num$([F:FAS]PYBVATTYP)-"-"-mess([F:FAS]PYBVATTYP,3160,1)
Endif

### EXTISSFLG
[L]FLD="EXTISSFLG"
[L]FORMULE='[F:FAS]EXTISSFLG'
If dim([F:AAA_]EXTISSFLG)>0
 [F:AAA_]EXTISSFLG = [F:FAS]EXTISSFLG
Endif

### ISSTYP
[L]FLD="ISSTYP"
[L]FORMULE='num$([F:FAS]ISSTYP)-"-"-mess([F:FAS]ISSTYP,3159,1)'
If dim([F:AAA_]ISSTYP)>0
 [F:AAA_]ISSTYP = num$([F:FAS]ISSTYP)-"-"-mess([F:FAS]ISSTYP,3159,1)
Endif

### ISSVATRAT
[L]FLD="ISSVATRAT"
[L]FORMULE='[F:FAS]ISSVATRAT'
If dim([F:AAA_]ISSVATRAT)>0
 [F:AAA_]ISSVATRAT = [F:FAS]ISSVATRAT
Endif

### ISSDATRUL
[L]FLD="ISSDATRUL"
[L]FORMULE='num$([F:FAS]ISSDATRUL)-"-"-mess([F:FAS]ISSDATRUL,3274,1)'
If dim([F:AAA_]ISSDATRUL)>0
 [F:AAA_]ISSDATRUL = num$([F:FAS]ISSDATRUL)-"-"-mess([F:FAS]ISSDATRUL,3274,1)
Endif

### IVCSALISS
[L]FLD="IVCSALISS"
[L]FORMULE='[F:FAS]IVCSALISS'
If dim([F:AAA_]IVCSALISS)>0
 [F:AAA_]IVCSALISS = [F:FAS]IVCSALISS
Endif

### ISSDAT
[L]FLD="ISSDAT"
[L]FORMULE='[F:FAS]ISSDAT'
If dim([F:AAA_]ISSDAT)>0
 [F:AAA_]ISSDAT = [F:FAS]ISSDAT
Endif

### GALREFDAT
[L]FLD="GALREFDAT"
[L]FORMULE='[F:FAS]GALREFDAT'
If dim([F:AAA_]GALREFDAT)>0
 [F:AAA_]GALREFDAT = [F:FAS]GALREFDAT
Endif


Return

