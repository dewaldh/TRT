#<AdxTL>@(#)0.0.0.0 $Revision$
$ACTION

Case ACTION
  When "IMP_OUVRE"     : Gosub IMP_OUVRE
  When "IMP_VERIF_CRE" : Gosub IMP_VERIF_CRE
  When "IMP_VERIF_MOD" : Gosub IMP_VERIF_MOD
Endcase
Return


$IMP_OUVRE
Local Integer PLBSEQ
PLBSEQ = 10

Return


$IMP_VERIF_CRE

Return

$IMP_VERIF_MOD

Local Integer IRET
Local Integer IERROR
Local Integer IMANUAL
Local Char SMESSAGE(250)
Local Char SCOMPTEUR(GLONANM)
Local Char SNUMERO(20)

If [PJBU]PBUNUM = ""
Call NUMERO("PBU","",date$,"",SNUMERO,IRET) From SUBANM

#IRET = func ANM_TOOL.NUMERO("", SCOMPTEUR, [PJBU]PBUFCY, date$, "", SNUMERO, SMESSAGE)
#  If IRET = [V]CST_AERROR Then
#    [L]ASTATUS = fmet this.ASETERROR("", mess(22,7770,1) - "(" + SCOMPTEUR + ") :" - SMESSAGE, [V]CST_AERROR)
#    OK = 0
#  Endif
  [PJBU]PBUNUM = SNUMERO
  Rewrite [PJBU]
Infbox num$(fstat)
Endif

If [PJLB]PBUCOD <> ""
  Rewrite [PJLB]
  Infbox num$(fstat)
Endif



Return

