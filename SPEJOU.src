#<AdxTL>@(#)0.0.0.0 $Revision$
# Mask management JOU1 (Specific)

######################################################################################
## Section automatically added (screen JOU1) 11/09/2018 13:50:07 (DH)
######################################################################################
$ACTION
Case ACTION
  When "OUVRE"   :  Gosub OUVRE
  When "LIENS"   :  Gosub LIENS
  When "STYLE"   :  Gosub STYLE
Endcase
Return

$OUVRE
  If [M:JOU0]YBUSBAT <> 2 : Chgfmt[M:JOU0]YBUSBATTYP With "-LM:6250" : Endif
  Affzo [M:JOU0]YBUSBATTYP

Return

$LIENS
  If [M:JOU0]YBUSBAT <> 2 : Chgfmt[M:JOU0]YBUSBATTYP With "-LM:6250" : Endif
  #If [M:JOU0]YBUSBAT = 2 : Chgfmt[M:JOU0]YBUSBATTYP With "+LM:6250" : Endif
  Affzo [M:JOU0]YBUSBATTYP

Return

$STYLE
  If [M:JOU0]YBUSBAT <> 2 : Chgfmt[M:JOU0]YBUSBATTYP With "-LM:6250" : Endif
  #If [M:JOU0]YBUSBAT = 2 : Chgfmt[M:JOU0]YBUSBATTYP With "+LM:6250" : Endif
  Affzo [M:JOU0]YBUSBATTYP

Return

Subprog C_YBUSBAT(VALEUR)
Variable Integer VALEUR
  If VALEUR = 1 : Chgfmt[M:JOU0]YBUSBATTYP With "-LM:6250" : Endif
  If VALEUR = 2 : Chgfmt[M:JOU0]YBUSBATTYP With "+LM:6250" : Endif
  Affzo [M:JOU0]YBUSBATTYP

End

Subprog AM_YBUSBATTYP(VALEUR)
Variable Integer VALEUR
  #Check if Journal is linked to Entry type of the same Business Batch
  If [M:JOU0]YBUSBAT = 2 Then
    Call VAL_BBJOU([M:JOU0]JOU, VALEUR) From YBBSELJOU
  Endif

End


######################################################################################

