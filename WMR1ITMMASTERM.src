#<AdxTL>@(#)0.0.0.0 $Revision$Class Products
# Supervisor
## ACLA-CLASSE ## ITMMASTERM
# 2018-08-27 13:19:09 903

 
####################################################################
# Labels of the main class and methods 
####################################################################
 
####################################################################
# 1 : BUTHISURL PLM history ( Field A 3)
####################################################################
 
$SET_BUTHISURL
If [L]_AOLDVAL<>this.BUTHISURL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BUTHISURL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BUTHISURL
 Gosub PROPAGATE_BUTHISURL
Endif
Return

$INIT_BUTHISURL
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "BUTHISURL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BUTHISURL
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "BUTHISURL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BUTHISURL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BUTHISURL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BUTHISURL
[L]CURPRO = "BUTHISURL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BUTHISURL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BUTHISURL
[L]CURPRO = "BUTHISURL"
Return

$_AOTHERS_BUTHISURL
[L]CURPRO = "BUTHISURL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BUTHISURL
[L]CURPRO = "BUTHISURL"
Return

$PROPAGATE_BUTHISURL
this.isReadonly = 0
[L]CURPRO = "BUTHISURL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BUTHISURL
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "BUTHISURL"
$_LNKPRO_BUTHISURL
Return


####################################################################
# 2 : ITMNOTE Product notes ( Field ICO 3)
####################################################################
 
$SET_ITMNOTE
If [L]_AOLDVAL<>this.ITMNOTE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMNOTE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMNOTE
 Gosub PROPAGATE_ITMNOTE
Endif
Return

$INIT_ITMNOTE
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMNOTE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMNOTE
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMNOTE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMNOTE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMNOTE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMNOTE
[L]CURPRO = "ITMNOTE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMNOTE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMNOTE
[L]CURPRO = "ITMNOTE"
If vireblc(this.ITMNOTE,2)<>vireblc(format$("K:3X",this.ITMNOTE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMNOTE
[L]CURPRO = "ITMNOTE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMNOTE
[L]CURPRO = "ITMNOTE"
Return

$PROPAGATE_ITMNOTE
this.isReadonly = 0
[L]CURPRO = "ITMNOTE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMNOTE
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMNOTE"
$_LNKPRO_ITMNOTE
Return


####################################################################
# 3 : DLULTI UBD lead time ( Field C 4)
####################################################################
 
$SET_DLULTI
If [L]_AOLDVAL<>this.DLULTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLULTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLULTI
 Gosub PROPAGATE_DLULTI
Endif
Return

$INIT_DLULTI
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "DLULTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DLULTI
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "DLULTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLULTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLULTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLULTI
[L]CURPRO = "DLULTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLULTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLULTI
[L]CURPRO = "DLULTI"
Return

$_AOTHERS_DLULTI
[L]CURPRO = "DLULTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLULTI
[L]CURPRO = "DLULTI"
Return

$PROPAGATE_DLULTI
this.isReadonly = 0
[L]CURPRO = "DLULTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLULTI
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "DLULTI"
$_LNKPRO_DLULTI
Return


####################################################################
# 4 : DLULTIUOM Type ( Field Local menu number 2759)
####################################################################
 
$SET_DLULTIUOM
If [L]_AOLDVAL<>this.DLULTIUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLULTIUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLULTIUOM
 Gosub PROPAGATE_DLULTIUOM
Endif
Return

$INIT_DLULTIUOM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "DLULTIUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DLULTIUOM=0 and fmet this.AGETATTRIBUTE("DLULTIUOM","$isMandatory")="true"
 this.DLULTIUOM = 1
Endif
Return
 
$CONTROL_DLULTIUOM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "DLULTIUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLULTIUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLULTIUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLULTIUOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
If this.DLULTIUOM<0 or this.DLULTIUOM>len(mess(0,2759,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2759 ->"-num$(this.DLULTIUOM)-mess(99,123,1)):  Return : # Local menu "2759 -> Invalid option
Endif
Return

$_AOTHERS_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
Return

$PROPAGATE_DLULTIUOM
this.isReadonly = 0
[L]CURPRO = "DLULTIUOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLULTIUOM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "DLULTIUOM"
$_LNKPRO_DLULTIUOM
Return


####################################################################
# 5 : LEGGRP Legislation ( Field Miscellaneous table number)
####################################################################
 
$SET_LEGGRP
If [L]_AOLDVAL<>this.LEGGRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEGGRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEGGRP
 Gosub PROPAGATE_LEGGRP
Endif
Return

$INIT_LEGGRP
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "LEGGRP"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"LEGGRP",this.LEGGRP,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEGGRP
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "LEGGRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEGGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEGGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEGGRP
[L]CURPRO = "LEGGRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEGGRP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEGGRP
[L]CURPRO = "LEGGRP"
If vireblc(this.LEGGRP,2)<>vireblc(format$("K:20B",this.LEGGRP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEGGRP
[L]CURPRO = "LEGGRP"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"LEGGRP",this.LEGGRP,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEGGRP
[L]CURPRO = "LEGGRP"
Return

$PROPAGATE_LEGGRP
this.isReadonly = 0
[L]CURPRO = "LEGGRP"
Gosub _LNKPRO_LEGGRP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEGGRP
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "LEGGRP"
$_LNKPRO_LEGGRP
If vireblc(this.LEGGRP,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.LEGGRP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEGGRP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEGGRP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 6 : ITSSAU Sales unit ( Field UOM 3)
####################################################################
 
$SET_ITSSAU
If [L]_AOLDVAL<>this.ITSSAU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITSSAU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITSSAU
 Gosub PROPAGATE_ITSSAU
Endif
Return

$INIT_ITSSAU
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITSSAU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITSSAU
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITSSAU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITSSAU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITSSAU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITSSAU
[L]CURPRO = "ITSSAU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITSSAU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITSSAU
[L]CURPRO = "ITSSAU"
If vireblc(this.ITSSAU,2)<>vireblc(format$("K:3X",this.ITSSAU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITSSAU
[L]CURPRO = "ITSSAU"
If vireblc(this.ITSSAU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"ITSSAU",this.ITSSAU,this.ITSSAU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITSSAU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITSSAU
[L]CURPRO = "ITSSAU"
Return

$PROPAGATE_ITSSAU
this.isReadonly = 0
[L]CURPRO = "ITSSAU"
Gosub _LNKPRO_ITSSAU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITSSAU
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITSSAU"
$_LNKPRO_ITSSAU
If vireblc(this.ITSSAU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.ITSSAU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITSSAU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITSSAU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("ITSSAU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("ITSSAU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 7 : CUR Currency ( Field CUR 3)
####################################################################
 
$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 8 : PITDEB Points debit ( Field L 8)
####################################################################
 
$SET_PITDEB
If [L]_AOLDVAL<>this.PITDEB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PITDEB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PITDEB
 Gosub PROPAGATE_PITDEB
Endif
Return

$INIT_PITDEB
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "PITDEB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PITDEB
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "PITDEB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PITDEB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PITDEB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PITDEB
[L]CURPRO = "PITDEB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PITDEB=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PITDEB
[L]CURPRO = "PITDEB"
Return

$_AOTHERS_PITDEB
[L]CURPRO = "PITDEB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PITDEB
[L]CURPRO = "PITDEB"
Return

$PROPAGATE_PITDEB
this.isReadonly = 0
[L]CURPRO = "PITDEB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PITDEB
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "PITDEB"
$_LNKPRO_PITDEB
Return


####################################################################
# 9 : NULPIO Taking into account null value ( Field Local menu number 1)
####################################################################
 
$SET_NULPIO
If [L]_AOLDVAL<>this.NULPIO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NULPIO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NULPIO
 Gosub PROPAGATE_NULPIO
Endif
Return

$INIT_NULPIO
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "NULPIO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.NULPIO=0 and fmet this.AGETATTRIBUTE("NULPIO","$isMandatory")="true"
 this.NULPIO = 1
Endif
Return
 
$CONTROL_NULPIO
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "NULPIO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NULPIO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NULPIO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NULPIO
[L]CURPRO = "NULPIO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NULPIO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NULPIO
[L]CURPRO = "NULPIO"
If this.NULPIO<0 or this.NULPIO>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.NULPIO)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_NULPIO
[L]CURPRO = "NULPIO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NULPIO
[L]CURPRO = "NULPIO"
Return

$PROPAGATE_NULPIO
this.isReadonly = 0
[L]CURPRO = "NULPIO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NULPIO
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "NULPIO"
$_LNKPRO_NULPIO
Return


####################################################################
# 10 : COEHOUDAY Days - hours coef. ( Field DCB 9)
####################################################################
 
$SET_COEHOUDAY
If [L]_AOLDVAL<>this.COEHOUDAY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_COEHOUDAY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.COEHOUDAY
 Gosub PROPAGATE_COEHOUDAY
Endif
Return

$INIT_COEHOUDAY
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "COEHOUDAY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_COEHOUDAY
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "COEHOUDAY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_COEHOUDAY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_COEHOUDAY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_COEHOUDAY
[L]CURPRO = "COEHOUDAY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.COEHOUDAY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_COEHOUDAY
[L]CURPRO = "COEHOUDAY"
Return

$_AOTHERS_COEHOUDAY
[L]CURPRO = "COEHOUDAY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_COEHOUDAY
[L]CURPRO = "COEHOUDAY"
Return

$PROPAGATE_COEHOUDAY
this.isReadonly = 0
[L]CURPRO = "COEHOUDAY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_COEHOUDAY
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "COEHOUDAY"
$_LNKPRO_COEHOUDAY
Return


####################################################################
# 11 : XDLULTIUOM Type ( Field Local menu number 2759)
####################################################################
 
$SET_XDLULTIUOM
If [L]_AOLDVAL<>this.XDLULTIUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_XDLULTIUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.XDLULTIUOM
 Gosub PROPAGATE_XDLULTIUOM
Endif
Return

$INIT_XDLULTIUOM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDLULTIUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.XDLULTIUOM=0 and fmet this.AGETATTRIBUTE("XDLULTIUOM","$isMandatory")="true"
 this.XDLULTIUOM = 1
Endif
Return
 
$CONTROL_XDLULTIUOM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDLULTIUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_XDLULTIUOM            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_XDLULTIUOM            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_XDLULTIUOM
[L]CURPRO = "XDLULTIUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.XDLULTIUOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_XDLULTIUOM
[L]CURPRO = "XDLULTIUOM"
If this.XDLULTIUOM<0 or this.XDLULTIUOM>len(mess(0,2759,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2759 ->"-num$(this.XDLULTIUOM)-mess(99,123,1)):  Return : # Local menu "2759 -> Invalid option
Endif
Return

$_AOTHERS_XDLULTIUOM
[L]CURPRO = "XDLULTIUOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_XDLULTIUOM
[L]CURPRO = "XDLULTIUOM"
Return

$PROPAGATE_XDLULTIUOM
this.isReadonly = 0
[L]CURPRO = "XDLULTIUOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_XDLULTIUOM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDLULTIUOM"
$_LNKPRO_XDLULTIUOM
Return


####################################################################
# 12 : JOURS1 Days ( Field A 15)
####################################################################
 
$SET_JOURS1
If [L]_AOLDVAL<>this.JOURS1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS1
 Gosub PROPAGATE_JOURS1
Endif
Return

$INIT_JOURS1
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "JOURS1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS1
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "JOURS1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS1                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS1                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS1
[L]CURPRO = "JOURS1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS1
[L]CURPRO = "JOURS1"
Return

$_AOTHERS_JOURS1
[L]CURPRO = "JOURS1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS1
[L]CURPRO = "JOURS1"
Return

$PROPAGATE_JOURS1
this.isReadonly = 0
[L]CURPRO = "JOURS1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS1
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "JOURS1"
$_LNKPRO_JOURS1
Return


####################################################################
# 13 : ITMPUU Purchase unit ( Field UOM 3)
####################################################################
 
$SET_ITMPUU
If [L]_AOLDVAL<>this.ITMPUU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMPUU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMPUU
 Gosub PROPAGATE_ITMPUU
Endif
Return

$INIT_ITMPUU
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMPUU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMPUU
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMPUU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMPUU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMPUU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMPUU
[L]CURPRO = "ITMPUU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMPUU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMPUU
[L]CURPRO = "ITMPUU"
If vireblc(this.ITMPUU,2)<>vireblc(format$("K:3X",this.ITMPUU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMPUU
[L]CURPRO = "ITMPUU"
If vireblc(this.ITMPUU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"ITMPUU",this.ITMPUU,this.ITMPUU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMPUU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMPUU
[L]CURPRO = "ITMPUU"
Return

$PROPAGATE_ITMPUU
this.isReadonly = 0
[L]CURPRO = "ITMPUU"
Gosub _LNKPRO_ITMPUU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMPUU
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMPUU"
$_LNKPRO_ITMPUU
If vireblc(this.ITMPUU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.ITMPUU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMPUU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMPUU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMPUU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMPUU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 14 : CUR2 Currency ( Field CUR 3)
####################################################################
 
$SET_CUR2
If [L]_AOLDVAL<>this.CUR2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR2
 Gosub PROPAGATE_CUR2
Endif
Return

$INIT_CUR2
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR2
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR2
[L]CURPRO = "CUR2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR2
[L]CURPRO = "CUR2"
If vireblc(this.CUR2,2)<>vireblc(format$("K:3c",this.CUR2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR2
[L]CURPRO = "CUR2"
If vireblc(this.CUR2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR2",this.CUR2,this.CUR2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR2
[L]CURPRO = "CUR2"
Return

$PROPAGATE_CUR2
this.isReadonly = 0
[L]CURPRO = "CUR2"
Gosub _LNKPRO_CUR2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR2
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR2"
$_LNKPRO_CUR2
If vireblc(this.CUR2,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR2
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR2","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 15 : ITMSTCNUM Cost structure ( Field VCR 20)
####################################################################
 
$SET_ITMSTCNUM
If [L]_AOLDVAL<>this.ITMSTCNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMSTCNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMSTCNUM
 Gosub PROPAGATE_ITMSTCNUM
Endif
Return

$INIT_ITMSTCNUM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMSTCNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMSTCNUM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMSTCNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMSTCNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMSTCNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMSTCNUM
[L]CURPRO = "ITMSTCNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMSTCNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMSTCNUM
[L]CURPRO = "ITMSTCNUM"
If vireblc(this.ITMSTCNUM,2)<>vireblc(format$("K:20X",this.ITMSTCNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMSTCNUM
[L]CURPRO = "ITMSTCNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMSTCNUM
[L]CURPRO = "ITMSTCNUM"
Return

$PROPAGATE_ITMSTCNUM
this.isReadonly = 0
[L]CURPRO = "ITMSTCNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMSTCNUM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "ITMSTCNUM"
$_LNKPRO_ITMSTCNUM
Return


####################################################################
# 16 : CUR3 Currency ( Field CUR 3)
####################################################################
 
$SET_CUR3
If [L]_AOLDVAL<>this.CUR3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR3
 Gosub PROPAGATE_CUR3
Endif
Return

$INIT_CUR3
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR3
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR3
[L]CURPRO = "CUR3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR3
[L]CURPRO = "CUR3"
If vireblc(this.CUR3,2)<>vireblc(format$("K:3c",this.CUR3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR3
[L]CURPRO = "CUR3"
If vireblc(this.CUR3,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR3",this.CUR3,this.CUR3,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR3<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR3
[L]CURPRO = "CUR3"
Return

$PROPAGATE_CUR3
this.isReadonly = 0
[L]CURPRO = "CUR3"
Gosub _LNKPRO_CUR3
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR3
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "CUR3"
$_LNKPRO_CUR3
If vireblc(this.CUR3,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR3
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR3","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 17 : BUTATTURL PLM history ( Field A 3)
####################################################################
 
$SET_BUTATTURL
If [L]_AOLDVAL<>this.BUTATTURL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BUTATTURL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BUTATTURL
 Gosub PROPAGATE_BUTATTURL
Endif
Return

$INIT_BUTATTURL
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "BUTATTURL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BUTATTURL
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "BUTATTURL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BUTATTURL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BUTATTURL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BUTATTURL
[L]CURPRO = "BUTATTURL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BUTATTURL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BUTATTURL
[L]CURPRO = "BUTATTURL"
Return

$_AOTHERS_BUTATTURL
[L]CURPRO = "BUTATTURL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BUTATTURL
[L]CURPRO = "BUTATTURL"
Return

$PROPAGATE_BUTATTURL
this.isReadonly = 0
[L]CURPRO = "BUTATTURL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BUTATTURL
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "BUTATTURL"
$_LNKPRO_BUTATTURL
Return


####################################################################
# 18 : XDLULTI UBD lead time ( Field C 4)
####################################################################
 
$SET_XDLULTI
If [L]_AOLDVAL<>this.XDLULTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_XDLULTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.XDLULTI
 Gosub PROPAGATE_XDLULTI
Endif
Return

$INIT_XDLULTI
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDLULTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_XDLULTI
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDLULTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_XDLULTI               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_XDLULTI               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_XDLULTI
[L]CURPRO = "XDLULTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.XDLULTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_XDLULTI
[L]CURPRO = "XDLULTI"
Return

$_AOTHERS_XDLULTI
[L]CURPRO = "XDLULTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_XDLULTI
[L]CURPRO = "XDLULTI"
Return

$PROPAGATE_XDLULTI
this.isReadonly = 0
[L]CURPRO = "XDLULTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_XDLULTI
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDLULTI"
$_LNKPRO_XDLULTI
Return


####################################################################
# 19 : XPCUSTUCOE PAC-STK conv. ( Field COE 0)
####################################################################
 
$SET_XPCUSTUCOE
If [L]_AOLDVAL<>this.XPCUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_XPCUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.XPCUSTUCOE
 Gosub PROPAGATE_XPCUSTUCOE
Endif
Return

$INIT_XPCUSTUCOE
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XPCUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_XPCUSTUCOE
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XPCUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_XPCUSTUCOE            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_XPCUSTUCOE            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_XPCUSTUCOE
[L]CURPRO = "XPCUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.XPCUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_XPCUSTUCOE
[L]CURPRO = "XPCUSTUCOE"
Return

$_AOTHERS_XPCUSTUCOE
[L]CURPRO = "XPCUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_XPCUSTUCOE
[L]CURPRO = "XPCUSTUCOE"
Return

$PROPAGATE_XPCUSTUCOE
this.isReadonly = 0
[L]CURPRO = "XPCUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_XPCUSTUCOE
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XPCUSTUCOE"
$_LNKPRO_XPCUSTUCOE
Return


####################################################################
# 20 : XDESBPSNUM BP ( Field NAM 35)
####################################################################
 
$SET_XDESBPSNUM
If [L]_AOLDVAL<>this.XDESBPSNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_XDESBPSNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.XDESBPSNUM
 Gosub PROPAGATE_XDESBPSNUM
Endif
Return

$INIT_XDESBPSNUM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDESBPSNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_XDESBPSNUM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDESBPSNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_XDESBPSNUM            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_XDESBPSNUM            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_XDESBPSNUM
[L]CURPRO = "XDESBPSNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.XDESBPSNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_XDESBPSNUM
[L]CURPRO = "XDESBPSNUM"
If vireblc(this.XDESBPSNUM,2)<>vireblc(format$("K:35X",this.XDESBPSNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_XDESBPSNUM
[L]CURPRO = "XDESBPSNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_XDESBPSNUM
[L]CURPRO = "XDESBPSNUM"
Return

$PROPAGATE_XDESBPSNUM
this.isReadonly = 0
[L]CURPRO = "XDESBPSNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_XDESBPSNUM
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XDESBPSNUM"
$_LNKPRO_XDESBPSNUM
Return


####################################################################
# 21 : XBETFCY_1 Intersites ( Field Local menu number 1)
####################################################################
 
$SET_XBETFCY_1
If [L]_AOLDVAL<>this.XBETFCY_1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_XBETFCY_1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.XBETFCY_1
 Gosub PROPAGATE_XBETFCY_1
Endif
Return

$INIT_XBETFCY_1
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XBETFCY_1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.XBETFCY_1=0 and fmet this.AGETATTRIBUTE("XBETFCY_1","$isMandatory")="true"
 this.XBETFCY_1 = 1
Endif
Return
 
$CONTROL_XBETFCY_1
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XBETFCY_1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_XBETFCY_1             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_XBETFCY_1             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_XBETFCY_1
[L]CURPRO = "XBETFCY_1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.XBETFCY_1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_XBETFCY_1
[L]CURPRO = "XBETFCY_1"
If this.XBETFCY_1<0 or this.XBETFCY_1>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.XBETFCY_1)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_XBETFCY_1
[L]CURPRO = "XBETFCY_1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_XBETFCY_1
[L]CURPRO = "XBETFCY_1"
Return

$PROPAGATE_XBETFCY_1
this.isReadonly = 0
[L]CURPRO = "XBETFCY_1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_XBETFCY_1
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XBETFCY_1"
$_LNKPRO_XBETFCY_1
Return


####################################################################
# 22 : XBETFCY Intersites ( Field Local menu number 1)
####################################################################
 
$SET_XBETFCY
If [L]_AOLDVAL<>this.XBETFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_XBETFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.XBETFCY
 Gosub PROPAGATE_XBETFCY
Endif
Return

$INIT_XBETFCY
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XBETFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.XBETFCY=0 and fmet this.AGETATTRIBUTE("XBETFCY","$isMandatory")="true"
 this.XBETFCY = 1
Endif
Return
 
$CONTROL_XBETFCY
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XBETFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_XBETFCY               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_XBETFCY               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_XBETFCY
[L]CURPRO = "XBETFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.XBETFCY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_XBETFCY
[L]CURPRO = "XBETFCY"
If this.XBETFCY<0 or this.XBETFCY>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.XBETFCY)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_XBETFCY
[L]CURPRO = "XBETFCY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_XBETFCY
[L]CURPRO = "XBETFCY"
Return

$PROPAGATE_XBETFCY
this.isReadonly = 0
[L]CURPRO = "XBETFCY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_XBETFCY
Gosub DECLARE_VAR From WMR0ITMMASTERM
[L]CURPRO = "XBETFCY"
$_LNKPRO_XBETFCY
Return




