#<AdxTL>@(#)0.0.0.0 $Revision$Class Quote detail
# Supervisor
## ACLA-CLASSE ## SQUOTED
# 2018-08-27 12:49:25 506


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CURVCR Document currency ( Field CUR 3)
####################################################################

$SET_CURVCR
If [L]_AOLDVAL<>this.CURVCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURVCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURVCR
 Gosub PROPAGATE_CURVCR
Endif
Return

$INIT_CURVCR
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CURVCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURVCR
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CURVCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURVCR
[L]CURPRO = "CURVCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURVCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURVCR
[L]CURPRO = "CURVCR"
If vireblc(this.CURVCR,2)<>vireblc(format$("K:3c",this.CURVCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURVCR
[L]CURPRO = "CURVCR"
If vireblc(this.CURVCR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CURVCR",this.CURVCR,this.CURVCR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CURVCR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURVCR
[L]CURPRO = "CURVCR"
Return

$PROPAGATE_CURVCR
this.isReadonly = 0
[L]CURPRO = "CURVCR"
Gosub _LNKPRO_CURVCR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURVCR
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CURVCR"
$_LNKPRO_CURVCR
If vireblc(this.CURVCR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CURVCR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 2 : SQHNUM Quote no. ( Field VCR 20)
####################################################################

$SET_SQHNUM
If [L]_AOLDVAL<>this.SQHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SQHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SQHNUM
 Gosub PROPAGATE_SQHNUM
Endif
Return

$INIT_SQHNUM
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SQHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SQHNUM
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SQHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SQHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SQHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SQHNUM
[L]CURPRO = "SQHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SQHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SQHNUM
[L]CURPRO = "SQHNUM"
If vireblc(this.SQHNUM,2)<>vireblc(format$("K:20X",this.SQHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SQHNUM
[L]CURPRO = "SQHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SQHNUM
[L]CURPRO = "SQHNUM"
Return

$PROPAGATE_SQHNUM
this.isReadonly = 0
[L]CURPRO = "SQHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SQHNUM
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SQHNUM"
$_LNKPRO_SQHNUM
Return

$_ALOADATTRIBUTE_SQHNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("SQHNUM","$isMandatory","true")
Return


####################################################################
# 3 : SQDLIN Quote line ( Field L 8)
####################################################################

$SET_SQDLIN
If [L]_AOLDVAL<>this.SQDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SQDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SQDLIN
 Gosub PROPAGATE_SQDLIN
Endif
Return

$INIT_SQDLIN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SQDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SQDLIN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SQDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SQDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SQDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SQDLIN
[L]CURPRO = "SQDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SQDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SQDLIN
[L]CURPRO = "SQDLIN"
Return

$_AOTHERS_SQDLIN
[L]CURPRO = "SQDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SQDLIN
[L]CURPRO = "SQDLIN"
Return

$PROPAGATE_SQDLIN
this.isReadonly = 0
[L]CURPRO = "SQDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SQDLIN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SQDLIN"
$_LNKPRO_SQDLIN
Return

$_ALOADATTRIBUTE_SQDLIN
[L]ASTATUS = fmet this.ASETATTRIBUTE("SQDLIN","$isMandatory","true")
Return


####################################################################
# 4 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 5 : SALFCY Sales site ( Field FCY 5)
####################################################################

$SET_SALFCY
If [L]_AOLDVAL<>this.SALFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SALFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SALFCY
 Gosub PROPAGATE_SALFCY
Endif
Return

$INIT_SALFCY
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SALFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SALFCY
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SALFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SALFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SALFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SALFCY
[L]CURPRO = "SALFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SALFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SALFCY
[L]CURPRO = "SALFCY"
If vireblc(this.SALFCY,2)<>vireblc(format$("K:5c",this.SALFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SALFCY
[L]CURPRO = "SALFCY"
If vireblc(this.SALFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"SALFCY",this.SALFCY,this.SALFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SALFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SALFCY
[L]CURPRO = "SALFCY"
Return

$PROPAGATE_SALFCY
this.isReadonly = 0
[L]CURPRO = "SALFCY"
Gosub _LNKPRO_SALFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SALFCY
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "SALFCY"
$_LNKPRO_SALFCY
If vireblc(this.SALFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.SALFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_SALFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$isMandatory","true")
Return


####################################################################
# 6 : LEG Legislation ( Field Miscellaneous table number)
####################################################################

$SET_LEG
If [L]_AOLDVAL<>this.LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEG
 Gosub PROPAGATE_LEG
Endif
Return

$INIT_LEG
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"LEG",this.LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEG
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEG
[L]CURPRO = "LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEG
[L]CURPRO = "LEG"
If vireblc(this.LEG,2)<>vireblc(format$("K:20B",this.LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEG
[L]CURPRO = "LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"LEG",this.LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEG
[L]CURPRO = "LEG"
Return

$PROPAGATE_LEG
this.isReadonly = 0
[L]CURPRO = "LEG"
Gosub _LNKPRO_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEG
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "LEG"
$_LNKPRO_LEG
If vireblc(this.LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 7 : BPCORD Sold-to ( Field BPC 15)
####################################################################

$SET_BPCORD
If [L]_AOLDVAL<>this.BPCORD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPCORD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPCORD
 Gosub PROPAGATE_BPCORD
Endif
Return

$INIT_BPCORD
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "BPCORD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPCORD
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "BPCORD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPCORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPCORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPCORD
[L]CURPRO = "BPCORD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPCORD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPCORD
[L]CURPRO = "BPCORD"
If vireblc(this.BPCORD,2)<>vireblc(format$("K:15c",this.BPCORD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPCORD
[L]CURPRO = "BPCORD"
If vireblc(this.BPCORD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPC.ACTRLREF(this,"BPCORD",this.BPCORD,this.BPCORD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPCORD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPCORD
[L]CURPRO = "BPCORD"
Return

$PROPAGATE_BPCORD
this.isReadonly = 0
[L]CURPRO = "BPCORD"
Gosub _LNKPRO_BPCORD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPCORD
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "BPCORD"
$_LNKPRO_BPCORD
If vireblc(this.BPCORD,2)<>""
 # Link BPCUSTOMER
 Local File BPCUSTOMER [WBPC]
 Read [F:WBPC]BPC0 = this.BPCORD
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD","$title",[F:WBPC]BPCSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD","$description",[F:WBPC]BPCNAM)
 Endif
 LogicClose File [WBPC]
Endif
Return

$_ALOADATTRIBUTE_BPCORD
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD","$isMandatory","true")
Return


####################################################################
# 8 : QUODAT Quote date ( Field D)
####################################################################

$SET_QUODAT
If [L]_AOLDVAL<>this.QUODAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUODAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUODAT
 Gosub PROPAGATE_QUODAT
Endif
Return

$INIT_QUODAT
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "QUODAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUODAT
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "QUODAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUODAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUODAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUODAT
[L]CURPRO = "QUODAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUODAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUODAT
[L]CURPRO = "QUODAT"
Return

$_AOTHERS_QUODAT
[L]CURPRO = "QUODAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUODAT
[L]CURPRO = "QUODAT"
Return

$PROPAGATE_QUODAT
this.isReadonly = 0
[L]CURPRO = "QUODAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUODAT
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "QUODAT"
$_LNKPRO_QUODAT
Return

$_ALOADATTRIBUTE_QUODAT
[L]ASTATUS = fmet this.ASETATTRIBUTE("QUODAT","$isMandatory","true")
Return


####################################################################
# 9 : DAYLTI Delivery LT in days ( Field C 3)
####################################################################

$SET_DAYLTI
If [L]_AOLDVAL<>this.DAYLTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DAYLTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DAYLTI
 Gosub PROPAGATE_DAYLTI
Endif
Return

$INIT_DAYLTI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DAYLTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DAYLTI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DAYLTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DAYLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DAYLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DAYLTI
[L]CURPRO = "DAYLTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DAYLTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DAYLTI
[L]CURPRO = "DAYLTI"
Return

$_AOTHERS_DAYLTI
[L]CURPRO = "DAYLTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DAYLTI
[L]CURPRO = "DAYLTI"
Return

$PROPAGATE_DAYLTI
this.isReadonly = 0
[L]CURPRO = "DAYLTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DAYLTI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DAYLTI"
$_LNKPRO_DAYLTI
Return


####################################################################
# 10 : ITMREF Product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 11 : ITMDES1 Description ( Field DES 30)
####################################################################

$SET_ITMDES1
If [L]_AOLDVAL<>this.ITMDES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES1
 Gosub PROPAGATE_ITMDES1
Endif
Return

$INIT_ITMDES1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMDES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMDES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES1
[L]CURPRO = "ITMDES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES1
[L]CURPRO = "ITMDES1"
If vireblc(this.ITMDES1,2)<>vireblc(format$("K:30X",this.ITMDES1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES1
[L]CURPRO = "ITMDES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES1
[L]CURPRO = "ITMDES1"
Return

$PROPAGATE_ITMDES1
this.isReadonly = 0
[L]CURPRO = "ITMDES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMDES1"
$_LNKPRO_ITMDES1
Return


####################################################################
# 12 : ITMDES Description ( Field DES 30)
####################################################################

$SET_ITMDES
If [L]_AOLDVAL<>this.ITMDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES
 Gosub PROPAGATE_ITMDES
Endif
Return

$INIT_ITMDES
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES
[L]CURPRO = "ITMDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES
[L]CURPRO = "ITMDES"
If vireblc(this.ITMDES,2)<>vireblc(format$("K:30X",this.ITMDES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES
[L]CURPRO = "ITMDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES
[L]CURPRO = "ITMDES"
Return

$PROPAGATE_ITMDES
this.isReadonly = 0
[L]CURPRO = "ITMDES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ITMDES"
$_LNKPRO_ITMDES
Return


####################################################################
# 13 : ECCVALMAJ Major version ( Field ECS 10)
####################################################################

$SET_ECCVALMAJ
If [L]_AOLDVAL<>this.ECCVALMAJ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECCVALMAJ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECCVALMAJ
 Gosub PROPAGATE_ECCVALMAJ
Endif
Return

$INIT_ECCVALMAJ
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ECCVALMAJ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ECCVALMAJ
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ECCVALMAJ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECCVALMAJ             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECCVALMAJ             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ECCVALMAJ,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
Return

$_AOTHERS_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
Return

$PROPAGATE_ECCVALMAJ
this.isReadonly = 0
[L]CURPRO = "ECCVALMAJ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECCVALMAJ
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ECCVALMAJ"
$_LNKPRO_ECCVALMAJ
Return


####################################################################
# 14 : ECCVALMIN Minor version ( Field EVL 10)
####################################################################

$SET_ECCVALMIN
If [L]_AOLDVAL<>this.ECCVALMIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECCVALMIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECCVALMIN
 Gosub PROPAGATE_ECCVALMIN
Endif
Return

$INIT_ECCVALMIN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ECCVALMIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ECCVALMIN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ECCVALMIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECCVALMIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECCVALMIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ECCVALMIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
Return

$_AOTHERS_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
Return

$PROPAGATE_ECCVALMIN
this.isReadonly = 0
[L]CURPRO = "ECCVALMIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECCVALMIN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "ECCVALMIN"
$_LNKPRO_ECCVALMIN
Return


####################################################################
# 15 : PICITMREF Image ( Field ABIMG 1)
####################################################################

$GET_PICITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PICITMREF"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_BLB("PICITMREF",
& "ITM"
& +[V]CST_AURLSEPLOB+this.ITMREF
& +[V]CST_AURLSEPLOB+""
& ,[L]_CNT,this.PICITMREF)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_PICITMREF
If fmet this.AGETATTRIBUTE("PICITMREF","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PICITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PICITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("PICITMREF","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PICITMREF
 Gosub PROPAGATE_PICITMREF
Endif
Return

$INIT_PICITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PICITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PICITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PICITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PICITMREF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PICITMREF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PICITMREF
[L]CURPRO = "PICITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.PICITMREF)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PICITMREF
[L]CURPRO = "PICITMREF"
Return

$_AOTHERS_PICITMREF
[L]CURPRO = "PICITMREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PICITMREF
[L]CURPRO = "PICITMREF"
Return

$PROPAGATE_PICITMREF
this.isReadonly = 0
[L]CURPRO = "PICITMREF"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PICITMREF
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PICITMREF"
$_LNKPRO_PICITMREF
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_PICITMREF From WMC0SQUOTED
[L]ASTATUS = fmet this.ASETATTRIBUTE("PICITMREF","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 16 : REP1 Sales rep 1 ( Field REP 15)
####################################################################

$SET_REP1
If [L]_AOLDVAL<>this.REP1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REP1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REP1
 Gosub PROPAGATE_REP1
Endif
Return

$INIT_REP1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REP1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REP1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REP1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REP1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REP1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REP1
[L]CURPRO = "REP1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REP1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REP1
[L]CURPRO = "REP1"
If vireblc(this.REP1,2)<>vireblc(format$("K:15c",this.REP1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REP1
[L]CURPRO = "REP1"
If vireblc(this.REP1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPREP.ACTRLREF(this,"REP1",this.REP1,this.REP1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.REP1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REP1
[L]CURPRO = "REP1"
Return

$PROPAGATE_REP1
this.isReadonly = 0
[L]CURPRO = "REP1"
Gosub _LNKPRO_REP1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REP1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REP1"
$_LNKPRO_REP1
If vireblc(this.REP1,2)<>""
 # Link SALESREP
 Local File SALESREP [WREP]
 Read [F:WREP]REP0 = this.REP1
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REP1","$description",[F:WREP]REPNAM)
 Endif
 LogicClose File [WREP]
Endif
Return


####################################################################
# 17 : REPRAT1 Commission rate 1 ( Field RAT 0)
####################################################################

$SET_REPRAT1
If [L]_AOLDVAL<>this.REPRAT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPRAT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPRAT1
 Gosub PROPAGATE_REPRAT1
Endif
Return

$INIT_REPRAT1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPRAT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPRAT1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPRAT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPRAT1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPRAT1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPRAT1
[L]CURPRO = "REPRAT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REPRAT1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPRAT1
[L]CURPRO = "REPRAT1"
Return

$_AOTHERS_REPRAT1
[L]CURPRO = "REPRAT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPRAT1
[L]CURPRO = "REPRAT1"
Return

$PROPAGATE_REPRAT1
this.isReadonly = 0
[L]CURPRO = "REPRAT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPRAT1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPRAT1"
$_LNKPRO_REPRAT1
Return


####################################################################
# 18 : REP2 Sales rep 2 ( Field REP 15)
####################################################################

$SET_REP2
If [L]_AOLDVAL<>this.REP2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REP2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REP2
 Gosub PROPAGATE_REP2
Endif
Return

$INIT_REP2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REP2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REP2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REP2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REP2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REP2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REP2
[L]CURPRO = "REP2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REP2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REP2
[L]CURPRO = "REP2"
If vireblc(this.REP2,2)<>vireblc(format$("K:15c",this.REP2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REP2
[L]CURPRO = "REP2"
If vireblc(this.REP2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPREP.ACTRLREF(this,"REP2",this.REP2,this.REP2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.REP2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REP2
[L]CURPRO = "REP2"
Return

$PROPAGATE_REP2
this.isReadonly = 0
[L]CURPRO = "REP2"
Gosub _LNKPRO_REP2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REP2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REP2"
$_LNKPRO_REP2
If vireblc(this.REP2,2)<>""
 # Link SALESREP
 Local File SALESREP [WREP]
 Read [F:WREP]REP0 = this.REP2
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REP2","$description",[F:WREP]REPNAM)
 Endif
 LogicClose File [WREP]
Endif
Return


####################################################################
# 19 : REPRAT2 Commission rate 2 ( Field RAT 0)
####################################################################

$SET_REPRAT2
If [L]_AOLDVAL<>this.REPRAT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPRAT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPRAT2
 Gosub PROPAGATE_REPRAT2
Endif
Return

$INIT_REPRAT2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPRAT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPRAT2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPRAT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPRAT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPRAT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPRAT2
[L]CURPRO = "REPRAT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REPRAT2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPRAT2
[L]CURPRO = "REPRAT2"
Return

$_AOTHERS_REPRAT2
[L]CURPRO = "REPRAT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPRAT2
[L]CURPRO = "REPRAT2"
Return

$PROPAGATE_REPRAT2
this.isReadonly = 0
[L]CURPRO = "REPRAT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPRAT2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPRAT2"
$_LNKPRO_REPRAT2
Return


####################################################################
# 20 : REPCOE Commission factor ( Field CCR 0)
####################################################################

$SET_REPCOE
If [L]_AOLDVAL<>this.REPCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPCOE
 Gosub PROPAGATE_REPCOE
Endif
Return

$INIT_REPCOE
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPCOE
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPCOE
[L]CURPRO = "REPCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REPCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPCOE
[L]CURPRO = "REPCOE"
Return

$_AOTHERS_REPCOE
[L]CURPRO = "REPCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPCOE
[L]CURPRO = "REPCOE"
Return

$PROPAGATE_REPCOE
this.isReadonly = 0
[L]CURPRO = "REPCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPCOE
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "REPCOE"
$_LNKPRO_REPCOE
Return


####################################################################
# 21 : GROPRI Gross price ( Field MD8 0)
####################################################################

$SET_GROPRI
If [L]_AOLDVAL<>this.GROPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GROPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GROPRI
 Gosub PROPAGATE_GROPRI
Endif
Return

$INIT_GROPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "GROPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GROPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "GROPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GROPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GROPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GROPRI
[L]CURPRO = "GROPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GROPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GROPRI
[L]CURPRO = "GROPRI"
Return

$_AOTHERS_GROPRI
[L]CURPRO = "GROPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GROPRI
[L]CURPRO = "GROPRI"
Return

$PROPAGATE_GROPRI
this.isReadonly = 0
[L]CURPRO = "GROPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GROPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "GROPRI"
$_LNKPRO_GROPRI
Return


####################################################################
# 22 : PRIREN Price reason ( Field SPR 0)
####################################################################

$SET_PRIREN
If [L]_AOLDVAL<>this.PRIREN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIREN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIREN
 Gosub PROPAGATE_PRIREN
Endif
Return

$INIT_PRIREN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PRIREN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIREN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PRIREN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIREN
[L]CURPRO = "PRIREN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIREN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIREN
[L]CURPRO = "PRIREN"
Return

$_AOTHERS_PRIREN
[L]CURPRO = "PRIREN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIREN
[L]CURPRO = "PRIREN"
Return

$PROPAGATE_PRIREN
this.isReadonly = 0
[L]CURPRO = "PRIREN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIREN
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PRIREN"
$_LNKPRO_PRIREN
Return


####################################################################
# 23 : NETPRI Net price ( Field MD8 0)
####################################################################

$SET_NETPRI
If [L]_AOLDVAL<>this.NETPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRI
 Gosub PROPAGATE_NETPRI
Endif
Return

$INIT_NETPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRI
[L]CURPRO = "NETPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRI
[L]CURPRO = "NETPRI"
Return

$_AOTHERS_NETPRI
[L]CURPRO = "NETPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRI
[L]CURPRO = "NETPRI"
Return

$PROPAGATE_NETPRI
this.isReadonly = 0
[L]CURPRO = "NETPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRI"
$_LNKPRO_NETPRI
Return


####################################################################
# 24 : PFM Margin ( Field MD1 0)
####################################################################

$SET_PFM
If [L]_AOLDVAL<>this.PFM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PFM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PFM
 Gosub PROPAGATE_PFM
Endif
Return

$INIT_PFM
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PFM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PFM
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PFM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PFM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PFM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PFM
[L]CURPRO = "PFM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PFM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PFM
[L]CURPRO = "PFM"
Return

$_AOTHERS_PFM
[L]CURPRO = "PFM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PFM",this.PFM,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PFM
[L]CURPRO = "PFM"
Return

$PROPAGATE_PFM
this.isReadonly = 0
[L]CURPRO = "PFM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PFM
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "PFM"
$_LNKPRO_PFM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PFM",this.PFM,[L]AFORMAT,this.CURVCR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PFM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 25 : NETPRINOT Net price - tax ( Field MD8 0)
####################################################################

$SET_NETPRINOT
If [L]_AOLDVAL<>this.NETPRINOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRINOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRINOT
 Gosub PROPAGATE_NETPRINOT
Endif
Return

$INIT_NETPRINOT
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRINOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRINOT
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRINOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRINOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRINOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRINOT
[L]CURPRO = "NETPRINOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRINOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRINOT
[L]CURPRO = "NETPRINOT"
Return

$_AOTHERS_NETPRINOT
[L]CURPRO = "NETPRINOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRINOT
[L]CURPRO = "NETPRINOT"
Return

$PROPAGATE_NETPRINOT
this.isReadonly = 0
[L]CURPRO = "NETPRINOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRINOT
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRINOT"
$_LNKPRO_NETPRINOT
Return


####################################################################
# 26 : NETPRIATI Net price + tax ( Field MD8 0)
####################################################################

$SET_NETPRIATI
If [L]_AOLDVAL<>this.NETPRIATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRIATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRIATI
 Gosub PROPAGATE_NETPRIATI
Endif
Return

$INIT_NETPRIATI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRIATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRIATI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRIATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRIATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRIATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRIATI
[L]CURPRO = "NETPRIATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRIATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRIATI
[L]CURPRO = "NETPRIATI"
Return

$_AOTHERS_NETPRIATI
[L]CURPRO = "NETPRIATI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRIATI
[L]CURPRO = "NETPRIATI"
Return

$PROPAGATE_NETPRIATI
this.isReadonly = 0
[L]CURPRO = "NETPRIATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRIATI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "NETPRIATI"
$_LNKPRO_NETPRIATI
Return


####################################################################
# 27 : CPRPRI Cost price ( Field MD8 0)
####################################################################

$SET_CPRPRI
If [L]_AOLDVAL<>this.CPRPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPRPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPRPRI
 Gosub PROPAGATE_CPRPRI
Endif
Return

$INIT_CPRPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CPRPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPRPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CPRPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPRPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPRPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPRPRI
[L]CURPRO = "CPRPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPRPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPRPRI
[L]CURPRO = "CPRPRI"
Return

$_AOTHERS_CPRPRI
[L]CURPRO = "CPRPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPRPRI
[L]CURPRO = "CPRPRI"
Return

$PROPAGATE_CPRPRI
this.isReadonly = 0
[L]CURPRO = "CPRPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPRPRI
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "CPRPRI"
$_LNKPRO_CPRPRI
Return


####################################################################
# 28 : DISCRGVAL1 Discount/Charge 1 ( Field MD8 0)
####################################################################

$SET_DISCRGVAL1
If [L]_AOLDVAL<>this.DISCRGVAL1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGVAL1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGVAL1
 Gosub PROPAGATE_DISCRGVAL1
Endif
Return

$INIT_DISCRGVAL1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGVAL1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGVAL1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGVAL1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGVAL1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
Return

$_AOTHERS_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGVAL1
[L]CURPRO = "DISCRGVAL1"
Return

$PROPAGATE_DISCRGVAL1
this.isReadonly = 0
[L]CURPRO = "DISCRGVAL1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGVAL1
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL1"
$_LNKPRO_DISCRGVAL1
Return


####################################################################
# 29 : DISCRGVAL2 Discount/Charge 2 ( Field MD8 0)
####################################################################

$SET_DISCRGVAL2
If [L]_AOLDVAL<>this.DISCRGVAL2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGVAL2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGVAL2
 Gosub PROPAGATE_DISCRGVAL2
Endif
Return

$INIT_DISCRGVAL2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGVAL2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGVAL2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGVAL2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGVAL2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
Return

$_AOTHERS_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGVAL2
[L]CURPRO = "DISCRGVAL2"
Return

$PROPAGATE_DISCRGVAL2
this.isReadonly = 0
[L]CURPRO = "DISCRGVAL2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGVAL2
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL2"
$_LNKPRO_DISCRGVAL2
Return


####################################################################
# 30 : DISCRGVAL3 Discount/Charge 3 ( Field MD8 0)
####################################################################

$SET_DISCRGVAL3
If [L]_AOLDVAL<>this.DISCRGVAL3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISCRGVAL3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISCRGVAL3
 Gosub PROPAGATE_DISCRGVAL3
Endif
Return

$INIT_DISCRGVAL3
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DISCRGVAL3
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISCRGVAL3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISCRGVAL3            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISCRGVAL3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
Return

$_AOTHERS_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISCRGVAL3
[L]CURPRO = "DISCRGVAL3"
Return

$PROPAGATE_DISCRGVAL3
this.isReadonly = 0
[L]CURPRO = "DISCRGVAL3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISCRGVAL3
Gosub DECLARE_VAR From WMC0SQUOTED
[L]CURPRO = "DISCRGVAL3"
$_LNKPRO_DISCRGVAL3
Return




