#<AdxTL>@(#)0.0.0.0 $Revision$Class Stock
# Supervisor
## ACLA-CLASSE ## STOCK
# 2018-08-27 12:49:59 437


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : STOFCY Stock site ( Field FCY 5)
####################################################################

$SET_STOFCY
If [L]_AOLDVAL<>this.STOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOFCY
 Gosub PROPAGATE_STOFCY
Endif
Return

$INIT_STOFCY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STOFCY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOFCY
[L]CURPRO = "STOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>vireblc(format$("K:5c",this.STOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"STOFCY",this.STOFCY,this.STOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOFCY
[L]CURPRO = "STOFCY"
Return

$PROPAGATE_STOFCY
this.isReadonly = 0
[L]CURPRO = "STOFCY"
Gosub _LNKPRO_STOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOFCY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STOFCY"
$_LNKPRO_STOFCY
If vireblc(this.STOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.STOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_STOFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$isMandatory","true")
Return


####################################################################
# 2 : STOCOU Chronological stock ( Field DCB 10)
####################################################################

$SET_STOCOU
If [L]_AOLDVAL<>this.STOCOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOCOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOCOU
 Gosub PROPAGATE_STOCOU
Endif
Return

$INIT_STOCOU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STOCOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STOCOU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STOCOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOCOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOCOU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOCOU
[L]CURPRO = "STOCOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STOCOU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOCOU
[L]CURPRO = "STOCOU"
Return

$_AOTHERS_STOCOU
[L]CURPRO = "STOCOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOCOU
[L]CURPRO = "STOCOU"
Return

$PROPAGATE_STOCOU
this.isReadonly = 0
[L]CURPRO = "STOCOU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOCOU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STOCOU"
$_LNKPRO_STOCOU
Return


####################################################################
# 3 : OWNER Owner ( Field BPF 15)
####################################################################

$SET_OWNER
If [L]_AOLDVAL<>this.OWNER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OWNER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OWNER
 Gosub PROPAGATE_OWNER
Endif
Return

$INIT_OWNER
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "OWNER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OWNER
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "OWNER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OWNER                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OWNER                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OWNER
[L]CURPRO = "OWNER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OWNER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OWNER
[L]CURPRO = "OWNER"
If vireblc(this.OWNER,2)<>vireblc(format$("K:15c",this.OWNER),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OWNER
[L]CURPRO = "OWNER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OWNER
[L]CURPRO = "OWNER"
Return

$PROPAGATE_OWNER
this.isReadonly = 0
[L]CURPRO = "OWNER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OWNER
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "OWNER"
$_LNKPRO_OWNER
Return


####################################################################
# 4 : ITMREF Product ( Field ITF 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITF.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,this.STOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 5 : LOT Lot ( Field LOT 15)
####################################################################

$SET_LOT
If [L]_AOLDVAL<>this.LOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOT
 Gosub PROPAGATE_LOT
Endif
Return

$INIT_LOT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOT
[L]CURPRO = "LOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOT
[L]CURPRO = "LOT"
If vireblc(this.LOT,2)<>vireblc(format$("K:15c",this.LOT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOT
[L]CURPRO = "LOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOT
[L]CURPRO = "LOT"
Return

$PROPAGATE_LOT
this.isReadonly = 0
[L]CURPRO = "LOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOT"
$_LNKPRO_LOT
Return


####################################################################
# 6 : SLO Sublot ( Field SLO 5)
####################################################################

$SET_SLO
If [L]_AOLDVAL<>this.SLO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SLO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SLO
 Gosub PROPAGATE_SLO
Endif
Return

$INIT_SLO
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "SLO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SLO
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "SLO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SLO                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SLO                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SLO
[L]CURPRO = "SLO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SLO,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SLO
[L]CURPRO = "SLO"
If vireblc(this.SLO,2)<>vireblc(format$("K:5c",this.SLO),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SLO
[L]CURPRO = "SLO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SLO
[L]CURPRO = "SLO"
Return

$PROPAGATE_SLO
this.isReadonly = 0
[L]CURPRO = "SLO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SLO
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "SLO"
$_LNKPRO_SLO
Return


####################################################################
# 7 : BPSLOT Supplier lot ( Field LOT 15)
####################################################################

$SET_BPSLOT
If [L]_AOLDVAL<>this.BPSLOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPSLOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPSLOT
 Gosub PROPAGATE_BPSLOT
Endif
Return

$INIT_BPSLOT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "BPSLOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPSLOT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "BPSLOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPSLOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPSLOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPSLOT
[L]CURPRO = "BPSLOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPSLOT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPSLOT
[L]CURPRO = "BPSLOT"
If vireblc(this.BPSLOT,2)<>vireblc(format$("K:15c",this.BPSLOT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPSLOT
[L]CURPRO = "BPSLOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPSLOT
[L]CURPRO = "BPSLOT"
Return

$PROPAGATE_BPSLOT
this.isReadonly = 0
[L]CURPRO = "BPSLOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPSLOT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "BPSLOT"
$_LNKPRO_BPSLOT
Return


####################################################################
# 8 : PALNUM Identifier 1 ( Field PAL 10)
####################################################################

$SET_PALNUM
If [L]_AOLDVAL<>this.PALNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PALNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PALNUM
 Gosub PROPAGATE_PALNUM
Endif
Return

$INIT_PALNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PALNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PALNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PALNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PALNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PALNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PALNUM
[L]CURPRO = "PALNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PALNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PALNUM
[L]CURPRO = "PALNUM"
Return

$_AOTHERS_PALNUM
[L]CURPRO = "PALNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PALNUM
[L]CURPRO = "PALNUM"
Return

$PROPAGATE_PALNUM
this.isReadonly = 0
[L]CURPRO = "PALNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PALNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PALNUM"
$_LNKPRO_PALNUM
Return


####################################################################
# 9 : CTRNUM Identifier 2 ( Field CTR 10)
####################################################################

$SET_CTRNUM
If [L]_AOLDVAL<>this.CTRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTRNUM
 Gosub PROPAGATE_CTRNUM
Endif
Return

$INIT_CTRNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CTRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTRNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CTRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTRNUM
[L]CURPRO = "CTRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CTRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTRNUM
[L]CURPRO = "CTRNUM"
Return

$_AOTHERS_CTRNUM
[L]CURPRO = "CTRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTRNUM
[L]CURPRO = "CTRNUM"
Return

$PROPAGATE_CTRNUM
this.isReadonly = 0
[L]CURPRO = "CTRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTRNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CTRNUM"
$_LNKPRO_CTRNUM
Return


####################################################################
# 10 : STA Status ( Field A 3)
####################################################################

$SET_STA
If [L]_AOLDVAL<>this.STA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STA
 Gosub PROPAGATE_STA
Endif
Return

$INIT_STA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STA
[L]CURPRO = "STA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STA
[L]CURPRO = "STA"
Return

$_AOTHERS_STA
[L]CURPRO = "STA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STA
[L]CURPRO = "STA"
Return

$PROPAGATE_STA
this.isReadonly = 0
[L]CURPRO = "STA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "STA"
$_LNKPRO_STA
Return

$_ALOADATTRIBUTE_STA
[L]ASTATUS = fmet this.ASETATTRIBUTE("STA","$isMandatory","true")
Return


####################################################################
# 11 : LOC Location ( Field LOC 10)
####################################################################

$SET_LOC
If [L]_AOLDVAL<>this.LOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOC
 Gosub PROPAGATE_LOC
Endif
Return

$INIT_LOC
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOC
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOC
[L]CURPRO = "LOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOC
[L]CURPRO = "LOC"
If vireblc(this.LOC,2)<>vireblc(format$("K:10c",this.LOC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOC
[L]CURPRO = "LOC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOC
[L]CURPRO = "LOC"
If vireblc(this.LOC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLOC.ACTRLREF(this,"LOC",this.LOC,this.STOFCY,this.LOC,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LOC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_LOC
this.isReadonly = 0
[L]CURPRO = "LOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOC
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOC"
$_LNKPRO_LOC
Return


####################################################################
# 12 : LOCTYP Location type ( Field TLO 5)
####################################################################

$SET_LOCTYP
If [L]_AOLDVAL<>this.LOCTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOCTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOCTYP
 Gosub PROPAGATE_LOCTYP
Endif
Return

$INIT_LOCTYP
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOCTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOCTYP
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOCTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOCTYP
[L]CURPRO = "LOCTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOCTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOCTYP
[L]CURPRO = "LOCTYP"
If vireblc(this.LOCTYP,2)<>vireblc(format$("K:5c",this.LOCTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOCTYP
[L]CURPRO = "LOCTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOCTYP
[L]CURPRO = "LOCTYP"
Return

$PROPAGATE_LOCTYP
this.isReadonly = 0
[L]CURPRO = "LOCTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOCTYP
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOCTYP"
$_LNKPRO_LOCTYP
Return


####################################################################
# 13 : LOCCAT Location category ( Field Local menu number 2710)
####################################################################

$SET_LOCCAT
If [L]_AOLDVAL<>this.LOCCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOCCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOCCAT
 Gosub PROPAGATE_LOCCAT
Endif
Return

$INIT_LOCCAT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOCCAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LOCCAT=0 and fmet this.AGETATTRIBUTE("LOCCAT","$isMandatory")="true"
 this.LOCCAT = 1
Endif
Return
 
$CONTROL_LOCCAT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOCCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOCCAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOCCAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOCCAT
[L]CURPRO = "LOCCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LOCCAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOCCAT
[L]CURPRO = "LOCCAT"
If this.LOCCAT<0 or this.LOCCAT>len(mess(0,2710,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2710 ->"-num$(this.LOCCAT)-mess(99,123,1)):  Return : # Local menu "2710 -> Invalid option
Endif
Return

$_AOTHERS_LOCCAT
[L]CURPRO = "LOCCAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOCCAT
[L]CURPRO = "LOCCAT"
Return

$PROPAGATE_LOCCAT
this.isReadonly = 0
[L]CURPRO = "LOCCAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOCCAT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "LOCCAT"
$_LNKPRO_LOCCAT
Return


####################################################################
# 14 : WRH Warehouse ( Field WRH 5)
####################################################################

$SET_WRH
If [L]_AOLDVAL<>this.WRH
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WRH
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WRH
 Gosub PROPAGATE_WRH
Endif
Return

$INIT_WRH
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "WRH"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WRH
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "WRH"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WRH                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WRH                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WRH
[L]CURPRO = "WRH"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WRH,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WRH
[L]CURPRO = "WRH"
If vireblc(this.WRH,2)<>vireblc(format$("K:5c",this.WRH),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WRH
[L]CURPRO = "WRH"
If vireblc(this.WRH,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWRH.ACTRLREF(this,"WRH",this.WRH,this.WRH,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.WRH<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WRH
[L]CURPRO = "WRH"
Return

$PROPAGATE_WRH
this.isReadonly = 0
[L]CURPRO = "WRH"
Gosub _LNKPRO_WRH
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WRH
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "WRH"
$_LNKPRO_WRH
If vireblc(this.WRH,2)<>""
 # Link WAREHOUSE
 Local File WAREHOUSE [WWRH]
 Read [F:WWRH]WRH0 = this.WRH
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("WRH","$title",[F:WWRH]WRHSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("WRH","$description",[F:WWRH]WRHNAM)
 Endif
 LogicClose File [WWRH]
Endif
Return


####################################################################
# 15 : SERNUM Serial number ( Field SER 20)
####################################################################

$SET_SERNUM
If [L]_AOLDVAL<>this.SERNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SERNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SERNUM
 Gosub PROPAGATE_SERNUM
Endif
Return

$INIT_SERNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "SERNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SERNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "SERNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SERNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SERNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SERNUM
[L]CURPRO = "SERNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SERNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SERNUM
[L]CURPRO = "SERNUM"
If vireblc(this.SERNUM,2)<>vireblc(format$("K:20X",this.SERNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SERNUM
[L]CURPRO = "SERNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SERNUM
[L]CURPRO = "SERNUM"
Return

$PROPAGATE_SERNUM
this.isReadonly = 0
[L]CURPRO = "SERNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SERNUM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "SERNUM"
$_LNKPRO_SERNUM
Return


####################################################################
# 16 : RCPDAT Date entry series ( Field D)
####################################################################

$SET_RCPDAT
If [L]_AOLDVAL<>this.RCPDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RCPDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RCPDAT
 Gosub PROPAGATE_RCPDAT
Endif
Return

$INIT_RCPDAT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "RCPDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RCPDAT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "RCPDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RCPDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RCPDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RCPDAT
[L]CURPRO = "RCPDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RCPDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RCPDAT
[L]CURPRO = "RCPDAT"
Return

$_AOTHERS_RCPDAT
[L]CURPRO = "RCPDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RCPDAT
[L]CURPRO = "RCPDAT"
Return

$PROPAGATE_RCPDAT
this.isReadonly = 0
[L]CURPRO = "RCPDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RCPDAT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "RCPDAT"
$_LNKPRO_RCPDAT
Return


####################################################################
# 17 : PCU PAC unit ( Field UOM 3)
####################################################################

$SET_PCU
If [L]_AOLDVAL<>this.PCU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCU
 Gosub PROPAGATE_PCU
Endif
Return

$INIT_PCU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCU
[L]CURPRO = "PCU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PCU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCU
[L]CURPRO = "PCU"
If vireblc(this.PCU,2)<>vireblc(format$("K:3X",this.PCU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PCU
[L]CURPRO = "PCU"
If vireblc(this.PCU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"PCU",this.PCU,this.PCU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PCU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCU
[L]CURPRO = "PCU"
Return

$PROPAGATE_PCU
this.isReadonly = 0
[L]CURPRO = "PCU"
Gosub _LNKPRO_PCU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCU"
$_LNKPRO_PCU
If vireblc(this.PCU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.PCU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PCU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("PCU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_PCU
[L]ASTATUS = fmet this.ASETATTRIBUTE("PCU","$isMandatory","true")
Return


####################################################################
# 18 : PCUSTUCOE PAC-STK conversion ( Field COE 0)
####################################################################

$SET_PCUSTUCOE
If [L]_AOLDVAL<>this.PCUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCUSTUCOE
 Gosub PROPAGATE_PCUSTUCOE
Endif
Return

$INIT_PCUSTUCOE
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCUSTUCOE
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCUSTUCOE
[L]CURPRO = "PCUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PCUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCUSTUCOE
[L]CURPRO = "PCUSTUCOE"
Return

$_AOTHERS_PCUSTUCOE
[L]CURPRO = "PCUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCUSTUCOE
[L]CURPRO = "PCUSTUCOE"
Return

$PROPAGATE_PCUSTUCOE
this.isReadonly = 0
[L]CURPRO = "PCUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCUSTUCOE
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCUSTUCOE"
$_LNKPRO_PCUSTUCOE
Return


####################################################################
# 19 : QTYPCU PAC quantity ( Field QTY 0)
####################################################################

$SET_QTYPCU
If [L]_AOLDVAL<>this.QTYPCU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYPCU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYPCU
 Gosub PROPAGATE_QTYPCU
Endif
Return

$INIT_QTYPCU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYPCU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYPCU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYPCU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYPCU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYPCU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYPCU
[L]CURPRO = "QTYPCU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYPCU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYPCU
[L]CURPRO = "QTYPCU"
Return

$_AOTHERS_QTYPCU
[L]CURPRO = "QTYPCU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYPCU
[L]CURPRO = "QTYPCU"
Return

$PROPAGATE_QTYPCU
this.isReadonly = 0
[L]CURPRO = "QTYPCU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYPCU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYPCU"
$_LNKPRO_QTYPCU
Return


####################################################################
# 20 : QTYSTU STK quantity ( Field QTY 0)
####################################################################

$SET_QTYSTU
If [L]_AOLDVAL<>this.QTYSTU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYSTU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYSTU
 Gosub PROPAGATE_QTYSTU
Endif
Return

$INIT_QTYSTU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYSTU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYSTU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYSTU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYSTU
[L]CURPRO = "QTYSTU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYSTU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYSTU
[L]CURPRO = "QTYSTU"
Return

$_AOTHERS_QTYSTU
[L]CURPRO = "QTYSTU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYSTU
[L]CURPRO = "QTYSTU"
Return

$PROPAGATE_QTYSTU
this.isReadonly = 0
[L]CURPRO = "QTYSTU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYSTU
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTU"
$_LNKPRO_QTYSTU
Return


####################################################################
# 21 : QTYSTUACT Active quantity STK ( Field QTY 0)
####################################################################

$SET_QTYSTUACT
If [L]_AOLDVAL<>this.QTYSTUACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYSTUACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYSTUACT
 Gosub PROPAGATE_QTYSTUACT
Endif
Return

$INIT_QTYSTUACT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTUACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYSTUACT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTUACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYSTUACT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYSTUACT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYSTUACT
[L]CURPRO = "QTYSTUACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYSTUACT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYSTUACT
[L]CURPRO = "QTYSTUACT"
Return

$_AOTHERS_QTYSTUACT
[L]CURPRO = "QTYSTUACT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYSTUACT
[L]CURPRO = "QTYSTUACT"
Return

$PROPAGATE_QTYSTUACT
this.isReadonly = 0
[L]CURPRO = "QTYSTUACT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYSTUACT
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTUACT"
$_LNKPRO_QTYSTUACT
Return


####################################################################
# 22 : PCUORI Original packing ( Field UOM 3)
####################################################################

$SET_PCUORI
If [L]_AOLDVAL<>this.PCUORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PCUORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PCUORI
 Gosub PROPAGATE_PCUORI
Endif
Return

$INIT_PCUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCUORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PCUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCUORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PCUORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PCUORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PCUORI
[L]CURPRO = "PCUORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PCUORI,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PCUORI
[L]CURPRO = "PCUORI"
If vireblc(this.PCUORI,2)<>vireblc(format$("K:3X",this.PCUORI),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PCUORI
[L]CURPRO = "PCUORI"
If vireblc(this.PCUORI,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"PCUORI",this.PCUORI,this.PCUORI,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PCUORI<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PCUORI
[L]CURPRO = "PCUORI"
Return

$PROPAGATE_PCUORI
this.isReadonly = 0
[L]CURPRO = "PCUORI"
Gosub _LNKPRO_PCUORI
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PCUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "PCUORI"
$_LNKPRO_PCUORI
If vireblc(this.PCUORI,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.PCUORI
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCUORI","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PCUORI","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PCUORI","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("PCUORI","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 23 : QTYPCUORI Original quant. PAC ( Field QTY 0)
####################################################################

$SET_QTYPCUORI
If [L]_AOLDVAL<>this.QTYPCUORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYPCUORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYPCUORI
 Gosub PROPAGATE_QTYPCUORI
Endif
Return

$INIT_QTYPCUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYPCUORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYPCUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYPCUORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYPCUORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYPCUORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYPCUORI
[L]CURPRO = "QTYPCUORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYPCUORI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYPCUORI
[L]CURPRO = "QTYPCUORI"
Return

$_AOTHERS_QTYPCUORI
[L]CURPRO = "QTYPCUORI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYPCUORI
[L]CURPRO = "QTYPCUORI"
Return

$PROPAGATE_QTYPCUORI
this.isReadonly = 0
[L]CURPRO = "QTYPCUORI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYPCUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYPCUORI"
$_LNKPRO_QTYPCUORI
Return


####################################################################
# 24 : QTYSTUORI Original quantity STK ( Field QTY 0)
####################################################################

$SET_QTYSTUORI
If [L]_AOLDVAL<>this.QTYSTUORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYSTUORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYSTUORI
 Gosub PROPAGATE_QTYSTUORI
Endif
Return

$INIT_QTYSTUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTUORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYSTUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTUORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYSTUORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYSTUORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYSTUORI
[L]CURPRO = "QTYSTUORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYSTUORI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYSTUORI
[L]CURPRO = "QTYSTUORI"
Return

$_AOTHERS_QTYSTUORI
[L]CURPRO = "QTYSTUORI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYSTUORI
[L]CURPRO = "QTYSTUORI"
Return

$PROPAGATE_QTYSTUORI
this.isReadonly = 0
[L]CURPRO = "QTYSTUORI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYSTUORI
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QTYSTUORI"
$_LNKPRO_QTYSTUORI
Return


####################################################################
# 25 : QLYCTLDEM Quality analysis request ( Field VCR 20)
####################################################################

$SET_QLYCTLDEM
If [L]_AOLDVAL<>this.QLYCTLDEM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QLYCTLDEM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QLYCTLDEM
 Gosub PROPAGATE_QLYCTLDEM
Endif
Return

$INIT_QLYCTLDEM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QLYCTLDEM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QLYCTLDEM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QLYCTLDEM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QLYCTLDEM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QLYCTLDEM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.QLYCTLDEM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
If vireblc(this.QLYCTLDEM,2)<>vireblc(format$("K:20X",this.QLYCTLDEM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
Return

$PROPAGATE_QLYCTLDEM
this.isReadonly = 0
[L]CURPRO = "QLYCTLDEM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QLYCTLDEM
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "QLYCTLDEM"
$_LNKPRO_QLYCTLDEM
Return


####################################################################
# 26 : CUMALLQTY Total allocated STK ( Field QTY 0)
####################################################################

$SET_CUMALLQTY
If [L]_AOLDVAL<>this.CUMALLQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUMALLQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUMALLQTY
 Gosub PROPAGATE_CUMALLQTY
Endif
Return

$INIT_CUMALLQTY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMALLQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUMALLQTY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMALLQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUMALLQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUMALLQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUMALLQTY
[L]CURPRO = "CUMALLQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUMALLQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUMALLQTY
[L]CURPRO = "CUMALLQTY"
Return

$_AOTHERS_CUMALLQTY
[L]CURPRO = "CUMALLQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUMALLQTY
[L]CURPRO = "CUMALLQTY"
Return

$PROPAGATE_CUMALLQTY
this.isReadonly = 0
[L]CURPRO = "CUMALLQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUMALLQTY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMALLQTY"
$_LNKPRO_CUMALLQTY
Return


####################################################################
# 27 : CUMALLQTA Cumul active quantity allocated STK ( Field QTY 0)
####################################################################

$SET_CUMALLQTA
If [L]_AOLDVAL<>this.CUMALLQTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUMALLQTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUMALLQTA
 Gosub PROPAGATE_CUMALLQTA
Endif
Return

$INIT_CUMALLQTA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMALLQTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUMALLQTA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMALLQTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUMALLQTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUMALLQTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUMALLQTA
[L]CURPRO = "CUMALLQTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUMALLQTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUMALLQTA
[L]CURPRO = "CUMALLQTA"
Return

$_AOTHERS_CUMALLQTA
[L]CURPRO = "CUMALLQTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUMALLQTA
[L]CURPRO = "CUMALLQTA"
Return

$PROPAGATE_CUMALLQTA
this.isReadonly = 0
[L]CURPRO = "CUMALLQTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUMALLQTA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMALLQTA"
$_LNKPRO_CUMALLQTA
Return


####################################################################
# 28 : CUMWIPQTY Qty in process ( Field QTY 0)
####################################################################

$SET_CUMWIPQTY
If [L]_AOLDVAL<>this.CUMWIPQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUMWIPQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUMWIPQTY
 Gosub PROPAGATE_CUMWIPQTY
Endif
Return

$INIT_CUMWIPQTY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMWIPQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUMWIPQTY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMWIPQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUMWIPQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUMWIPQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUMWIPQTY
[L]CURPRO = "CUMWIPQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUMWIPQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUMWIPQTY
[L]CURPRO = "CUMWIPQTY"
Return

$_AOTHERS_CUMWIPQTY
[L]CURPRO = "CUMWIPQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUMWIPQTY
[L]CURPRO = "CUMWIPQTY"
Return

$PROPAGATE_CUMWIPQTY
this.isReadonly = 0
[L]CURPRO = "CUMWIPQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUMWIPQTY
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMWIPQTY"
$_LNKPRO_CUMWIPQTY
Return


####################################################################
# 29 : CUMWIPQTA Act qty in process ( Field QTY 0)
####################################################################

$SET_CUMWIPQTA
If [L]_AOLDVAL<>this.CUMWIPQTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUMWIPQTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUMWIPQTA
 Gosub PROPAGATE_CUMWIPQTA
Endif
Return

$INIT_CUMWIPQTA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMWIPQTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUMWIPQTA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMWIPQTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUMWIPQTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUMWIPQTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUMWIPQTA
[L]CURPRO = "CUMWIPQTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUMWIPQTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUMWIPQTA
[L]CURPRO = "CUMWIPQTA"
Return

$_AOTHERS_CUMWIPQTA
[L]CURPRO = "CUMWIPQTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUMWIPQTA
[L]CURPRO = "CUMWIPQTA"
Return

$PROPAGATE_CUMWIPQTA
this.isReadonly = 0
[L]CURPRO = "CUMWIPQTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUMWIPQTA
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "CUMWIPQTA"
$_LNKPRO_CUMWIPQTA
Return


####################################################################
# 30 : EDTFLG Edit flag ( Field C 1)
####################################################################

$SET_EDTFLG
If [L]_AOLDVAL<>this.EDTFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EDTFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EDTFLG
 Gosub PROPAGATE_EDTFLG
Endif
Return

$INIT_EDTFLG
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "EDTFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EDTFLG
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "EDTFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EDTFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EDTFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EDTFLG
[L]CURPRO = "EDTFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EDTFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EDTFLG
[L]CURPRO = "EDTFLG"
Return

$_AOTHERS_EDTFLG
[L]CURPRO = "EDTFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EDTFLG
[L]CURPRO = "EDTFLG"
Return

$PROPAGATE_EDTFLG
this.isReadonly = 0
[L]CURPRO = "EDTFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EDTFLG
Gosub DECLARE_VAR From WMC0STOCK
[L]CURPRO = "EDTFLG"
$_LNKPRO_EDTFLG
Return




