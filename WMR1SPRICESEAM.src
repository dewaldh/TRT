#<AdxTL>@(#)0.0.0.0 $Revision$Class Price list inquiry
# Supervisor
## ACLA-CLASSE ## SPRICESEAM
# 2018-08-27 13:32:51 679

 
####################################################################
# Labels of the main class and methods 
####################################################################
 
####################################################################
# 1 : BPCORD_REP Customer ( Field BPC 15)
####################################################################
 
$SET_BPCORD_REP
If [L]_AOLDVAL<>this.BPCORD_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPCORD_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPCORD_REP
 Gosub PROPAGATE_BPCORD_REP
Endif
Return

$INIT_BPCORD_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPCORD_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPCORD_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPCORD_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPCORD_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPCORD_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPCORD_REP
[L]CURPRO = "BPCORD_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPCORD_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPCORD_REP
[L]CURPRO = "BPCORD_REP"
If vireblc(this.BPCORD_REP,2)<>vireblc(format$("K:15c",this.BPCORD_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPCORD_REP
[L]CURPRO = "BPCORD_REP"
If vireblc(this.BPCORD_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPC.ACTRLREF(this,"BPCORD_REP",this.BPCORD_REP,this.BPCORD_REP,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPCORD_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPCORD_REP
[L]CURPRO = "BPCORD_REP"
Return

$PROPAGATE_BPCORD_REP
this.isReadonly = 0
[L]CURPRO = "BPCORD_REP"
Gosub _LNKPRO_BPCORD_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPCORD_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPCORD_REP"
$_LNKPRO_BPCORD_REP
If vireblc(this.BPCORD_REP,2)<>""
 # Link BPCUSTOMER
 Local File BPCUSTOMER [WBPC]
 Read [F:WBPC]BPC0 = this.BPCORD_REP
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD_REP","$title",[F:WBPC]BPCSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD_REP","$description",[F:WBPC]BPCNAM)
 Endif
 LogicClose File [WBPC]
Endif
Return

$_ALOADATTRIBUTE_BPCORD_REP
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD_REP","$isMandatory","true")
Return


####################################################################
# 2 : BPCORD_GETDF Flag ( Field Local menu number 1)
####################################################################
 
$SET_BPCORD_GETDF
If [L]_AOLDVAL<>this.BPCORD_GETDF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPCORD_GETDF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPCORD_GETDF
 Gosub PROPAGATE_BPCORD_GETDF
Endif
Return

$INIT_BPCORD_GETDF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPCORD_GETDF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BPCORD_GETDF=0 and fmet this.AGETATTRIBUTE("BPCORD_GETDF","$isMandatory")="true"
 this.BPCORD_GETDF = 1
Endif
Return
 
$CONTROL_BPCORD_GETDF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPCORD_GETDF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPCORD_GETDF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPCORD_GETDF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPCORD_GETDF
[L]CURPRO = "BPCORD_GETDF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BPCORD_GETDF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPCORD_GETDF
[L]CURPRO = "BPCORD_GETDF"
If this.BPCORD_GETDF<0 or this.BPCORD_GETDF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.BPCORD_GETDF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_BPCORD_GETDF
[L]CURPRO = "BPCORD_GETDF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPCORD_GETDF
[L]CURPRO = "BPCORD_GETDF"
Return

$PROPAGATE_BPCORD_GETDF
this.isReadonly = 0
[L]CURPRO = "BPCORD_GETDF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPCORD_GETDF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPCORD_GETDF"
$_LNKPRO_BPCORD_GETDF
Return


####################################################################
# 3 : ITMREF_REP Product ( Field ITM 20)
####################################################################
 
$SET_ITMREF_REP
If [L]_AOLDVAL<>this.ITMREF_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF_REP
 Gosub PROPAGATE_ITMREF_REP
Endif
Return

$INIT_ITMREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "ITMREF_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "ITMREF_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF_REP
[L]CURPRO = "ITMREF_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF_REP
[L]CURPRO = "ITMREF_REP"
If vireblc(this.ITMREF_REP,2)<>vireblc(format$("K:20c",this.ITMREF_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF_REP
[L]CURPRO = "ITMREF_REP"
If vireblc(this.ITMREF_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF_REP",this.ITMREF_REP,this.ITMREF_REP,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF_REP
[L]CURPRO = "ITMREF_REP"
Return

$PROPAGATE_ITMREF_REP
this.isReadonly = 0
[L]CURPRO = "ITMREF_REP"
Gosub _LNKPRO_ITMREF_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "ITMREF_REP"
$_LNKPRO_ITMREF_REP
If vireblc(this.ITMREF_REP,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF_REP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF_REP
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF_REP","$isMandatory","true")
Return


####################################################################
# 4 : ITMREF_GETDF Flag ( Field Local menu number 1)
####################################################################
 
$SET_ITMREF_GETDF
If [L]_AOLDVAL<>this.ITMREF_GETDF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF_GETDF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF_GETDF
 Gosub PROPAGATE_ITMREF_GETDF
Endif
Return

$INIT_ITMREF_GETDF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "ITMREF_GETDF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ITMREF_GETDF=0 and fmet this.AGETATTRIBUTE("ITMREF_GETDF","$isMandatory")="true"
 this.ITMREF_GETDF = 1
Endif
Return
 
$CONTROL_ITMREF_GETDF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "ITMREF_GETDF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF_GETDF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF_GETDF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF_GETDF
[L]CURPRO = "ITMREF_GETDF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMREF_GETDF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF_GETDF
[L]CURPRO = "ITMREF_GETDF"
If this.ITMREF_GETDF<0 or this.ITMREF_GETDF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ITMREF_GETDF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ITMREF_GETDF
[L]CURPRO = "ITMREF_GETDF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF_GETDF
[L]CURPRO = "ITMREF_GETDF"
Return

$PROPAGATE_ITMREF_GETDF
this.isReadonly = 0
[L]CURPRO = "ITMREF_GETDF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF_GETDF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "ITMREF_GETDF"
$_LNKPRO_ITMREF_GETDF
Return


####################################################################
# 5 : CURREF_REP Currency ( Field CUR 3)
####################################################################
 
$SET_CURREF_REP
If [L]_AOLDVAL<>this.CURREF_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURREF_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURREF_REP
 Gosub PROPAGATE_CURREF_REP
Endif
Return

$INIT_CURREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "CURREF_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "CURREF_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURREF_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURREF_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURREF_REP
[L]CURPRO = "CURREF_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURREF_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURREF_REP
[L]CURPRO = "CURREF_REP"
If vireblc(this.CURREF_REP,2)<>vireblc(format$("K:3c",this.CURREF_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURREF_REP
[L]CURPRO = "CURREF_REP"
If vireblc(this.CURREF_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CURREF_REP",this.CURREF_REP,this.CURREF_REP,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CURREF_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURREF_REP
[L]CURPRO = "CURREF_REP"
Return

$PROPAGATE_CURREF_REP
this.isReadonly = 0
[L]CURPRO = "CURREF_REP"
Gosub _LNKPRO_CURREF_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "CURREF_REP"
$_LNKPRO_CURREF_REP
If vireblc(this.CURREF_REP,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CURREF_REP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURREF_REP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURREF_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CURREF_REP","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURREF_REP","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURREF_REP","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 6 : CURREF_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_CURREF_ISDEF
If [L]_AOLDVAL<>this.CURREF_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURREF_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURREF_ISDEF
 Gosub PROPAGATE_CURREF_ISDEF
Endif
Return

$INIT_CURREF_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "CURREF_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CURREF_ISDEF=0 and fmet this.AGETATTRIBUTE("CURREF_ISDEF","$isMandatory")="true"
 this.CURREF_ISDEF = 1
Endif
Return
 
$CONTROL_CURREF_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "CURREF_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURREF_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURREF_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURREF_ISDEF
[L]CURPRO = "CURREF_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CURREF_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURREF_ISDEF
[L]CURPRO = "CURREF_ISDEF"
If this.CURREF_ISDEF<0 or this.CURREF_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CURREF_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CURREF_ISDEF
[L]CURPRO = "CURREF_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURREF_ISDEF
[L]CURPRO = "CURREF_ISDEF"
Return

$PROPAGATE_CURREF_ISDEF
this.isReadonly = 0
[L]CURPRO = "CURREF_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURREF_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "CURREF_ISDEF"
$_LNKPRO_CURREF_ISDEF
Return


####################################################################
# 7 : PRITYP_REP Price - / +tax ( Field Local menu number 243)
####################################################################
 
$SET_PRITYP_REP
If [L]_AOLDVAL<>this.PRITYP_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRITYP_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRITYP_REP
 Gosub PROPAGATE_PRITYP_REP
Endif
Return

$INIT_PRITYP_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PRITYP_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRITYP_REP=0 and fmet this.AGETATTRIBUTE("PRITYP_REP","$isMandatory")="true"
 this.PRITYP_REP = 1
Endif
Return
 
$CONTROL_PRITYP_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PRITYP_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRITYP_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRITYP_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRITYP_REP
[L]CURPRO = "PRITYP_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRITYP_REP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRITYP_REP
[L]CURPRO = "PRITYP_REP"
If this.PRITYP_REP<0 or this.PRITYP_REP>len(mess(0,243,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"243 ->"-num$(this.PRITYP_REP)-mess(99,123,1)):  Return : # Local menu "243 -> Invalid option
Endif
Return

$_AOTHERS_PRITYP_REP
[L]CURPRO = "PRITYP_REP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRITYP_REP
[L]CURPRO = "PRITYP_REP"
Return

$PROPAGATE_PRITYP_REP
this.isReadonly = 0
[L]CURPRO = "PRITYP_REP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRITYP_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PRITYP_REP"
$_LNKPRO_PRITYP_REP
Return


####################################################################
# 8 : SAUREF_REP Unit ( Field UOM 3)
####################################################################
 
$SET_SAUREF_REP
If [L]_AOLDVAL<>this.SAUREF_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAUREF_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAUREF_REP
 Gosub PROPAGATE_SAUREF_REP
Endif
Return

$INIT_SAUREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "SAUREF_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAUREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "SAUREF_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAUREF_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAUREF_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAUREF_REP
[L]CURPRO = "SAUREF_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAUREF_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAUREF_REP
[L]CURPRO = "SAUREF_REP"
If vireblc(this.SAUREF_REP,2)<>vireblc(format$("K:3X",this.SAUREF_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAUREF_REP
[L]CURPRO = "SAUREF_REP"
If vireblc(this.SAUREF_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"SAUREF_REP",this.SAUREF_REP,this.SAUREF_REP,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SAUREF_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAUREF_REP
[L]CURPRO = "SAUREF_REP"
Return

$PROPAGATE_SAUREF_REP
this.isReadonly = 0
[L]CURPRO = "SAUREF_REP"
Gosub _LNKPRO_SAUREF_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAUREF_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "SAUREF_REP"
$_LNKPRO_SAUREF_REP
If vireblc(this.SAUREF_REP,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.SAUREF_REP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAUREF_REP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAUREF_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SAUREF_REP","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("SAUREF_REP","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 9 : SAUREF_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_SAUREF_ISDEF
If [L]_AOLDVAL<>this.SAUREF_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAUREF_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAUREF_ISDEF
 Gosub PROPAGATE_SAUREF_ISDEF
Endif
Return

$INIT_SAUREF_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "SAUREF_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SAUREF_ISDEF=0 and fmet this.AGETATTRIBUTE("SAUREF_ISDEF","$isMandatory")="true"
 this.SAUREF_ISDEF = 1
Endif
Return
 
$CONTROL_SAUREF_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "SAUREF_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAUREF_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAUREF_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAUREF_ISDEF
[L]CURPRO = "SAUREF_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SAUREF_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAUREF_ISDEF
[L]CURPRO = "SAUREF_ISDEF"
If this.SAUREF_ISDEF<0 or this.SAUREF_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.SAUREF_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_SAUREF_ISDEF
[L]CURPRO = "SAUREF_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAUREF_ISDEF
[L]CURPRO = "SAUREF_ISDEF"
Return

$PROPAGATE_SAUREF_ISDEF
this.isReadonly = 0
[L]CURPRO = "SAUREF_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAUREF_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "SAUREF_ISDEF"
$_LNKPRO_SAUREF_ISDEF
Return


####################################################################
# 10 : BPAADD_REP Delivery address ( Field BPD 5)
####################################################################
 
$SET_BPAADD_REP
If [L]_AOLDVAL<>this.BPAADD_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADD_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADD_REP
 Gosub PROPAGATE_BPAADD_REP
Endif
Return

$INIT_BPAADD_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPAADD_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADD_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPAADD_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADD_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADD_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADD_REP
[L]CURPRO = "BPAADD_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADD_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADD_REP
[L]CURPRO = "BPAADD_REP"
If vireblc(this.BPAADD_REP,2)<>vireblc(format$("K:5c",this.BPAADD_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADD_REP
[L]CURPRO = "BPAADD_REP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADD_REP
[L]CURPRO = "BPAADD_REP"
If vireblc(this.BPAADD_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPD.ACTRLREF(this,"BPAADD_REP",this.BPAADD_REP,this.BPCORD_REP,this.BPAADD_REP,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPAADD_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_BPAADD_REP
this.isReadonly = 0
[L]CURPRO = "BPAADD_REP"
Gosub _LNKPRO_BPAADD_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADD_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPAADD_REP"
$_LNKPRO_BPAADD_REP
If vireblc(this.BPAADD_REP,2)<>""
 # Link BPDLVCUST
 Local File BPDLVCUST [WBPD]
 Read [F:WBPD]BPD0 = this.BPCORD_REP;this.BPAADD_REP
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADD_REP","$description",[F:WBPD]BPDNAM)
 Endif
 LogicClose File [WBPD]
Endif
Return


####################################################################
# 11 : BPAADD_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_BPAADD_ISDEF
If [L]_AOLDVAL<>this.BPAADD_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADD_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADD_ISDEF
 Gosub PROPAGATE_BPAADD_ISDEF
Endif
Return

$INIT_BPAADD_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPAADD_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BPAADD_ISDEF=0 and fmet this.AGETATTRIBUTE("BPAADD_ISDEF","$isMandatory")="true"
 this.BPAADD_ISDEF = 1
Endif
Return
 
$CONTROL_BPAADD_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPAADD_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADD_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADD_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADD_ISDEF
[L]CURPRO = "BPAADD_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BPAADD_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADD_ISDEF
[L]CURPRO = "BPAADD_ISDEF"
If this.BPAADD_ISDEF<0 or this.BPAADD_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.BPAADD_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_BPAADD_ISDEF
[L]CURPRO = "BPAADD_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADD_ISDEF
[L]CURPRO = "BPAADD_ISDEF"
Return

$PROPAGATE_BPAADD_ISDEF
this.isReadonly = 0
[L]CURPRO = "BPAADD_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADD_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "BPAADD_ISDEF"
$_LNKPRO_BPAADD_ISDEF
Return


####################################################################
# 12 : VACBPR_REP Tax rule ( Field TVB 5)
####################################################################
 
$SET_VACBPR_REP
If [L]_AOLDVAL<>this.VACBPR_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VACBPR_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VACBPR_REP
 Gosub PROPAGATE_VACBPR_REP
Endif
Return

$INIT_VACBPR_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "VACBPR_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VACBPR_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "VACBPR_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VACBPR_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VACBPR_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VACBPR_REP
[L]CURPRO = "VACBPR_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VACBPR_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VACBPR_REP
[L]CURPRO = "VACBPR_REP"
If vireblc(this.VACBPR_REP,2)<>vireblc(format$("K:5c",this.VACBPR_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VACBPR_REP
[L]CURPRO = "VACBPR_REP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VACBPR_REP
[L]CURPRO = "VACBPR_REP"
If vireblc(this.VACBPR_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPTVB.ACTRLREF(this,"VACBPR_REP",this.VACBPR_REP,this.VACBPR_REP,this.SPRISEA.VACBPR_LEG,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VACBPR_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VACBPR_REP
this.isReadonly = 0
[L]CURPRO = "VACBPR_REP"
Gosub _LNKPRO_VACBPR_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VACBPR_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "VACBPR_REP"
$_LNKPRO_VACBPR_REP
If vireblc(this.VACBPR_REP,2)<>""
 # Link TABVACBPR
 Local File TABVACBPR [WTVB]
 Read [F:WTVB]TVB0 = this.VACBPR_REP;this.SPRISEA.VACBPR_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVACBPR" & ZONE="SHOAXX" & IDENT1=[F:WTVB]VACBPR & IDENT2=[F:WTVB]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VACBPR_REP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVACBPR" & ZONE="DESAXX" & IDENT1=[F:WTVB]VACBPR & IDENT2=[F:WTVB]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VACBPR_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVB]
Endif
Return


####################################################################
# 13 : VACBPR_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_VACBPR_ISDEF
If [L]_AOLDVAL<>this.VACBPR_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VACBPR_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VACBPR_ISDEF
 Gosub PROPAGATE_VACBPR_ISDEF
Endif
Return

$INIT_VACBPR_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "VACBPR_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.VACBPR_ISDEF=0 and fmet this.AGETATTRIBUTE("VACBPR_ISDEF","$isMandatory")="true"
 this.VACBPR_ISDEF = 1
Endif
Return
 
$CONTROL_VACBPR_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "VACBPR_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VACBPR_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VACBPR_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VACBPR_ISDEF
[L]CURPRO = "VACBPR_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VACBPR_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VACBPR_ISDEF
[L]CURPRO = "VACBPR_ISDEF"
If this.VACBPR_ISDEF<0 or this.VACBPR_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.VACBPR_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_VACBPR_ISDEF
[L]CURPRO = "VACBPR_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VACBPR_ISDEF
[L]CURPRO = "VACBPR_ISDEF"
Return

$PROPAGATE_VACBPR_ISDEF
this.isReadonly = 0
[L]CURPRO = "VACBPR_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VACBPR_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "VACBPR_ISDEF"
$_LNKPRO_VACBPR_ISDEF
Return


####################################################################
# 14 : PTE_REP Payment term ( Field PTE 15)
####################################################################
 
$SET_PTE_REP
If [L]_AOLDVAL<>this.PTE_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTE_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTE_REP
 Gosub PROPAGATE_PTE_REP
Endif
Return

$INIT_PTE_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PTE_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTE_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PTE_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTE_REP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTE_REP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTE_REP
[L]CURPRO = "PTE_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTE_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTE_REP
[L]CURPRO = "PTE_REP"
If vireblc(this.PTE_REP,2)<>vireblc(format$("K:15c",this.PTE_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PTE_REP
[L]CURPRO = "PTE_REP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTE_REP
[L]CURPRO = "PTE_REP"
If vireblc(this.PTE_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPTE.ACTRLREF(this,"PTE_REP",this.PTE_REP,this.PTE_REP,this.SPRISEA.PTE_LEG,1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PTE_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_PTE_REP
this.isReadonly = 0
[L]CURPRO = "PTE_REP"
Gosub _LNKPRO_PTE_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTE_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PTE_REP"
$_LNKPRO_PTE_REP
If vireblc(this.PTE_REP,2)<>""
 # Link TABPAYTERM
 Local File TABPAYTERM [WTPT]
 Read [F:WTPT]TPT0 = this.PTE_REP;this.SPRISEA.PTE_LEG;1
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPAYTERM" & ZONE="SHOAXX" & IDENT1=[F:WTPT]PTE & IDENT2=[F:WTPT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTE_REP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABPAYTERM" & ZONE="DESAXX" & IDENT1=[F:WTPT]PTE & IDENT2=[F:WTPT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTE_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTPT]
Endif
Return


####################################################################
# 15 : PTE_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_PTE_ISDEF
If [L]_AOLDVAL<>this.PTE_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTE_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTE_ISDEF
 Gosub PROPAGATE_PTE_ISDEF
Endif
Return

$INIT_PTE_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PTE_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PTE_ISDEF=0 and fmet this.AGETATTRIBUTE("PTE_ISDEF","$isMandatory")="true"
 this.PTE_ISDEF = 1
Endif
Return
 
$CONTROL_PTE_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PTE_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTE_ISDEF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTE_ISDEF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTE_ISDEF
[L]CURPRO = "PTE_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTE_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTE_ISDEF
[L]CURPRO = "PTE_ISDEF"
If this.PTE_ISDEF<0 or this.PTE_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PTE_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PTE_ISDEF
[L]CURPRO = "PTE_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTE_ISDEF
[L]CURPRO = "PTE_ISDEF"
Return

$PROPAGATE_PTE_ISDEF
this.isReadonly = 0
[L]CURPRO = "PTE_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTE_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PTE_ISDEF"
$_LNKPRO_PTE_ISDEF
Return


####################################################################
# 16 : MDL_REP Delivery mode ( Field MDL 5)
####################################################################
 
$SET_MDL_REP
If [L]_AOLDVAL<>this.MDL_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MDL_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MDL_REP
 Gosub PROPAGATE_MDL_REP
Endif
Return

$INIT_MDL_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "MDL_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MDL_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "MDL_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MDL_REP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MDL_REP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MDL_REP
[L]CURPRO = "MDL_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MDL_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MDL_REP
[L]CURPRO = "MDL_REP"
If vireblc(this.MDL_REP,2)<>vireblc(format$("K:5c",this.MDL_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MDL_REP
[L]CURPRO = "MDL_REP"
If vireblc(this.MDL_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPMDL.ACTRLREF(this,"MDL_REP",this.MDL_REP,this.MDL_REP,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.MDL_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MDL_REP
[L]CURPRO = "MDL_REP"
Return

$PROPAGATE_MDL_REP
this.isReadonly = 0
[L]CURPRO = "MDL_REP"
Gosub _LNKPRO_MDL_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MDL_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "MDL_REP"
$_LNKPRO_MDL_REP
If vireblc(this.MDL_REP,2)<>""
 # Link TABMODELIV
 Local File TABMODELIV [WTMD]
 Read [F:WTMD]TMD0 = this.MDL_REP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABMODELIV" & ZONE="SHOAXX" & IDENT1=[F:WTMD]MDL & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("MDL_REP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABMODELIV" & ZONE="DESAXX" & IDENT1=[F:WTMD]MDL & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("MDL_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTMD]
Endif
Return


####################################################################
# 17 : MDL_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_MDL_ISDEF
If [L]_AOLDVAL<>this.MDL_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MDL_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MDL_ISDEF
 Gosub PROPAGATE_MDL_ISDEF
Endif
Return

$INIT_MDL_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "MDL_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MDL_ISDEF=0 and fmet this.AGETATTRIBUTE("MDL_ISDEF","$isMandatory")="true"
 this.MDL_ISDEF = 1
Endif
Return
 
$CONTROL_MDL_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "MDL_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MDL_ISDEF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MDL_ISDEF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MDL_ISDEF
[L]CURPRO = "MDL_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MDL_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MDL_ISDEF
[L]CURPRO = "MDL_ISDEF"
If this.MDL_ISDEF<0 or this.MDL_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.MDL_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_MDL_ISDEF
[L]CURPRO = "MDL_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MDL_ISDEF
[L]CURPRO = "MDL_ISDEF"
Return

$PROPAGATE_MDL_ISDEF
this.isReadonly = 0
[L]CURPRO = "MDL_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MDL_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "MDL_ISDEF"
$_LNKPRO_MDL_ISDEF
Return


####################################################################
# 18 : EECICT_REP Incoterm ( Field ICT 5)
####################################################################
 
$SET_EECICT_REP
If [L]_AOLDVAL<>this.EECICT_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECICT_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECICT_REP
 Gosub PROPAGATE_EECICT_REP
Endif
Return

$INIT_EECICT_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "EECICT_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EECICT_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "EECICT_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECICT_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECICT_REP            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECICT_REP
[L]CURPRO = "EECICT_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EECICT_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECICT_REP
[L]CURPRO = "EECICT_REP"
If vireblc(this.EECICT_REP,2)<>vireblc(format$("K:5c",this.EECICT_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EECICT_REP
[L]CURPRO = "EECICT_REP"
If vireblc(this.EECICT_REP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPICT.ACTRLREF(this,"EECICT_REP",this.EECICT_REP,this.EECICT_REP,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.EECICT_REP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECICT_REP
[L]CURPRO = "EECICT_REP"
Return

$PROPAGATE_EECICT_REP
this.isReadonly = 0
[L]CURPRO = "EECICT_REP"
Gosub _LNKPRO_EECICT_REP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECICT_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "EECICT_REP"
$_LNKPRO_EECICT_REP
If vireblc(this.EECICT_REP,2)<>""
 # Link INCOTERM
 Local File INCOTERM [WICTH]
 Read [F:WICTH]ICT0 = this.EECICT_REP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="INCOTERM" & ZONE="DES" & IDENT1=[F:WICTH]ICTCOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EECICT_REP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WICTH]
Endif
Return


####################################################################
# 19 : EECICT_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_EECICT_ISDEF
If [L]_AOLDVAL<>this.EECICT_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECICT_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECICT_ISDEF
 Gosub PROPAGATE_EECICT_ISDEF
Endif
Return

$INIT_EECICT_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "EECICT_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EECICT_ISDEF=0 and fmet this.AGETATTRIBUTE("EECICT_ISDEF","$isMandatory")="true"
 this.EECICT_ISDEF = 1
Endif
Return
 
$CONTROL_EECICT_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "EECICT_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECICT_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECICT_ISDEF          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECICT_ISDEF
[L]CURPRO = "EECICT_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EECICT_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECICT_ISDEF
[L]CURPRO = "EECICT_ISDEF"
If this.EECICT_ISDEF<0 or this.EECICT_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.EECICT_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_EECICT_ISDEF
[L]CURPRO = "EECICT_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECICT_ISDEF
[L]CURPRO = "EECICT_ISDEF"
Return

$PROPAGATE_EECICT_ISDEF
this.isReadonly = 0
[L]CURPRO = "EECICT_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECICT_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "EECICT_ISDEF"
$_LNKPRO_EECICT_ISDEF
Return


####################################################################
# 20 : PJT_REP Project ( Field PJT 40)
####################################################################
 
$SET_PJT_REP
If [L]_AOLDVAL<>this.PJT_REP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PJT_REP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PJT_REP
 Gosub PROPAGATE_PJT_REP
Endif
Return

$INIT_PJT_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PJT_REP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PJT_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PJT_REP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PJT_REP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PJT_REP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PJT_REP
[L]CURPRO = "PJT_REP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PJT_REP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PJT_REP
[L]CURPRO = "PJT_REP"
If vireblc(this.PJT_REP,2)<>vireblc(format$("K:40X",this.PJT_REP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PJT_REP
[L]CURPRO = "PJT_REP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PJT_REP
[L]CURPRO = "PJT_REP"
Return

$PROPAGATE_PJT_REP
this.isReadonly = 0
[L]CURPRO = "PJT_REP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PJT_REP
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PJT_REP"
$_LNKPRO_PJT_REP
Return


####################################################################
# 21 : PJT_ISDEF Flag ( Field Local menu number 1)
####################################################################
 
$SET_PJT_ISDEF
If [L]_AOLDVAL<>this.PJT_ISDEF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PJT_ISDEF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PJT_ISDEF
 Gosub PROPAGATE_PJT_ISDEF
Endif
Return

$INIT_PJT_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PJT_ISDEF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PJT_ISDEF=0 and fmet this.AGETATTRIBUTE("PJT_ISDEF","$isMandatory")="true"
 this.PJT_ISDEF = 1
Endif
Return
 
$CONTROL_PJT_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PJT_ISDEF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PJT_ISDEF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PJT_ISDEF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PJT_ISDEF
[L]CURPRO = "PJT_ISDEF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PJT_ISDEF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PJT_ISDEF
[L]CURPRO = "PJT_ISDEF"
If this.PJT_ISDEF<0 or this.PJT_ISDEF>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PJT_ISDEF)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PJT_ISDEF
[L]CURPRO = "PJT_ISDEF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PJT_ISDEF
[L]CURPRO = "PJT_ISDEF"
Return

$PROPAGATE_PJT_ISDEF
this.isReadonly = 0
[L]CURPRO = "PJT_ISDEF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PJT_ISDEF
Gosub DECLARE_VAR From WMR0SPRICESEAM
[L]CURPRO = "PJT_ISDEF"
$_LNKPRO_PJT_ISDEF
Return




