#<AdxTL>@(#)0.0.0.0 $Revision$Class Customer invoices
# Supervisor
## ACLA-CLASSE ## SINVOICE
# 2018-08-27 12:46:29 515

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 61 : CTY City ( Field CTY 40)
####################################################################

$SET_CTY
If [L]_AOLDVAL<>this.CTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTY
 Gosub PROPAGATE_CTY
Endif
Return

$INIT_CTY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTY
[L]CURPRO = "CTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CTY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTY
[L]CURPRO = "CTY"
If vireblc(this.CTY,2)<>vireblc(format$("K:40X",this.CTY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CTY
[L]CURPRO = "CTY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLCTY(this,"CTY",this.CTY,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTY
[L]CURPRO = "CTY"
Return

$PROPAGATE_CTY
this.isReadonly = 0
[L]ASTATUS =  func ASYRTRTATY.PROPAGATECTY(this,"CTY",this.CTY,this.POSCOD,this.SAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]CURPRO = "CTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CTY"
$_LNKPRO_CTY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATCTY(this,"CTY",this.CTY,[L]AFORMAT,this.CRY)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CTY","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 62 : SAT County ( Field SAT 35)
####################################################################

$SET_SAT
If [L]_AOLDVAL<>this.SAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAT
 Gosub PROPAGATE_SAT
Endif
Return

$INIT_SAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "SAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "SAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAT
[L]CURPRO = "SAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAT
[L]CURPRO = "SAT"
If vireblc(this.SAT,2)<>vireblc(format$("K:35X",this.SAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAT
[L]CURPRO = "SAT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLSAT(this,"SAT",this.SAT,this.CRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAT
[L]CURPRO = "SAT"
Return

$PROPAGATE_SAT
this.isReadonly = 0
[L]CURPRO = "SAT"
Gosub _LNKPRO_SAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "SAT"
$_LNKPRO_SAT
If vireblc(this.SAT,2)<>""
 # Link TABSUBDIV
 Local File TABSUBDIV [WATU]
 Read [F:WATU]ATU0 = this.CRY;AVOID.ALIB;this.SAT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABSUBDIV" & ZONE="INTIT" & IDENT1=[F:WATU]CRYTYP & IDENT2=[F:WATU]COD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WATU]
Endif
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATSAT(this,"SAT",this.SAT,[L]AFORMAT,this.CRY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("SAT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 63 : CRY Country ( Field CRY 3)
####################################################################

$SET_CRY
If [L]_AOLDVAL<>this.CRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRY
 Gosub PROPAGATE_CRY
Endif
Return

$INIT_CRY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRY
[L]CURPRO = "CRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRY
[L]CURPRO = "CRY"
If vireblc(this.CRY,2)<>vireblc(format$("K:3c",this.CRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CRY
[L]CURPRO = "CRY"
If vireblc(this.CRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"CRY",this.CRY,this.CRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRY
[L]CURPRO = "CRY"
Return

$PROPAGATE_CRY
this.isReadonly = 0
[L]CURPRO = "CRY"
Gosub _LNKPRO_CRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CRY"
$_LNKPRO_CRY
If vireblc(this.CRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.CRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return


####################################################################
# 64 : CRYNAM Country name ( Field NCY 40)
####################################################################

$SET_CRYNAM
If [L]_AOLDVAL<>this.CRYNAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRYNAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRYNAM
 Gosub PROPAGATE_CRYNAM
Endif
Return

$INIT_CRYNAM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CRYNAM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRYNAM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CRYNAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRYNAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRYNAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRYNAM
[L]CURPRO = "CRYNAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CRYNAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRYNAM
[L]CURPRO = "CRYNAM"
If vireblc(this.CRYNAM,2)<>vireblc(format$("K:40X",this.CRYNAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CRYNAM
[L]CURPRO = "CRYNAM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRYNAM
[L]CURPRO = "CRYNAM"
Return

$PROPAGATE_CRYNAM
this.isReadonly = 0
[L]CURPRO = "CRYNAM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRYNAM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CRYNAM"
$_LNKPRO_CRYNAM
Return


####################################################################
# 65 : BILVCR Draft no. ( Field VCR 20)
####################################################################

$SET_BILVCR
If [L]_AOLDVAL<>this.BILVCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BILVCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BILVCR
 Gosub PROPAGATE_BILVCR
Endif
Return

$INIT_BILVCR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "BILVCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BILVCR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "BILVCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BILVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BILVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BILVCR
[L]CURPRO = "BILVCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BILVCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BILVCR
[L]CURPRO = "BILVCR"
If vireblc(this.BILVCR,2)<>vireblc(format$("K:20X",this.BILVCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BILVCR
[L]CURPRO = "BILVCR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BILVCR
[L]CURPRO = "BILVCR"
Return

$PROPAGATE_BILVCR
this.isReadonly = 0
[L]CURPRO = "BILVCR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BILVCR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "BILVCR"
$_LNKPRO_BILVCR
Return


####################################################################
# 66 : TRSFAM Transaction group ( Field Miscellaneous table number)
####################################################################

$SET_TRSFAM
If [L]_AOLDVAL<>this.TRSFAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRSFAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRSFAM
 Gosub PROPAGATE_TRSFAM
Endif
Return

$INIT_TRSFAM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "TRSFAM"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"TRSFAM",this.TRSFAM,9)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRSFAM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "TRSFAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRSFAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRSFAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRSFAM
[L]CURPRO = "TRSFAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TRSFAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRSFAM
[L]CURPRO = "TRSFAM"
If vireblc(this.TRSFAM,2)<>vireblc(format$("K:20B",this.TRSFAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TRSFAM
[L]CURPRO = "TRSFAM"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"TRSFAM",this.TRSFAM,9,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRSFAM
[L]CURPRO = "TRSFAM"
Return

$PROPAGATE_TRSFAM
this.isReadonly = 0
[L]CURPRO = "TRSFAM"
Gosub _LNKPRO_TRSFAM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRSFAM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "TRSFAM"
$_LNKPRO_TRSFAM
If vireblc(this.TRSFAM,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 9;this.TRSFAM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TRSFAM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("TRSFAM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 67 : FIY Fiscal year ( Field C 2)
####################################################################

$SET_FIY
If [L]_AOLDVAL<>this.FIY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FIY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FIY
 Gosub PROPAGATE_FIY
Endif
Return

$INIT_FIY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "FIY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FIY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "FIY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FIY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FIY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FIY
[L]CURPRO = "FIY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FIY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FIY
[L]CURPRO = "FIY"
Return

$_AOTHERS_FIY
[L]CURPRO = "FIY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FIY
[L]CURPRO = "FIY"
Return

$PROPAGATE_FIY
this.isReadonly = 0
[L]CURPRO = "FIY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FIY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "FIY"
$_LNKPRO_FIY
Return


####################################################################
# 68 : PER Period ( Field C 2)
####################################################################

$SET_PER
If [L]_AOLDVAL<>this.PER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PER
 Gosub PROPAGATE_PER
Endif
Return

$INIT_PER
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "PER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PER
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "PER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PER                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PER                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PER
[L]CURPRO = "PER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PER=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PER
[L]CURPRO = "PER"
Return

$_AOTHERS_PER
[L]CURPRO = "PER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PER
[L]CURPRO = "PER"
Return

$PROPAGATE_PER
this.isReadonly = 0
[L]CURPRO = "PER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PER
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "PER"
$_LNKPRO_PER
Return


####################################################################
# 69 : STRDATSVC Start service ( Field D)
####################################################################

$SET_STRDATSVC
If [L]_AOLDVAL<>this.STRDATSVC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STRDATSVC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STRDATSVC
 Gosub PROPAGATE_STRDATSVC
Endif
Return

$INIT_STRDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "STRDATSVC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STRDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "STRDATSVC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STRDATSVC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STRDATSVC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STRDATSVC
[L]CURPRO = "STRDATSVC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STRDATSVC=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STRDATSVC
[L]CURPRO = "STRDATSVC"
Return

$_AOTHERS_STRDATSVC
[L]CURPRO = "STRDATSVC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STRDATSVC
[L]CURPRO = "STRDATSVC"
Return

$PROPAGATE_STRDATSVC
this.isReadonly = 0
[L]CURPRO = "STRDATSVC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STRDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "STRDATSVC"
$_LNKPRO_STRDATSVC
Return


####################################################################
# 70 : ENDDATSVC End service ( Field D)
####################################################################

$SET_ENDDATSVC
If [L]_AOLDVAL<>this.ENDDATSVC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENDDATSVC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENDDATSVC
 Gosub PROPAGATE_ENDDATSVC
Endif
Return

$INIT_ENDDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "ENDDATSVC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ENDDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "ENDDATSVC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENDDATSVC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENDDATSVC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENDDATSVC
[L]CURPRO = "ENDDATSVC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENDDATSVC=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENDDATSVC
[L]CURPRO = "ENDDATSVC"
Return

$_AOTHERS_ENDDATSVC
[L]CURPRO = "ENDDATSVC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENDDATSVC
[L]CURPRO = "ENDDATSVC"
Return

$PROPAGATE_ENDDATSVC
this.isReadonly = 0
[L]CURPRO = "ENDDATSVC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENDDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "ENDDATSVC"
$_LNKPRO_ENDDATSVC
Return


####################################################################
# 71 : LASDATSVC Accruals. revn. pstd ( Field D)
####################################################################

$SET_LASDATSVC
If [L]_AOLDVAL<>this.LASDATSVC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LASDATSVC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LASDATSVC
 Gosub PROPAGATE_LASDATSVC
Endif
Return

$INIT_LASDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "LASDATSVC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LASDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "LASDATSVC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LASDATSVC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LASDATSVC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LASDATSVC
[L]CURPRO = "LASDATSVC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LASDATSVC=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LASDATSVC
[L]CURPRO = "LASDATSVC"
Return

$_AOTHERS_LASDATSVC
[L]CURPRO = "LASDATSVC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LASDATSVC
[L]CURPRO = "LASDATSVC"
Return

$PROPAGATE_LASDATSVC
this.isReadonly = 0
[L]CURPRO = "LASDATSVC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LASDATSVC
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "LASDATSVC"
$_LNKPRO_LASDATSVC
Return


####################################################################
# 72 : WRHE Warehouse ( Field WRH 5)
####################################################################

$SET_WRHE
If [L]_AOLDVAL<>this.WRHE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WRHE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WRHE
 Gosub PROPAGATE_WRHE
Endif
Return

$INIT_WRHE
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "WRHE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WRHE
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "WRHE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WRHE                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WRHE                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WRHE
[L]CURPRO = "WRHE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WRHE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WRHE
[L]CURPRO = "WRHE"
If vireblc(this.WRHE,2)<>vireblc(format$("K:5c",this.WRHE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WRHE
[L]CURPRO = "WRHE"
If vireblc(this.WRHE,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWRH.ACTRLREF(this,"WRHE",this.WRHE,this.WRHE,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.WRHE<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WRHE
[L]CURPRO = "WRHE"
Return

$PROPAGATE_WRHE
this.isReadonly = 0
[L]CURPRO = "WRHE"
Gosub _LNKPRO_WRHE
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WRHE
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "WRHE"
$_LNKPRO_WRHE
If vireblc(this.WRHE,2)<>""
 # Link WAREHOUSE
 Local File WAREHOUSE [WWRH]
 Read [F:WWRH]WRH0 = this.WRHE
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("WRHE","$title",[F:WWRH]WRHSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("WRHE","$description",[F:WWRH]WRHNAM)
 Endif
 LogicClose File [WWRH]
Endif
Return


####################################################################
# 73 : STARPT Printing ( Field Local menu number 1)
####################################################################

$SET_STARPT
If [L]_AOLDVAL<>this.STARPT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STARPT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STARPT
 Gosub PROPAGATE_STARPT
Endif
Return

$INIT_STARPT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "STARPT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STARPT=0 and fmet this.AGETATTRIBUTE("STARPT","$isMandatory")="true"
 this.STARPT = 1
Endif
Return
 
$CONTROL_STARPT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "STARPT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STARPT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STARPT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STARPT
[L]CURPRO = "STARPT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STARPT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STARPT
[L]CURPRO = "STARPT"
If this.STARPT<0 or this.STARPT>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.STARPT)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_STARPT
[L]CURPRO = "STARPT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STARPT
[L]CURPRO = "STARPT"
Return

$PROPAGATE_STARPT
this.isReadonly = 0
[L]CURPRO = "STARPT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STARPT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "STARPT"
$_LNKPRO_STARPT
Return


####################################################################
# 74 : SALPRITYP Amount type ( Field Local menu number 243)
####################################################################

$SET_SALPRITYP
If [L]_AOLDVAL<>this.SALPRITYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SALPRITYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SALPRITYP
 Gosub PROPAGATE_SALPRITYP
Endif
Return

$INIT_SALPRITYP
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "SALPRITYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SALPRITYP=0 and fmet this.AGETATTRIBUTE("SALPRITYP","$isMandatory")="true"
 this.SALPRITYP = 1
Endif
Return
 
$CONTROL_SALPRITYP
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "SALPRITYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SALPRITYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SALPRITYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SALPRITYP
[L]CURPRO = "SALPRITYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SALPRITYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SALPRITYP
[L]CURPRO = "SALPRITYP"
If this.SALPRITYP<0 or this.SALPRITYP>len(mess(0,243,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"243 ->"-num$(this.SALPRITYP)-mess(99,123,1)):  Return : # Local menu "243 -> Invalid option
Endif
Return

$_AOTHERS_SALPRITYP
[L]CURPRO = "SALPRITYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SALPRITYP
[L]CURPRO = "SALPRITYP"
Return

$PROPAGATE_SALPRITYP
this.isReadonly = 0
[L]CURPRO = "SALPRITYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SALPRITYP
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "SALPRITYP"
$_LNKPRO_SALPRITYP
Return


####################################################################
# 75 : FASFLG Fixed asset sale ( Field Local menu number 1)
####################################################################

$SET_FASFLG
If [L]_AOLDVAL<>this.FASFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FASFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FASFLG
 Gosub PROPAGATE_FASFLG
Endif
Return

$INIT_FASFLG
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "FASFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FASFLG=0 and fmet this.AGETATTRIBUTE("FASFLG","$isMandatory")="true"
 this.FASFLG = 1
Endif
Return
 
$CONTROL_FASFLG
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "FASFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FASFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FASFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FASFLG
[L]CURPRO = "FASFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FASFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FASFLG
[L]CURPRO = "FASFLG"
If this.FASFLG<0 or this.FASFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FASFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FASFLG
[L]CURPRO = "FASFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FASFLG
[L]CURPRO = "FASFLG"
Return

$PROPAGATE_FASFLG
this.isReadonly = 0
[L]CURPRO = "FASFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FASFLG
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "FASFLG"
$_LNKPRO_FASFLG
Return


####################################################################
# 76 : BASDEP Early disc/late charge calc basis ( Field MD1 0)
####################################################################

$SET_BASDEP
If [L]_AOLDVAL<>this.BASDEP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASDEP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASDEP
 Gosub PROPAGATE_BASDEP
Endif
Return

$INIT_BASDEP
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "BASDEP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BASDEP
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "BASDEP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASDEP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASDEP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASDEP
[L]CURPRO = "BASDEP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASDEP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASDEP
[L]CURPRO = "BASDEP"
Return

$_AOTHERS_BASDEP
[L]CURPRO = "BASDEP"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"BASDEP",this.BASDEP,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASDEP
[L]CURPRO = "BASDEP"
Return

$PROPAGATE_BASDEP
this.isReadonly = 0
[L]CURPRO = "BASDEP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASDEP
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "BASDEP"
$_LNKPRO_BASDEP
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"BASDEP",this.BASDEP,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("BASDEP","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 79 : DEPRAT Early discount rate ( Field RAT 0)
####################################################################

$SET_DEPRAT
If [L]_AOLDVAL<>this.DEPRAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEPRAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEPRAT
 Gosub PROPAGATE_DEPRAT
Endif
Return

$INIT_DEPRAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "DEPRAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEPRAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "DEPRAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEPRAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEPRAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEPRAT
[L]CURPRO = "DEPRAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEPRAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEPRAT
[L]CURPRO = "DEPRAT"
Return

$_AOTHERS_DEPRAT
[L]CURPRO = "DEPRAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEPRAT
[L]CURPRO = "DEPRAT"
Return

$PROPAGATE_DEPRAT
this.isReadonly = 0
[L]CURPRO = "DEPRAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEPRAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "DEPRAT"
$_LNKPRO_DEPRAT
Return


####################################################################
# 80 : ADRVAL Address ( Field Local menu number 1)
####################################################################

$SET_ADRVAL
If [L]_AOLDVAL<>this.ADRVAL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ADRVAL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ADRVAL
 Gosub PROPAGATE_ADRVAL
Endif
Return

$INIT_ADRVAL
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "ADRVAL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ADRVAL=0 and fmet this.AGETATTRIBUTE("ADRVAL","$isMandatory")="true"
 this.ADRVAL = 1
Endif
Return
 
$CONTROL_ADRVAL
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "ADRVAL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ADRVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ADRVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ADRVAL
[L]CURPRO = "ADRVAL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ADRVAL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ADRVAL
[L]CURPRO = "ADRVAL"
If this.ADRVAL<0 or this.ADRVAL>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ADRVAL)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ADRVAL
[L]CURPRO = "ADRVAL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ADRVAL
[L]CURPRO = "ADRVAL"
Return

$PROPAGATE_ADRVAL
this.isReadonly = 0
[L]CURPRO = "ADRVAL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ADRVAL
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "ADRVAL"
$_LNKPRO_ADRVAL
Return


####################################################################
# 81 : UMRNUM Mandate reference ( Field MDT 35)
####################################################################

$SET_UMRNUM
If [L]_AOLDVAL<>this.UMRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UMRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UMRNUM
 Gosub PROPAGATE_UMRNUM
Endif
Return

$INIT_UMRNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UMRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UMRNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UMRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UMRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UMRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UMRNUM
[L]CURPRO = "UMRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.UMRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UMRNUM
[L]CURPRO = "UMRNUM"
If vireblc(this.UMRNUM,2)<>vireblc(format$("K:35X",this.UMRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_UMRNUM
[L]CURPRO = "UMRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UMRNUM
[L]CURPRO = "UMRNUM"
Return

$PROPAGATE_UMRNUM
this.isReadonly = 0
[L]CURPRO = "UMRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UMRNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UMRNUM"
$_LNKPRO_UMRNUM
Return


####################################################################
# 82 : RCRNUM Recurring number ( Field VCR 20)
####################################################################

$SET_RCRNUM
If [L]_AOLDVAL<>this.RCRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RCRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RCRNUM
 Gosub PROPAGATE_RCRNUM
Endif
Return

$INIT_RCRNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "RCRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RCRNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "RCRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RCRNUM
[L]CURPRO = "RCRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.RCRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RCRNUM
[L]CURPRO = "RCRNUM"
If vireblc(this.RCRNUM,2)<>vireblc(format$("K:20X",this.RCRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_RCRNUM
[L]CURPRO = "RCRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RCRNUM
[L]CURPRO = "RCRNUM"
Return

$PROPAGATE_RCRNUM
this.isReadonly = 0
[L]CURPRO = "RCRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RCRNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "RCRNUM"
$_LNKPRO_RCRNUM
Return


####################################################################
# 83 : RCRDAT Recurrence date ( Field D)
####################################################################

$SET_RCRDAT
If [L]_AOLDVAL<>this.RCRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RCRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RCRDAT
 Gosub PROPAGATE_RCRDAT
Endif
Return

$INIT_RCRDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "RCRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RCRDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "RCRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RCRDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RCRDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RCRDAT
[L]CURPRO = "RCRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RCRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RCRDAT
[L]CURPRO = "RCRDAT"
Return

$_AOTHERS_RCRDAT
[L]CURPRO = "RCRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RCRDAT
[L]CURPRO = "RCRDAT"
Return

$PROPAGATE_RCRDAT
this.isReadonly = 0
[L]CURPRO = "RCRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RCRDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "RCRDAT"
$_LNKPRO_RCRDAT
Return


####################################################################
# 84 : NBRCPY Number of companies ( Field C 2)
####################################################################

$SET_NBRCPY
If [L]_AOLDVAL<>this.NBRCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBRCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBRCPY
 Gosub PROPAGATE_NBRCPY
Endif
Return

$INIT_NBRCPY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "NBRCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBRCPY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "NBRCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBRCPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBRCPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBRCPY
[L]CURPRO = "NBRCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBRCPY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBRCPY
[L]CURPRO = "NBRCPY"
Return

$_AOTHERS_NBRCPY
[L]CURPRO = "NBRCPY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBRCPY
[L]CURPRO = "NBRCPY"
Return

$PROPAGATE_NBRCPY
this.isReadonly = 0
[L]CURPRO = "NBRCPY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBRCPY
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "NBRCPY"
$_LNKPRO_NBRCPY
Return


####################################################################
# 85 : REVCANSTA Cancellation status ( Field C 1)
####################################################################

$SET_REVCANSTA
If [L]_AOLDVAL<>this.REVCANSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REVCANSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REVCANSTA
 Gosub PROPAGATE_REVCANSTA
Endif
Return

$INIT_REVCANSTA
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "REVCANSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REVCANSTA
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "REVCANSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REVCANSTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REVCANSTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REVCANSTA
[L]CURPRO = "REVCANSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REVCANSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REVCANSTA
[L]CURPRO = "REVCANSTA"
Return

$_AOTHERS_REVCANSTA
[L]CURPRO = "REVCANSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REVCANSTA
[L]CURPRO = "REVCANSTA"
Return

$PROPAGATE_REVCANSTA
this.isReadonly = 0
[L]CURPRO = "REVCANSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REVCANSTA
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "REVCANSTA"
$_LNKPRO_REVCANSTA
Return


####################################################################
# 86 : EXPNUM Export number ( Field L 8)
####################################################################

$SET_EXPNUM
If [L]_AOLDVAL<>this.EXPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPNUM
 Gosub PROPAGATE_EXPNUM
Endif
Return

$INIT_EXPNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "EXPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "EXPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPNUM
[L]CURPRO = "EXPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXPNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$_AOTHERS_EXPNUM
[L]CURPRO = "EXPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$PROPAGATE_EXPNUM
this.isReadonly = 0
[L]CURPRO = "EXPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPNUM
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "EXPNUM"
$_LNKPRO_EXPNUM
Return


####################################################################
# 87 : CREUSR Creation author ( Field A 5)
####################################################################

$SET_CREUSR
If [L]_AOLDVAL<>this.CREUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREUSR
 Gosub PROPAGATE_CREUSR
Endif
Return

$INIT_CREUSR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CREUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREUSR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CREUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREUSR
[L]CURPRO = "CREUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CREUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREUSR
[L]CURPRO = "CREUSR"
Return

$_AOTHERS_CREUSR
[L]CURPRO = "CREUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREUSR
[L]CURPRO = "CREUSR"
Return

$PROPAGATE_CREUSR
this.isReadonly = 0
[L]CURPRO = "CREUSR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREUSR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CREUSR"
$_LNKPRO_CREUSR
Return


####################################################################
# 88 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return


####################################################################
# 89 : UPDDAT Change date ( Field D)
####################################################################

$SET_UPDDAT
If [L]_AOLDVAL<>this.UPDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDAT
 Gosub PROPAGATE_UPDDAT
Endif
Return

$INIT_UPDDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UPDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UPDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDAT
[L]CURPRO = "UPDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$_AOTHERS_UPDDAT
[L]CURPRO = "UPDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$PROPAGATE_UPDDAT
this.isReadonly = 0
[L]CURPRO = "UPDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDAT
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UPDDAT"
$_LNKPRO_UPDDAT
Return


####################################################################
# 90 : UPDUSR Change author ( Field A 5)
####################################################################

$SET_UPDUSR
If [L]_AOLDVAL<>this.UPDUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDUSR
 Gosub PROPAGATE_UPDUSR
Endif
Return

$INIT_UPDUSR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UPDUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDUSR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UPDUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDUSR
[L]CURPRO = "UPDUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.UPDUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDUSR
[L]CURPRO = "UPDUSR"
Return

$_AOTHERS_UPDUSR
[L]CURPRO = "UPDUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDUSR
[L]CURPRO = "UPDUSR"
Return

$PROPAGATE_UPDUSR
this.isReadonly = 0
[L]CURPRO = "UPDUSR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDUSR
Gosub DECLARE_VAR From WMC0SINVOICE
[L]CURPRO = "UPDUSR"
$_LNKPRO_UPDUSR
Return




