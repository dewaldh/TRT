#<AdxTL>@(#)0.0.0.0 $Revision$Class Payment header
# Supervisor
## ACLA-CLASSE ## PYHINQ
# 2018-08-27 12:43:29 843

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0PYHINQ
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_NUM From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMFLG From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMNUM From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMLIN From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMREF From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BPR From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BPRSAC From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_COA From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_ACC From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAYTYP From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAM From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CPY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FCY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BAN From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_DES From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_SNS From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CUR From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_AMTCUR From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_AMTBAN From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BANPAYTPY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_AMTNYTBIL From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BPRTYP From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PABAMTPRT From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PABFLG From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PABREN From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_STA From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_RENNOTPAY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_ACCDAT From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_REF From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub INIT_ORIDAT From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_DUDDAT From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BANDAT From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_VALDAT From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BILDAT From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BIDCRY From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BID From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAB1 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAB2 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAB3 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAB4 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BICCOD From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_MIDPAB1 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_MIDPAB2 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_MIDPAB3 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_MIDPAB4 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_MIDBICCOD From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_MIDCRY From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BPRREF From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CHQTYP From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CHQBAN From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CHQNUM From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CRDNUM From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CRDEXYDAT From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CRDTYP From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CRDAUZ From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMTYP From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PURTYP From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_SUP1 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_SUP2 From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub INIT_SUP3 From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BDFMVTCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BDFPAYCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BDFECOCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PST From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMUSR From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMDAT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FRMFCY From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_FIY From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PER From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_EDTNUM From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_TFBDAT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_TFBFIL From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAYLOT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_PAYLOTLIG From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BILVCR From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BPAINV From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_BPANAM From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_POSCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CTY From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_SAT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CRY From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CRYNAM From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_ACS From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub INIT_EPANATPAY From WMC4PYHINQ : Gosub TESTALLSTAT
Gosub INIT_EPARENPAY From WMC4PYHINQ : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC4PYHINQ : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC4PYHINQ : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC4PYHINQ : Gosub TESTALLSTAT
Gosub AINIT From WMC0PYHINQ : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0PYHINQ
Gosub _ALOADATTRIBUTE_NUM From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_COA From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ACC From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PAYTYP From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PAM From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CPY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_FCY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CUR From WMC1PYHINQ : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0PYHINQ
Gosub LNKPRO_BPR From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_COA From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_ACC From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_PAYTYP From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_CPY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_FCY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_CUR From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_AMTCUR From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_AMTBAN From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BANPAYTPY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_AMTNYTBIL From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_PABAMTPRT From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_PABREN From WMC1PYHINQ : Gosub TESTALLSTAT
For AINDCLA=1 To 11
 If this.LISFLG(AINDCLA)<>null& find(this.LISFLG(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.LISFLG(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_RENNOTPAY From WMC1PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BIDCRY From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BID From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_MIDCRY From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_CRDTYP From WMC2PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BDFMVTCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BDFPAYCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BDFECOCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_FRMFCY From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_BPAINV From WMC3PYHINQ : Gosub TESTALLSTAT
For AINDCLA=1 To 3
 If this.BPA(AINDCLA)<>null& find(this.BPA(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.BPA(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_POSCOD From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_SAT From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_CRY From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_ACS From WMC3PYHINQ : Gosub TESTALLSTAT
Gosub LNKPRO_EPANATPAY From WMC4PYHINQ : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



