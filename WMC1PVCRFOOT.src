#<AdxTL>@(#)0.0.0.0 $Revision$Class Purchase documents - footer elt
# Supervisor
## ACLA-CLASSE ## PVCRFOOT
# 2018-08-27 12:43:16 128


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : VCRTYP Entry type ( Field Local menu number 517)
####################################################################

$SET_VCRTYP
If [L]_AOLDVAL<>this.VCRTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRTYP
 Gosub PROPAGATE_VCRTYP
Endif
Return

$INIT_VCRTYP
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VCRTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.VCRTYP=0 and fmet this.AGETATTRIBUTE("VCRTYP","$isMandatory")="true"
 this.VCRTYP = 1
Endif
Return
 
$CONTROL_VCRTYP
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VCRTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRTYP
[L]CURPRO = "VCRTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VCRTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRTYP
[L]CURPRO = "VCRTYP"
If this.VCRTYP<0 or this.VCRTYP>len(mess(0,517,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"517 ->"-num$(this.VCRTYP)-mess(99,123,1)):  Return : # Local menu "517 -> Invalid option
Endif
Return

$_AOTHERS_VCRTYP
[L]CURPRO = "VCRTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRTYP
[L]CURPRO = "VCRTYP"
Return

$PROPAGATE_VCRTYP
this.isReadonly = 0
[L]CURPRO = "VCRTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRTYP
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VCRTYP"
$_LNKPRO_VCRTYP
Return

$_ALOADATTRIBUTE_VCRTYP
[L]ASTATUS = fmet this.ASETATTRIBUTE("VCRTYP","$isMandatory","true")
Return


####################################################################
# 2 : VCRNUM Entry ( Field VCR 20)
####################################################################

$SET_VCRNUM
If [L]_AOLDVAL<>this.VCRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRNUM
 Gosub PROPAGATE_VCRNUM
Endif
Return

$INIT_VCRNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VCRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VCRNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VCRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRNUM
[L]CURPRO = "VCRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VCRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRNUM
[L]CURPRO = "VCRNUM"
If vireblc(this.VCRNUM,2)<>vireblc(format$("K:20X",this.VCRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VCRNUM
[L]CURPRO = "VCRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRNUM
[L]CURPRO = "VCRNUM"
Return

$PROPAGATE_VCRNUM
this.isReadonly = 0
[L]CURPRO = "VCRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VCRNUM"
$_LNKPRO_VCRNUM
Return

$_ALOADATTRIBUTE_VCRNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("VCRNUM","$isMandatory","true")
Return


####################################################################
# 3 : NUM Invoice number ( Field PIH 20)
####################################################################

$SET_NUM
If [L]_AOLDVAL<>this.NUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUM
 Gosub PROPAGATE_NUM
Endif
Return

$INIT_NUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "NUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "NUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUM
[L]CURPRO = "NUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUM
[L]CURPRO = "NUM"
Return

$_AOTHERS_NUM
[L]CURPRO = "NUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUM
[L]CURPRO = "NUM"
Return

$PROPAGATE_NUM
this.isReadonly = 0
[L]CURPRO = "NUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "NUM"
$_LNKPRO_NUM
Return


####################################################################
# 4 : POHNUM Order number ( Field VCR 20)
####################################################################

$SET_POHNUM
If [L]_AOLDVAL<>this.POHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POHNUM
 Gosub PROPAGATE_POHNUM
Endif
Return

$INIT_POHNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "POHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POHNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "POHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POHNUM
[L]CURPRO = "POHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POHNUM
[L]CURPRO = "POHNUM"
If vireblc(this.POHNUM,2)<>vireblc(format$("K:20X",this.POHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POHNUM
[L]CURPRO = "POHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POHNUM
[L]CURPRO = "POHNUM"
Return

$PROPAGATE_POHNUM
this.isReadonly = 0
[L]CURPRO = "POHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POHNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "POHNUM"
$_LNKPRO_POHNUM
Return


####################################################################
# 5 : PTHNUM Receipt number ( Field VCR 20)
####################################################################

$SET_PTHNUM
If [L]_AOLDVAL<>this.PTHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTHNUM
 Gosub PROPAGATE_PTHNUM
Endif
Return

$INIT_PTHNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "PTHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTHNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "PTHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTHNUM
[L]CURPRO = "PTHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTHNUM
[L]CURPRO = "PTHNUM"
If vireblc(this.PTHNUM,2)<>vireblc(format$("K:20X",this.PTHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PTHNUM
[L]CURPRO = "PTHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTHNUM
[L]CURPRO = "PTHNUM"
Return

$PROPAGATE_PTHNUM
this.isReadonly = 0
[L]CURPRO = "PTHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTHNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "PTHNUM"
$_LNKPRO_PTHNUM
Return


####################################################################
# 6 : IND Index ( Field L 8)
####################################################################

$SET_IND
If [L]_AOLDVAL<>this.IND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IND
 Gosub PROPAGATE_IND
Endif
Return

$INIT_IND
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "IND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IND
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "IND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IND                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IND                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IND
[L]CURPRO = "IND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IND=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IND
[L]CURPRO = "IND"
Return

$_AOTHERS_IND
[L]CURPRO = "IND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IND
[L]CURPRO = "IND"
Return

$PROPAGATE_IND
this.isReadonly = 0
[L]CURPRO = "IND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IND
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "IND"
$_LNKPRO_IND
Return

$_ALOADATTRIBUTE_IND
[L]ASTATUS = fmet this.ASETATTRIBUTE("IND","$isMandatory","true")
Return


####################################################################
# 7 : INVDTA Invoicing element ( Field C 4)
####################################################################

$SET_INVDTA
If [L]_AOLDVAL<>this.INVDTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVDTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVDTA
 Gosub PROPAGATE_INVDTA
Endif
Return

$INIT_INVDTA
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVDTA
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVDTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVDTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVDTA
[L]CURPRO = "INVDTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVDTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVDTA
[L]CURPRO = "INVDTA"
Return

$_AOTHERS_INVDTA
[L]CURPRO = "INVDTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVDTA
[L]CURPRO = "INVDTA"
Return

$PROPAGATE_INVDTA
this.isReadonly = 0
[L]CURPRO = "INVDTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVDTA
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTA"
$_LNKPRO_INVDTA
Return


####################################################################
# 8 : INVDTADES Invoice element ( Field A 25)
####################################################################

$SET_INVDTADES
If [L]_AOLDVAL<>this.INVDTADES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVDTADES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVDTADES
 Gosub PROPAGATE_INVDTADES
Endif
Return

$INIT_INVDTADES
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTADES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVDTADES
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTADES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVDTADES             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVDTADES             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVDTADES
[L]CURPRO = "INVDTADES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INVDTADES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVDTADES
[L]CURPRO = "INVDTADES"
Return

$_AOTHERS_INVDTADES
[L]CURPRO = "INVDTADES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVDTADES
[L]CURPRO = "INVDTADES"
Return

$PROPAGATE_INVDTADES
this.isReadonly = 0
[L]CURPRO = "INVDTADES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVDTADES
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTADES"
$_LNKPRO_INVDTADES
Return


####################################################################
# 9 : INVDTAAMT Entry element amount ( Field MD1 0)
####################################################################

$SET_INVDTAAMT
If [L]_AOLDVAL<>this.INVDTAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVDTAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVDTAAMT
 Gosub PROPAGATE_INVDTAAMT
Endif
Return

$INIT_INVDTAAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVDTAAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVDTAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVDTAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVDTAAMT
[L]CURPRO = "INVDTAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVDTAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVDTAAMT
[L]CURPRO = "INVDTAAMT"
Return

$_AOTHERS_INVDTAAMT
[L]CURPRO = "INVDTAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"INVDTAAMT",this.INVDTAAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVDTAAMT
[L]CURPRO = "INVDTAAMT"
Return

$PROPAGATE_INVDTAAMT
this.isReadonly = 0
[L]CURPRO = "INVDTAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVDTAAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAAMT"
$_LNKPRO_INVDTAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"INVDTAAMT",this.INVDTAAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVDTAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 10 : INVORDAMT Calculated element amount ( Field MD1 0)
####################################################################

$SET_INVORDAMT
If [L]_AOLDVAL<>this.INVORDAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVORDAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVORDAMT
 Gosub PROPAGATE_INVORDAMT
Endif
Return

$INIT_INVORDAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVORDAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVORDAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVORDAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVORDAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVORDAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVORDAMT
[L]CURPRO = "INVORDAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVORDAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVORDAMT
[L]CURPRO = "INVORDAMT"
Return

$_AOTHERS_INVORDAMT
[L]CURPRO = "INVORDAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"INVORDAMT",this.INVORDAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVORDAMT
[L]CURPRO = "INVORDAMT"
Return

$PROPAGATE_INVORDAMT
this.isReadonly = 0
[L]CURPRO = "INVORDAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVORDAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVORDAMT"
$_LNKPRO_INVORDAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"INVORDAMT",this.INVORDAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVORDAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 11 : INVLINAMT Line element amount ( Field MD1 0)
####################################################################

$SET_INVLINAMT
If [L]_AOLDVAL<>this.INVLINAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVLINAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVLINAMT
 Gosub PROPAGATE_INVLINAMT
Endif
Return

$INIT_INVLINAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVLINAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVLINAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVLINAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVLINAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVLINAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVLINAMT
[L]CURPRO = "INVLINAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVLINAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVLINAMT
[L]CURPRO = "INVLINAMT"
Return

$_AOTHERS_INVLINAMT
[L]CURPRO = "INVLINAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"INVLINAMT",this.INVLINAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVLINAMT
[L]CURPRO = "INVLINAMT"
Return

$PROPAGATE_INVLINAMT
this.isReadonly = 0
[L]CURPRO = "INVLINAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVLINAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVLINAMT"
$_LNKPRO_INVLINAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"INVLINAMT",this.INVLINAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVLINAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 12 : INVCPLAMT Invoiced amt. ( Field MD1 0)
####################################################################

$SET_INVCPLAMT
If [L]_AOLDVAL<>this.INVCPLAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVCPLAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVCPLAMT
 Gosub PROPAGATE_INVCPLAMT
Endif
Return

$INIT_INVCPLAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVCPLAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVCPLAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVCPLAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVCPLAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVCPLAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVCPLAMT
[L]CURPRO = "INVCPLAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVCPLAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVCPLAMT
[L]CURPRO = "INVCPLAMT"
Return

$_AOTHERS_INVCPLAMT
[L]CURPRO = "INVCPLAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"INVCPLAMT",this.INVCPLAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVCPLAMT
[L]CURPRO = "INVCPLAMT"
Return

$PROPAGATE_INVCPLAMT
this.isReadonly = 0
[L]CURPRO = "INVCPLAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVCPLAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVCPLAMT"
$_LNKPRO_INVCPLAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"INVCPLAMT",this.INVCPLAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVCPLAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 13 : RCPCPLAMT Received mvt ( Field MD1 0)
####################################################################

$SET_RCPCPLAMT
If [L]_AOLDVAL<>this.RCPCPLAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RCPCPLAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RCPCPLAMT
 Gosub PROPAGATE_RCPCPLAMT
Endif
Return

$INIT_RCPCPLAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "RCPCPLAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RCPCPLAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "RCPCPLAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RCPCPLAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RCPCPLAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RCPCPLAMT
[L]CURPRO = "RCPCPLAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RCPCPLAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RCPCPLAMT
[L]CURPRO = "RCPCPLAMT"
Return

$_AOTHERS_RCPCPLAMT
[L]CURPRO = "RCPCPLAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"RCPCPLAMT",this.RCPCPLAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RCPCPLAMT
[L]CURPRO = "RCPCPLAMT"
Return

$PROPAGATE_RCPCPLAMT
this.isReadonly = 0
[L]CURPRO = "RCPCPLAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RCPCPLAMT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "RCPCPLAMT"
$_LNKPRO_RCPCPLAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"RCPCPLAMT",this.RCPCPLAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("RCPCPLAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 14 : INVDTAFLG Addition indicator ( Field Local menu number 1)
####################################################################

$SET_INVDTAFLG
If [L]_AOLDVAL<>this.INVDTAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVDTAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVDTAFLG
 Gosub PROPAGATE_INVDTAFLG
Endif
Return

$INIT_INVDTAFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.INVDTAFLG=0 and fmet this.AGETATTRIBUTE("INVDTAFLG","$isMandatory")="true"
 this.INVDTAFLG = 1
Endif
Return
 
$CONTROL_INVDTAFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVDTAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVDTAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVDTAFLG
[L]CURPRO = "INVDTAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVDTAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVDTAFLG
[L]CURPRO = "INVDTAFLG"
If this.INVDTAFLG<0 or this.INVDTAFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.INVDTAFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_INVDTAFLG
[L]CURPRO = "INVDTAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVDTAFLG
[L]CURPRO = "INVDTAFLG"
Return

$PROPAGATE_INVDTAFLG
this.isReadonly = 0
[L]CURPRO = "INVDTAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVDTAFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAFLG"
$_LNKPRO_INVDTAFLG
Return


####################################################################
# 15 : INVLINFLG Presence on line ( Field C 1)
####################################################################

$SET_INVLINFLG
If [L]_AOLDVAL<>this.INVLINFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVLINFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVLINFLG
 Gosub PROPAGATE_INVLINFLG
Endif
Return

$INIT_INVLINFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVLINFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVLINFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVLINFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVLINFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVLINFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVLINFLG
[L]CURPRO = "INVLINFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVLINFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVLINFLG
[L]CURPRO = "INVLINFLG"
Return

$_AOTHERS_INVLINFLG
[L]CURPRO = "INVLINFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVLINFLG
[L]CURPRO = "INVLINFLG"
Return

$PROPAGATE_INVLINFLG
this.isReadonly = 0
[L]CURPRO = "INVLINFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVLINFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVLINFLG"
$_LNKPRO_INVLINFLG
Return


####################################################################
# 16 : INVORDFLG Presence on order ( Field Local menu number 1)
####################################################################

$SET_INVORDFLG
If [L]_AOLDVAL<>this.INVORDFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVORDFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVORDFLG
 Gosub PROPAGATE_INVORDFLG
Endif
Return

$INIT_INVORDFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVORDFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.INVORDFLG=0 and fmet this.AGETATTRIBUTE("INVORDFLG","$isMandatory")="true"
 this.INVORDFLG = 1
Endif
Return
 
$CONTROL_INVORDFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVORDFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVORDFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVORDFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVORDFLG
[L]CURPRO = "INVORDFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVORDFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVORDFLG
[L]CURPRO = "INVORDFLG"
If this.INVORDFLG<0 or this.INVORDFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.INVORDFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_INVORDFLG
[L]CURPRO = "INVORDFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVORDFLG
[L]CURPRO = "INVORDFLG"
Return

$PROPAGATE_INVORDFLG
this.isReadonly = 0
[L]CURPRO = "INVORDFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVORDFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVORDFLG"
$_LNKPRO_INVORDFLG
Return


####################################################################
# 17 : DISVATFLG Rebate on VAT ( Field Local menu number 1)
####################################################################

$SET_DISVATFLG
If [L]_AOLDVAL<>this.DISVATFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DISVATFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DISVATFLG
 Gosub PROPAGATE_DISVATFLG
Endif
Return

$INIT_DISVATFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DISVATFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DISVATFLG=0 and fmet this.AGETATTRIBUTE("DISVATFLG","$isMandatory")="true"
 this.DISVATFLG = 1
Endif
Return
 
$CONTROL_DISVATFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DISVATFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DISVATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DISVATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DISVATFLG
[L]CURPRO = "DISVATFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DISVATFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DISVATFLG
[L]CURPRO = "DISVATFLG"
If this.DISVATFLG<0 or this.DISVATFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.DISVATFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_DISVATFLG
[L]CURPRO = "DISVATFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DISVATFLG
[L]CURPRO = "DISVATFLG"
Return

$PROPAGATE_DISVATFLG
this.isReadonly = 0
[L]CURPRO = "DISVATFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DISVATFLG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DISVATFLG"
$_LNKPRO_DISVATFLG
Return


####################################################################
# 18 : DEBCDT Debit/Credit ( Field Local menu number 626)
####################################################################

$SET_DEBCDT
If [L]_AOLDVAL<>this.DEBCDT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEBCDT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEBCDT
 Gosub PROPAGATE_DEBCDT
Endif
Return

$INIT_DEBCDT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DEBCDT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DEBCDT=0 and fmet this.AGETATTRIBUTE("DEBCDT","$isMandatory")="true"
 this.DEBCDT = 1
Endif
Return
 
$CONTROL_DEBCDT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DEBCDT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEBCDT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEBCDT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEBCDT
[L]CURPRO = "DEBCDT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEBCDT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEBCDT
[L]CURPRO = "DEBCDT"
If this.DEBCDT<0 or this.DEBCDT>len(mess(0,626,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"626 ->"-num$(this.DEBCDT)-mess(99,123,1)):  Return : # Local menu "626 -> Invalid option
Endif
Return

$_AOTHERS_DEBCDT
[L]CURPRO = "DEBCDT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEBCDT
[L]CURPRO = "DEBCDT"
Return

$PROPAGATE_DEBCDT
this.isReadonly = 0
[L]CURPRO = "DEBCDT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEBCDT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DEBCDT"
$_LNKPRO_DEBCDT
Return


####################################################################
# 19 : INVDTAVAT Tax ( Field VAT 5)
####################################################################

$SET_INVDTAVAT
If [L]_AOLDVAL<>this.INVDTAVAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVDTAVAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVDTAVAT
 Gosub PROPAGATE_INVDTAVAT
Endif
Return

$INIT_INVDTAVAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAVAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVDTAVAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAVAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVDTAVAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVDTAVAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVDTAVAT
[L]CURPRO = "INVDTAVAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INVDTAVAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVDTAVAT
[L]CURPRO = "INVDTAVAT"
If vireblc(this.INVDTAVAT,2)<>vireblc(format$("K:5c",this.INVDTAVAT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_INVDTAVAT
[L]CURPRO = "INVDTAVAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVDTAVAT
[L]CURPRO = "INVDTAVAT"
If vireblc(this.INVDTAVAT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"INVDTAVAT",this.INVDTAVAT,this.INVDTAVAT,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.INVDTAVAT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_INVDTAVAT
this.isReadonly = 0
[L]CURPRO = "INVDTAVAT"
Gosub _LNKPRO_INVDTAVAT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVDTAVAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "INVDTAVAT"
$_LNKPRO_INVDTAVAT
If vireblc(this.INVDTAVAT,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.INVDTAVAT;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("INVDTAVAT","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("INVDTAVAT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 20 : VAT_LEG Legislation ( Field Miscellaneous table number)
####################################################################

$GET_VAT_LEG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VAT_LEG"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_VAT_LEG
If [L]_AOLDVAL<>this.VAT_LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAT_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAT_LEG
 Gosub PROPAGATE_VAT_LEG
Endif
Return

$INIT_VAT_LEG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VAT_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"VAT_LEG",this.VAT_LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAT_LEG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VAT_LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAT_LEG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAT_LEG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAT_LEG
[L]CURPRO = "VAT_LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAT_LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAT_LEG
[L]CURPRO = "VAT_LEG"
If vireblc(this.VAT_LEG,2)<>vireblc(format$("K:20B",this.VAT_LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VAT_LEG
[L]CURPRO = "VAT_LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"VAT_LEG",this.VAT_LEG,909,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAT_LEG
[L]CURPRO = "VAT_LEG"
Return

$PROPAGATE_VAT_LEG
this.isReadonly = 0
[L]CURPRO = "VAT_LEG"
Gosub _LNKPRO_VAT_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAT_LEG
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "VAT_LEG"
$_LNKPRO_VAT_LEG
If vireblc(this.VAT_LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.VAT_LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT_LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VAT_LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 21 : DTADISBAS Rebate tax basis ( Field MD1 0)
####################################################################

$SET_DTADISBAS
If [L]_AOLDVAL<>this.DTADISBAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DTADISBAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DTADISBAS
 Gosub PROPAGATE_DTADISBAS
Endif
Return

$INIT_DTADISBAS
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTADISBAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DTADISBAS
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTADISBAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DTADISBAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DTADISBAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DTADISBAS
[L]CURPRO = "DTADISBAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DTADISBAS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DTADISBAS
[L]CURPRO = "DTADISBAS"
Return

$_AOTHERS_DTADISBAS
[L]CURPRO = "DTADISBAS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DTADISBAS",this.DTADISBAS,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DTADISBAS
[L]CURPRO = "DTADISBAS"
Return

$PROPAGATE_DTADISBAS
this.isReadonly = 0
[L]CURPRO = "DTADISBAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DTADISBAS
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTADISBAS"
$_LNKPRO_DTADISBAS
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DTADISBAS",this.DTADISBAS,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DTADISBAS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 22 : DTAAMTTAX Tax amount ( Field MD1 0)
####################################################################

$SET_DTAAMTTAX
If [L]_AOLDVAL<>this.DTAAMTTAX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DTAAMTTAX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DTAAMTTAX
 Gosub PROPAGATE_DTAAMTTAX
Endif
Return

$INIT_DTAAMTTAX
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTAAMTTAX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DTAAMTTAX
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTAAMTTAX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DTAAMTTAX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DTAAMTTAX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DTAAMTTAX
[L]CURPRO = "DTAAMTTAX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DTAAMTTAX=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DTAAMTTAX
[L]CURPRO = "DTAAMTTAX"
Return

$_AOTHERS_DTAAMTTAX
[L]CURPRO = "DTAAMTTAX"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DTAAMTTAX",this.DTAAMTTAX,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DTAAMTTAX
[L]CURPRO = "DTAAMTTAX"
Return

$PROPAGATE_DTAAMTTAX
this.isReadonly = 0
[L]CURPRO = "DTAAMTTAX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DTAAMTTAX
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTAAMTTAX"
$_LNKPRO_DTAAMTTAX
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DTAAMTTAX",this.DTAAMTTAX,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DTAAMTTAX","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 23 : DTADEDTAX Deductible tax ( Field MD1 0)
####################################################################

$SET_DTADEDTAX
If [L]_AOLDVAL<>this.DTADEDTAX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DTADEDTAX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DTADEDTAX
 Gosub PROPAGATE_DTADEDTAX
Endif
Return

$INIT_DTADEDTAX
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTADEDTAX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DTADEDTAX
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTADEDTAX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DTADEDTAX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DTADEDTAX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DTADEDTAX
[L]CURPRO = "DTADEDTAX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DTADEDTAX=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DTADEDTAX
[L]CURPRO = "DTADEDTAX"
Return

$_AOTHERS_DTADEDTAX
[L]CURPRO = "DTADEDTAX"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DTADEDTAX",this.DTADEDTAX,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DTADEDTAX
[L]CURPRO = "DTADEDTAX"
Return

$PROPAGATE_DTADEDTAX
this.isReadonly = 0
[L]CURPRO = "DTADEDTAX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DTADEDTAX
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "DTADEDTAX"
$_LNKPRO_DTADEDTAX
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DTADEDTAX",this.DTADEDTAX,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DTADEDTAX","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 24 : AMTCOD Amount code ( Field Local menu number 269)
####################################################################

$SET_AMTCOD
If [L]_AOLDVAL<>this.AMTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTCOD
 Gosub PROPAGATE_AMTCOD
Endif
Return

$INIT_AMTCOD
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "AMTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.AMTCOD=0 and fmet this.AGETATTRIBUTE("AMTCOD","$isMandatory")="true"
 this.AMTCOD = 1
Endif
Return
 
$CONTROL_AMTCOD
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "AMTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTCOD
[L]CURPRO = "AMTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTCOD
[L]CURPRO = "AMTCOD"
If this.AMTCOD<0 or this.AMTCOD>len(mess(0,269,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"269 ->"-num$(this.AMTCOD)-mess(99,123,1)):  Return : # Local menu "269 -> Invalid option
Endif
Return

$_AOTHERS_AMTCOD
[L]CURPRO = "AMTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTCOD
[L]CURPRO = "AMTCOD"
Return

$PROPAGATE_AMTCOD
this.isReadonly = 0
[L]CURPRO = "AMTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTCOD
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "AMTCOD"
$_LNKPRO_AMTCOD
Return


####################################################################
# 25 : AMTCODLIB Amount description ( Field A 10)
####################################################################

$SET_AMTCODLIB
If [L]_AOLDVAL<>this.AMTCODLIB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTCODLIB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTCODLIB
 Gosub PROPAGATE_AMTCODLIB
Endif
Return

$INIT_AMTCODLIB
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "AMTCODLIB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTCODLIB
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "AMTCODLIB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTCODLIB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTCODLIB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTCODLIB
[L]CURPRO = "AMTCODLIB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.AMTCODLIB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTCODLIB
[L]CURPRO = "AMTCODLIB"
Return

$_AOTHERS_AMTCODLIB
[L]CURPRO = "AMTCODLIB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTCODLIB
[L]CURPRO = "AMTCODLIB"
Return

$PROPAGATE_AMTCODLIB
this.isReadonly = 0
[L]CURPRO = "AMTCODLIB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTCODLIB
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "AMTCODLIB"
$_LNKPRO_AMTCODLIB
Return


####################################################################
# 26 : FORMAT Format ( Field A 15)
####################################################################

$SET_FORMAT
If [L]_AOLDVAL<>this.FORMAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FORMAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FORMAT
 Gosub PROPAGATE_FORMAT
Endif
Return

$INIT_FORMAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "FORMAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FORMAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "FORMAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FORMAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FORMAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FORMAT
[L]CURPRO = "FORMAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FORMAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FORMAT
[L]CURPRO = "FORMAT"
Return

$_AOTHERS_FORMAT
[L]CURPRO = "FORMAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FORMAT
[L]CURPRO = "FORMAT"
Return

$PROPAGATE_FORMAT
this.isReadonly = 0
[L]CURPRO = "FORMAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FORMAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "FORMAT"
$_LNKPRO_FORMAT
Return


####################################################################
# 27 : CLCORD Calculation order ( Field C 3)
####################################################################

$SET_CLCORD
If [L]_AOLDVAL<>this.CLCORD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLCORD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLCORD
 Gosub PROPAGATE_CLCORD
Endif
Return

$INIT_CLCORD
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CLCORD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLCORD
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CLCORD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLCORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLCORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLCORD
[L]CURPRO = "CLCORD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLCORD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLCORD
[L]CURPRO = "CLCORD"
Return

$_AOTHERS_CLCORD
[L]CURPRO = "CLCORD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLCORD
[L]CURPRO = "CLCORD"
Return

$PROPAGATE_CLCORD
this.isReadonly = 0
[L]CURPRO = "CLCORD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLCORD
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CLCORD"
$_LNKPRO_CLCORD
Return


####################################################################
# 28 : CLCBAS Calculation basis ( Field Local menu number 537)
####################################################################

$SET_CLCBAS
If [L]_AOLDVAL<>this.CLCBAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLCBAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLCBAS
 Gosub PROPAGATE_CLCBAS
Endif
Return

$INIT_CLCBAS
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CLCBAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CLCBAS=0 and fmet this.AGETATTRIBUTE("CLCBAS","$isMandatory")="true"
 this.CLCBAS = 1
Endif
Return
 
$CONTROL_CLCBAS
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CLCBAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLCBAS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLCBAS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLCBAS
[L]CURPRO = "CLCBAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLCBAS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLCBAS
[L]CURPRO = "CLCBAS"
If this.CLCBAS<0 or this.CLCBAS>len(mess(0,537,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"537 ->"-num$(this.CLCBAS)-mess(99,123,1)):  Return : # Local menu "537 -> Invalid option
Endif
Return

$_AOTHERS_CLCBAS
[L]CURPRO = "CLCBAS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLCBAS
[L]CURPRO = "CLCBAS"
Return

$PROPAGATE_CLCBAS
this.isReadonly = 0
[L]CURPRO = "CLCBAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLCBAS
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CLCBAS"
$_LNKPRO_CLCBAS
Return


####################################################################
# 29 : EXPNUM Export number ( Field L 8)
####################################################################

$SET_EXPNUM
If [L]_AOLDVAL<>this.EXPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPNUM
 Gosub PROPAGATE_EXPNUM
Endif
Return

$INIT_EXPNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "EXPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "EXPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPNUM
[L]CURPRO = "EXPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXPNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$_AOTHERS_EXPNUM
[L]CURPRO = "EXPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$PROPAGATE_EXPNUM
this.isReadonly = 0
[L]CURPRO = "EXPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPNUM
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "EXPNUM"
$_LNKPRO_EXPNUM
Return


####################################################################
# 30 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0PVCRFOOT
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return




