#<AdxTL>@(#)0.0.0.0 $Revision$
# Sage X3 supervisor
## BI-REGLE ## Synchronization rule EXPENSES

$OUVRE
Local Char FILTRE(250)
OUVTAB = GDOSSIER+".EXPENSES" : If clalev([F:EXS])=0 : Local File =OUVTAB [EXS] : Endif
OUVTAB = GDOSSIER+".EXPENSES" : If clalev([F:A_])=0 : Local File =OUVTAB [A_] : Endif
OUVTAB = "Link [EXS]"
Link [EXS] With
& [A_]EXS0=[EXS]CLB;[EXS]DATEXS;[EXS]NBREXS
& As [LNK_]
FILTRE = '[F:EXS]LED(val(func AFNC.PARAM("BILEDTYP",[F:EXS]CPY))-1)=func BICOLLA.GETLED([F:EXS]CPY,val(func AFNC.PARAM("BILEDTYP",[F:EXS]CPY)))'
Return

$FERME
If clalev([F:EXS]) : Close local File [EXS] : Endif
If clalev([F:A_]) : Close local File [A_] : Endif
Return

$LIEN
Return

$MAJFLD
### FCY
[L]FLD="FCY"
[L]FORMULE='[F:EXS]FCY'
If dim([F:AAA_]FCY)>0
 [F:AAA_]FCY = [F:EXS]FCY
Endif

### USR
[L]FLD="USR"
[L]FORMULE='[F:EXS]CLB'
If dim([F:AAA_]USR)>0
 [F:AAA_]USR = [F:EXS]CLB
Endif

### CODEXP
[L]FLD="CODEXP"
[L]FORMULE='[F:EXS]CODEXP'
If dim([F:AAA_]CODEXP)>0
 [F:AAA_]CODEXP = [F:EXS]CODEXP
Endif

### ACC
[L]FLD="ACC"
[L]FORMULE='[F:EXS]ACC'
If dim([F:AAA_]ACC)>0
 [F:AAA_]ACC = [F:EXS]ACC
Endif

### COA
[L]FLD="COA"
[L]FORMULE='[F:EXS]COA'
If dim([F:AAA_]COA)>0
 [F:AAA_]COA = [F:EXS]COA
Endif

### DIE1
[L]FLD="DIE1"
[L]FORMULE='[F:EXS]DIE(0)'
If dim([F:AAA_]DIE1)>0
 [F:AAA_]DIE1 = [F:EXS]DIE(0)
Endif

### DIE2
[L]FLD="DIE2"
[L]FORMULE='[F:EXS]DIE(1)'
If dim([F:AAA_]DIE2)>0
 [F:AAA_]DIE2 = [F:EXS]DIE(1)
Endif

### DIE3
[L]FLD="DIE3"
[L]FORMULE='[F:EXS]DIE(2)'
If dim([F:AAA_]DIE3)>0
 [F:AAA_]DIE3 = [F:EXS]DIE(2)
Endif

### DIE4
[L]FLD="DIE4"
[L]FORMULE='[F:EXS]DIE(3)'
If dim([F:AAA_]DIE4)>0
 [F:AAA_]DIE4 = [F:EXS]DIE(3)
Endif

### DIE5
[L]FLD="DIE5"
[L]FORMULE='[F:EXS]DIE(4)'
If dim([F:AAA_]DIE5)>0
 [F:AAA_]DIE5 = [F:EXS]DIE(4)
Endif

### DIE6
[L]FLD="DIE6"
[L]FORMULE='[F:EXS]DIE(5)'
If dim([F:AAA_]DIE6)>0
 [F:AAA_]DIE6 = [F:EXS]DIE(5)
Endif

### DIE7
[L]FLD="DIE7"
[L]FORMULE='[F:EXS]DIE(6)'
If dim([F:AAA_]DIE7)>0
 [F:AAA_]DIE7 = [F:EXS]DIE(6)
Endif

### DIE8
[L]FLD="DIE8"
[L]FORMULE='[F:EXS]DIE(7)'
If dim([F:AAA_]DIE8)>0
 [F:AAA_]DIE8 = [F:EXS]DIE(7)
Endif

### DIE9
[L]FLD="DIE9"
[L]FORMULE='[F:EXS]DIE(8)'
If dim([F:AAA_]DIE9)>0
 [F:AAA_]DIE9 = [F:EXS]DIE(8)
Endif

### CCE1
[L]FLD="CCE1"
[L]FORMULE='[F:EXS]CCE(0)'
If dim([F:AAA_]CCE1)>0
 [F:AAA_]CCE1 = [F:EXS]CCE(0)
Endif

### CCE2
[L]FLD="CCE2"
[L]FORMULE='[F:EXS]CCE(1)'
If dim([F:AAA_]CCE2)>0
 [F:AAA_]CCE2 = [F:EXS]CCE(1)
Endif

### CCE3
[L]FLD="CCE3"
[L]FORMULE='[F:EXS]CCE(2)'
If dim([F:AAA_]CCE3)>0
 [F:AAA_]CCE3 = [F:EXS]CCE(2)
Endif

### CCE4
[L]FLD="CCE4"
[L]FORMULE='[F:EXS]CCE(3)'
If dim([F:AAA_]CCE4)>0
 [F:AAA_]CCE4 = [F:EXS]CCE(3)
Endif

### CCE5
[L]FLD="CCE5"
[L]FORMULE='[F:EXS]CCE(4)'
If dim([F:AAA_]CCE5)>0
 [F:AAA_]CCE5 = [F:EXS]CCE(4)
Endif

### CCE6
[L]FLD="CCE6"
[L]FORMULE='[F:EXS]CCE(5)'
If dim([F:AAA_]CCE6)>0
 [F:AAA_]CCE6 = [F:EXS]CCE(5)
Endif

### CCE7
[L]FLD="CCE7"
[L]FORMULE='[F:EXS]CCE(6)'
If dim([F:AAA_]CCE7)>0
 [F:AAA_]CCE7 = [F:EXS]CCE(6)
Endif

### CCE8
[L]FLD="CCE8"
[L]FORMULE='[F:EXS]CCE(7)'
If dim([F:AAA_]CCE8)>0
 [F:AAA_]CCE8 = [F:EXS]CCE(7)
Endif

### CCE9
[L]FLD="CCE9"
[L]FORMULE='[F:EXS]CCE(8)'
If dim([F:AAA_]CCE9)>0
 [F:AAA_]CCE9 = [F:EXS]CCE(8)
Endif

### QTYFRAIS
[L]FLD="QTYFRAIS"
[L]FORMULE='[F:EXS]QTY'
If dim([F:AAA_]QTYFRAIS)>0
 [F:AAA_]QTYFRAIS = [F:EXS]QTY
Endif

### MTRFRAIS
[L]FLD="MTRFRAIS"
[L]FORMULE='[F:EXS]AMTPAY'
If dim([F:AAA_]MTRFRAIS)>0
 [F:AAA_]MTRFRAIS = [F:EXS]AMTPAY
Endif

### MTTTCFRAIS
[L]FLD="MTTTCFRAIS"
[L]FORMULE='[F:EXS]AMTATI'
If dim([F:AAA_]MTTTCFRAIS)>0
 [F:AAA_]MTTTCFRAIS = [F:EXS]AMTATI
Endif

### MTTVAFRAIS
[L]FLD="MTTVAFRAIS"
[L]FORMULE='[F:EXS]AMTVAT'
If dim([F:AAA_]MTTVAFRAIS)>0
 [F:AAA_]MTTVAFRAIS = [F:EXS]AMTVAT
Endif

### MTCURFRAIS
[L]FLD="MTCURFRAIS"
[L]FORMULE='[F:EXS]AMTCUR'
If dim([F:AAA_]MTCURFRAIS)>0
 [F:AAA_]MTCURFRAIS = [F:EXS]AMTCUR
Endif

### DATEFRAIS
[L]FLD="DATEFRAIS"
[L]FORMULE='[F:EXS]DATEXS'
If dim([F:AAA_]DATEFRAIS)>0
 [F:AAA_]DATEFRAIS = [F:EXS]DATEXS
Endif

K = instr(1,GDOSSIER,'@')
If K
 [F:AAA_]ADOS = right$(GDOSSIER,K+1)
Else
 [F:AAA_]ADOS = GDOSSIER
Endif
[F:AAA_]AREG = 'EXPENSES'
[F:AAA_]AIND = indice
[L]FLD="ACLE"
[L]FORMULE="ACLE"
[F:AAA_]ACLE = num$([F:EXS]CLB)+'~'+num$([F:EXS]DATEXS)+'~'+num$([F:EXS]NBREXS)
Return

