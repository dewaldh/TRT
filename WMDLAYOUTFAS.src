#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
## BI-DIMENSION ## Synchronization rule LAYOUTFAS

$OUVRE
Local Char FILTRE(250)
OUVTAB = GDOSSIER+".LAYOUTFAS" : If clalev([F:LOF])=0 : Local File =OUVTAB [LOF] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE1])=0 : Local File =OUVTAB [CCE1] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE2])=0 : Local File =OUVTAB [CCE2] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE3])=0 : Local File =OUVTAB [CCE3] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE4])=0 : Local File =OUVTAB [CCE4] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE5])=0 : Local File =OUVTAB [CCE5] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE6])=0 : Local File =OUVTAB [CCE6] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE7])=0 : Local File =OUVTAB [CCE7] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE8])=0 : Local File =OUVTAB [CCE8] : Endif
OUVTAB = GDOSSIER+".CACCE" : If clalev([F:CCE9])=0 : Local File =OUVTAB [CCE9] : Endif
OUVTAB = "Link [LOF]"
Link [LOF] With
& [CCE1]CCE0 = [F:LOF]DIE(0);[F:LOF]CCE(0),
& [CCE2]CCE0 = [F:LOF]DIE(1);[F:LOF]CCE(1),
& [CCE3]CCE0 = [F:LOF]DIE(2);[F:LOF]CCE(2),
& [CCE4]CCE0 = [F:LOF]DIE(3);[F:LOF]CCE(3),
& [CCE5]CCE0 = [F:LOF]DIE(4);[F:LOF]CCE(4),
& [CCE6]CCE0 = [F:LOF]DIE(5);[F:LOF]CCE(5),
& [CCE7]CCE0 = [F:LOF]DIE(6);[F:LOF]CCE(6),
& [CCE8]CCE0 = [F:LOF]DIE(7);[F:LOF]CCE(7),
& [CCE9]CCE0 = [F:LOF]DIE(8);[F:LOF]CCE(8)
& As [LNK_]
& Order By Key CLE = [LOF]CODLOF;[LOF]LINLOF
FILTRE = ""
Return

$FERME
If clalev([F:LOF]) : Close local File [LOF] : Endif
If clalev([F:CCE1]) : Close local File [CCE1] : Endif
If clalev([F:CCE2]) : Close local File [CCE2] : Endif
If clalev([F:CCE3]) : Close local File [CCE3] : Endif
If clalev([F:CCE4]) : Close local File [CCE4] : Endif
If clalev([F:CCE5]) : Close local File [CCE5] : Endif
If clalev([F:CCE6]) : Close local File [CCE6] : Endif
If clalev([F:CCE7]) : Close local File [CCE7] : Endif
If clalev([F:CCE8]) : Close local File [CCE8] : Endif
If clalev([F:CCE9]) : Close local File [CCE9] : Endif
Return

$DCLE
Local Char    DCLE(GLONAVA)(1..2)
Local Integer DTYP(1..2)
Local Integer NBDCLE
NBDCLE = 2
DCLE(1) = "CODLOF"
DTYP(1) =  7
DCLE(2) = "LINLOF"
DTYP(2) =  2
Return

$CHARGE_CLE
If dim([F:AAA_]CODLOF)>0
 [F:AAA_]CODLOF = [F:LOF]CODLOF
Endif
If dim([F:AAA_]LINLOF)>0
 [F:AAA_]LINLOF = [F:LOF]LINLOF
Endif
Return

########################################################################
# Return the filter necessary for incremental delete in synchroonization
Subprog GET_FLTDELINC(PFLT)
Variable Clbfile PFLT
PFLT = "1=1"
Append PFLT, " & [F:AAA_]CODLOF=[F:LOF]CODLOF"
Append PFLT, " & [F:AAA_]LINLOF=[F:LOF]LINLOF"

End

$MAJFLD
### CODLOF
[L]FLD="CODLOF"
[L]FORMULE='[F:LOF]CODLOF'
If dim([F:AAA_]CODLOF)>0
 [F:AAA_]CODLOF = [F:LOF]CODLOF
Endif

### LINLOF
[L]FLD="LINLOF"
[L]FORMULE='[F:LOF]LINLOF'
If dim([F:AAA_]LINLOF)>0
 [F:AAA_]LINLOF = [F:LOF]LINLOF
Endif

### CODLINLOF
[L]FLD="CODLINLOF"
[L]FORMULE='[F:LOF]CODLOF+num$([F:LOF]LINLOF)'
If dim([F:AAA_]CODLINLOF)>0
 [F:AAA_]CODLINLOF = [F:LOF]CODLOF+num$([F:LOF]LINLOF)
Endif

### DES
[L]FLD="DES"
[L]FORMULE='[F:LOF]DES'
If dim([F:AAA_]DES)>0
 [F:AAA_]DES = [F:LOF]DES
Endif

### DES2
[L]FLD="DES2"
[L]FORMULE='[F:LOF]DES2'
If dim([F:AAA_]DES2)>0
 [F:AAA_]DES2 = [F:LOF]DES2
Endif

### CPY
[L]FLD="CPY"
[L]FORMULE='[F:LOF]CPY'
If dim([F:AAA_]CPY)>0
 [F:AAA_]CPY = [F:LOF]CPY
Endif

### FCY
[L]FLD="FCY"
[L]FORMULE='[F:LOF]FCY'
If dim([F:AAA_]FCY)>0
 [F:AAA_]FCY = [F:LOF]FCY
Endif

### BPR
[L]FLD="BPR"
[L]FORMULE='[F:LOF]BPR'
If dim([F:AAA_]BPR)>0
 [F:AAA_]BPR = [F:LOF]BPR
Endif

### ORDBUY
[L]FLD="ORDBUY"
[L]FORMULE='[F:LOF]ORDBUY'
If dim([F:AAA_]ORDBUY)>0
 [F:AAA_]ORDBUY = [F:LOF]ORDBUY
Endif

### ITMREF
[L]FLD="ITMREF"
[L]FORMULE='[F:LOF]ITMREF'
If dim([F:AAA_]ITMREF)>0
 [F:AAA_]ITMREF = [F:LOF]ITMREF
Endif

### QTY
[L]FLD="QTY"
[L]FORMULE='[F:LOF]QTY'
If dim([F:AAA_]QTY)>0
 [F:AAA_]QTY = [F:LOF]QTY
Endif

### UOM
[L]FLD="UOM"
[L]FORMULE='[F:LOF]UOM'
If dim([F:AAA_]UOM)>0
 [F:AAA_]UOM = [F:LOF]UOM
Endif

### TYPVCR
[L]FLD="TYPVCR"
[L]FORMULE='num$([F:LOF]TYPVCR)-"-"-mess([F:LOF]TYPVCR,3117,1)'
If dim([F:AAA_]TYPVCR)>0
 [F:AAA_]TYPVCR = num$([F:LOF]TYPVCR)-"-"-mess([F:LOF]TYPVCR,3117,1)
Endif

### BPRVCR
[L]FLD="BPRVCR"
[L]FORMULE='[F:LOF]BPRVCR'
If dim([F:AAA_]BPRVCR)>0
 [F:AAA_]BPRVCR = [F:LOF]BPRVCR
Endif

### DATVCR
[L]FLD="DATVCR"
[L]FORMULE='[F:LOF]DATVCR'
If dim([F:AAA_]DATVCR)>0
 [F:AAA_]DATVCR = [F:LOF]DATVCR
Endif

### DATIMP
[L]FLD="DATIMP"
[L]FORMULE='[F:LOF]DATIMP'
If dim([F:AAA_]DATIMP)>0
 [F:AAA_]DATIMP = [F:LOF]DATIMP
Endif

### CUR
[L]FLD="CUR"
[L]FORMULE='[F:LOF]CUR'
If dim([F:AAA_]CUR)>0
 [F:AAA_]CUR = [F:LOF]CUR
Endif

### CURTYP
[L]FLD="CURTYP"
[L]FORMULE='num$([F:LOF]CURTYP)-"-"-mess([F:LOF]CURTYP,202,1)'
If dim([F:AAA_]CURTYP)>0
 [F:AAA_]CURTYP = num$([F:LOF]CURTYP)-"-"-mess([F:LOF]CURTYP,202,1)
Endif

### RATCUR
[L]FLD="RATCUR"
[L]FORMULE='[F:LOF]RATCUR'
If dim([F:AAA_]RATCUR)>0
 [F:AAA_]RATCUR = [F:LOF]RATCUR
Endif

### ACGGRP
[L]FLD="ACGGRP"
[L]FORMULE='[F:LOF]ACGGRP'
If dim([F:AAA_]ACGGRP)>0
 [F:AAA_]ACGGRP = [F:LOF]ACGGRP
Endif

### ACT
[L]FLD="ACT"
[L]FORMULE='[F:LOF]ACT'
If dim([F:AAA_]ACT)>0
 [F:AAA_]ACT = [F:LOF]ACT
Endif

### ASJCOE
[L]FLD="ASJCOE"
[L]FORMULE='[F:LOF]ASJCOE'
If dim([F:AAA_]ASJCOE)>0
 [F:AAA_]ASJCOE = [F:LOF]ASJCOE
Endif

### TAXCOE
[L]FLD="TAXCOE"
[L]FORMULE='[F:LOF]TAXCOE'
If dim([F:AAA_]TAXCOE)>0
 [F:AAA_]TAXCOE = [F:LOF]TAXCOE
Endif

### ADMCOE
[L]FLD="ADMCOE"
[L]FORMULE='[F:LOF]ADMCOE'
If dim([F:AAA_]ADMCOE)>0
 [F:AAA_]ADMCOE = [F:LOF]ADMCOE
Endif

### DEDCOE
[L]FLD="DEDCOE"
[L]FORMULE='[F:LOF]ADMCOE'
If dim([F:AAA_]DEDCOE)>0
 [F:AAA_]DEDCOE = [F:LOF]ADMCOE
Endif

### JOU
[L]FLD="JOU"
[L]FORMULE='[F:LOF]JOU'
If dim([F:AAA_]JOU)>0
 [F:AAA_]JOU = [F:LOF]JOU
Endif

### GACACN
[L]FLD="GACACN"
[L]FORMULE='num$([F:LOF]GACACN)-"-"-mess([F:LOF]GACACN,2628,1)'
If dim([F:AAA_]GACACN)>0
 [F:AAA_]GACACN = num$([F:LOF]GACACN)-"-"-mess([F:LOF]GACACN,2628,1)
Endif

### GAC
[L]FLD="GAC"
[L]FORMULE='[F:LOF]GAC'
If dim([F:AAA_]GAC)>0
 [F:AAA_]GAC = [F:LOF]GAC
Endif

### GACORI
[L]FLD="GACORI"
[L]FORMULE='[F:LOF]GACORI'
If dim([F:AAA_]GACORI)>0
 [F:AAA_]GACORI = [F:LOF]GACORI
Endif

### IVCVATRAT
[L]FLD="IVCVATRAT"
[L]FORMULE='[F:LOF]RATVAT'
If dim([F:AAA_]IVCVATRAT)>0
 [F:AAA_]IVCVATRAT = [F:LOF]RATVAT
Endif

### IASACN
[L]FLD="IASACN"
[L]FORMULE='num$([F:LOF]IASACN)-"-"-mess([F:LOF]IASACN,2628,1)'
If dim([F:AAA_]IASACN)>0
 [F:AAA_]IASACN = num$([F:LOF]IASACN)-"-"-mess([F:LOF]IASACN,2628,1)
Endif

### IASACC
[L]FLD="IASACC"
[L]FORMULE='[F:LOF]IASACC'
If dim([F:AAA_]IASACC)>0
 [F:AAA_]IASACC = [F:LOF]IASACC
Endif

### IASACCORI
[L]FLD="IASACCORI"
[L]FORMULE='[F:LOF]IASACCORI'
If dim([F:AAA_]IASACCORI)>0
 [F:AAA_]IASACCORI = [F:LOF]IASACCORI
Endif

### CONNUM
[L]FLD="CONNUM"
[L]FORMULE='[F:LOF]CONNUM'
If dim([F:AAA_]CONNUM)>0
 [F:AAA_]CONNUM = [F:LOF]CONNUM
Endif

### AASREF
[L]FLD="AASREF"
[L]FORMULE='[F:LOF]AASREF'
If dim([F:AAA_]AASREF)>0
 [F:AAA_]AASREF = [F:LOF]AASREF
Endif

### FLGLOFMAI
[L]FLD="FLGLOFMAI"
[L]FORMULE='num$([F:LOF]FLGLOFMAI)-"-"-mess([F:LOF]FLGLOFMAI,1,1)'
If dim([F:AAA_]FLGLOFMAI)>0
 [F:AAA_]FLGLOFMAI = num$([F:LOF]FLGLOFMAI)-"-"-mess([F:LOF]FLGLOFMAI,1,1)
Endif

### USRDEN
[L]FLD="USRDEN"
[L]FORMULE='[F:LOF]USRDEN'
If dim([F:AAA_]USRDEN)>0
 [F:AAA_]USRDEN = [F:LOF]USRDEN
Endif

### DSP
[L]FLD="DSP"
[L]FORMULE='[F:LOF]DSP'
If dim([F:AAA_]DSP)>0
 [F:AAA_]DSP = [F:LOF]DSP
Endif

### CCE1
[L]FLD="CCE1"
[L]FORMULE='[F:LOF]CCE(0)'
If dim([F:AAA_]CCE1)>0
 [F:AAA_]CCE1 = [F:LOF]CCE(0)
Endif

### CCE1DES
[L]FLD="CCE1DES"
[L]FORMULE='[F:CCE1]DES'
If dim([F:AAA_]CCE1DES)>0
 [F:AAA_]CCE1DES = [F:CCE1]DES
Endif

### CCE2
[L]FLD="CCE2"
[L]FORMULE='[F:LOF]CCE(1)'
If dim([F:AAA_]CCE2)>0
 [F:AAA_]CCE2 = [F:LOF]CCE(1)
Endif

### CCE2DES
[L]FLD="CCE2DES"
[L]FORMULE='[F:CCE2]DES'
If dim([F:AAA_]CCE2DES)>0
 [F:AAA_]CCE2DES = [F:CCE2]DES
Endif

### CCE3
[L]FLD="CCE3"
[L]FORMULE='[F:LOF]CCE(2)'
If dim([F:AAA_]CCE3)>0
 [F:AAA_]CCE3 = [F:LOF]CCE(2)
Endif

### CCE3DES
[L]FLD="CCE3DES"
[L]FORMULE='[F:CCE3]DES'
If dim([F:AAA_]CCE3DES)>0
 [F:AAA_]CCE3DES = [F:CCE3]DES
Endif

### CCE4
[L]FLD="CCE4"
[L]FORMULE='[F:LOF]CCE(3)'
If dim([F:AAA_]CCE4)>0
 [F:AAA_]CCE4 = [F:LOF]CCE(3)
Endif

### CCE4DES
[L]FLD="CCE4DES"
[L]FORMULE='[F:CCE4]DES'
If dim([F:AAA_]CCE4DES)>0
 [F:AAA_]CCE4DES = [F:CCE4]DES
Endif

### CCE5
[L]FLD="CCE5"
[L]FORMULE='[F:LOF]CCE(4)'
If dim([F:AAA_]CCE5)>0
 [F:AAA_]CCE5 = [F:LOF]CCE(4)
Endif

### CCE5DES
[L]FLD="CCE5DES"
[L]FORMULE='[F:CCE5]DES'
If dim([F:AAA_]CCE5DES)>0
 [F:AAA_]CCE5DES = [F:CCE5]DES
Endif

### CCE6
[L]FLD="CCE6"
[L]FORMULE='[F:LOF]CCE(5)'
If dim([F:AAA_]CCE6)>0
 [F:AAA_]CCE6 = [F:LOF]CCE(5)
Endif

### CCE6DES
[L]FLD="CCE6DES"
[L]FORMULE='[F:CCE6]DES'
If dim([F:AAA_]CCE6DES)>0
 [F:AAA_]CCE6DES = [F:CCE6]DES
Endif

### CCE7
[L]FLD="CCE7"
[L]FORMULE='[F:LOF]CCE(6)'
If dim([F:AAA_]CCE7)>0
 [F:AAA_]CCE7 = [F:LOF]CCE(6)
Endif

### CCE7DES
[L]FLD="CCE7DES"
[L]FORMULE='[F:CCE7]DES'
If dim([F:AAA_]CCE7DES)>0
 [F:AAA_]CCE7DES = [F:CCE7]DES
Endif

### CCE8
[L]FLD="CCE8"
[L]FORMULE='[F:LOF]CCE(7)'
If dim([F:AAA_]CCE8)>0
 [F:AAA_]CCE8 = [F:LOF]CCE(7)
Endif

### CCE8DES
[L]FLD="CCE8DES"
[L]FORMULE='[F:CCE8]DES'
If dim([F:AAA_]CCE8DES)>0
 [F:AAA_]CCE8DES = [F:CCE8]DES
Endif

### CCE9
[L]FLD="CCE9"
[L]FORMULE='[F:LOF]CCE(8)'
If dim([F:AAA_]CCE9)>0
 [F:AAA_]CCE9 = [F:LOF]CCE(8)
Endif

### CCE9DES
[L]FLD="CCE9DES"
[L]FORMULE='[F:CCE9]DES'
If dim([F:AAA_]CCE9DES)>0
 [F:AAA_]CCE9DES = [F:CCE9]DES
Endif

### FLGGRA
[L]FLD="FLGGRA"
[L]FORMULE='num$([F:LOF]FLGGRA)-"-"-mess([F:LOF]FLGGRA,1,1)'
If dim([F:AAA_]FLGGRA)>0
 [F:AAA_]FLGGRA = num$([F:LOF]FLGGRA)-"-"-mess([F:LOF]FLGGRA,1,1)
Endif

### PLNINV
[L]FLD="PLNINV"
[L]FORMULE='[F:LOF]PLNINV'
If dim([F:AAA_]PLNINV)>0
 [F:AAA_]PLNINV = [F:LOF]PLNINV
Endif

### BUDINV
[L]FLD="BUDINV"
[L]FORMULE='[F:LOF]BUDINV'
If dim([F:AAA_]BUDINV)>0
 [F:AAA_]BUDINV = [F:LOF]BUDINV
Endif

### FIYBUD
[L]FLD="FIYBUD"
[L]FORMULE='[F:LOF]FIYBUD'
If dim([F:AAA_]FIYBUD)>0
 [F:AAA_]FIYBUD = [F:LOF]FIYBUD
Endif

### DEMINV
[L]FLD="DEMINV"
[L]FORMULE='[F:LOF]DEMINV'
If dim([F:AAA_]DEMINV)>0
 [F:AAA_]DEMINV = [F:LOF]DEMINV
Endif

### CPMCREORI
[L]FLD="CPMCREORI"
[L]FORMULE='num$([F:LOF]CPMCREORI)-"-"-mess([F:LOF]CPMCREORI,3107,1)'
If dim([F:AAA_]CPMCREORI)>0
 [F:AAA_]CPMCREORI = num$([F:LOF]CPMCREORI)-"-"-mess([F:LOF]CPMCREORI,3107,1)
Endif

### CREORI
[L]FLD="CREORI"
[L]FORMULE='num$([F:LOF]CREORI)-"-"-mess([F:LOF]CREORI,3162,1)'
If dim([F:AAA_]CREORI)>0
 [F:AAA_]CREORI = num$([F:LOF]CREORI)-"-"-mess([F:LOF]CREORI,3162,1)
Endif

### CREUSR
[L]FLD="CREUSR"
[L]FORMULE='[F:LOF]CREUSR'
If dim([F:AAA_]CREUSR)>0
 [F:AAA_]CREUSR = [F:LOF]CREUSR
Endif

### UPDUSR
[L]FLD="UPDUSR"
[L]FORMULE='[F:LOF]UPDUSR'
If dim([F:AAA_]UPDUSR)>0
 [F:AAA_]UPDUSR = [F:LOF]UPDUSR
Endif

### USRFLDA1
[L]FLD="USRFLDA1"
[L]FORMULE='[F:LOF]USRFLDA1'
If dim([F:AAA_]USRFLDA1)>0
 [F:AAA_]USRFLDA1 = [F:LOF]USRFLDA1
Endif

### USRFLDA2
[L]FLD="USRFLDA2"
[L]FORMULE='[F:LOF]USRFLDA2'
If dim([F:AAA_]USRFLDA2)>0
 [F:AAA_]USRFLDA2 = [F:LOF]USRFLDA2
Endif

### USRFLDA3
[L]FLD="USRFLDA3"
[L]FORMULE='[F:LOF]USRFLDA3'
If dim([F:AAA_]USRFLDA3)>0
 [F:AAA_]USRFLDA3 = [F:LOF]USRFLDA3
Endif

### USRFLDA4
[L]FLD="USRFLDA4"
[L]FORMULE='[F:LOF]USRFLDA4'
If dim([F:AAA_]USRFLDA4)>0
 [F:AAA_]USRFLDA4 = [F:LOF]USRFLDA4
Endif

### USRFLDA5
[L]FLD="USRFLDA5"
[L]FORMULE='[F:LOF]USRFLDA5'
If dim([F:AAA_]USRFLDA5)>0
 [F:AAA_]USRFLDA5 = [F:LOF]USRFLDA5
Endif

### USRFLDA6
[L]FLD="USRFLDA6"
[L]FORMULE='[F:LOF]USRFLDA6'
If dim([F:AAA_]USRFLDA6)>0
 [F:AAA_]USRFLDA6 = [F:LOF]USRFLDA6
Endif

### USRFLDA7
[L]FLD="USRFLDA7"
[L]FORMULE='[F:LOF]USRFLDA7'
If dim([F:AAA_]USRFLDA7)>0
 [F:AAA_]USRFLDA7 = [F:LOF]USRFLDA7
Endif

### USRFLDA8
[L]FLD="USRFLDA8"
[L]FORMULE='[F:LOF]USRFLDA8'
If dim([F:AAA_]USRFLDA8)>0
 [F:AAA_]USRFLDA8 = [F:LOF]USRFLDA8
Endif

### USRFLDA9
[L]FLD="USRFLDA9"
[L]FORMULE='[F:LOF]USRFLDA9'
If dim([F:AAA_]USRFLDA9)>0
 [F:AAA_]USRFLDA9 = [F:LOF]USRFLDA9
Endif

### USRFLDA10
[L]FLD="USRFLDA10"
[L]FORMULE='[F:LOF]USRFLDA10'
If dim([F:AAA_]USRFLDA10)>0
 [F:AAA_]USRFLDA10 = [F:LOF]USRFLDA10
Endif

### USRFLDC1
[L]FLD="USRFLDC1"
[L]FORMULE='[F:LOF]USRFLDC1'
If dim([F:AAA_]USRFLDC1)>0
 [F:AAA_]USRFLDC1 = [F:LOF]USRFLDC1
Endif

### USRFLDC2
[L]FLD="USRFLDC2"
[L]FORMULE='[F:LOF]USRFLDC2'
If dim([F:AAA_]USRFLDC2)>0
 [F:AAA_]USRFLDC2 = [F:LOF]USRFLDC2
Endif

### USRFLDD1
[L]FLD="USRFLDD1"
[L]FORMULE='[F:LOF]USRFLDD1'
If dim([F:AAA_]USRFLDD1)>0
 [F:AAA_]USRFLDD1 = [F:LOF]USRFLDD1
Endif

### USRFLDD2
[L]FLD="USRFLDD2"
[L]FORMULE='[F:LOF]USRFLDD2'
If dim([F:AAA_]USRFLDD2)>0
 [F:AAA_]USRFLDD2 = [F:LOF]USRFLDD2
Endif

### USRFLDD3
[L]FLD="USRFLDD3"
[L]FORMULE='[F:LOF]USRFLDD3'
If dim([F:AAA_]USRFLDD3)>0
 [F:AAA_]USRFLDD3 = [F:LOF]USRFLDD3
Endif

### USRFLDD4
[L]FLD="USRFLDD4"
[L]FORMULE='[F:LOF]USRFLDD4'
If dim([F:AAA_]USRFLDD4)>0
 [F:AAA_]USRFLDD4 = [F:LOF]USRFLDD4
Endif


Return

