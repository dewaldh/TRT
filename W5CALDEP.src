#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
# Mask management CALDEP 

$_AFF
If GIMPORT
 Gosub AFF From GSAISIE
Else
 If GMESSAGE <>""
  Gosub ERR From GSAISIE
 Else
  Raz GERR , GZNUM
 Endif
Endif
Return

$ON_PERRVADEV
Onevent BEFORE_AREA Gosub AV_PERRVADEV From W5CALDEP
Return

$AV_PERRVADEV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]PERRVADEV(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_RVAAMT
Onevent BEFORE_AREA Gosub AV_RVAAMT From W5CALDEP
Return

$AV_RVAAMT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]RVAAMT(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_PERRVACUM
Onevent BEFORE_AREA Gosub AV_PERRVACUM From W5CALDEP
Return

$AV_PERRVACUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]PERRVACUM(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_RVACRB
Onevent BEFORE_AREA Gosub AV_RVACRB From W5CALDEP
Return

$AV_RVACRB
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]RVACRB(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_LNKCUM
Onevent BEFORE_AREA Gosub AV_LNKCUM From W5CALDEP
Return

$AV_LNKCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]LNKCUM(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_PERLNKCUM
Onevent BEFORE_AREA Gosub AV_PERLNKCUM From W5CALDEP
Return

$AV_PERLNKCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]PERLNKCUM(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_LNK
Onevent BEFORE_AREA Gosub AV_LNK From W5CALDEP
Return

$AV_LNK
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]LNK(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_LEGCUM
Onevent BEFORE_AREA Gosub AV_LEGCUM From W5CALDEP
Return

$AV_LEGCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]LEGCUM(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_PERLEGCUM
Onevent BEFORE_AREA Gosub AV_PERLEGCUM From W5CALDEP
Return

$AV_PERLEGCUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]PERLEGCUM(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_LEG
Onevent BEFORE_AREA Gosub AV_LEG From W5CALDEP
Return

$AV_LEG
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]LEG(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_LEGRVE
Onevent BEFORE_AREA Gosub AV_LEGRVE From W5CALDEP
Return

$AV_LEGRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]LEGRVE(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_PERLEGRVE
Onevent BEFORE_AREA Gosub AV_PERLEGRVE From W5CALDEP
Return

$AV_PERLEGRVE
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]PERLEGRVE(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_LEGRVECUM
Onevent BEFORE_AREA Gosub AV_LEGRVECUM From W5CALDEP
Return

$AV_LEGRVECUM
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]LEGRVECUM(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_RATCUR
Return

$ON_FLGUPDISS
Onevent INIT_AREA Call D_FLGUPDISS(zc) From W5CALDEP
Return

Subprog D_FLGUPDISS(VALEUR)
Variable Integer VALEUR
If varinit([M]FLGUPDISS,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_LSTCLODAT
Onevent BEFORE_AREA Gosub AV_LSTCLODAT From W5CALDEP
Return

$AV_LSTCLODAT
Chgfmt [M]LSTCLODAT(indice) With "DPZ:"+GFMDAT4
Gosub _AFF
Return

$ON_FLGMIG
Onevent INIT_AREA Call D_FLGMIG(zc) From W5CALDEP
Return

Subprog D_FLGMIG(VALEUR)
Variable Integer VALEUR
If varinit([M]FLGMIG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_KBIRNBV
Onevent BEFORE_AREA Gosub AV_KBIRNBV From W5CALDEP
Return

$AV_KBIRNBV
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:DIV]CUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]KBIRNBV(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_KBIRNBVT
Onevent BEFORE_AREA Gosub AV_KBIRNBVT From W5CALDEP
Return

$AV_KBIRNBVT
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Chgfmt [M]KBIRNBVT(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_KBIRNBVI
Onevent BEFORE_AREA Gosub AV_KBIRNBVI From W5CALDEP
Return

$AV_KBIRNBVI
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find("",GDEVISE(1..GNBDEV)),1))
Chgfmt [M]KBIRNBVI(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_KBIRDAT
Onevent BEFORE_AREA Gosub AV_KBIRDAT From W5CALDEP
Return

$AV_KBIRDAT
Chgfmt [M]KBIRDAT(indice) With "DPZ:"+GFMDAT4
Gosub _AFF
Return

$ON_KSTPDEPSTA
Onevent INIT_AREA Call D_KSTPDEPSTA(zc) From W5CALDEP
Return

Subprog D_KSTPDEPSTA(VALEUR)
Variable Integer VALEUR
If varinit([M]KSTPDEPSTA,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$CHG_STY
Return


