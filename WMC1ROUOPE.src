#<AdxTL>@(#)0.0.0.0 $Revision$Class Routing - operations
# Sage X3 supervisor
## ACLA-CLASSE ## ROUOPE
# 2018-03-26 00:40:15 082


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : ITMREF Routing ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 2 : ROUALT Routing code ( Field C 2)
####################################################################

$SET_ROUALT
If [L]_AOLDVAL<>this.ROUALT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROUALT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROUALT
 Gosub PROPAGATE_ROUALT
Endif
Return

$INIT_ROUALT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROUALT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ROUALT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROUALT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROUALT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROUALT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROUALT
[L]CURPRO = "ROUALT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ROUALT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROUALT
[L]CURPRO = "ROUALT"
Return

$_AOTHERS_ROUALT
[L]CURPRO = "ROUALT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROUALT
[L]CURPRO = "ROUALT"
Return

$PROPAGATE_ROUALT
this.isReadonly = 0
[L]CURPRO = "ROUALT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROUALT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROUALT"
$_LNKPRO_ROUALT
Return

$_ALOADATTRIBUTE_ROUALT
[L]ASTATUS = fmet this.ASETATTRIBUTE("ROUALT","$isMandatory","true")
Return


####################################################################
# 3 : OPENUM Operation ( Field OPE 0)
####################################################################

$SET_OPENUM
If [L]_AOLDVAL<>this.OPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPENUM
 Gosub PROPAGATE_OPENUM
Endif
Return

$INIT_OPENUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPENUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPENUM
[L]CURPRO = "OPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPENUM
[L]CURPRO = "OPENUM"
Return

$_AOTHERS_OPENUM
[L]CURPRO = "OPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPENUM
[L]CURPRO = "OPENUM"
Return

$PROPAGATE_OPENUM
this.isReadonly = 0
[L]CURPRO = "OPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPENUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPENUM"
$_LNKPRO_OPENUM
Return

$_ALOADATTRIBUTE_OPENUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPENUM","$isMandatory","true")
Return


####################################################################
# 4 : RPLIND Alternate index ( Field C 3)
####################################################################

$SET_RPLIND
If [L]_AOLDVAL<>this.RPLIND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPLIND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPLIND
 Gosub PROPAGATE_RPLIND
Endif
Return

$INIT_RPLIND
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "RPLIND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPLIND
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "RPLIND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPLIND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPLIND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPLIND
[L]CURPRO = "RPLIND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RPLIND=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPLIND
[L]CURPRO = "RPLIND"
Return

$_AOTHERS_RPLIND
[L]CURPRO = "RPLIND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPLIND
[L]CURPRO = "RPLIND"
Return

$PROPAGATE_RPLIND
this.isReadonly = 0
[L]CURPRO = "RPLIND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPLIND
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "RPLIND"
$_LNKPRO_RPLIND
Return

$_ALOADATTRIBUTE_RPLIND
[L]ASTATUS = fmet this.ASETATTRIBUTE("RPLIND","$isMandatory","true")
Return


####################################################################
# 5 : VALSTRDAT Start date ( Field D)
####################################################################

$SET_VALSTRDAT
If [L]_AOLDVAL<>this.VALSTRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALSTRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALSTRDAT
 Gosub PROPAGATE_VALSTRDAT
Endif
Return

$INIT_VALSTRDAT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "VALSTRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALSTRDAT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "VALSTRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALSTRDAT
[L]CURPRO = "VALSTRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VALSTRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALSTRDAT
[L]CURPRO = "VALSTRDAT"
Return

$_AOTHERS_VALSTRDAT
[L]CURPRO = "VALSTRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALSTRDAT
[L]CURPRO = "VALSTRDAT"
Return

$PROPAGATE_VALSTRDAT
this.isReadonly = 0
[L]CURPRO = "VALSTRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALSTRDAT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "VALSTRDAT"
$_LNKPRO_VALSTRDAT
Return


####################################################################
# 6 : VALENDDAT End date ( Field D)
####################################################################

$SET_VALENDDAT
If [L]_AOLDVAL<>this.VALENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALENDDAT
 Gosub PROPAGATE_VALENDDAT
Endif
Return

$INIT_VALENDDAT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "VALENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALENDDAT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "VALENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALENDDAT
[L]CURPRO = "VALENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VALENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALENDDAT
[L]CURPRO = "VALENDDAT"
Return

$_AOTHERS_VALENDDAT
[L]CURPRO = "VALENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALENDDAT
[L]CURPRO = "VALENDDAT"
Return

$PROPAGATE_VALENDDAT
this.isReadonly = 0
[L]CURPRO = "VALENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALENDDAT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "VALENDDAT"
$_LNKPRO_VALENDDAT
Return


####################################################################
# 7 : STDOPENUM Standard operation ( Field ROT 0)
####################################################################

$SET_STDOPENUM
If [L]_AOLDVAL<>this.STDOPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STDOPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STDOPENUM
 Gosub PROPAGATE_STDOPENUM
Endif
Return

$INIT_STDOPENUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "STDOPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STDOPENUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "STDOPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STDOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STDOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STDOPENUM
[L]CURPRO = "STDOPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STDOPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STDOPENUM
[L]CURPRO = "STDOPENUM"
Return

$_AOTHERS_STDOPENUM
[L]CURPRO = "STDOPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STDOPENUM
[L]CURPRO = "STDOPENUM"
Return

$PROPAGATE_STDOPENUM
this.isReadonly = 0
[L]CURPRO = "STDOPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STDOPENUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "STDOPENUM"
$_LNKPRO_STDOPENUM
Return


####################################################################
# 8 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 9 : WST Main work center ( Field WST 8)
####################################################################

$SET_WST
If [L]_AOLDVAL<>this.WST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WST
 Gosub PROPAGATE_WST
Endif
Return

$INIT_WST
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "WST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WST
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "WST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WST                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WST                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WST
[L]CURPRO = "WST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WST,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WST
[L]CURPRO = "WST"
If vireblc(this.WST,2)<>vireblc(format$("K:8c",this.WST),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WST
[L]CURPRO = "WST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WST
[L]CURPRO = "WST"
If vireblc(this.WST,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWST.ACTRLREF(this,"WST",this.WST,this.WST,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.WST<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_WST
this.isReadonly = 0
[L]CURPRO = "WST"
Gosub _LNKPRO_WST
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WST
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "WST"
$_LNKPRO_WST
If vireblc(this.WST,2)<>""
 # Link WORKSTATIO
 Local File WORKSTATIO [WMWS]
 Read [F:WMWS]WST0 = this.WST;this.FCY
 If !fstat
 Endif
 LogicClose File [WMWS]
Endif
Return


####################################################################
# 10 : LABWST Labor work center ( Field WST 8)
####################################################################

$SET_LABWST
If [L]_AOLDVAL<>this.LABWST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LABWST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LABWST
 Gosub PROPAGATE_LABWST
Endif
Return

$INIT_LABWST
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "LABWST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LABWST
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "LABWST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LABWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LABWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LABWST
[L]CURPRO = "LABWST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LABWST,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LABWST
[L]CURPRO = "LABWST"
If vireblc(this.LABWST,2)<>vireblc(format$("K:8c",this.LABWST),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LABWST
[L]CURPRO = "LABWST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LABWST
[L]CURPRO = "LABWST"
If vireblc(this.LABWST,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWST.ACTRLREF(this,"LABWST",this.LABWST,this.LABWST,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LABWST<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_LABWST
this.isReadonly = 0
[L]CURPRO = "LABWST"
Gosub _LNKPRO_LABWST
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LABWST
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "LABWST"
$_LNKPRO_LABWST
If vireblc(this.LABWST,2)<>""
 # Link WORKSTATIO
 Local File WORKSTATIO [WMWS]
 Read [F:WMWS]WST0 = this.LABWST;this.FCY
 If !fstat
 Endif
 LogicClose File [WMWS]
Endif
Return


####################################################################
# 11 : SETLABCOE Labor time set fac ( Field DCB 3)
####################################################################

$SET_SETLABCOE
If [L]_AOLDVAL<>this.SETLABCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SETLABCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SETLABCOE
 Gosub PROPAGATE_SETLABCOE
Endif
Return

$INIT_SETLABCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "SETLABCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SETLABCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "SETLABCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SETLABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SETLABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SETLABCOE
[L]CURPRO = "SETLABCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SETLABCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SETLABCOE
[L]CURPRO = "SETLABCOE"
Return

$_AOTHERS_SETLABCOE
[L]CURPRO = "SETLABCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SETLABCOE
[L]CURPRO = "SETLABCOE"
Return

$PROPAGATE_SETLABCOE
this.isReadonly = 0
[L]CURPRO = "SETLABCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SETLABCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "SETLABCOE"
$_LNKPRO_SETLABCOE
Return


####################################################################
# 12 : OPELABCOE Labor r-time fact ( Field DCB 3)
####################################################################

$SET_OPELABCOE
If [L]_AOLDVAL<>this.OPELABCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPELABCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPELABCOE
 Gosub PROPAGATE_OPELABCOE
Endif
Return

$INIT_OPELABCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPELABCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPELABCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPELABCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPELABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPELABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPELABCOE
[L]CURPRO = "OPELABCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPELABCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPELABCOE
[L]CURPRO = "OPELABCOE"
Return

$_AOTHERS_OPELABCOE
[L]CURPRO = "OPELABCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPELABCOE
[L]CURPRO = "OPELABCOE"
Return

$PROPAGATE_OPELABCOE
this.isReadonly = 0
[L]CURPRO = "OPELABCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPELABCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPELABCOE"
$_LNKPRO_OPELABCOE
Return


####################################################################
# 13 : ROODES Ope description ( Field DES 30)
####################################################################

$SET_ROODES
If [L]_AOLDVAL<>this.ROODES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROODES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROODES
 Gosub PROPAGATE_ROODES
Endif
Return

$INIT_ROODES
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROODES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ROODES
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROODES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROODES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROODES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROODES
[L]CURPRO = "ROODES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ROODES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROODES
[L]CURPRO = "ROODES"
If vireblc(this.ROODES,2)<>vireblc(format$("K:30X",this.ROODES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ROODES
[L]CURPRO = "ROODES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROODES
[L]CURPRO = "ROODES"
Return

$PROPAGATE_ROODES
this.isReadonly = 0
[L]CURPRO = "ROODES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROODES
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROODES"
$_LNKPRO_ROODES
Return


####################################################################
# 14 : OPEUOM Operation UOM ( Field UOM 3)
####################################################################

$SET_OPEUOM
If [L]_AOLDVAL<>this.OPEUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEUOM
 Gosub PROPAGATE_OPEUOM
Endif
Return

$INIT_OPEUOM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEUOM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEUOM
[L]CURPRO = "OPEUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>vireblc(format$("K:3X",this.OPEUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"OPEUOM",this.OPEUOM,this.OPEUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OPEUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEUOM
[L]CURPRO = "OPEUOM"
Return

$PROPAGATE_OPEUOM
this.isReadonly = 0
[L]CURPRO = "OPEUOM"
Gosub _LNKPRO_OPEUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEUOM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEUOM"
$_LNKPRO_OPEUOM
If vireblc(this.OPEUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.OPEUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_OPEUOM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$isMandatory","true")
Return


####################################################################
# 15 : OPESTUCOE STK-OPE conversion ( Field COE 0)
####################################################################

$SET_OPESTUCOE
If [L]_AOLDVAL<>this.OPESTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESTUCOE
 Gosub PROPAGATE_OPESTUCOE
Endif
Return

$INIT_OPESTUCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPESTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESTUCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPESTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
Return

$_AOTHERS_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
Return

$PROPAGATE_OPESTUCOE
this.isReadonly = 0
[L]CURPRO = "OPESTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESTUCOE
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPESTUCOE"
$_LNKPRO_OPESTUCOE
Return


####################################################################
# 16 : OPESTUFOR STK-OPE coeff form. ( Field FOR 3)
####################################################################

$SET_OPESTUFOR
If [L]_AOLDVAL<>this.OPESTUFOR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESTUFOR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESTUFOR
 Gosub PROPAGATE_OPESTUFOR
Endif
Return

$INIT_OPESTUFOR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPESTUFOR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESTUFOR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPESTUFOR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESTUFOR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESTUFOR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESTUFOR
[L]CURPRO = "OPESTUFOR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPESTUFOR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESTUFOR
[L]CURPRO = "OPESTUFOR"
If vireblc(this.OPESTUFOR,2)<>vireblc(format$("K:3c",this.OPESTUFOR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPESTUFOR
[L]CURPRO = "OPESTUFOR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESTUFOR
[L]CURPRO = "OPESTUFOR"
If vireblc(this.OPESTUFOR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFOR.ACTRLREF(this,"OPESTUFOR",this.OPESTUFOR,2,this.OPESTUFOR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OPESTUFOR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_OPESTUFOR
this.isReadonly = 0
[L]CURPRO = "OPESTUFOR"
Gosub _LNKPRO_OPESTUFOR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESTUFOR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPESTUFOR"
$_LNKPRO_OPESTUFOR
If vireblc(this.OPESTUFOR,2)<>""
 # Link TABFOR
 Local File TABFOR [WTFO]
 Read [F:WTFO]TFO0 = 2;this.OPESTUFOR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABFOR" & ZONE="DESSHO" & IDENT1=[F:WTFO]FORNUM & IDENT2=[F:WTFO]FORCOD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPESTUFOR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABFOR" & ZONE="DES" & IDENT1=[F:WTFO]FORNUM & IDENT2=[F:WTFO]FORCOD & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPESTUFOR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTFO]
Endif
Return


####################################################################
# 17 : OPEPLNNUM Operation plan ( Field A 20)
####################################################################

$SET_OPEPLNNUM
If [L]_AOLDVAL<>this.OPEPLNNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEPLNNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEPLNNUM
 Gosub PROPAGATE_OPEPLNNUM
Endif
Return

$INIT_OPEPLNNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEPLNNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEPLNNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEPLNNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEPLNNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEPLNNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEPLNNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
Return

$_AOTHERS_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
Return

$PROPAGATE_OPEPLNNUM
this.isReadonly = 0
[L]CURPRO = "OPEPLNNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEPLNNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEPLNNUM"
$_LNKPRO_OPEPLNNUM
Return


####################################################################
# 18 : OPEROUPCT Operation image ( Field A 20)
####################################################################

$SET_OPEROUPCT
If [L]_AOLDVAL<>this.OPEROUPCT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEROUPCT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEROUPCT
 Gosub PROPAGATE_OPEROUPCT
Endif
Return

$INIT_OPEROUPCT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEROUPCT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEROUPCT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEROUPCT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEROUPCT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEROUPCT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEROUPCT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
Return

$_AOTHERS_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
Return

$PROPAGATE_OPEROUPCT
this.isReadonly = 0
[L]CURPRO = "OPEROUPCT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEROUPCT
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "OPEROUPCT"
$_LNKPRO_OPEROUPCT
Return


####################################################################
# 19 : ROOTEX Operation text ( Field TXC 12)
####################################################################

$SET_ROOTEX
If [L]_AOLDVAL<>this.ROOTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROOTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROOTEX
 Gosub PROPAGATE_ROOTEX
Endif
Return

$INIT_ROOTEX
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROOTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ROOTEX
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROOTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROOTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROOTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROOTEX
[L]CURPRO = "ROOTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ROOTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROOTEX
[L]CURPRO = "ROOTEX"
If vireblc(this.ROOTEX,2)<>vireblc(format$("K:12X",this.ROOTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ROOTEX
[L]CURPRO = "ROOTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROOTEX
[L]CURPRO = "ROOTEX"
Return

$PROPAGATE_ROOTEX
this.isReadonly = 0
[L]CURPRO = "ROOTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROOTEX
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROOTEX"
$_LNKPRO_ROOTEX
Return


####################################################################
# 20 : TECCRD Technical sheet ( Field A 8)
####################################################################

$SET_TECCRD
If [L]_AOLDVAL<>this.TECCRD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TECCRD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TECCRD
 Gosub PROPAGATE_TECCRD
Endif
Return

$INIT_TECCRD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "TECCRD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TECCRD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "TECCRD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TECCRD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TECCRD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TECCRD
[L]CURPRO = "TECCRD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TECCRD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TECCRD
[L]CURPRO = "TECCRD"
Return

$_AOTHERS_TECCRD
[L]CURPRO = "TECCRD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TECCRD
[L]CURPRO = "TECCRD"
Return

$PROPAGATE_TECCRD
this.isReadonly = 0
[L]CURPRO = "TECCRD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TECCRD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "TECCRD"
$_LNKPRO_TECCRD
Return


####################################################################
# 21 : EQUNUM Tools ( Field ITM 20)
####################################################################

$SET_EQUNUM
If [L]_AOLDVAL<>this.EQUNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EQUNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EQUNUM
 Gosub PROPAGATE_EQUNUM
Endif
Return

$INIT_EQUNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "EQUNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EQUNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "EQUNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EQUNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EQUNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EQUNUM
[L]CURPRO = "EQUNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EQUNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EQUNUM
[L]CURPRO = "EQUNUM"
If vireblc(this.EQUNUM,2)<>vireblc(format$("K:20c",this.EQUNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EQUNUM
[L]CURPRO = "EQUNUM"
If vireblc(this.EQUNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"EQUNUM",this.EQUNUM,this.EQUNUM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.EQUNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EQUNUM
[L]CURPRO = "EQUNUM"
Return

$PROPAGATE_EQUNUM
this.isReadonly = 0
[L]CURPRO = "EQUNUM"
Gosub _LNKPRO_EQUNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EQUNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "EQUNUM"
$_LNKPRO_EQUNUM
If vireblc(this.EQUNUM,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.EQUNUM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EQUNUM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return


####################################################################
# 22 : FXGNUM Fixture ( Field A 20)
####################################################################

$SET_FXGNUM
If [L]_AOLDVAL<>this.FXGNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FXGNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FXGNUM
 Gosub PROPAGATE_FXGNUM
Endif
Return

$INIT_FXGNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "FXGNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FXGNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "FXGNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FXGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FXGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FXGNUM
[L]CURPRO = "FXGNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FXGNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FXGNUM
[L]CURPRO = "FXGNUM"
Return

$_AOTHERS_FXGNUM
[L]CURPRO = "FXGNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FXGNUM
[L]CURPRO = "FXGNUM"
Return

$PROPAGATE_FXGNUM
this.isReadonly = 0
[L]CURPRO = "FXGNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FXGNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "FXGNUM"
$_LNKPRO_FXGNUM
Return


####################################################################
# 23 : PRGNUM Program ( Field A 20)
####################################################################

$SET_PRGNUM
If [L]_AOLDVAL<>this.PRGNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRGNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRGNUM
 Gosub PROPAGATE_PRGNUM
Endif
Return

$INIT_PRGNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "PRGNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRGNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "PRGNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRGNUM
[L]CURPRO = "PRGNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PRGNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRGNUM
[L]CURPRO = "PRGNUM"
Return

$_AOTHERS_PRGNUM
[L]CURPRO = "PRGNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRGNUM
[L]CURPRO = "PRGNUM"
Return

$PROPAGATE_PRGNUM
this.isReadonly = 0
[L]CURPRO = "PRGNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRGNUM
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "PRGNUM"
$_LNKPRO_PRGNUM
Return


####################################################################
# 24 : WSTNBR Number of resources ( Field C 2)
####################################################################

$SET_WSTNBR
If [L]_AOLDVAL<>this.WSTNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WSTNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WSTNBR
 Gosub PROPAGATE_WSTNBR
Endif
Return

$INIT_WSTNBR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "WSTNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WSTNBR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "WSTNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WSTNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WSTNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WSTNBR
[L]CURPRO = "WSTNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.WSTNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WSTNBR
[L]CURPRO = "WSTNBR"
Return

$_AOTHERS_WSTNBR
[L]CURPRO = "WSTNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WSTNBR
[L]CURPRO = "WSTNBR"
Return

$PROPAGATE_WSTNBR
this.isReadonly = 0
[L]CURPRO = "WSTNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WSTNBR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "WSTNBR"
$_LNKPRO_WSTNBR
Return


####################################################################
# 25 : LABNBR Number labor res. ( Field C 2)
####################################################################

$SET_LABNBR
If [L]_AOLDVAL<>this.LABNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LABNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LABNBR
 Gosub PROPAGATE_LABNBR
Endif
Return

$INIT_LABNBR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "LABNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LABNBR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "LABNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LABNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LABNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LABNBR
[L]CURPRO = "LABNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LABNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LABNBR
[L]CURPRO = "LABNBR"
Return

$_AOTHERS_LABNBR
[L]CURPRO = "LABNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LABNBR
[L]CURPRO = "LABNBR"
Return

$PROPAGATE_LABNBR
this.isReadonly = 0
[L]CURPRO = "LABNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LABNBR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "LABNBR"
$_LNKPRO_LABNBR
Return


####################################################################
# 26 : EFF % efficiency ( Field DCB 3)
####################################################################

$SET_EFF
If [L]_AOLDVAL<>this.EFF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EFF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EFF
 Gosub PROPAGATE_EFF
Endif
Return

$INIT_EFF
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "EFF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EFF
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "EFF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EFF                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EFF                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EFF
[L]CURPRO = "EFF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EFF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EFF
[L]CURPRO = "EFF"
Return

$_AOTHERS_EFF
[L]CURPRO = "EFF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EFF
[L]CURPRO = "EFF"
Return

$PROPAGATE_EFF
this.isReadonly = 0
[L]CURPRO = "EFF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EFF
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "EFF"
$_LNKPRO_EFF
Return


####################################################################
# 27 : SHR Shrinkage in % ( Field DCB 3)
####################################################################

$SET_SHR
If [L]_AOLDVAL<>this.SHR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHR
 Gosub PROPAGATE_SHR
Endif
Return

$INIT_SHR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "SHR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "SHR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHR
[L]CURPRO = "SHR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SHR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHR
[L]CURPRO = "SHR"
Return

$_AOTHERS_SHR
[L]CURPRO = "SHR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHR
[L]CURPRO = "SHR"
Return

$PROPAGATE_SHR
this.isReadonly = 0
[L]CURPRO = "SHR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHR
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "SHR"
$_LNKPRO_SHR
Return


####################################################################
# 28 : ROOTIMCOD Operation time code ( Field Local menu number 312)
####################################################################

$SET_ROOTIMCOD
If [L]_AOLDVAL<>this.ROOTIMCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROOTIMCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROOTIMCOD
 Gosub PROPAGATE_ROOTIMCOD
Endif
Return

$INIT_ROOTIMCOD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROOTIMCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ROOTIMCOD=0 and fmet this.AGETATTRIBUTE("ROOTIMCOD","$isMandatory")="true"
 this.ROOTIMCOD = 1
Endif
Return
 
$CONTROL_ROOTIMCOD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROOTIMCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROOTIMCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROOTIMCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ROOTIMCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
If this.ROOTIMCOD<0 or this.ROOTIMCOD>len(mess(0,312,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"312 ->"-num$(this.ROOTIMCOD)-mess(99,123,1)):  Return : # Local menu "312 -> Invalid option
Endif
Return

$_AOTHERS_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
Return

$PROPAGATE_ROOTIMCOD
this.isReadonly = 0
[L]CURPRO = "ROOTIMCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROOTIMCOD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "ROOTIMCOD"
$_LNKPRO_ROOTIMCOD
Return


####################################################################
# 29 : TIMCOD Management unit ( Field Local menu number 303)
####################################################################

$SET_TIMCOD
If [L]_AOLDVAL<>this.TIMCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TIMCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TIMCOD
 Gosub PROPAGATE_TIMCOD
Endif
Return

$INIT_TIMCOD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "TIMCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TIMCOD=0 and fmet this.AGETATTRIBUTE("TIMCOD","$isMandatory")="true"
 this.TIMCOD = 1
Endif
Return
 
$CONTROL_TIMCOD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "TIMCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TIMCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TIMCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TIMCOD
[L]CURPRO = "TIMCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TIMCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TIMCOD
[L]CURPRO = "TIMCOD"
If this.TIMCOD<0 or this.TIMCOD>len(mess(0,303,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"303 ->"-num$(this.TIMCOD)-mess(99,123,1)):  Return : # Local menu "303 -> Invalid option
Endif
Return

$_AOTHERS_TIMCOD
[L]CURPRO = "TIMCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TIMCOD
[L]CURPRO = "TIMCOD"
Return

$PROPAGATE_TIMCOD
this.isReadonly = 0
[L]CURPRO = "TIMCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TIMCOD
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "TIMCOD"
$_LNKPRO_TIMCOD
Return


####################################################################
# 30 : BASQTY Base quantity ( Field QTY 0)
####################################################################

$SET_BASQTY
If [L]_AOLDVAL<>this.BASQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASQTY
 Gosub PROPAGATE_BASQTY
Endif
Return

$INIT_BASQTY
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "BASQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BASQTY
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "BASQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASQTY
[L]CURPRO = "BASQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASQTY
[L]CURPRO = "BASQTY"
Return

$_AOTHERS_BASQTY
[L]CURPRO = "BASQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASQTY
[L]CURPRO = "BASQTY"
Return

$PROPAGATE_BASQTY
this.isReadonly = 0
[L]CURPRO = "BASQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASQTY
Gosub DECLARE_VAR From WMC0ROUOPE
[L]CURPRO = "BASQTY"
$_LNKPRO_BASQTY
Return




