#<AdxTL>@(#)0.0.0.0 $Revision$Class Asset
# Supervisor
## ACLA-CLASSE ## FXDASSETS
# 2018-08-27 12:32:03 129

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 91 : IVCVATRAT Rate of VAT invoiced ( Field RAT 0)
####################################################################

$SET_IVCVATRAT
If [L]_AOLDVAL<>this.IVCVATRAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVCVATRAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVCVATRAT
 Gosub PROPAGATE_IVCVATRAT
Endif
Return

$INIT_IVCVATRAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATRAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IVCVATRAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATRAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVCVATRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVCVATRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVCVATRAT
[L]CURPRO = "IVCVATRAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVCVATRAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVCVATRAT
[L]CURPRO = "IVCVATRAT"
Return

$_AOTHERS_IVCVATRAT
[L]CURPRO = "IVCVATRAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVCVATRAT
[L]CURPRO = "IVCVATRAT"
Return

$PROPAGATE_IVCVATRAT
this.isReadonly = 0
[L]CURPRO = "IVCVATRAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVCVATRAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATRAT"
$_LNKPRO_IVCVATRAT
Return


####################################################################
# 92 : IVCVATAMT Invoiced VAT amount ( Field MD1 0)
####################################################################

$SET_IVCVATAMT
If [L]_AOLDVAL<>this.IVCVATAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVCVATAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVCVATAMT
 Gosub PROPAGATE_IVCVATAMT
Endif
Return

$INIT_IVCVATAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IVCVATAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVCVATAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVCVATAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVCVATAMT
[L]CURPRO = "IVCVATAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVCVATAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVCVATAMT
[L]CURPRO = "IVCVATAMT"
Return

$_AOTHERS_IVCVATAMT
[L]CURPRO = "IVCVATAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"IVCVATAMT",this.IVCVATAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVCVATAMT
[L]CURPRO = "IVCVATAMT"
Return

$PROPAGATE_IVCVATAMT
this.isReadonly = 0
[L]CURPRO = "IVCVATAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVCVATAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATAMT"
$_LNKPRO_IVCVATAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"IVCVATAMT",this.IVCVATAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("IVCVATAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 93 : IVCVATFLG Forced invoiced VAT amount flag ( Field Local menu number 1)
####################################################################

$SET_IVCVATFLG
If [L]_AOLDVAL<>this.IVCVATFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVCVATFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVCVATFLG
 Gosub PROPAGATE_IVCVATFLG
Endif
Return

$INIT_IVCVATFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IVCVATFLG=0 and fmet this.AGETATTRIBUTE("IVCVATFLG","$isMandatory")="true"
 this.IVCVATFLG = 1
Endif
Return
 
$CONTROL_IVCVATFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVCVATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVCVATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVCVATFLG
[L]CURPRO = "IVCVATFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVCVATFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVCVATFLG
[L]CURPRO = "IVCVATFLG"
If this.IVCVATFLG<0 or this.IVCVATFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.IVCVATFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_IVCVATFLG
[L]CURPRO = "IVCVATFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVCVATFLG
[L]CURPRO = "IVCVATFLG"
Return

$PROPAGATE_IVCVATFLG
this.isReadonly = 0
[L]CURPRO = "IVCVATFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVCVATFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATFLG"
$_LNKPRO_IVCVATFLG
Return


####################################################################
# 94 : DEDVATRAT Recovered VAT rate ( Field RAT 0)
####################################################################

$SET_DEDVATRAT
If [L]_AOLDVAL<>this.DEDVATRAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDVATRAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDVATRAT
 Gosub PROPAGATE_DEDVATRAT
Endif
Return

$INIT_DEDVATRAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATRAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDVATRAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATRAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDVATRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDVATRAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDVATRAT
[L]CURPRO = "DEDVATRAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDVATRAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDVATRAT
[L]CURPRO = "DEDVATRAT"
Return

$_AOTHERS_DEDVATRAT
[L]CURPRO = "DEDVATRAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDVATRAT
[L]CURPRO = "DEDVATRAT"
Return

$PROPAGATE_DEDVATRAT
this.isReadonly = 0
[L]CURPRO = "DEDVATRAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDVATRAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATRAT"
$_LNKPRO_DEDVATRAT
Return


####################################################################
# 95 : DEDVATAMT Recovered VAT amt ( Field MD1 0)
####################################################################

$SET_DEDVATAMT
If [L]_AOLDVAL<>this.DEDVATAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDVATAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDVATAMT
 Gosub PROPAGATE_DEDVATAMT
Endif
Return

$INIT_DEDVATAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDVATAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDVATAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDVATAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDVATAMT
[L]CURPRO = "DEDVATAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDVATAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDVATAMT
[L]CURPRO = "DEDVATAMT"
Return

$_AOTHERS_DEDVATAMT
[L]CURPRO = "DEDVATAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDVATAMT",this.DEDVATAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDVATAMT
[L]CURPRO = "DEDVATAMT"
Return

$PROPAGATE_DEDVATAMT
this.isReadonly = 0
[L]CURPRO = "DEDVATAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDVATAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATAMT"
$_LNKPRO_DEDVATAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDVATAMT",this.DEDVATAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDVATAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 96 : DEDVATFLG Recovered VAT amt forced flag ( Field Local menu number 1)
####################################################################

$SET_DEDVATFLG
If [L]_AOLDVAL<>this.DEDVATFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDVATFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDVATFLG
 Gosub PROPAGATE_DEDVATFLG
Endif
Return

$INIT_DEDVATFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DEDVATFLG=0 and fmet this.AGETATTRIBUTE("DEDVATFLG","$isMandatory")="true"
 this.DEDVATFLG = 1
Endif
Return
 
$CONTROL_DEDVATFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDVATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDVATFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDVATFLG
[L]CURPRO = "DEDVATFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDVATFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDVATFLG
[L]CURPRO = "DEDVATFLG"
If this.DEDVATFLG<0 or this.DEDVATFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.DEDVATFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_DEDVATFLG
[L]CURPRO = "DEDVATFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDVATFLG
[L]CURPRO = "DEDVATFLG"
Return

$PROPAGATE_DEDVATFLG
this.isReadonly = 0
[L]CURPRO = "DEDVATFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDVATFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATFLG"
$_LNKPRO_DEDVATFLG
Return


####################################################################
# 97 : IVCVATRATI Invoiced VAT rate IAS/IFRS ( Field RAT 0)
####################################################################

$SET_IVCVATRATI
If [L]_AOLDVAL<>this.IVCVATRATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVCVATRATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVCVATRATI
 Gosub PROPAGATE_IVCVATRATI
Endif
Return

$INIT_IVCVATRATI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATRATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IVCVATRATI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATRATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVCVATRATI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVCVATRATI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVCVATRATI
[L]CURPRO = "IVCVATRATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVCVATRATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVCVATRATI
[L]CURPRO = "IVCVATRATI"
Return

$_AOTHERS_IVCVATRATI
[L]CURPRO = "IVCVATRATI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVCVATRATI
[L]CURPRO = "IVCVATRATI"
Return

$PROPAGATE_IVCVATRATI
this.isReadonly = 0
[L]CURPRO = "IVCVATRATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVCVATRATI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATRATI"
$_LNKPRO_IVCVATRATI
Return


####################################################################
# 98 : IVCVATAMTI IAS/IFRS inv VAT ( Field MD1 0)
####################################################################

$SET_IVCVATAMTI
If [L]_AOLDVAL<>this.IVCVATAMTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVCVATAMTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVCVATAMTI
 Gosub PROPAGATE_IVCVATAMTI
Endif
Return

$INIT_IVCVATAMTI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATAMTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IVCVATAMTI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATAMTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVCVATAMTI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVCVATAMTI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVCVATAMTI
[L]CURPRO = "IVCVATAMTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVCVATAMTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVCVATAMTI
[L]CURPRO = "IVCVATAMTI"
Return

$_AOTHERS_IVCVATAMTI
[L]CURPRO = "IVCVATAMTI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"IVCVATAMTI",this.IVCVATAMTI,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVCVATAMTI
[L]CURPRO = "IVCVATAMTI"
Return

$PROPAGATE_IVCVATAMTI
this.isReadonly = 0
[L]CURPRO = "IVCVATAMTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVCVATAMTI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATAMTI"
$_LNKPRO_IVCVATAMTI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"IVCVATAMTI",this.IVCVATAMTI,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("IVCVATAMTI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 99 : IVCVATFLGI Flag forced invoiced VAT IAS/IFRS ( Field Local menu number 1)
####################################################################

$SET_IVCVATFLGI
If [L]_AOLDVAL<>this.IVCVATFLGI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IVCVATFLGI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IVCVATFLGI
 Gosub PROPAGATE_IVCVATFLGI
Endif
Return

$INIT_IVCVATFLGI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATFLGI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IVCVATFLGI=0 and fmet this.AGETATTRIBUTE("IVCVATFLGI","$isMandatory")="true"
 this.IVCVATFLGI = 1
Endif
Return
 
$CONTROL_IVCVATFLGI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATFLGI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IVCVATFLGI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IVCVATFLGI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IVCVATFLGI
[L]CURPRO = "IVCVATFLGI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IVCVATFLGI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IVCVATFLGI
[L]CURPRO = "IVCVATFLGI"
If this.IVCVATFLGI<0 or this.IVCVATFLGI>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.IVCVATFLGI)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_IVCVATFLGI
[L]CURPRO = "IVCVATFLGI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IVCVATFLGI
[L]CURPRO = "IVCVATFLGI"
Return

$PROPAGATE_IVCVATFLGI
this.isReadonly = 0
[L]CURPRO = "IVCVATFLGI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IVCVATFLGI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IVCVATFLGI"
$_LNKPRO_IVCVATFLGI
Return


####################################################################
# 100 : DEDVATRATI Recov VAT rate IAS/IFRS ( Field RAT 0)
####################################################################

$SET_DEDVATRATI
If [L]_AOLDVAL<>this.DEDVATRATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDVATRATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDVATRATI
 Gosub PROPAGATE_DEDVATRATI
Endif
Return

$INIT_DEDVATRATI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATRATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDVATRATI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATRATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDVATRATI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDVATRATI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDVATRATI
[L]CURPRO = "DEDVATRATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDVATRATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDVATRATI
[L]CURPRO = "DEDVATRATI"
Return

$_AOTHERS_DEDVATRATI
[L]CURPRO = "DEDVATRATI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDVATRATI
[L]CURPRO = "DEDVATRATI"
Return

$PROPAGATE_DEDVATRATI
this.isReadonly = 0
[L]CURPRO = "DEDVATRATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDVATRATI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATRATI"
$_LNKPRO_DEDVATRATI
Return


####################################################################
# 101 : DEDVATAMTI Recovered VAT amount IAS/IFRS ( Field MD1 0)
####################################################################

$SET_DEDVATAMTI
If [L]_AOLDVAL<>this.DEDVATAMTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDVATAMTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDVATAMTI
 Gosub PROPAGATE_DEDVATAMTI
Endif
Return

$INIT_DEDVATAMTI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATAMTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEDVATAMTI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATAMTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDVATAMTI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDVATAMTI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDVATAMTI
[L]CURPRO = "DEDVATAMTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDVATAMTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDVATAMTI
[L]CURPRO = "DEDVATAMTI"
Return

$_AOTHERS_DEDVATAMTI
[L]CURPRO = "DEDVATAMTI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"DEDVATAMTI",this.DEDVATAMTI,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDVATAMTI
[L]CURPRO = "DEDVATAMTI"
Return

$PROPAGATE_DEDVATAMTI
this.isReadonly = 0
[L]CURPRO = "DEDVATAMTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDVATAMTI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATAMTI"
$_LNKPRO_DEDVATAMTI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"DEDVATAMTI",this.DEDVATAMTI,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("DEDVATAMTI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 102 : DEDVATFLGI Flag forced recov VAT IAS/IFRS ( Field Local menu number 1)
####################################################################

$SET_DEDVATFLGI
If [L]_AOLDVAL<>this.DEDVATFLGI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEDVATFLGI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEDVATFLGI
 Gosub PROPAGATE_DEDVATFLGI
Endif
Return

$INIT_DEDVATFLGI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATFLGI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DEDVATFLGI=0 and fmet this.AGETATTRIBUTE("DEDVATFLGI","$isMandatory")="true"
 this.DEDVATFLGI = 1
Endif
Return
 
$CONTROL_DEDVATFLGI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATFLGI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEDVATFLGI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEDVATFLGI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEDVATFLGI
[L]CURPRO = "DEDVATFLGI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEDVATFLGI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEDVATFLGI
[L]CURPRO = "DEDVATFLGI"
If this.DEDVATFLGI<0 or this.DEDVATFLGI>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.DEDVATFLGI)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_DEDVATFLGI
[L]CURPRO = "DEDVATFLGI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEDVATFLGI
[L]CURPRO = "DEDVATFLGI"
Return

$PROPAGATE_DEDVATFLGI
this.isReadonly = 0
[L]CURPRO = "DEDVATFLGI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEDVATFLGI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DEDVATFLGI"
$_LNKPRO_DEDVATFLGI
Return


####################################################################
# 103 : AASIPTDAT Accounting allocation date ( Field D4)
####################################################################

$SET_AASIPTDAT
If [L]_AOLDVAL<>this.AASIPTDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AASIPTDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AASIPTDAT
 Gosub PROPAGATE_AASIPTDAT
Endif
Return

$INIT_AASIPTDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASIPTDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AASIPTDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASIPTDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AASIPTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AASIPTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AASIPTDAT
[L]CURPRO = "AASIPTDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AASIPTDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AASIPTDAT
[L]CURPRO = "AASIPTDAT"
Return

$_AOTHERS_AASIPTDAT
[L]CURPRO = "AASIPTDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AASIPTDAT
[L]CURPRO = "AASIPTDAT"
Return

$PROPAGATE_AASIPTDAT
this.isReadonly = 0
[L]CURPRO = "AASIPTDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AASIPTDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASIPTDAT"
$_LNKPRO_AASIPTDAT
Return


####################################################################
# 104 : GRAAMT Subsidy amount ( Field MD1 0)
####################################################################

$SET_GRAAMT
If [L]_AOLDVAL<>this.GRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GRAAMT
 Gosub PROPAGATE_GRAAMT
Endif
Return

$INIT_GRAAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GRAAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GRAAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GRAAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GRAAMT
[L]CURPRO = "GRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GRAAMT
[L]CURPRO = "GRAAMT"
Return

$_AOTHERS_GRAAMT
[L]CURPRO = "GRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"GRAAMT",this.GRAAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GRAAMT
[L]CURPRO = "GRAAMT"
Return

$PROPAGATE_GRAAMT
this.isReadonly = 0
[L]CURPRO = "GRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GRAAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GRAAMT"
$_LNKPRO_GRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"GRAAMT",this.GRAAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("GRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 105 : CRBGRAAMT Reintegrated subsidy amount ( Field MD1 0)
####################################################################

$SET_CRBGRAAMT
If [L]_AOLDVAL<>this.CRBGRAAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRBGRAAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRBGRAAMT
 Gosub PROPAGATE_CRBGRAAMT
Endif
Return

$INIT_CRBGRAAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CRBGRAAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRBGRAAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CRBGRAAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRBGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRBGRAAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CRBGRAAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
Return

$_AOTHERS_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"CRBGRAAMT",this.CRBGRAAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRBGRAAMT
[L]CURPRO = "CRBGRAAMT"
Return

$PROPAGATE_CRBGRAAMT
this.isReadonly = 0
[L]CURPRO = "CRBGRAAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRBGRAAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CRBGRAAMT"
$_LNKPRO_CRBGRAAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"CRBGRAAMT",this.CRBGRAAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CRBGRAAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 106 : CRBGRACUM Reintegrated subsidy amt. total ( Field MD1 0)
####################################################################

$SET_CRBGRACUM
If [L]_AOLDVAL<>this.CRBGRACUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRBGRACUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRBGRACUM
 Gosub PROPAGATE_CRBGRACUM
Endif
Return

$INIT_CRBGRACUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CRBGRACUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRBGRACUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CRBGRACUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRBGRACUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRBGRACUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CRBGRACUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
Return

$_AOTHERS_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"CRBGRACUM",this.CRBGRACUM,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRBGRACUM
[L]CURPRO = "CRBGRACUM"
Return

$PROPAGATE_CRBGRACUM
this.isReadonly = 0
[L]CURPRO = "CRBGRACUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRBGRACUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "CRBGRACUM"
$_LNKPRO_CRBGRACUM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"CRBGRACUM",this.CRBGRACUM,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CRBGRACUM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 107 : AASBUS Activity sector ( Field VC9 20)
####################################################################

$SET_AASBUS
If [L]_AOLDVAL<>this.AASBUS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AASBUS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AASBUS
 Gosub PROPAGATE_AASBUS
Endif
Return

$INIT_AASBUS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASBUS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AASBUS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASBUS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AASBUS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AASBUS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AASBUS
[L]CURPRO = "AASBUS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.AASBUS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AASBUS
[L]CURPRO = "AASBUS"
If vireblc(this.AASBUS,2)<>vireblc(format$("K:20c",this.AASBUS),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_AASBUS
[L]CURPRO = "AASBUS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AASBUS
[L]CURPRO = "AASBUS"
Return

$PROPAGATE_AASBUS
this.isReadonly = 0
[L]CURPRO = "AASBUS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AASBUS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "AASBUS"
$_LNKPRO_AASBUS
Return


####################################################################
# 108 : INIDEDVAT Recovered VAT initial rate ( Field RAT 0)
####################################################################

$SET_INIDEDVAT
If [L]_AOLDVAL<>this.INIDEDVAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INIDEDVAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INIDEDVAT
 Gosub PROPAGATE_INIDEDVAT
Endif
Return

$INIT_INIDEDVAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "INIDEDVAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INIDEDVAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "INIDEDVAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INIDEDVAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INIDEDVAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INIDEDVAT
[L]CURPRO = "INIDEDVAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INIDEDVAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INIDEDVAT
[L]CURPRO = "INIDEDVAT"
Return

$_AOTHERS_INIDEDVAT
[L]CURPRO = "INIDEDVAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INIDEDVAT
[L]CURPRO = "INIDEDVAT"
Return

$PROPAGATE_INIDEDVAT
this.isReadonly = 0
[L]CURPRO = "INIDEDVAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INIDEDVAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "INIDEDVAT"
$_LNKPRO_INIDEDVAT
Return


####################################################################
# 109 : VATYEAFLG Yearly adjustment index ( Field Local menu number 1)
####################################################################

$SET_VATYEAFLG
If [L]_AOLDVAL<>this.VATYEAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATYEAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATYEAFLG
 Gosub PROPAGATE_VATYEAFLG
Endif
Return

$INIT_VATYEAFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATYEAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.VATYEAFLG=0 and fmet this.AGETATTRIBUTE("VATYEAFLG","$isMandatory")="true"
 this.VATYEAFLG = 1
Endif
Return
 
$CONTROL_VATYEAFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATYEAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATYEAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATYEAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATYEAFLG
[L]CURPRO = "VATYEAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATYEAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATYEAFLG
[L]CURPRO = "VATYEAFLG"
If this.VATYEAFLG<0 or this.VATYEAFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.VATYEAFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_VATYEAFLG
[L]CURPRO = "VATYEAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATYEAFLG
[L]CURPRO = "VATYEAFLG"
Return

$PROPAGATE_VATYEAFLG
this.isReadonly = 0
[L]CURPRO = "VATYEAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATYEAFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATYEAFLG"
$_LNKPRO_VATYEAFLG
Return


####################################################################
# 110 : VATREGDAT VAT adjustmt ref date ( Field D4)
####################################################################

$SET_VATREGDAT
If [L]_AOLDVAL<>this.VATREGDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATREGDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATREGDAT
 Gosub PROPAGATE_VATREGDAT
Endif
Return

$INIT_VATREGDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATREGDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATREGDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATREGDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATREGDAT
[L]CURPRO = "VATREGDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATREGDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATREGDAT
[L]CURPRO = "VATREGDAT"
Return

$_AOTHERS_VATREGDAT
[L]CURPRO = "VATREGDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATREGDAT
[L]CURPRO = "VATREGDAT"
Return

$PROPAGATE_VATREGDAT
this.isReadonly = 0
[L]CURPRO = "VATREGDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATREGDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDAT"
$_LNKPRO_VATREGDAT
Return


####################################################################
# 111 : THESLI Theo holding duration ( Field DUR 0)
####################################################################

$SET_THESLI
If [L]_AOLDVAL<>this.THESLI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_THESLI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.THESLI
 Gosub PROPAGATE_THESLI
Endif
Return

$INIT_THESLI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "THESLI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_THESLI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "THESLI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_THESLI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_THESLI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_THESLI
[L]CURPRO = "THESLI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.THESLI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_THESLI
[L]CURPRO = "THESLI"
Return

$_AOTHERS_THESLI
[L]CURPRO = "THESLI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_THESLI
[L]CURPRO = "THESLI"
Return

$PROPAGATE_THESLI
this.isReadonly = 0
[L]CURPRO = "THESLI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_THESLI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "THESLI"
$_LNKPRO_THESLI
Return


####################################################################
# 112 : VATRSD Residual value for VAT adjust. ( Field DUR 0)
####################################################################

$SET_VATRSD
If [L]_AOLDVAL<>this.VATRSD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATRSD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATRSD
 Gosub PROPAGATE_VATRSD
Endif
Return

$INIT_VATRSD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATRSD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATRSD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATRSD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATRSD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATRSD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATRSD
[L]CURPRO = "VATRSD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATRSD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATRSD
[L]CURPRO = "VATRSD"
Return

$_AOTHERS_VATRSD
[L]CURPRO = "VATRSD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATRSD
[L]CURPRO = "VATRSD"
Return

$PROPAGATE_VATRSD
this.isReadonly = 0
[L]CURPRO = "VATRSD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATRSD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATRSD"
$_LNKPRO_VATRSD
Return


####################################################################
# 113 : VATREGAMT VAT adjust repayment - GCoA ( Field MD1 0)
####################################################################

$SET_VATREGAMT
If [L]_AOLDVAL<>this.VATREGAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATREGAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATREGAMT
 Gosub PROPAGATE_VATREGAMT
Endif
Return

$INIT_VATREGAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATREGAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATREGAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATREGAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATREGAMT
[L]CURPRO = "VATREGAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATREGAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATREGAMT
[L]CURPRO = "VATREGAMT"
Return

$_AOTHERS_VATREGAMT
[L]CURPRO = "VATREGAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"VATREGAMT",this.VATREGAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATREGAMT
[L]CURPRO = "VATREGAMT"
Return

$PROPAGATE_VATREGAMT
this.isReadonly = 0
[L]CURPRO = "VATREGAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATREGAMT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGAMT"
$_LNKPRO_VATREGAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"VATREGAMT",this.VATREGAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("VATREGAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 114 : VATREGDED VAT adjust add. deduct. - GCoA ( Field MD1 0)
####################################################################

$SET_VATREGDED
If [L]_AOLDVAL<>this.VATREGDED
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATREGDED
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATREGDED
 Gosub PROPAGATE_VATREGDED
Endif
Return

$INIT_VATREGDED
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDED"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATREGDED
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDED"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATREGDED             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATREGDED             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATREGDED
[L]CURPRO = "VATREGDED"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATREGDED=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATREGDED
[L]CURPRO = "VATREGDED"
Return

$_AOTHERS_VATREGDED
[L]CURPRO = "VATREGDED"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"VATREGDED",this.VATREGDED,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATREGDED
[L]CURPRO = "VATREGDED"
Return

$PROPAGATE_VATREGDED
this.isReadonly = 0
[L]CURPRO = "VATREGDED"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATREGDED
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDED"
$_LNKPRO_VATREGDED
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"VATREGDED",this.VATREGDED,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("VATREGDED","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 115 : VATREGCUM CoA VAT adj total ( Field MD1 0)
####################################################################

$SET_VATREGCUM
If [L]_AOLDVAL<>this.VATREGCUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATREGCUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATREGCUM
 Gosub PROPAGATE_VATREGCUM
Endif
Return

$INIT_VATREGCUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGCUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATREGCUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGCUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATREGCUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATREGCUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATREGCUM
[L]CURPRO = "VATREGCUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATREGCUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATREGCUM
[L]CURPRO = "VATREGCUM"
Return

$_AOTHERS_VATREGCUM
[L]CURPRO = "VATREGCUM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"VATREGCUM",this.VATREGCUM,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATREGCUM
[L]CURPRO = "VATREGCUM"
Return

$PROPAGATE_VATREGCUM
this.isReadonly = 0
[L]CURPRO = "VATREGCUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATREGCUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGCUM"
$_LNKPRO_VATREGCUM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"VATREGCUM",this.VATREGCUM,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("VATREGCUM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 116 : IASVATREG VAT adjust Repayment - IAS ( Field MD1 0)
####################################################################

$SET_IASVATREG
If [L]_AOLDVAL<>this.IASVATREG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASVATREG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASVATREG
 Gosub PROPAGATE_IASVATREG
Endif
Return

$INIT_IASVATREG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASVATREG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASVATREG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASVATREG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASVATREG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASVATREG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASVATREG
[L]CURPRO = "IASVATREG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASVATREG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASVATREG
[L]CURPRO = "IASVATREG"
Return

$_AOTHERS_IASVATREG
[L]CURPRO = "IASVATREG"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"IASVATREG",this.IASVATREG,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASVATREG
[L]CURPRO = "IASVATREG"
Return

$PROPAGATE_IASVATREG
this.isReadonly = 0
[L]CURPRO = "IASVATREG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASVATREG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASVATREG"
$_LNKPRO_IASVATREG
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"IASVATREG",this.IASVATREG,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("IASVATREG","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 117 : VATREGDEDI Add. deduct VAT adjust - IAS ( Field MD1 0)
####################################################################

$SET_VATREGDEDI
If [L]_AOLDVAL<>this.VATREGDEDI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATREGDEDI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATREGDEDI
 Gosub PROPAGATE_VATREGDEDI
Endif
Return

$INIT_VATREGDEDI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDEDI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATREGDEDI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDEDI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATREGDEDI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATREGDEDI            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATREGDEDI
[L]CURPRO = "VATREGDEDI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VATREGDEDI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATREGDEDI
[L]CURPRO = "VATREGDEDI"
Return

$_AOTHERS_VATREGDEDI
[L]CURPRO = "VATREGDEDI"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"VATREGDEDI",this.VATREGDEDI,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATREGDEDI
[L]CURPRO = "VATREGDEDI"
Return

$PROPAGATE_VATREGDEDI
this.isReadonly = 0
[L]CURPRO = "VATREGDEDI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATREGDEDI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "VATREGDEDI"
$_LNKPRO_VATREGDEDI
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"VATREGDEDI",this.VATREGDEDI,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("VATREGDEDI","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 118 : IASREGCUM IFRS vat adj total ( Field MD1 0)
####################################################################

$SET_IASREGCUM
If [L]_AOLDVAL<>this.IASREGCUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASREGCUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASREGCUM
 Gosub PROPAGATE_IASREGCUM
Endif
Return

$INIT_IASREGCUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASREGCUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASREGCUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASREGCUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASREGCUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASREGCUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASREGCUM
[L]CURPRO = "IASREGCUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASREGCUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASREGCUM
[L]CURPRO = "IASREGCUM"
Return

$_AOTHERS_IASREGCUM
[L]CURPRO = "IASREGCUM"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"IASREGCUM",this.IASREGCUM,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASREGCUM
[L]CURPRO = "IASREGCUM"
Return

$PROPAGATE_IASREGCUM
this.isReadonly = 0
[L]CURPRO = "IASREGCUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASREGCUM
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASREGCUM"
$_LNKPRO_IASREGCUM
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"IASREGCUM",this.IASREGCUM,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("IASREGCUM","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 119 : BUY Buyer ( Field BPR 15)
####################################################################

$SET_BUY
If [L]_AOLDVAL<>this.BUY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BUY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BUY
 Gosub PROPAGATE_BUY
Endif
Return

$INIT_BUY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "BUY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BUY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "BUY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BUY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BUY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BUY
[L]CURPRO = "BUY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BUY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BUY
[L]CURPRO = "BUY"
If vireblc(this.BUY,2)<>vireblc(format$("K:15c",this.BUY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BUY
[L]CURPRO = "BUY"
If vireblc(this.BUY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BUY",this.BUY,this.BUY,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BUY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BUY
[L]CURPRO = "BUY"
Return

$PROPAGATE_BUY
this.isReadonly = 0
[L]CURPRO = "BUY"
Gosub _LNKPRO_BUY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BUY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "BUY"
$_LNKPRO_BUY
If vireblc(this.BUY,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BUY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BUY","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BUY","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return


####################################################################
# 120 : PYBVATTYP VAT repayment type ( Field Local menu number 3160)
####################################################################

$SET_PYBVATTYP
If [L]_AOLDVAL<>this.PYBVATTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PYBVATTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PYBVATTYP
 Gosub PROPAGATE_PYBVATTYP
Endif
Return

$INIT_PYBVATTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "PYBVATTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PYBVATTYP=0 and fmet this.AGETATTRIBUTE("PYBVATTYP","$isMandatory")="true"
 this.PYBVATTYP = 1
Endif
Return
 
$CONTROL_PYBVATTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "PYBVATTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PYBVATTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PYBVATTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PYBVATTYP
[L]CURPRO = "PYBVATTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PYBVATTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PYBVATTYP
[L]CURPRO = "PYBVATTYP"
If this.PYBVATTYP<0 or this.PYBVATTYP>len(mess(0,3160,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3160 ->"-num$(this.PYBVATTYP)-mess(99,123,1)):  Return : # Local menu "3160 -> Invalid option
Endif
Return

$_AOTHERS_PYBVATTYP
[L]CURPRO = "PYBVATTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PYBVATTYP
[L]CURPRO = "PYBVATTYP"
Return

$PROPAGATE_PYBVATTYP
this.isReadonly = 0
[L]CURPRO = "PYBVATTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PYBVATTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "PYBVATTYP"
$_LNKPRO_PYBVATTYP
Return




