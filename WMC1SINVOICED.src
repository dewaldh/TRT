#<AdxTL>@(#)0.0.0.0 $Revision$Class Sales invoice detail
# Supervisor
## ACLA-CLASSE ## SINVOICED
# 2018-08-27 12:46:42 781


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : NUM Invoice no. ( Field VCR 20)
####################################################################

$SET_NUM
If [L]_AOLDVAL<>this.NUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUM
 Gosub PROPAGATE_NUM
Endif
Return

$INIT_NUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "NUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "NUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUM
[L]CURPRO = "NUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUM
[L]CURPRO = "NUM"
If vireblc(this.NUM,2)<>vireblc(format$("K:20X",this.NUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_NUM
[L]CURPRO = "NUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUM
[L]CURPRO = "NUM"
Return

$PROPAGATE_NUM
this.isReadonly = 0
[L]CURPRO = "NUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "NUM"
$_LNKPRO_NUM
Return

$_ALOADATTRIBUTE_NUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("NUM","$isMandatory","true")
Return


####################################################################
# 2 : SIDLIN Invoice line ( Field L 8)
####################################################################

$SET_SIDLIN
If [L]_AOLDVAL<>this.SIDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SIDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SIDLIN
 Gosub PROPAGATE_SIDLIN
Endif
Return

$INIT_SIDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SIDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SIDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SIDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SIDLIN
[L]CURPRO = "SIDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SIDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SIDLIN
[L]CURPRO = "SIDLIN"
Return

$_AOTHERS_SIDLIN
[L]CURPRO = "SIDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SIDLIN
[L]CURPRO = "SIDLIN"
Return

$PROPAGATE_SIDLIN
this.isReadonly = 0
[L]CURPRO = "SIDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SIDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDLIN"
$_LNKPRO_SIDLIN
Return

$_ALOADATTRIBUTE_SIDLIN
[L]ASTATUS = fmet this.ASETATTRIBUTE("SIDLIN","$isMandatory","true")
Return


####################################################################
# 3 : CURVCR Document currency ( Field CUR 3)
####################################################################

$SET_CURVCR
If [L]_AOLDVAL<>this.CURVCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURVCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURVCR
 Gosub PROPAGATE_CURVCR
Endif
Return

$INIT_CURVCR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CURVCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURVCR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CURVCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURVCR
[L]CURPRO = "CURVCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURVCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURVCR
[L]CURPRO = "CURVCR"
If vireblc(this.CURVCR,2)<>vireblc(format$("K:3c",this.CURVCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURVCR
[L]CURPRO = "CURVCR"
If vireblc(this.CURVCR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CURVCR",this.CURVCR,this.CURVCR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CURVCR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURVCR
[L]CURPRO = "CURVCR"
Return

$PROPAGATE_CURVCR
this.isReadonly = 0
[L]CURPRO = "CURVCR"
Gosub _LNKPRO_CURVCR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURVCR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CURVCR"
$_LNKPRO_CURVCR
If vireblc(this.CURVCR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CURVCR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURVCR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 4 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 5 : CPYCUR Company currency ( Field CUR 3)
####################################################################

$SET_CPYCUR
If [L]_AOLDVAL<>this.CPYCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPYCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPYCUR
 Gosub PROPAGATE_CPYCUR
Endif
Return

$INIT_CPYCUR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CPYCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPYCUR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CPYCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPYCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPYCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPYCUR
[L]CURPRO = "CPYCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPYCUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPYCUR
[L]CURPRO = "CPYCUR"
If vireblc(this.CPYCUR,2)<>vireblc(format$("K:3c",this.CPYCUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPYCUR
[L]CURPRO = "CPYCUR"
If vireblc(this.CPYCUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CPYCUR",this.CPYCUR,this.CPYCUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPYCUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPYCUR
[L]CURPRO = "CPYCUR"
Return

$PROPAGATE_CPYCUR
this.isReadonly = 0
[L]CURPRO = "CPYCUR"
Gosub _LNKPRO_CPYCUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPYCUR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CPYCUR"
$_LNKPRO_CPYCUR
If vireblc(this.CPYCUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CPYCUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CPYCUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CPYCUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPYCUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CPYCUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CPYCUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 6 : SOHNUM Order no. ( Field VCR 20)
####################################################################

$SET_SOHNUM
If [L]_AOLDVAL<>this.SOHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOHNUM
 Gosub PROPAGATE_SOHNUM
Endif
Return

$INIT_SOHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOHNUM
[L]CURPRO = "SOHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SOHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOHNUM
[L]CURPRO = "SOHNUM"
If vireblc(this.SOHNUM,2)<>vireblc(format$("K:20X",this.SOHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SOHNUM
[L]CURPRO = "SOHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOHNUM
[L]CURPRO = "SOHNUM"
Return

$PROPAGATE_SOHNUM
this.isReadonly = 0
[L]CURPRO = "SOHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOHNUM"
$_LNKPRO_SOHNUM
Return


####################################################################
# 7 : SOPLIN Line ( Field L 8)
####################################################################

$SET_SOPLIN
If [L]_AOLDVAL<>this.SOPLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOPLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOPLIN
 Gosub PROPAGATE_SOPLIN
Endif
Return

$INIT_SOPLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOPLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOPLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOPLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOPLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOPLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOPLIN
[L]CURPRO = "SOPLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOPLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOPLIN
[L]CURPRO = "SOPLIN"
Return

$_AOTHERS_SOPLIN
[L]CURPRO = "SOPLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOPLIN
[L]CURPRO = "SOPLIN"
Return

$PROPAGATE_SOPLIN
this.isReadonly = 0
[L]CURPRO = "SOPLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOPLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOPLIN"
$_LNKPRO_SOPLIN
Return


####################################################################
# 8 : SOQSEQ Sequence number ( Field L 8)
####################################################################

$SET_SOQSEQ
If [L]_AOLDVAL<>this.SOQSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOQSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOQSEQ
 Gosub PROPAGATE_SOQSEQ
Endif
Return

$INIT_SOQSEQ
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOQSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOQSEQ
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOQSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOQSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOQSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOQSEQ
[L]CURPRO = "SOQSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOQSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOQSEQ
[L]CURPRO = "SOQSEQ"
Return

$_AOTHERS_SOQSEQ
[L]CURPRO = "SOQSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOQSEQ
[L]CURPRO = "SOQSEQ"
Return

$PROPAGATE_SOQSEQ
this.isReadonly = 0
[L]CURPRO = "SOQSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOQSEQ
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SOQSEQ"
$_LNKPRO_SOQSEQ
Return


####################################################################
# 9 : SDHNUM Delivery no. ( Field VCR 20)
####################################################################

$SET_SDHNUM
If [L]_AOLDVAL<>this.SDHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SDHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SDHNUM
 Gosub PROPAGATE_SDHNUM
Endif
Return

$INIT_SDHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SDHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SDHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SDHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SDHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SDHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SDHNUM
[L]CURPRO = "SDHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SDHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SDHNUM
[L]CURPRO = "SDHNUM"
If vireblc(this.SDHNUM,2)<>vireblc(format$("K:20X",this.SDHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SDHNUM
[L]CURPRO = "SDHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SDHNUM
[L]CURPRO = "SDHNUM"
Return

$PROPAGATE_SDHNUM
this.isReadonly = 0
[L]CURPRO = "SDHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SDHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SDHNUM"
$_LNKPRO_SDHNUM
Return


####################################################################
# 10 : SDDLIN Delivery line ( Field L 8)
####################################################################

$SET_SDDLIN
If [L]_AOLDVAL<>this.SDDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SDDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SDDLIN
 Gosub PROPAGATE_SDDLIN
Endif
Return

$INIT_SDDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SDDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SDDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SDDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SDDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SDDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SDDLIN
[L]CURPRO = "SDDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SDDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SDDLIN
[L]CURPRO = "SDDLIN"
Return

$_AOTHERS_SDDLIN
[L]CURPRO = "SDDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SDDLIN
[L]CURPRO = "SDDLIN"
Return

$PROPAGATE_SDDLIN
this.isReadonly = 0
[L]CURPRO = "SDDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SDDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SDDLIN"
$_LNKPRO_SDDLIN
Return


####################################################################
# 11 : CONNUM Service contract no. ( Field VCR 20)
####################################################################

$SET_CONNUM
If [L]_AOLDVAL<>this.CONNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CONNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CONNUM
 Gosub PROPAGATE_CONNUM
Endif
Return

$INIT_CONNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CONNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CONNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CONNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CONNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CONNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CONNUM
[L]CURPRO = "CONNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CONNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CONNUM
[L]CURPRO = "CONNUM"
If vireblc(this.CONNUM,2)<>vireblc(format$("K:20X",this.CONNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CONNUM
[L]CURPRO = "CONNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CONNUM
[L]CURPRO = "CONNUM"
Return

$PROPAGATE_CONNUM
this.isReadonly = 0
[L]CURPRO = "CONNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CONNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "CONNUM"
$_LNKPRO_CONNUM
Return


####################################################################
# 12 : SRENUM Service request ( Field SRE 20)
####################################################################

$SET_SRENUM
If [L]_AOLDVAL<>this.SRENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SRENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SRENUM
 Gosub PROPAGATE_SRENUM
Endif
Return

$INIT_SRENUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SRENUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SRENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SRENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SRENUM
[L]CURPRO = "SRENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SRENUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SRENUM
[L]CURPRO = "SRENUM"
If vireblc(this.SRENUM,2)<>vireblc(format$("K:20X",this.SRENUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SRENUM
[L]CURPRO = "SRENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SRENUM
[L]CURPRO = "SRENUM"
Return

$PROPAGATE_SRENUM
this.isReadonly = 0
[L]CURPRO = "SRENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SRENUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRENUM"
$_LNKPRO_SRENUM
Return


####################################################################
# 13 : SGHNUM Transfer document ( Field VCR 20)
####################################################################

$SET_SGHNUM
If [L]_AOLDVAL<>this.SGHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SGHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SGHNUM
 Gosub PROPAGATE_SGHNUM
Endif
Return

$INIT_SGHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SGHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SGHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SGHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SGHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SGHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SGHNUM
[L]CURPRO = "SGHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SGHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SGHNUM
[L]CURPRO = "SGHNUM"
If vireblc(this.SGHNUM,2)<>vireblc(format$("K:20X",this.SGHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SGHNUM
[L]CURPRO = "SGHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SGHNUM
[L]CURPRO = "SGHNUM"
Return

$PROPAGATE_SGHNUM
this.isReadonly = 0
[L]CURPRO = "SGHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SGHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SGHNUM"
$_LNKPRO_SGHNUM
Return


####################################################################
# 14 : SIHORINUM Invoice no. ( Field VCR 20)
####################################################################

$SET_SIHORINUM
If [L]_AOLDVAL<>this.SIHORINUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SIHORINUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SIHORINUM
 Gosub PROPAGATE_SIHORINUM
Endif
Return

$INIT_SIHORINUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIHORINUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SIHORINUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIHORINUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SIHORINUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SIHORINUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SIHORINUM
[L]CURPRO = "SIHORINUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SIHORINUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SIHORINUM
[L]CURPRO = "SIHORINUM"
If vireblc(this.SIHORINUM,2)<>vireblc(format$("K:20X",this.SIHORINUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SIHORINUM
[L]CURPRO = "SIHORINUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SIHORINUM
[L]CURPRO = "SIHORINUM"
Return

$PROPAGATE_SIHORINUM
this.isReadonly = 0
[L]CURPRO = "SIHORINUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SIHORINUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIHORINUM"
$_LNKPRO_SIHORINUM
Return


####################################################################
# 15 : SIDORILIN Invoice line ( Field L 8)
####################################################################

$SET_SIDORILIN
If [L]_AOLDVAL<>this.SIDORILIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SIDORILIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SIDORILIN
 Gosub PROPAGATE_SIDORILIN
Endif
Return

$INIT_SIDORILIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDORILIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SIDORILIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDORILIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SIDORILIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SIDORILIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SIDORILIN
[L]CURPRO = "SIDORILIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SIDORILIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SIDORILIN
[L]CURPRO = "SIDORILIN"
Return

$_AOTHERS_SIDORILIN
[L]CURPRO = "SIDORILIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SIDORILIN
[L]CURPRO = "SIDORILIN"
Return

$PROPAGATE_SIDORILIN
this.isReadonly = 0
[L]CURPRO = "SIDORILIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SIDORILIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDORILIN"
$_LNKPRO_SIDORILIN
Return


####################################################################
# 16 : SRHNUM Return no. ( Field VCR 20)
####################################################################

$SET_SRHNUM
If [L]_AOLDVAL<>this.SRHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SRHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SRHNUM
 Gosub PROPAGATE_SRHNUM
Endif
Return

$INIT_SRHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SRHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SRHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SRHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SRHNUM
[L]CURPRO = "SRHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SRHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SRHNUM
[L]CURPRO = "SRHNUM"
If vireblc(this.SRHNUM,2)<>vireblc(format$("K:20X",this.SRHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SRHNUM
[L]CURPRO = "SRHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SRHNUM
[L]CURPRO = "SRHNUM"
Return

$PROPAGATE_SRHNUM
this.isReadonly = 0
[L]CURPRO = "SRHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SRHNUM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRHNUM"
$_LNKPRO_SRHNUM
Return


####################################################################
# 17 : SRDLIN Return line ( Field L 8)
####################################################################

$SET_SRDLIN
If [L]_AOLDVAL<>this.SRDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SRDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SRDLIN
 Gosub PROPAGATE_SRDLIN
Endif
Return

$INIT_SRDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SRDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SRDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SRDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SRDLIN
[L]CURPRO = "SRDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SRDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SRDLIN
[L]CURPRO = "SRDLIN"
Return

$_AOTHERS_SRDLIN
[L]CURPRO = "SRDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SRDLIN
[L]CURPRO = "SRDLIN"
Return

$PROPAGATE_SRDLIN
this.isReadonly = 0
[L]CURPRO = "SRDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SRDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SRDLIN"
$_LNKPRO_SRDLIN
Return


####################################################################
# 18 : PIDLIN Purch invoice line ( Field L 8)
####################################################################

$SET_PIDLIN
If [L]_AOLDVAL<>this.PIDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PIDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PIDLIN
 Gosub PROPAGATE_PIDLIN
Endif
Return

$INIT_PIDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PIDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PIDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PIDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PIDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PIDLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PIDLIN
[L]CURPRO = "PIDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PIDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PIDLIN
[L]CURPRO = "PIDLIN"
Return

$_AOTHERS_PIDLIN
[L]CURPRO = "PIDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PIDLIN
[L]CURPRO = "PIDLIN"
Return

$PROPAGATE_PIDLIN
this.isReadonly = 0
[L]CURPRO = "PIDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PIDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PIDLIN"
$_LNKPRO_PIDLIN
Return


####################################################################
# 19 : VCRINVCNDTYP Due date origin ( Field Local menu number 426)
####################################################################

$SET_VCRINVCNDTYP
If [L]_AOLDVAL<>this.VCRINVCNDTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRINVCNDTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRINVCNDTYP
 Gosub PROPAGATE_VCRINVCNDTYP
Endif
Return

$INIT_VCRINVCNDTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "VCRINVCNDTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.VCRINVCNDTYP=0 and fmet this.AGETATTRIBUTE("VCRINVCNDTYP","$isMandatory")="true"
 this.VCRINVCNDTYP = 1
Endif
Return
 
$CONTROL_VCRINVCNDTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "VCRINVCNDTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRINVCNDTYP          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRINVCNDTYP          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRINVCNDTYP
[L]CURPRO = "VCRINVCNDTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VCRINVCNDTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRINVCNDTYP
[L]CURPRO = "VCRINVCNDTYP"
If this.VCRINVCNDTYP<0 or this.VCRINVCNDTYP>len(mess(0,426,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"426 ->"-num$(this.VCRINVCNDTYP)-mess(99,123,1)):  Return : # Local menu "426 -> Invalid option
Endif
Return

$_AOTHERS_VCRINVCNDTYP
[L]CURPRO = "VCRINVCNDTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRINVCNDTYP
[L]CURPRO = "VCRINVCNDTYP"
Return

$PROPAGATE_VCRINVCNDTYP
this.isReadonly = 0
[L]CURPRO = "VCRINVCNDTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRINVCNDTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "VCRINVCNDTYP"
$_LNKPRO_VCRINVCNDTYP
Return


####################################################################
# 20 : VCRINVCNDLIN Due date line ( Field L 8)
####################################################################

$SET_VCRINVCNDLIN
If [L]_AOLDVAL<>this.VCRINVCNDLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRINVCNDLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRINVCNDLIN
 Gosub PROPAGATE_VCRINVCNDLIN
Endif
Return

$INIT_VCRINVCNDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "VCRINVCNDLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VCRINVCNDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "VCRINVCNDLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRINVCNDLIN          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRINVCNDLIN          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRINVCNDLIN
[L]CURPRO = "VCRINVCNDLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.VCRINVCNDLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRINVCNDLIN
[L]CURPRO = "VCRINVCNDLIN"
Return

$_AOTHERS_VCRINVCNDLIN
[L]CURPRO = "VCRINVCNDLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRINVCNDLIN
[L]CURPRO = "VCRINVCNDLIN"
Return

$PROPAGATE_VCRINVCNDLIN
this.isReadonly = 0
[L]CURPRO = "VCRINVCNDLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRINVCNDLIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "VCRINVCNDLIN"
$_LNKPRO_VCRINVCNDLIN
Return


####################################################################
# 21 : SIDORI Source document type ( Field Local menu number 413)
####################################################################

$SET_SIDORI
If [L]_AOLDVAL<>this.SIDORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SIDORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SIDORI
 Gosub PROPAGATE_SIDORI
Endif
Return

$INIT_SIDORI
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SIDORI=0 and fmet this.AGETATTRIBUTE("SIDORI","$isMandatory")="true"
 this.SIDORI = 1
Endif
Return
 
$CONTROL_SIDORI
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SIDORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SIDORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SIDORI
[L]CURPRO = "SIDORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SIDORI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SIDORI
[L]CURPRO = "SIDORI"
If this.SIDORI<0 or this.SIDORI>len(mess(0,413,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"413 ->"-num$(this.SIDORI)-mess(99,123,1)):  Return : # Local menu "413 -> Invalid option
Endif
Return

$_AOTHERS_SIDORI
[L]CURPRO = "SIDORI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SIDORI
[L]CURPRO = "SIDORI"
Return

$PROPAGATE_SIDORI
this.isReadonly = 0
[L]CURPRO = "SIDORI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SIDORI
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDORI"
$_LNKPRO_SIDORI
Return


####################################################################
# 22 : BPCINV Bill-to customer ( Field BPC 15)
####################################################################

$SET_BPCINV
If [L]_AOLDVAL<>this.BPCINV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPCINV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPCINV
 Gosub PROPAGATE_BPCINV
Endif
Return

$INIT_BPCINV
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "BPCINV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPCINV
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "BPCINV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPCINV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPCINV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPCINV
[L]CURPRO = "BPCINV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPCINV,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPCINV
[L]CURPRO = "BPCINV"
If vireblc(this.BPCINV,2)<>vireblc(format$("K:15c",this.BPCINV),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPCINV
[L]CURPRO = "BPCINV"
If vireblc(this.BPCINV,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPC.ACTRLREF(this,"BPCINV",this.BPCINV,this.BPCINV,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPCINV<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPCINV
[L]CURPRO = "BPCINV"
Return

$PROPAGATE_BPCINV
this.isReadonly = 0
[L]CURPRO = "BPCINV"
Gosub _LNKPRO_BPCINV
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPCINV
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "BPCINV"
$_LNKPRO_BPCINV
If vireblc(this.BPCINV,2)<>""
 # Link BPCUSTOMER
 Local File BPCUSTOMER [WBPC]
 Read [F:WBPC]BPC0 = this.BPCINV
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCINV","$title",[F:WBPC]BPCSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCINV","$description",[F:WBPC]BPCNAM)
 Endif
 LogicClose File [WBPC]
Endif
Return

$_ALOADATTRIBUTE_BPCINV
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPCINV","$isMandatory","true")
Return


####################################################################
# 23 : ITMREF Product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 24 : ITMDES1 Description ( Field DES 30)
####################################################################

$SET_ITMDES1
If [L]_AOLDVAL<>this.ITMDES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES1
 Gosub PROPAGATE_ITMDES1
Endif
Return

$INIT_ITMDES1
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMDES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES1
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMDES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES1
[L]CURPRO = "ITMDES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES1
[L]CURPRO = "ITMDES1"
If vireblc(this.ITMDES1,2)<>vireblc(format$("K:30X",this.ITMDES1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES1
[L]CURPRO = "ITMDES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES1
[L]CURPRO = "ITMDES1"
Return

$PROPAGATE_ITMDES1
this.isReadonly = 0
[L]CURPRO = "ITMDES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES1
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMDES1"
$_LNKPRO_ITMDES1
Return


####################################################################
# 25 : ITMDES Description ( Field DES 30)
####################################################################

$SET_ITMDES
If [L]_AOLDVAL<>this.ITMDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES
 Gosub PROPAGATE_ITMDES
Endif
Return

$INIT_ITMDES
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES
[L]CURPRO = "ITMDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES
[L]CURPRO = "ITMDES"
If vireblc(this.ITMDES,2)<>vireblc(format$("K:30X",this.ITMDES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES
[L]CURPRO = "ITMDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES
[L]CURPRO = "ITMDES"
Return

$PROPAGATE_ITMDES
this.isReadonly = 0
[L]CURPRO = "ITMDES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ITMDES"
$_LNKPRO_ITMDES
Return


####################################################################
# 26 : ECCVALMAJ Major version ( Field ECS 10)
####################################################################

$SET_ECCVALMAJ
If [L]_AOLDVAL<>this.ECCVALMAJ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECCVALMAJ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECCVALMAJ
 Gosub PROPAGATE_ECCVALMAJ
Endif
Return

$INIT_ECCVALMAJ
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ECCVALMAJ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ECCVALMAJ
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ECCVALMAJ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECCVALMAJ             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECCVALMAJ             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ECCVALMAJ,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
Return

$_AOTHERS_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECCVALMAJ
[L]CURPRO = "ECCVALMAJ"
Return

$PROPAGATE_ECCVALMAJ
this.isReadonly = 0
[L]CURPRO = "ECCVALMAJ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECCVALMAJ
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ECCVALMAJ"
$_LNKPRO_ECCVALMAJ
Return


####################################################################
# 27 : ECCVALMIN Minor version ( Field EVL 10)
####################################################################

$SET_ECCVALMIN
If [L]_AOLDVAL<>this.ECCVALMIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECCVALMIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECCVALMIN
 Gosub PROPAGATE_ECCVALMIN
Endif
Return

$INIT_ECCVALMIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ECCVALMIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ECCVALMIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ECCVALMIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECCVALMIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECCVALMIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ECCVALMIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
Return

$_AOTHERS_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECCVALMIN
[L]CURPRO = "ECCVALMIN"
Return

$PROPAGATE_ECCVALMIN
this.isReadonly = 0
[L]CURPRO = "ECCVALMIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECCVALMIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ECCVALMIN"
$_LNKPRO_ECCVALMIN
Return


####################################################################
# 30 : REP1 Sales rep 1 ( Field REP 15)
####################################################################

$SET_REP1
If [L]_AOLDVAL<>this.REP1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REP1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REP1
 Gosub PROPAGATE_REP1
Endif
Return

$INIT_REP1
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "REP1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REP1
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "REP1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REP1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REP1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REP1
[L]CURPRO = "REP1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REP1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REP1
[L]CURPRO = "REP1"
If vireblc(this.REP1,2)<>vireblc(format$("K:15c",this.REP1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REP1
[L]CURPRO = "REP1"
If vireblc(this.REP1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPREP.ACTRLREF(this,"REP1",this.REP1,this.REP1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.REP1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REP1
[L]CURPRO = "REP1"
Return

$PROPAGATE_REP1
this.isReadonly = 0
[L]CURPRO = "REP1"
Gosub _LNKPRO_REP1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REP1
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "REP1"
$_LNKPRO_REP1
If vireblc(this.REP1,2)<>""
 # Link SALESREP
 Local File SALESREP [WREP]
 Read [F:WREP]REP0 = this.REP1
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REP1","$description",[F:WREP]REPNAM)
 Endif
 LogicClose File [WREP]
Endif
Return




