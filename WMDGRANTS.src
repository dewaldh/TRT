#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
## BI-DIMENSION ## Synchronization rule GRANTS

$OUVRE
Local Char FILTRE(250)
OUVTAB = GDOSSIER+".GRANTS" : If clalev([F:GRT])=0 : Local File =OUVTAB [GRT] : Endif
OUVTAB = GDOSSIER+".GRANTS" : If clalev([F:A_])=0 : Local File =OUVTAB [A_] : Endif
OUVTAB = "Link [GRT]"
Link [GRT] With
& [A_]GRT0=[GRT]GRAREF
& As [LNK_]
& Order By Key CLE = [GRT]GRAREF
FILTRE = ""
Return

$FERME
If clalev([F:GRT]) : Close local File [GRT] : Endif
If clalev([F:A_]) : Close local File [A_] : Endif
Return

$DCLE
Local Char    DCLE(GLONAVA)(1..1)
Local Integer DTYP(1..1)
Local Integer NBDCLE
NBDCLE = 1
DCLE(1) = "GRAREF"
DTYP(1) =  7
Return

$CHARGE_CLE
If dim([F:AAA_]GRAREF)>0
 [F:AAA_]GRAREF = [F:GRT]GRAREF
Endif
Return

########################################################################
# Return the filter necessary for incremental delete in synchroonization
Subprog GET_FLTDELINC(PFLT)
Variable Clbfile PFLT
PFLT = "1=1"
Append PFLT, " & [F:AAA_]GRAREF=[F:GRT]GRAREF"

End

$MAJFLD
### GRAREF
[L]FLD="GRAREF"
[L]FORMULE='[F:GRT]GRAREF'
If dim([F:AAA_]GRAREF)>0
 [F:AAA_]GRAREF = [F:GRT]GRAREF
Endif

### DES
[L]FLD="DES"
[L]FORMULE='[F:GRT]DES'
If dim([F:AAA_]DES)>0
 [F:AAA_]DES = [F:GRT]DES
Endif

### GRAORG
[L]FLD="GRAORG"
[L]FORMULE='[F:GRT]GRAORG'
If dim([F:AAA_]GRAORG)>0
 [F:AAA_]GRAORG = [F:GRT]GRAORG
Endif

### GRATYP
[L]FLD="GRATYP"
[L]FORMULE='[F:GRT]GRATYP'
If dim([F:AAA_]GRATYP)>0
 [F:AAA_]GRATYP = [F:GRT]GRATYP
Endif

### GRAAMT
[L]FLD="GRAAMT"
[L]FORMULE='[F:GRT]GRAAMT'
If dim([F:AAA_]GRAAMT)>0
 [F:AAA_]GRAAMT = [F:GRT]GRAAMT
Endif

### USRFLDA1
[L]FLD="USRFLDA1"
[L]FORMULE='[F:GRT]USRFLDA1'
If dim([F:AAA_]USRFLDA1)>0
 [F:AAA_]USRFLDA1 = [F:GRT]USRFLDA1
Endif

### USRFLDA2
[L]FLD="USRFLDA2"
[L]FORMULE='[F:GRT]USRFLDA2'
If dim([F:AAA_]USRFLDA2)>0
 [F:AAA_]USRFLDA2 = [F:GRT]USRFLDA2
Endif

### USRFLDA3
[L]FLD="USRFLDA3"
[L]FORMULE='[F:GRT]USRFLDA3'
If dim([F:AAA_]USRFLDA3)>0
 [F:AAA_]USRFLDA3 = [F:GRT]USRFLDA3
Endif

### USRFLDA4
[L]FLD="USRFLDA4"
[L]FORMULE='[F:GRT]USRFLDA4'
If dim([F:AAA_]USRFLDA4)>0
 [F:AAA_]USRFLDA4 = [F:GRT]USRFLDA4
Endif

### USRFLDA5
[L]FLD="USRFLDA5"
[L]FORMULE='[F:GRT]USRFLDA5'
If dim([F:AAA_]USRFLDA5)>0
 [F:AAA_]USRFLDA5 = [F:GRT]USRFLDA5
Endif

### USRFLDA6
[L]FLD="USRFLDA6"
[L]FORMULE='[F:GRT]USRFLDA6'
If dim([F:AAA_]USRFLDA6)>0
 [F:AAA_]USRFLDA6 = [F:GRT]USRFLDA6
Endif

### USRFLDA7
[L]FLD="USRFLDA7"
[L]FORMULE='[F:GRT]USRFLDA7'
If dim([F:AAA_]USRFLDA7)>0
 [F:AAA_]USRFLDA7 = [F:GRT]USRFLDA7
Endif

### USRFLDA8
[L]FLD="USRFLDA8"
[L]FORMULE='[F:GRT]USRFLDA8'
If dim([F:AAA_]USRFLDA8)>0
 [F:AAA_]USRFLDA8 = [F:GRT]USRFLDA8
Endif

### USRFLDA9
[L]FLD="USRFLDA9"
[L]FORMULE='[F:GRT]USRFLDA9'
If dim([F:AAA_]USRFLDA9)>0
 [F:AAA_]USRFLDA9 = [F:GRT]USRFLDA9
Endif

### USRFLDA10
[L]FLD="USRFLDA10"
[L]FORMULE='[F:GRT]USRFLDA10'
If dim([F:AAA_]USRFLDA10)>0
 [F:AAA_]USRFLDA10 = [F:GRT]USRFLDA10
Endif

### USRFLDC1
[L]FLD="USRFLDC1"
[L]FORMULE='[F:GRT]USRFLDC1'
If dim([F:AAA_]USRFLDC1)>0
 [F:AAA_]USRFLDC1 = [F:GRT]USRFLDC1
Endif

### USRFLDC2
[L]FLD="USRFLDC2"
[L]FORMULE='[F:GRT]USRFLDC2'
If dim([F:AAA_]USRFLDC2)>0
 [F:AAA_]USRFLDC2 = [F:GRT]USRFLDC2
Endif

### USRFLDD1
[L]FLD="USRFLDD1"
[L]FORMULE='[F:GRT]USRFLDD1'
If dim([F:AAA_]USRFLDD1)>0
 [F:AAA_]USRFLDD1 = [F:GRT]USRFLDD1
Endif

### USRFLDD2
[L]FLD="USRFLDD2"
[L]FORMULE='[F:GRT]USRFLDD2'
If dim([F:AAA_]USRFLDD2)>0
 [F:AAA_]USRFLDD2 = [F:GRT]USRFLDD2
Endif

### USRFLDD3
[L]FLD="USRFLDD3"
[L]FORMULE='[F:GRT]USRFLDD3'
If dim([F:AAA_]USRFLDD3)>0
 [F:AAA_]USRFLDD3 = [F:GRT]USRFLDD3
Endif

### USRFLDD4
[L]FLD="USRFLDD4"
[L]FORMULE='[F:GRT]USRFLDD4'
If dim([F:AAA_]USRFLDD4)>0
 [F:AAA_]USRFLDD4 = [F:GRT]USRFLDD4
Endif


Return

