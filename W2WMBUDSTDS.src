#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
# Mask management WMBUDSTDS 

$_AFF
If GIMPORT
 Gosub AFF From GSAISIE
Else
 If GMESSAGE <>""
  Gosub ERR From GSAISIE
 Else
  Raz GERR , GZNUM
 Endif
Endif
Return

$ON_CAMTCMM8
Onevent BEFORE_AREA Gosub AV_CAMTCMM8 From W2WMBUDSTDS
Return

$AV_CAMTCMM8
zc = sigma(0,[M]NBLIG-1,[M]AMTCMM8(indcum)*([M]SENS(indcum)=1))
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:BCR]CUR(0),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]CAMTCMM8(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_CAMTPRP9
Onevent BEFORE_AREA Gosub AV_CAMTPRP9 From W2WMBUDSTDS
Return

$AV_CAMTPRP9
zc = sigma(0,[M]NBLIG-1,[M]AMTPRP9(indcum)*([M]SENS(indcum)=1))
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:BCR]CUR(0),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]CAMTPRP9(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_YAMTFOR11
Onevent BEFORE_AREA Gosub AV_YAMTFOR11 From W2WMBUDSTDS
Return

$AV_YAMTFOR11
zc = sum([M]AMTFOR11(0..max(nolign-1,[M]NBLIG-1)))
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:BCR]CUR(0),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]YAMTFOR11(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_YAMTFOR12
Onevent BEFORE_AREA Gosub AV_YAMTFOR12 From W2WMBUDSTDS
Return

$AV_YAMTFOR12
zc = sum([M]AMTFOR12(0..max(nolign-1,[M]NBLIG-1)))
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:BCR]CUR(0),GDEVISE(1..GNBDEV)),1))
Chgfmt [M]YAMTFOR12(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$TIT_COL
Local Char TITCL(200)(1..6)
Raz TITCL
Case BASPAG
 When "NBLIG"
  TITCL(1) = func SUBTBU.GET_COLDESTRA("STDS",1)-[V]LIBBUD(1)
  TITCL(2) = func SUBTBU.GET_COLDESTRA("STDS",2)-[V]LIBBUD(1)
  TITCL(3) = func SUBTBU.GET_COLDESTRA("STDS",3)-[V]LIBBUD(1)
  TITCL(4) = func SUBTBU.GET_COLDESTRA("STDS",4)-[V]LIBBUD(1)
  TITCL(5) = func SUBTBU.GET_COLDESTRA("STDS",7)-[V]LIBBUD(0)
  TITCL(6) = func SUBTBU.GET_COLDESTRA("STDS",10)-[V]LIBBUD(0)
  If !GORITITCOL
   Titcol [M]NBLIG TITCL(1) For QTY1
   Titcol [M]NBLIG TITCL(2) For AMT2
   Titcol [M]NBLIG TITCL(3) For QTYREA3
   Titcol [M]NBLIG TITCL(4) For AMTREA4
   Titcol [M]NBLIG TITCL(5) For AMTFOR7
   Titcol [M]NBLIG TITCL(6) For AMTFOR10
  Else
   Titcol [M:BUD]NBLIG TITCL(1) For QTY1
   Titcol [M:BUD]NBLIG TITCL(2) For AMT2
   Titcol [M:BUD]NBLIG TITCL(3) For QTYREA3
   Titcol [M:BUD]NBLIG TITCL(4) For AMTREA4
   Titcol [M:BUD]NBLIG TITCL(5) For AMTFOR7
   Titcol [M:BUD]NBLIG TITCL(6) For AMTFOR10
  Endif
Endcase
Return

$CHG_STY
Return


