#<AdxTL>@(#)0.0.0.0 $Revision$Class Products
# Sage X3 supervisor
## ACLA-CLASSE ## ITMMASTER
# 2018-06-20 06:47:12 819

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0ITMMASTER
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
For TBLINE=1 to 5
 [L]ALINE = func ASYRSUBTAB.ADDLINE([L]TBLINE,"CTSICOD","C_ITMMASTER_CTSICOD",this)
 If [L]ALINE=[V]CST_ANOTDEFINED : [L]ASTATUS = [V]CST_AERROR : Break : Endif
Next
If [L]ASTATUS = [V]CST_AERROR :  Gosub TESTALLSTAT : Endif
Gosub INIT_ITMREF From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TCLCOD From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SEAKEY From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ACCCOD From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMDES1 From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMDES2 From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMDES3 From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DES1AXX From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DES2AXX From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DES3AXX From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STDFLG From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMSTD From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EANCOD From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMSTA From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DEFPOT From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DEFACT From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_LIFSTRDAT From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_LIFENDDAT From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STOCRD From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PUU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SAU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SSU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EEU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PUUSTUCOE From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DACPUUCOE From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SAUSTUCOE From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DACSAUCOE From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SSUSTUCOE From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EEUSTUCOE From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_WEU From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMWEI From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_VOU From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMVOU From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STOMGTCOD From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_LOTMGTCOD From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_LOTCOU From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SERCOU From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SERMGTCOD From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EXYMGTCOD From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EXYSTA From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SHL From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SHLLTI From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_NEGSTO From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CSTGRP From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_BRDCOD From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PLAACS From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_RPLITM From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EECGES From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CUSREF From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_FRTHORUOM From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_FRTHOR From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_FIMHOR From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_FIMHORUOM From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_BUY From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PLANNER From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_OFS From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_MINRMNPRC From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_RCPFLG From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PRQFLG From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PURTEX From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CLAPURTEX1 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_MFGTEX From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CLAMFGTEX1 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMEXNFLG From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STATAXFLG From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGLIN From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDNUM1 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDNUM2 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDNUM3 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDNUM4 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDNUM5 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDNUM6 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDALP1 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDALP2 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDALP3 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDALP4 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDALP5 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CFGFLDALP6 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CREMAC From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_FLYCAT From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TPLCONLND From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TPLCONGUA From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TPLCONSRV From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PITCDT From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PITCDTUOM From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STULBEFMT From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ALTBOMHDK From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_HDKITMTYP From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STOISSDEF From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DAYUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_HOUUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_MNTUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DTY From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TRKCOD From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PURFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_MFGFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SCPFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SCSFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PHAFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_GENFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TOOFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DLVFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SALFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_INTFLG From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_FLGFAS From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_NEWLTISTA From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_DLU From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SHLUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SHLLTIUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PLMITMREF From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PLMATTURL From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PLMHISURL From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_MATTOL From WMC4ITMMASTER : Gosub TESTALLSTAT
If this.ITS<>null
 [L]ASTATUS = fmet this.ITS.AINIT : Gosub TESTALLSTAT
Endif
Gosub INIT_CPY From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_PURBASPRI From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_SSTCOD From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_VACITM_LEG From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_IMG From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_RPLITMDES From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CPRCOE From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CPRAMT From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_STCNUM From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ECCFLG From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ECCSTO From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ECCMIN From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ECCMAJ From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_LOAECCFLG From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_ITMSFTTYP From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_TRKLEV From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub AINIT From WMC0ITMMASTER : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0ITMMASTER
Gosub _ALOADATTRIBUTE_ITMREF From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_TCLCOD From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_STU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_SSU From WMC1ITMMASTER : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0ITMMASTER
Gosub LNKPRO_ITMREF From WMC1ITMMASTER : Gosub TESTALLSTAT
For AINDCLA=1 To 5
 If this.CTSICOD(AINDCLA)<>null& find(this.CTSICOD(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CTSICOD(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To 20
 If this.CDIE(AINDCLA)<>null& find(this.CDIE(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CDIE(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_STU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_PUU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_SAU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_SSU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_EEU From WMC1ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_WEU From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_VOU From WMC2ITMMASTER : Gosub TESTALLSTAT
For AINDCLA=1 To 4
 If this.CPCU(AINDCLA)<>null& find(this.CPCU(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CPCU(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_PLAACS From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_RPLITM From WMC2ITMMASTER : Gosub TESTALLSTAT
For AINDCLA=1 To 3
 If this.CVACITM(AINDCLA)<>null& find(this.CVACITM(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CVACITM(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_BUY From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_PLANNER From WMC2ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_CLAPURTEX1 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_CLAMFGTEX1 From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_FLYCAT From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_PITCDTUOM From WMC3ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_ALTBOMHDK From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_DAYUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_HOUUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_MNTUOM From WMC4ITMMASTER : Gosub TESTALLSTAT
For AINDCLA=1 To maxtab(this.ITP)
 If this.ITP(AINDCLA)<>null& find(this.ITP(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.ITP(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To maxtab(this.ITU)
 If this.ITU(AINDCLA)<>null& find(this.ITU(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.ITU(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
For AINDCLA=1 To maxtab(this.ITA)
 If this.ITA(AINDCLA)<>null& find(this.ITA(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.ITA(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
If this.ITS<>null
 [L]ASTATUS = fmet this.ITS._ALNKPRO : Gosub TESTALLSTAT
Endif
Gosub LNKPRO_CPY From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_PURBASPRI From WMC5ITMMASTER : Gosub TESTALLSTAT
For AINDCLA=1 To 2
 If this.CECCBOMALT(AINDCLA)<>null& find(this.CECCBOMALT(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.CECCBOMALT(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_SSTCOD From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_VACITM_LEG From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_IMG From WMC5ITMMASTER : Gosub TESTALLSTAT
Gosub LNKPRO_CPRAMT From WMC5ITMMASTER : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



