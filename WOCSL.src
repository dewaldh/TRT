#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
# Object management CSL

$HORODAT
Local Date    A_DATE
Local Char    A_HEURE(10) , A_USER(10)
Local Char    A_STAMP(15)
A_DATE  = [28/08/2018]
A_HEURE = "00:31:07"
A_USER  = "ADMIN"
A_STAMP = "20180828003107"
Return

$DEFAUT
Default File [BLC]
Return

$OUVFIC
Local File BALCONSO [BLC]
Return

$NOMFIC
Local Integer NBLNK , TITLNK(1..20)
Local Char    OBJLNK(GLONAOB)(1..20) , CODLNK(GLONADI)(1..20)
Local Char    DESLNK(20)(1..20) , ABRLNK(GLONABR)(1..20)
Local Integer NUMLNK(1..20) , LIGLNK(1..20)
Local Char    NOMFIC(GLONATB) , ABFIC(GLONABR) , ABTAB(GLONABR) , NOMINT(GLONAVA)
Local Integer TYPGES , FLGSTAT , SELORD , TYPOBJ
Local Char    ZSITE(GLONAVA), ZACC(GLONAVA), FLDGRF(GLONAVA), FLDLEG(GLONAVA), FLDGRC(GLONAVA)
Local Char    REPORT1(GLONARP) , REPORT2(GLONARP) , NOMKEY(GLONAVA)
Local Integer DELDEF, FCYREQ
Local Char    SELIND(250) , ADDURL(250)
NOMFIC = "BALCONSO"
ABFIC  = "BLC"
ABTAB  = "BLC"
NOMINT = ""
TYPGES = 1
SELORD = 1
ZSITE  = ""
ZACC   = ""
FLDGRF = "GRUGPY"
FLDGRC = ""
FLDLEG = ""
FCYREQ = 0
PPAG   = 0
SELIND = ""
DELDEF = 1
ADDURL = ""
REPORT2 = "BALCONSO"
FLGSTAT = 0
TITOBJ = 11728
NBLNK = 0
Raz NUMLNK , LIGLNK
Return

$OUVRE
Return

$ESPION
NUMESPION = 1
Return

$TIT
Local Char TIT(60)
Call TEXTE(11728,TIT) From OBJDIV
Return

$SETCLE
Local Char CLEPRIM(GLONAVA) , CLESEC(GLONAVA)(0..14) , CLELIG(GLONAVA)
CLEPRIM = 'GRUGPY'
CLESEC(0) = 'LEDTYP'
CLESEC(1) = 'CPYGRU'
CLESEC(2) = 'ACCGRU'
CLESEC(3) = 'BPRGRU'
CLESEC(4) = 'CCE1'
CLESEC(5) = 'CCE2'
CLESEC(6) = 'CCE3'
CLESEC(7) = 'CCE4'
CLESEC(8) = 'CCE5'
CLESEC(9) = 'CCE6'
CLESEC(10) = 'CCE7'
CLESEC(11) = 'CCE8'
CLESEC(12) = 'CCE9'
CLESEC(13) = 'CURTRS'
CLESEC(14) = 'CRI'
Return

$OPTIONS
Local Integer  NBCOND
Local Char     CONDIT(50)(1..20)
Local Char     OPT(1)(1..20) , OPTSEL(20)
Local Char     LIBOPT(30)(1..20), MESSAG(80)(1..20)
NBCOND = 0
OPTSEL = ''
Return

$LIBPAR
Local Char LIBPAR(30)
Call TEXTE(0,LIBPAR) From OBJDIV
Return

$OUVFIC_DERLU
Return

$LEC_DERLU
Return

$CHARGE_DERLU
Return

$REMP_DERLU
Return

$CLE_DERLU
Return

$OUVRE_LISTE
Local Integer NBSEL , NBTRI , SELCAR
Local Char    SELZON(30)(0..16)
Local Char    SELEXP(200)(0..16)
Local Char    SELLIB(30)(0..16)
Local Char    SELFMT(30)(0..16)
Local Schar   SELFOR(30)(0..16)
Local Integer SELTYP(0..16)
Local Integer SELMAJ(0..16)
Local Char    TRIZON(20)(0..16)
Local Char    TRILIB(30)(0..16)
SELCAR = 1
NBSEL = 0 : NBTRI = 0
If clalev([F:BLC_])=0
 Gosub OUVFIC_LISTE
Endif
Return

$OUVFIC_LISTE
If clalev([F:FGR])=0 : Local File FACGROUP  [FGR] : Endif
Link [BLC] With
& [FGR]FGR0=[F:BLC]GRUGPY;GCURFCY
& As [BLC_]
Return

$DEFAUT_LISTE
Default file [BLC_]
Return

$OUVRE_JOIN
Local Char    ORDRE_JOI(250)
ORDRE_JOI = "A_TABJ1;A_TABJ2;A_TABJ3;A_TABJ4;A_TABJ5;A_TABJ6;A_TABJ7;A_TABJ8;A_TABJ9;A_TABJ10;A_TABJ11;A_TABJ12;A_TABJ13;A_TABJ14;A_TABJ15;A_TABJ16"
Local Libelle  A_BUFJ1(1..GNBSEL)
Local Char     A_BUFJ2(5)(1..GNBSEL)
Local Char     A_BUFJ3(10)(1..GNBSEL)
Local Char     A_BUFJ4(15)(1..GNBSEL)
Local Char     A_BUFJ5(15)(1..GNBSEL)
Local Char     A_BUFJ6(15)(1..GNBSEL)
Local Char     A_BUFJ7(15)(1..GNBSEL)
Local Char     A_BUFJ8(15)(1..GNBSEL)
Local Char     A_BUFJ9(15)(1..GNBSEL)
Local Char     A_BUFJ10(15)(1..GNBSEL)
Local Char     A_BUFJ11(15)(1..GNBSEL)
Local Char     A_BUFJ12(15)(1..GNBSEL)
Local Char     A_BUFJ13(15)(1..GNBSEL)
Local Char     A_BUFJ14(15)(1..GNBSEL)
Local Char     A_BUFJ15(3)(1..GNBSEL)
Local Char     A_BUFJ16(30)(1..GNBSEL)
Local Char     A_BUFJ17(15)(1..GNBSEL)
Local Char     A_BUFJ18(80)(1..GNBSEL)
Local File(
& Libelle  A_TABJ1,
& Char     A_TABJ2(5),
& Char     A_TABJ3(10),
& Char     A_TABJ4(15),
& Char     A_TABJ5(15),
& Char     A_TABJ6(15),
& Char     A_TABJ7(15),
& Char     A_TABJ8(15),
& Char     A_TABJ9(15),
& Char     A_TABJ10(15),
& Char     A_TABJ11(15),
& Char     A_TABJ12(15),
& Char     A_TABJ13(15),
& Char     A_TABJ14(15),
& Char     A_TABJ15(3),
& Char     A_TABJ16(30),
& Char     A_TABJ17(15),
& Char     A_TABJ18(80)
& ) From Variable A_BUFJ1, A_BUFJ2, A_BUFJ3, A_BUFJ4, A_BUFJ5, A_BUFJ6, A_BUFJ7, A_BUFJ8, A_BUFJ9, A_BUFJ10, A_BUFJ11, A_BUFJ12, A_BUFJ13, A_BUFJ14, A_BUFJ15, A_BUFJ16, A_BUFJ17, A_BUFJ18
& As [PCEJ]
Return

$TIT_JOIN
Local Char TITJOI(30)(1..18)
Call TEXTE(27517,TITJOI(1)) From OBJDIV
Call TEXTE(4095,TITJOI(2)) From OBJDIV
Call TEXTE(1343,TITJOI(3)) From OBJDIV
Call TEXTE(3956,TITJOI(4)) From OBJDIV
Call TEXTE(12138,TITJOI(5)) From OBJDIV
Call TEXTE(5651,TITJOI(6)) From OBJDIV
Call TEXTE(5654,TITJOI(7)) From OBJDIV
Call TEXTE(5656,TITJOI(8)) From OBJDIV
Call TEXTE(5658,TITJOI(9)) From OBJDIV
Call TEXTE(5660,TITJOI(10)) From OBJDIV
Call TEXTE(5663,TITJOI(11)) From OBJDIV
Call TEXTE(5667,TITJOI(12)) From OBJDIV
Call TEXTE(5668,TITJOI(13)) From OBJDIV
Call TEXTE(5669,TITJOI(14)) From OBJDIV
Call TEXTE(323,TITJOI(15)) From OBJDIV
Call TEXTE(2680,TITJOI(16)) From OBJDIV
TITJOI(17) = mess(59,100,1) : # Type
TITJOI(18) = mess(38,100,1) : # Nom
Return

Subprog FORMCLE(FMT,LG,TIT)
Variable Char    FMT()
Variable Integer LG
Variable Char    TIT()
FMT = "Kf:5c"
LG = 0
TIT = ""
End

Subprog FORMCLE2(FMT)
Variable Char    FMT()
FMT = "LA2644f:0X"
End

$LIENS
Return

$LIAISONS
Return

Subprog TITTRN(COD,TIT)
Value Char COD
Variable Char TIT
Local Integer OUV
Local Char    CRITERE(250)
TIT = ""
End

$OUVTAB
Return

$OUVVUE
Return

$DEFAUT_TAB
Return

$TRANS_TAB
Return

$TRANS_FIC
Return

$FERME_TAB
Return

$FERME_FIC
Return


