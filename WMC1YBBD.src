#<AdxTL>@(#)0.0.0.0 $Revision$Class Business batch details
# Supervisor
## ACLA-CLASSE ## YBBD
# 2019-04-03 03:35:39 364


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : YBATNBR Business Batch number ( Field A 30)
####################################################################

$SET_YBATNBR
If [L]_AOLDVAL<>this.YBATNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YBATNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YBATNBR
 Gosub PROPAGATE_YBATNBR
Endif
Return

$INIT_YBATNBR
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBATNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YBATNBR
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBATNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YBATNBR               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YBATNBR               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YBATNBR
[L]CURPRO = "YBATNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YBATNBR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YBATNBR
[L]CURPRO = "YBATNBR"
Return

$_AOTHERS_YBATNBR
[L]CURPRO = "YBATNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YBATNBR
[L]CURPRO = "YBATNBR"
Return

$PROPAGATE_YBATNBR
this.isReadonly = 0
[L]CURPRO = "YBATNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YBATNBR
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBATNBR"
$_LNKPRO_YBATNBR
Return


####################################################################
# 2 : YDETLIG Line number ( Field ABS 0)
####################################################################

$SET_YDETLIG
If [L]_AOLDVAL<>this.YDETLIG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YDETLIG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YDETLIG
 Gosub PROPAGATE_YDETLIG
Endif
Return

$INIT_YDETLIG
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDETLIG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YDETLIG
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDETLIG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YDETLIG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YDETLIG               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YDETLIG
[L]CURPRO = "YDETLIG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YDETLIG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YDETLIG
[L]CURPRO = "YDETLIG"
Return

$_AOTHERS_YDETLIG
[L]CURPRO = "YDETLIG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YDETLIG
[L]CURPRO = "YDETLIG"
Return

$PROPAGATE_YDETLIG
this.isReadonly = 0
[L]CURPRO = "YDETLIG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YDETLIG
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDETLIG"
$_LNKPRO_YDETLIG
Return


####################################################################
# 3 : YENTTYP Entry type ( Field GTE 5)
####################################################################

$SET_YENTTYP
If [L]_AOLDVAL<>this.YENTTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YENTTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YENTTYP
 Gosub PROPAGATE_YENTTYP
Endif
Return

$INIT_YENTTYP
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YENTTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YENTTYP
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YENTTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YENTTYP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YENTTYP               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YENTTYP
[L]CURPRO = "YENTTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YENTTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YENTTYP
[L]CURPRO = "YENTTYP"
If vireblc(this.YENTTYP,2)<>vireblc(format$("K:5d",this.YENTTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YENTTYP
[L]CURPRO = "YENTTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YENTTYP
[L]CURPRO = "YENTTYP"
If vireblc(this.YENTTYP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGTE.ACTRLREF(this,"YENTTYP",this.YENTTYP,this.YENTTYP,"AUS",2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YENTTYP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_YENTTYP
this.isReadonly = 0
[L]CURPRO = "YENTTYP"
Gosub _LNKPRO_YENTTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YENTTYP
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YENTTYP"
$_LNKPRO_YENTTYP
If vireblc(this.YENTTYP,2)<>""
 # Link GTYPACCENT
 Local File GTYPACCENT [WGTE]
 Read [F:WGTE]GTE0 = this.YENTTYP;"AUS"
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="SHOTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YENTTYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="DESTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YENTTYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGTE]
Endif
Return


####################################################################
# 4 : YJOU Journal ( Field JOU 5)
####################################################################

$SET_YJOU
If [L]_AOLDVAL<>this.YJOU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YJOU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YJOU
 Gosub PROPAGATE_YJOU
Endif
Return

$INIT_YJOU
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YJOU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YJOU
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YJOU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YJOU                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YJOU                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YJOU
[L]CURPRO = "YJOU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YJOU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YJOU
[L]CURPRO = "YJOU"
If vireblc(this.YJOU,2)<>vireblc(format$("K:5c",this.YJOU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YJOU
[L]CURPRO = "YJOU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YJOU
[L]CURPRO = "YJOU"
If vireblc(this.YJOU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPJOU.ACTRLREF(this,"YJOU",this.YJOU,this.YJOU,"AUS",2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YJOU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_YJOU
this.isReadonly = 0
[L]CURPRO = "YJOU"
Gosub _LNKPRO_YJOU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YJOU
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YJOU"
$_LNKPRO_YJOU
If vireblc(this.YJOU,2)<>""
 # Link GJOURNAL
 Local File GJOURNAL [WJOU]
 Read [F:WJOU]JOU0 = this.YJOU;"AUS"
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GJOURNAL" & ZONE="SHOTRA" & IDENT1=[F:WJOU]JOU & IDENT2=[F:WJOU]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YJOU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GJOURNAL" & ZONE="DESTRA" & IDENT1=[F:WJOU]JOU & IDENT2=[F:WJOU]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YJOU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WJOU]
Endif
Return


####################################################################
# 5 : YTRANSNBR Transaction number ( Field UNQ 0)
####################################################################

$SET_YTRANSNBR
If [L]_AOLDVAL<>this.YTRANSNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YTRANSNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YTRANSNBR
 Gosub PROPAGATE_YTRANSNBR
Endif
Return

$INIT_YTRANSNBR
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YTRANSNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YTRANSNBR
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YTRANSNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YTRANSNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YTRANSNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YTRANSNBR
[L]CURPRO = "YTRANSNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YTRANSNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YTRANSNBR
[L]CURPRO = "YTRANSNBR"
Return

$_AOTHERS_YTRANSNBR
[L]CURPRO = "YTRANSNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YTRANSNBR
[L]CURPRO = "YTRANSNBR"
Return

$PROPAGATE_YTRANSNBR
this.isReadonly = 0
[L]CURPRO = "YTRANSNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YTRANSNBR
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YTRANSNBR"
$_LNKPRO_YTRANSNBR
Return


####################################################################
# 6 : YDETDES Description ( Field A 100)
####################################################################

$SET_YDETDES
If [L]_AOLDVAL<>this.YDETDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YDETDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YDETDES
 Gosub PROPAGATE_YDETDES
Endif
Return

$INIT_YDETDES
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDETDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YDETDES
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDETDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YDETDES               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YDETDES               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YDETDES
[L]CURPRO = "YDETDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YDETDES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YDETDES
[L]CURPRO = "YDETDES"
Return

$_AOTHERS_YDETDES
[L]CURPRO = "YDETDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YDETDES
[L]CURPRO = "YDETDES"
Return

$PROPAGATE_YDETDES
this.isReadonly = 0
[L]CURPRO = "YDETDES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YDETDES
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDETDES"
$_LNKPRO_YDETDES
Return


####################################################################
# 7 : YFCY Site ( Field FCY 5)
####################################################################

$SET_YFCY
If [L]_AOLDVAL<>this.YFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YFCY
 Gosub PROPAGATE_YFCY
Endif
Return

$INIT_YFCY
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YFCY
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YFCY                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YFCY                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YFCY
[L]CURPRO = "YFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YFCY
[L]CURPRO = "YFCY"
If vireblc(this.YFCY,2)<>vireblc(format$("K:5c",this.YFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YFCY
[L]CURPRO = "YFCY"
If vireblc(this.YFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"YFCY",this.YFCY,this.YFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YFCY
[L]CURPRO = "YFCY"
Return

$PROPAGATE_YFCY
this.isReadonly = 0
[L]CURPRO = "YFCY"
Gosub _LNKPRO_YFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YFCY
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YFCY"
$_LNKPRO_YFCY
If vireblc(this.YFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.YFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("YFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("YFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 8 : YCPY Company ( Field CPY 5)
####################################################################

$SET_YCPY
If [L]_AOLDVAL<>this.YCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YCPY
 Gosub PROPAGATE_YCPY
Endif
Return

$INIT_YCPY
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YCPY
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YCPY                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YCPY                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YCPY
[L]CURPRO = "YCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YCPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YCPY
[L]CURPRO = "YCPY"
If vireblc(this.YCPY,2)<>vireblc(format$("K:5c",this.YCPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YCPY
[L]CURPRO = "YCPY"
If vireblc(this.YCPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"YCPY",this.YCPY,this.YCPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YCPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YCPY
[L]CURPRO = "YCPY"
Return

$PROPAGATE_YCPY
this.isReadonly = 0
[L]CURPRO = "YCPY"
Gosub _LNKPRO_YCPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YCPY
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCPY"
$_LNKPRO_YCPY
If vireblc(this.YCPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.YCPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("YCPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("YCPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return


####################################################################
# 9 : YACM Account core model ( Field GCM 3)
####################################################################

$SET_YACM
If [L]_AOLDVAL<>this.YACM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YACM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YACM
 Gosub PROPAGATE_YACM
Endif
Return

$INIT_YACM
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YACM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YACM
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YACM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YACM                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YACM                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YACM
[L]CURPRO = "YACM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YACM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YACM
[L]CURPRO = "YACM"
If vireblc(this.YACM,2)<>vireblc(format$("K:3c",this.YACM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YACM
[L]CURPRO = "YACM"
If vireblc(this.YACM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGCM.ACTRLREF(this,"YACM",this.YACM,this.YACM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YACM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YACM
[L]CURPRO = "YACM"
Return

$PROPAGATE_YACM
this.isReadonly = 0
[L]CURPRO = "YACM"
Gosub _LNKPRO_YACM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YACM
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YACM"
$_LNKPRO_YACM
If vireblc(this.YACM,2)<>""
 # Link GACM
 Local File GACM [WGCM]
 Read [F:WGCM]GCM0 = this.YACM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACM" & ZONE="SHOTRA" & IDENT1=[F:WGCM]GCM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YACM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACM" & ZONE="DESTRA" & IDENT1=[F:WGCM]GCM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YACM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGCM]
Endif
Return


####################################################################
# 10 : YLED1 Ledger ( Field LED 3)
####################################################################

$SET_YLED1
If [L]_AOLDVAL<>this.YLED1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YLED1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YLED1
 Gosub PROPAGATE_YLED1
Endif
Return

$INIT_YLED1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YLED1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YLED1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YLED1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YLED1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YLED1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YLED1
[L]CURPRO = "YLED1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YLED1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YLED1
[L]CURPRO = "YLED1"
If vireblc(this.YLED1,2)<>vireblc(format$("K:3c",this.YLED1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YLED1
[L]CURPRO = "YLED1"
If vireblc(this.YLED1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLED.ACTRLREF(this,"YLED1",this.YLED1,this.YLED1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YLED1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YLED1
[L]CURPRO = "YLED1"
Return

$PROPAGATE_YLED1
this.isReadonly = 0
[L]CURPRO = "YLED1"
Gosub _LNKPRO_YLED1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YLED1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YLED1"
$_LNKPRO_YLED1
If vireblc(this.YLED1,2)<>""
 # Link GLED
 Local File GLED [WLED]
 Read [F:WLED]LED0 = this.YLED1
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GLED" & ZONE="SHOTRA" & IDENT1=[F:WLED]LED & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YLED1","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GLED" & ZONE="DESTRA" & IDENT1=[F:WLED]LED & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YLED1","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WLED]
Endif
Return


####################################################################
# 11 : YELA Linked ELA ( Field YLONAGR 25)
####################################################################

$SET_YELA
If [L]_AOLDVAL<>this.YELA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YELA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YELA
 Gosub PROPAGATE_YELA
Endif
Return

$INIT_YELA
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YELA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YELA
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YELA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YELA                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YELA                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YELA
[L]CURPRO = "YELA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YELA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YELA
[L]CURPRO = "YELA"
If vireblc(this.YELA,2)<>vireblc(format$("K:25X",this.YELA),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YELA
[L]CURPRO = "YELA"
If vireblc(this.YELA,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPYLONAGR.ACTRLREF(this,"YELA",this.YELA,this.YELA,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YELA<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YELA
[L]CURPRO = "YELA"
Return

$PROPAGATE_YELA
this.isReadonly = 0
[L]CURPRO = "YELA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YELA
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YELA"
$_LNKPRO_YELA
Return


####################################################################
# 12 : YBAN Bank ( Field BAN 5)
####################################################################

$SET_YBAN
If [L]_AOLDVAL<>this.YBAN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YBAN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YBAN
 Gosub PROPAGATE_YBAN
Endif
Return

$INIT_YBAN
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBAN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YBAN
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBAN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YBAN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YBAN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YBAN
[L]CURPRO = "YBAN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YBAN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YBAN
[L]CURPRO = "YBAN"
If vireblc(this.YBAN,2)<>vireblc(format$("K:5c",this.YBAN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YBAN
[L]CURPRO = "YBAN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YBAN
[L]CURPRO = "YBAN"
Return

$PROPAGATE_YBAN
this.isReadonly = 0
[L]CURPRO = "YBAN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YBAN
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBAN"
$_LNKPRO_YBAN
Return


####################################################################
# 13 : YCOA Chart code ( Field COA 3)
####################################################################

$SET_YCOA
If [L]_AOLDVAL<>this.YCOA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YCOA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YCOA
 Gosub PROPAGATE_YCOA
Endif
Return

$INIT_YCOA
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCOA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YCOA
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCOA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YCOA                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YCOA                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YCOA
[L]CURPRO = "YCOA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YCOA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YCOA
[L]CURPRO = "YCOA"
If vireblc(this.YCOA,2)<>vireblc(format$("K:3c",this.YCOA),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YCOA
[L]CURPRO = "YCOA"
If vireblc(this.YCOA,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCOA.ACTRLREF(this,"YCOA",this.YCOA,this.YCOA,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YCOA<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YCOA
[L]CURPRO = "YCOA"
Return

$PROPAGATE_YCOA
this.isReadonly = 0
[L]CURPRO = "YCOA"
Gosub _LNKPRO_YCOA
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YCOA
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCOA"
$_LNKPRO_YCOA
If vireblc(this.YCOA,2)<>""
 # Link GCOA
 Local File GCOA [WCOA]
 Read [F:WCOA]COA0 = this.YCOA
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GCOA" & ZONE="SHOTRA" & IDENT1=[F:WCOA]COA & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YCOA","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GCOA" & ZONE="DESTRA" & IDENT1=[F:WCOA]COA & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YCOA","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WCOA]
Endif
Return


####################################################################
# 14 : YACC GL account ( Field GAC 15)
####################################################################

$SET_YACC
If [L]_AOLDVAL<>this.YACC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YACC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YACC
 Gosub PROPAGATE_YACC
Endif
Return

$INIT_YACC
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YACC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YACC
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YACC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YACC                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YACC                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YACC
[L]CURPRO = "YACC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YACC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YACC
[L]CURPRO = "YACC"
If vireblc(this.YACC,2)<>vireblc(format$("K:15X",this.YACC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YACC
[L]CURPRO = "YACC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YACC
[L]CURPRO = "YACC"
If vireblc(this.YACC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGAC.ACTRLREF(this,"YACC",this.YACC,this.YCOA,this.YACC,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YACC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_YACC
this.isReadonly = 0
[L]CURPRO = "YACC"
Gosub _LNKPRO_YACC
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YACC
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YACC"
$_LNKPRO_YACC
If vireblc(this.YACC,2)<>""
 # Link GACCOUNT
 Local File GACCOUNT [WGAC]
 Read [F:WGAC]GAC0 = this.YCOA;this.YACC
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCOUNT" & ZONE="SHOTRA" & IDENT1=[F:WGAC]COA & IDENT2=[F:WGAC]ACC & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YACC","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCOUNT" & ZONE="DESTRA" & IDENT1=[F:WGAC]COA & IDENT2=[F:WGAC]ACC & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YACC","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGAC]
Endif
Return


####################################################################
# 15 : YLIGDES Line description ( Field A 100)
####################################################################

$SET_YLIGDES
If [L]_AOLDVAL<>this.YLIGDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YLIGDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YLIGDES
 Gosub PROPAGATE_YLIGDES
Endif
Return

$INIT_YLIGDES
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YLIGDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YLIGDES
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YLIGDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YLIGDES               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YLIGDES               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YLIGDES
[L]CURPRO = "YLIGDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YLIGDES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YLIGDES
[L]CURPRO = "YLIGDES"
Return

$_AOTHERS_YLIGDES
[L]CURPRO = "YLIGDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YLIGDES
[L]CURPRO = "YLIGDES"
Return

$PROPAGATE_YLIGDES
this.isReadonly = 0
[L]CURPRO = "YLIGDES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YLIGDES
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YLIGDES"
$_LNKPRO_YLIGDES
Return


####################################################################
# 16 : YCTRL Control ( Field SAC 12)
####################################################################

$SET_YCTRL
If [L]_AOLDVAL<>this.YCTRL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YCTRL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YCTRL
 Gosub PROPAGATE_YCTRL
Endif
Return

$INIT_YCTRL
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCTRL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YCTRL
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCTRL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YCTRL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YCTRL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YCTRL
[L]CURPRO = "YCTRL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YCTRL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YCTRL
[L]CURPRO = "YCTRL"
If vireblc(this.YCTRL,2)<>vireblc(format$("K:A11B",this.YCTRL),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YCTRL
[L]CURPRO = "YCTRL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YCTRL
[L]CURPRO = "YCTRL"
Return

$PROPAGATE_YCTRL
this.isReadonly = 0
[L]CURPRO = "YCTRL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YCTRL
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCTRL"
$_LNKPRO_YCTRL
Return


####################################################################
# 17 : YBP BP ( Field BPR 15)
####################################################################

$SET_YBP
If [L]_AOLDVAL<>this.YBP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YBP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YBP
 Gosub PROPAGATE_YBP
Endif
Return

$INIT_YBP
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YBP
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YBP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YBP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YBP
[L]CURPRO = "YBP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YBP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YBP
[L]CURPRO = "YBP"
If vireblc(this.YBP,2)<>vireblc(format$("K:15c",this.YBP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YBP
[L]CURPRO = "YBP"
If vireblc(this.YBP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"YBP",this.YBP,this.YBP,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YBP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YBP
[L]CURPRO = "YBP"
Return

$PROPAGATE_YBP
this.isReadonly = 0
[L]CURPRO = "YBP"
Gosub _LNKPRO_YBP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YBP
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YBP"
$_LNKPRO_YBP
If vireblc(this.YBP,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.YBP
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("YBP","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("YBP","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return


####################################################################
# 18 : YDEB Debit ( Field MC1 0)
####################################################################

$SET_YDEB
If [L]_AOLDVAL<>this.YDEB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YDEB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YDEB
 Gosub PROPAGATE_YDEB
Endif
Return

$INIT_YDEB
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDEB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YDEB
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDEB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YDEB                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YDEB                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YDEB
[L]CURPRO = "YDEB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YDEB=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YDEB
[L]CURPRO = "YDEB"
Return

$_AOTHERS_YDEB
[L]CURPRO = "YDEB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YDEB
[L]CURPRO = "YDEB"
Return

$PROPAGATE_YDEB
this.isReadonly = 0
[L]CURPRO = "YDEB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YDEB
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDEB"
$_LNKPRO_YDEB
Return


####################################################################
# 19 : YCDT Credit ( Field MC1 0)
####################################################################

$SET_YCDT
If [L]_AOLDVAL<>this.YCDT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YCDT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YCDT
 Gosub PROPAGATE_YCDT
Endif
Return

$INIT_YCDT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCDT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YCDT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCDT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YCDT                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YCDT                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YCDT
[L]CURPRO = "YCDT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YCDT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YCDT
[L]CURPRO = "YCDT"
Return

$_AOTHERS_YCDT
[L]CURPRO = "YCDT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YCDT
[L]CURPRO = "YCDT"
Return

$PROPAGATE_YCDT
this.isReadonly = 0
[L]CURPRO = "YCDT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YCDT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCDT"
$_LNKPRO_YCDT
Return


####################################################################
# 20 : YTAX Tax ( Field VAT 5)
####################################################################

$SET_YTAX
If [L]_AOLDVAL<>this.YTAX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YTAX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YTAX
 Gosub PROPAGATE_YTAX
Endif
Return

$INIT_YTAX
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YTAX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YTAX
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YTAX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YTAX                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YTAX                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YTAX
[L]CURPRO = "YTAX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YTAX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YTAX
[L]CURPRO = "YTAX"
If vireblc(this.YTAX,2)<>vireblc(format$("K:5c",this.YTAX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YTAX
[L]CURPRO = "YTAX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YTAX
[L]CURPRO = "YTAX"
If vireblc(this.YTAX,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"YTAX",this.YTAX,this.YTAX,"AUS","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YTAX<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_YTAX
this.isReadonly = 0
[L]CURPRO = "YTAX"
Gosub _LNKPRO_YTAX
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YTAX
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YTAX"
$_LNKPRO_YTAX
If vireblc(this.YTAX,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.YTAX;"AUS"
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YTAX","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YTAX","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 21 : YGSTAMT GST amount ( Field MC1 0)
####################################################################

$SET_YGSTAMT
If [L]_AOLDVAL<>this.YGSTAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YGSTAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YGSTAMT
 Gosub PROPAGATE_YGSTAMT
Endif
Return

$INIT_YGSTAMT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YGSTAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YGSTAMT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YGSTAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YGSTAMT               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YGSTAMT               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YGSTAMT
[L]CURPRO = "YGSTAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YGSTAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YGSTAMT
[L]CURPRO = "YGSTAMT"
Return

$_AOTHERS_YGSTAMT
[L]CURPRO = "YGSTAMT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YGSTAMT
[L]CURPRO = "YGSTAMT"
Return

$PROPAGATE_YGSTAMT
this.isReadonly = 0
[L]CURPRO = "YGSTAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YGSTAMT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YGSTAMT"
$_LNKPRO_YGSTAMT
Return


####################################################################
# 22 : YAMTTAX Amount + tax ( Field MC1 0)
####################################################################

$SET_YAMTTAX
If [L]_AOLDVAL<>this.YAMTTAX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YAMTTAX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YAMTTAX
 Gosub PROPAGATE_YAMTTAX
Endif
Return

$INIT_YAMTTAX
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YAMTTAX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YAMTTAX
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YAMTTAX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YAMTTAX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YAMTTAX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YAMTTAX
[L]CURPRO = "YAMTTAX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YAMTTAX=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YAMTTAX
[L]CURPRO = "YAMTTAX"
Return

$_AOTHERS_YAMTTAX
[L]CURPRO = "YAMTTAX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YAMTTAX
[L]CURPRO = "YAMTTAX"
Return

$PROPAGATE_YAMTTAX
this.isReadonly = 0
[L]CURPRO = "YAMTTAX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YAMTTAX
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YAMTTAX"
$_LNKPRO_YAMTTAX
Return


####################################################################
# 23 : YREF Reference ( Field A 100)
####################################################################

$SET_YREF
If [L]_AOLDVAL<>this.YREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YREF
 Gosub PROPAGATE_YREF
Endif
Return

$INIT_YREF
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YREF
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YREF                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YREF                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YREF
[L]CURPRO = "YREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YREF
[L]CURPRO = "YREF"
Return

$_AOTHERS_YREF
[L]CURPRO = "YREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YREF
[L]CURPRO = "YREF"
Return

$PROPAGATE_YREF
this.isReadonly = 0
[L]CURPRO = "YREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YREF
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YREF"
$_LNKPRO_YREF
Return


####################################################################
# 24 : YFREF Free reference ( Field A 100)
####################################################################

$SET_YFREF
If [L]_AOLDVAL<>this.YFREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YFREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YFREF
 Gosub PROPAGATE_YFREF
Endif
Return

$INIT_YFREF
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YFREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YFREF
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YFREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YFREF                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YFREF                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YFREF
[L]CURPRO = "YFREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YFREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YFREF
[L]CURPRO = "YFREF"
Return

$_AOTHERS_YFREF
[L]CURPRO = "YFREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YFREF
[L]CURPRO = "YFREF"
Return

$PROPAGATE_YFREF
this.isReadonly = 0
[L]CURPRO = "YFREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YFREF
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YFREF"
$_LNKPRO_YFREF
Return


####################################################################
# 25 : YPJT Project ( Field PJT 40)
####################################################################

$SET_YPJT
If [L]_AOLDVAL<>this.YPJT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YPJT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YPJT
 Gosub PROPAGATE_YPJT
Endif
Return

$INIT_YPJT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YPJT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YPJT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YPJT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YPJT                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YPJT                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YPJT
[L]CURPRO = "YPJT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YPJT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YPJT
[L]CURPRO = "YPJT"
If vireblc(this.YPJT,2)<>vireblc(format$("K:40X",this.YPJT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YPJT
[L]CURPRO = "YPJT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YPJT
[L]CURPRO = "YPJT"
Return

$PROPAGATE_YPJT
this.isReadonly = 0
[L]CURPRO = "YPJT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YPJT
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YPJT"
$_LNKPRO_YPJT
Return


####################################################################
# 26 : YDIE0 Dim ( Field DIE 3)
####################################################################

$SET_YDIE0
If [L]_AOLDVAL<>this.YDIE0
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YDIE0
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YDIE0
 Gosub PROPAGATE_YDIE0
Endif
Return

$INIT_YDIE0
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE0"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YDIE0
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE0"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YDIE0                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YDIE0                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YDIE0
[L]CURPRO = "YDIE0"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YDIE0,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YDIE0
[L]CURPRO = "YDIE0"
If vireblc(this.YDIE0,2)<>vireblc(format$("K:3c",this.YDIE0),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YDIE0
[L]CURPRO = "YDIE0"
If vireblc(this.YDIE0,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPDIE.ACTRLREF(this,"YDIE0",this.YDIE0,this.YDIE0,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YDIE0<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YDIE0
[L]CURPRO = "YDIE0"
Return

$PROPAGATE_YDIE0
this.isReadonly = 0
[L]CURPRO = "YDIE0"
Gosub _LNKPRO_YDIE0
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YDIE0
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE0"
$_LNKPRO_YDIE0
If vireblc(this.YDIE0,2)<>""
 # Link GDIE
 Local File GDIE [WDIE]
 Read [F:WDIE]DIE0 = this.YDIE0
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GDIE" & ZONE="SHOTRA" & IDENT1=[F:WDIE]DIE & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YDIE0","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GDIE" & ZONE="DESTRA" & IDENT1=[F:WDIE]DIE & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YDIE0","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WDIE]
Endif
Return


####################################################################
# 27 : YCCE0 Business group ( Field CCE 15)
####################################################################

$SET_YCCE0
If [L]_AOLDVAL<>this.YCCE0
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YCCE0
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YCCE0
 Gosub PROPAGATE_YCCE0
Endif
Return

$INIT_YCCE0
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCCE0"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YCCE0
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCCE0"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YCCE0                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YCCE0                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YCCE0
[L]CURPRO = "YCCE0"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YCCE0,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YCCE0
[L]CURPRO = "YCCE0"
If vireblc(this.YCCE0,2)<>vireblc(format$("K:15c",this.YCCE0),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YCCE0
[L]CURPRO = "YCCE0"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YCCE0
[L]CURPRO = "YCCE0"
If vireblc(this.YCCE0,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCCE.ACTRLREF(this,"YCCE0",this.YCCE0,this.YDIE0,this.YCCE0,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YCCE0<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_YCCE0
this.isReadonly = 0
[L]CURPRO = "YCCE0"
Gosub _LNKPRO_YCCE0
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YCCE0
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCCE0"
$_LNKPRO_YCCE0
If vireblc(this.YCCE0,2)<>""
 # Link CACCE
 Local File CACCE [WCCE]
 Read [F:WCCE]CCE0 = this.YDIE0;this.YCCE0
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="CACCE" & ZONE="SHOTRA" & IDENT1=[F:WCCE]DIE & IDENT2=[F:WCCE]CCE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YCCE0","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="CACCE" & ZONE="DESTRA" & IDENT1=[F:WCCE]DIE & IDENT2=[F:WCCE]CCE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YCCE0","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WCCE]
Endif
Return


####################################################################
# 28 : YDIE1 Dim ( Field DIE 3)
####################################################################

$SET_YDIE1
If [L]_AOLDVAL<>this.YDIE1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YDIE1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YDIE1
 Gosub PROPAGATE_YDIE1
Endif
Return

$INIT_YDIE1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YDIE1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YDIE1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YDIE1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YDIE1
[L]CURPRO = "YDIE1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YDIE1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YDIE1
[L]CURPRO = "YDIE1"
If vireblc(this.YDIE1,2)<>vireblc(format$("K:3c",this.YDIE1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YDIE1
[L]CURPRO = "YDIE1"
If vireblc(this.YDIE1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPDIE.ACTRLREF(this,"YDIE1",this.YDIE1,this.YDIE1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YDIE1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YDIE1
[L]CURPRO = "YDIE1"
Return

$PROPAGATE_YDIE1
this.isReadonly = 0
[L]CURPRO = "YDIE1"
Gosub _LNKPRO_YDIE1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YDIE1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE1"
$_LNKPRO_YDIE1
If vireblc(this.YDIE1,2)<>""
 # Link GDIE
 Local File GDIE [WDIE]
 Read [F:WDIE]DIE0 = this.YDIE1
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GDIE" & ZONE="SHOTRA" & IDENT1=[F:WDIE]DIE & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YDIE1","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GDIE" & ZONE="DESTRA" & IDENT1=[F:WDIE]DIE & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YDIE1","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WDIE]
Endif
Return


####################################################################
# 29 : YCCE1 Account dissection ( Field CCE 15)
####################################################################

$SET_YCCE1
If [L]_AOLDVAL<>this.YCCE1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YCCE1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YCCE1
 Gosub PROPAGATE_YCCE1
Endif
Return

$INIT_YCCE1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCCE1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YCCE1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCCE1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YCCE1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YCCE1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YCCE1
[L]CURPRO = "YCCE1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YCCE1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YCCE1
[L]CURPRO = "YCCE1"
If vireblc(this.YCCE1,2)<>vireblc(format$("K:15c",this.YCCE1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YCCE1
[L]CURPRO = "YCCE1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YCCE1
[L]CURPRO = "YCCE1"
If vireblc(this.YCCE1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCCE.ACTRLREF(this,"YCCE1",this.YCCE1,this.YDIE1,this.YCCE1,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YCCE1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_YCCE1
this.isReadonly = 0
[L]CURPRO = "YCCE1"
Gosub _LNKPRO_YCCE1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YCCE1
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YCCE1"
$_LNKPRO_YCCE1
If vireblc(this.YCCE1,2)<>""
 # Link CACCE
 Local File CACCE [WCCE]
 Read [F:WCCE]CCE0 = this.YDIE1;this.YCCE1
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="CACCE" & ZONE="SHOTRA" & IDENT1=[F:WCCE]DIE & IDENT2=[F:WCCE]CCE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YCCE1","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="CACCE" & ZONE="DESTRA" & IDENT1=[F:WCCE]DIE & IDENT2=[F:WCCE]CCE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YCCE1","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WCCE]
Endif
Return


####################################################################
# 30 : YDIE2 Dim ( Field DIE 3)
####################################################################

$SET_YDIE2
If [L]_AOLDVAL<>this.YDIE2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YDIE2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YDIE2
 Gosub PROPAGATE_YDIE2
Endif
Return

$INIT_YDIE2
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YDIE2
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YDIE2                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YDIE2                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YDIE2
[L]CURPRO = "YDIE2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.YDIE2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YDIE2
[L]CURPRO = "YDIE2"
If vireblc(this.YDIE2,2)<>vireblc(format$("K:3c",this.YDIE2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_YDIE2
[L]CURPRO = "YDIE2"
If vireblc(this.YDIE2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPDIE.ACTRLREF(this,"YDIE2",this.YDIE2,this.YDIE2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.YDIE2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YDIE2
[L]CURPRO = "YDIE2"
Return

$PROPAGATE_YDIE2
this.isReadonly = 0
[L]CURPRO = "YDIE2"
Gosub _LNKPRO_YDIE2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YDIE2
Gosub DECLARE_VAR From WMC0YBBD
[L]CURPRO = "YDIE2"
$_LNKPRO_YDIE2
If vireblc(this.YDIE2,2)<>""
 # Link GDIE
 Local File GDIE [WDIE]
 Read [F:WDIE]DIE0 = this.YDIE2
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GDIE" & ZONE="SHOTRA" & IDENT1=[F:WDIE]DIE & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YDIE2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GDIE" & ZONE="DESTRA" & IDENT1=[F:WDIE]DIE & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("YDIE2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WDIE]
Endif
Return




