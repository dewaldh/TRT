#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
# Mask management FASACT1 

$_AFF
If GIMPORT
 Gosub AFF From GSAISIE
Else
 If GMESSAGE <>""
  Gosub ERR From GSAISIE
 Else
  Raz GERR , GZNUM
 Endif
Endif
Return

$ON_IASETRNOA
Onevent BEFORE_AREA Gosub AV_IASETRNOA From W2FASACT1
Onevent CONTROL Call C_IASETRNOA(zc) From W2FASACT1
Onevent AFTER_CHANGE Gosub AMM_IASETRNOA From W2FASACT1
Return

$AV_IASETRNOA
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]IASETRNOA(indice) With "Nz3:"+GDEVFMT
Gosub _AFF
Return

Subprog C_IASETRNOA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_IASETRNOA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "IASETRNOA" : GZNUM = 43150 : Endif
Gosub _AFF
End

$AMM_IASETRNOA
Call AM_IASETRNOA(zc)
If !mkstat & GOBJET
 zoncou = "IASETRNOA" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_IASETRNOA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_IASETRNOA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "IASETRNOA" : GZNUM = 43150 : Endif
Gosub _AFF
End

$ON_IVCVATRATA
Onevent AFTER_CHANGE Gosub AMM_IVCVATRATA From W2FASACT1
Onevent CONTROL Call C_IVCVATRATA(zc) From W2FASACT1
Return

Subprog C_IVCVATRATA(VALEUR)
Variable Decimal VALEUR
Gosub _AFF
End

$AMM_IVCVATRATA
Call AM_IVCVATRATA(zc)
If !mkstat & GOBJET
 zoncou = "IVCVATRATA" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_IVCVATRATA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_IVCVATRATA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "IVCVATRATA" : GZNUM = 36325 : Endif
Gosub _AFF
End

$ON_IVCVATFLGA
Onevent INIT_AREA Call D_IVCVATFLGA(zc) From W2FASACT1
Return

Subprog D_IVCVATFLGA(VALEUR)
Variable Integer VALEUR
If varinit([M]IVCVATFLGA,indice)=0
 VALEUR = G_NON
Endif
Gosub _AFF
End

$ON_IVCVATAMTA
Onevent BEFORE_AREA Gosub AV_IVCVATAMTA From W2FASACT1
Onevent BEFORE_INPUT Call AS_IVCVATAMTA(zc) From W2FASACT1
Onevent CONTROL Call C_IVCVATAMTA(zc) From W2FASACT1
Onevent AFTER_CHANGE Gosub AMM_IVCVATAMTA From W2FASACT1
Return

$AV_IVCVATAMTA
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_IVCVATAMTA(zc) From TRTFASACT
Chgfmt [M]IVCVATAMTA(indice) With "Nz3:"+GDEVFMT
Gosub _AFF
Return

Subprog AS_IVCVATAMTA(VALEUR)
Variable Decimal VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(34687,GBOUT1) From OBJDIV
## Action STD
Call AS_IVCVATAMTA(VALEUR) From TRTFASACT
If mkstat=2
 [M]IVCVATAMTA(INDIC) = VALEUR
 Affzo IVCVATAMTA(INDIC) : mkstat = 2
Endif
Onkey 129 Titled GBOUT1 Call B1_IVCVATAMTA(zc) From W2FASACT1
Gosub _AFF
End

Subprog C_IVCVATAMTA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_IVCVATAMTA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "IVCVATAMTA" : GZNUM = 34686 : Endif
Gosub _AFF
End

$AMM_IVCVATAMTA
Call AM_IVCVATAMTA(zc)
If !mkstat & GOBJET
 zoncou = "IVCVATAMTA" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_IVCVATAMTA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_IVCVATAMTA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "IVCVATAMTA" : GZNUM = 34686 : Endif
Gosub _AFF
End

Subprog B1_IVCVATAMTA(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action STD
 Call B1_IVCVATAMTA(VALEUR) From TRTFASACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_DEDVATRATA
Return

$ON_DEDVATFLGA
Onevent INIT_AREA Call D_DEDVATFLGA(zc) From W2FASACT1
Return

Subprog D_DEDVATFLGA(VALEUR)
Variable Integer VALEUR
If varinit([M]DEDVATFLGA,indice)=0
 VALEUR = G_NON
Endif
Gosub _AFF
End

$ON_DEDVATAMTA
Onevent BEFORE_AREA Gosub AV_DEDVATAMTA From W2FASACT1
Onevent BEFORE_INPUT Call AS_DEDVATAMTA(zc) From W2FASACT1
Onevent CONTROL Call C_DEDVATAMTA(zc) From W2FASACT1
Onevent AFTER_CHANGE Gosub AMM_DEDVATAMTA From W2FASACT1
Return

$AV_DEDVATAMTA
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_DEDVATAMTA(zc) From TRTFASACT
Chgfmt [M]DEDVATAMTA(indice) With "Nz3:"+GDEVFMT
Gosub _AFF
Return

Subprog AS_DEDVATAMTA(VALEUR)
Variable Decimal VALEUR
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(34687,GBOUT1) From OBJDIV
## Action STD
Call AS_DEDVATAMTA(VALEUR) From TRTFASACT
If mkstat=2
 [M]DEDVATAMTA(INDIC) = VALEUR
 Affzo DEDVATAMTA(INDIC) : mkstat = 2
Endif
Onkey 129 Titled GBOUT1 Call B1_DEDVATAMTA(zc) From W2FASACT1
Gosub _AFF
End

Subprog C_DEDVATAMTA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call C_DEDVATAMTA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "DEDVATAMTA" : GZNUM = 24220 : Endif
Gosub _AFF
End

$AMM_DEDVATAMTA
Call AM_DEDVATAMTA(zc)
If !mkstat & GOBJET
 zoncou = "DEDVATAMTA" : Gosub APRES_MODIF From =GPROGRAMME
Endif
Return

Subprog AM_DEDVATAMTA(VALEUR)
Variable Decimal VALEUR
## Action STD
Call AM_DEDVATAMTA(VALEUR) From TRTFASACT
If mkstat : GERR = 1 : GZONE = "DEDVATAMTA" : GZNUM = 24220 : Endif
Gosub _AFF
End

Subprog B1_DEDVATAMTA(VALEUR)
Variable Decimal VALEUR
If !GWEBSERV
 ## Action STD
 Call B1_DEDVATAMTA(VALEUR) From TRTFASACT
Endif
If mkstat=99 : mkstat = 0 : Elsif mkstat=0 : mkstat = 2 : Endif
Gosub _AFF
End

$ON_IASBASVALA
Onevent BEFORE_AREA Gosub AV_IASBASVALA From W2FASACT1
Return

$AV_IASBASVALA
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]IASBASVALA(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_ACGETRNON
Onevent BEFORE_AREA Gosub AV_ACGETRNON From W2FASACT1
Return

$AV_ACGETRNON
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]ACGCUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]ACGETRNON(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_IVCVATRAN
Return

$ON_IVCVATFLN
Onevent INIT_AREA Call D_IVCVATFLN(zc) From W2FASACT1
Return

Subprog D_IVCVATFLN(VALEUR)
Variable Integer VALEUR
If varinit([M]IVCVATFLN,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_IVCVATAMN
Onevent BEFORE_AREA Gosub AV_IVCVATAMN From W2FASACT1
Return

$AV_IVCVATAMN
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]ACGCUR,GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_IVCVATAMN(zc) From TRTFASACT
Chgfmt [M]IVCVATAMN(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_DEDVATRAN
Return

$ON_DEDVATFLN
Onevent INIT_AREA Call D_DEDVATFLN(zc) From W2FASACT1
Return

Subprog D_DEDVATFLN(VALEUR)
Variable Integer VALEUR
If varinit([M]DEDVATFLN,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_DEDVATAMN
Onevent BEFORE_AREA Gosub AV_DEDVATAMN From W2FASACT1
Return

$AV_DEDVATAMN
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]ACGCUR,GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_DEDVATAMN(zc) From TRTFASACT
Chgfmt [M]DEDVATAMN(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_PCGBASVALN
Onevent BEFORE_AREA Gosub AV_PCGBASVALN From W2FASACT1
Return

$AV_PCGBASVALN
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]ACGCUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]PCGBASVALN(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_IASETRNON
Onevent BEFORE_AREA Gosub AV_IASETRNON From W2FASACT1
Return

$AV_IASETRNON
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]IASETRNON(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_IVCVATRATN
Return

$ON_IVCVATFLGN
Onevent INIT_AREA Call D_IVCVATFLGN(zc) From W2FASACT1
Return

Subprog D_IVCVATFLGN(VALEUR)
Variable Integer VALEUR
If varinit([M]IVCVATFLGN,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_IVCVATAMTN
Onevent BEFORE_AREA Gosub AV_IVCVATAMTN From W2FASACT1
Return

$AV_IVCVATAMTN
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_IVCVATAMTN(zc) From TRTFASACT
Chgfmt [M]IVCVATAMTN(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_DEDVATRATN
Return

$ON_DEDVATFLGN
Onevent INIT_AREA Call D_DEDVATFLGN(zc) From W2FASACT1
Return

Subprog D_DEDVATFLGN(VALEUR)
Variable Integer VALEUR
If varinit([M]DEDVATFLGN,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_DEDVATAMTN
Onevent BEFORE_AREA Gosub AV_DEDVATAMTN From W2FASACT1
Return

$AV_DEDVATAMTN
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
## Action STD
Call AV_DEDVATAMTN(zc) From TRTFASACT
Chgfmt [M]DEDVATAMTN(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_IASBASVALN
Onevent BEFORE_AREA Gosub AV_IASBASVALN From W2FASACT1
Return

$AV_IASBASVALN
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]IASCUR,GDEVISE(1..GNBDEV)),1))
Chgfmt [M]IASBASVALN(indice) With "NPz3:"+GDEVFMT
Gosub _AFF
Return

$ON_TAXBAS
Onevent BEFORE_AREA Gosub AV_TAXBAS From W2FASACT1
Return

$AV_TAXBAS
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]ACGCUR,GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$ON_GALREFBAS
Onevent BEFORE_AREA Gosub AV_GALREFBAS From W2FASACT1
Return

$AV_GALREFBAS
## Action INIDEV
GDEVFMT="11.2" : GDEVFMT = GDEVFMT1(max(find([M:FAS1]ACGCUR,GDEVISE(1..GNBDEV)),1))
Gosub _AFF
Return

$CHG_STY
Return


