#<AdxTL>@(#)0.0.0.0 $Revision$Class Tasks - Operations
# Supervisor
## ACLA-CLASSE ## PJMTSKOPE
# 2018-09-17 03:51:58 737


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : TASFCY Site ( Field FCY 5)
####################################################################

$SET_TASFCY
If [L]_AOLDVAL<>this.TASFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASFCY
 Gosub PROPAGATE_TASFCY
Endif
Return

$INIT_TASFCY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "TASFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASFCY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "TASFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASFCY
[L]CURPRO = "TASFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASFCY
[L]CURPRO = "TASFCY"
If vireblc(this.TASFCY,2)<>vireblc(format$("K:5c",this.TASFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASFCY
[L]CURPRO = "TASFCY"
If vireblc(this.TASFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"TASFCY",this.TASFCY,this.TASFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TASFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASFCY
[L]CURPRO = "TASFCY"
Return

$PROPAGATE_TASFCY
this.isReadonly = 0
[L]CURPRO = "TASFCY"
Gosub _LNKPRO_TASFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASFCY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "TASFCY"
$_LNKPRO_TASFCY
If vireblc(this.TASFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.TASFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_TASFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$isMandatory","true")
Return


####################################################################
# 2 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 3 : OPPNUM Project number ( Field PIM 40)
####################################################################

$SET_OPPNUM
If [L]_AOLDVAL<>this.OPPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPPNUM
 Gosub PROPAGATE_OPPNUM
Endif
Return

$INIT_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPPNUM
[L]CURPRO = "OPPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPPNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPPNUM
[L]CURPRO = "OPPNUM"
If vireblc(this.OPPNUM,2)<>vireblc(format$("K:40X",this.OPPNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPPNUM
[L]CURPRO = "OPPNUM"
[L]ASTATUS =  func PIMPL_CSTD_PROGS.PIM_FORMAT(this,"OPPNUM",this.OPPNUM)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPPNUM
[L]CURPRO = "OPPNUM"
Return

$PROPAGATE_OPPNUM
this.isReadonly = 0
[L]CURPRO = "OPPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPPNUM"
$_LNKPRO_OPPNUM
Return

$_ALOADATTRIBUTE_OPPNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPPNUM","$isMandatory","true")
Return


####################################################################
# 4 : TASCOD Task number ( Field TAC 15)
####################################################################

$SET_TASCOD
If [L]_AOLDVAL<>this.TASCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASCOD
 Gosub PROPAGATE_TASCOD
Endif
Return

$INIT_TASCOD
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "TASCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASCOD
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "TASCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASCOD
[L]CURPRO = "TASCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASCOD
[L]CURPRO = "TASCOD"
If vireblc(this.TASCOD,2)<>vireblc(format$("K:15X",this.TASCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASCOD
[L]CURPRO = "TASCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASCOD
[L]CURPRO = "TASCOD"
Return

$PROPAGATE_TASCOD
this.isReadonly = 0
[L]CURPRO = "TASCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASCOD
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "TASCOD"
$_LNKPRO_TASCOD
Return

$_ALOADATTRIBUTE_TASCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASCOD","$isMandatory","true")
Return


####################################################################
# 5 : OPENUM Operation ( Field OPE 0)
####################################################################

$SET_OPENUM
If [L]_AOLDVAL<>this.OPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPENUM
 Gosub PROPAGATE_OPENUM
Endif
Return

$INIT_OPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPENUM
[L]CURPRO = "OPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPENUM
[L]CURPRO = "OPENUM"
Return

$_AOTHERS_OPENUM
[L]CURPRO = "OPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPENUM
[L]CURPRO = "OPENUM"
Return

$PROPAGATE_OPENUM
this.isReadonly = 0
[L]CURPRO = "OPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPENUM"
$_LNKPRO_OPENUM
Return

$_ALOADATTRIBUTE_OPENUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPENUM","$isMandatory","true")
Return


####################################################################
# 6 : OPESPLNUM Operation split ( Field C 4)
####################################################################

$SET_OPESPLNUM
If [L]_AOLDVAL<>this.OPESPLNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESPLNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESPLNUM
 Gosub PROPAGATE_OPESPLNUM
Endif
Return

$INIT_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESPLNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESPLNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESPLNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESPLNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
Return

$_AOTHERS_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
Return

$PROPAGATE_OPESPLNUM
this.isReadonly = 0
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESPLNUM"
$_LNKPRO_OPESPLNUM
Return


####################################################################
# 7 : ROUOPENUM Operation no. ( Field OPE 0)
####################################################################

$SET_ROUOPENUM
If [L]_AOLDVAL<>this.ROUOPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROUOPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROUOPENUM
 Gosub PROPAGATE_ROUOPENUM
Endif
Return

$INIT_ROUOPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROUOPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ROUOPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROUOPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROUOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROUOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROUOPENUM
[L]CURPRO = "ROUOPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ROUOPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROUOPENUM
[L]CURPRO = "ROUOPENUM"
Return

$_AOTHERS_ROUOPENUM
[L]CURPRO = "ROUOPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROUOPENUM
[L]CURPRO = "ROUOPENUM"
Return

$PROPAGATE_ROUOPENUM
this.isReadonly = 0
[L]CURPRO = "ROUOPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROUOPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROUOPENUM"
$_LNKPRO_ROUOPENUM
Return


####################################################################
# 8 : KEYCONCAT Concatenation ( Field A 40)
####################################################################

$GET_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_KEYCONCAT
If [L]_AOLDVAL<>this.KEYCONCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_KEYCONCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.KEYCONCAT
 Gosub PROPAGATE_KEYCONCAT
Endif
Return

$INIT_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "KEYCONCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.KEYCONCAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$_AOTHERS_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$PROPAGATE_KEYCONCAT
this.isReadonly = 0
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "KEYCONCAT"
$_LNKPRO_KEYCONCAT
Return


####################################################################
# 9 : STDOPENUM Standard operation ( Field ROT 0)
####################################################################

$SET_STDOPENUM
If [L]_AOLDVAL<>this.STDOPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STDOPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STDOPENUM
 Gosub PROPAGATE_STDOPENUM
Endif
Return

$INIT_STDOPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "STDOPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STDOPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "STDOPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STDOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STDOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STDOPENUM
[L]CURPRO = "STDOPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STDOPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STDOPENUM
[L]CURPRO = "STDOPENUM"
Return

$_AOTHERS_STDOPENUM
[L]CURPRO = "STDOPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STDOPENUM
[L]CURPRO = "STDOPENUM"
Return

$PROPAGATE_STDOPENUM
this.isReadonly = 0
[L]CURPRO = "STDOPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STDOPENUM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "STDOPENUM"
$_LNKPRO_STDOPENUM
Return


####################################################################
# 10 : OPESTA Operation status ( Field Local menu number 308)
####################################################################

$SET_OPESTA
If [L]_AOLDVAL<>this.OPESTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESTA
 Gosub PROPAGATE_OPESTA
Endif
Return

$INIT_OPESTA
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPESTA=0 and fmet this.AGETATTRIBUTE("OPESTA","$isMandatory")="true"
 this.OPESTA = 1
Endif
Return
 
$CONTROL_OPESTA
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESTA
[L]CURPRO = "OPESTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESTA
[L]CURPRO = "OPESTA"
If this.OPESTA<0 or this.OPESTA>len(mess(0,308,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"308 ->"-num$(this.OPESTA)-mess(99,123,1)):  Return : # Local menu "308 -> Invalid option
Endif
Return

$_AOTHERS_OPESTA
[L]CURPRO = "OPESTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESTA
[L]CURPRO = "OPESTA"
Return

$PROPAGATE_OPESTA
this.isReadonly = 0
[L]CURPRO = "OPESTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESTA
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTA"
$_LNKPRO_OPESTA
Return

$_ALOADATTRIBUTE_OPESTA
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPESTA","$isMandatory","true")
Return


####################################################################
# 11 : ROODESAXX Description ( Field AXX)
####################################################################

$GET_ROODESAXX
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROODESAXX"
this.ROODESAXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_ROODESAXX
If [L]_AOLDVAL<>this.ROODESAXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROODESAXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROODESAXX
 Gosub PROPAGATE_ROODESAXX
Endif
Return

$INIT_ROODESAXX
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROODESAXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ROODESAXX
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROODESAXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROODESAXX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROODESAXX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROODESAXX
[L]CURPRO = "ROODESAXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ROODESAXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROODESAXX
[L]CURPRO = "ROODESAXX"
Return

$_AOTHERS_ROODESAXX
[L]CURPRO = "ROODESAXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROODESAXX
[L]CURPRO = "ROODESAXX"
Return

$PROPAGATE_ROODESAXX
this.isReadonly = 0
[L]CURPRO = "ROODESAXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.ROODESAXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROODESAXX
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "ROODESAXX"
$_LNKPRO_ROODESAXX
Return

$_ALOADATTRIBUTE_ROODESAXX
[L]ASTATUS = fmet this.ASETATTRIBUTE("ROODESAXX","$isMandatory","true")
Return


####################################################################
# 12 : EXTWST Expected W/C ( Field WST 8)
####################################################################

$SET_EXTWST
If [L]_AOLDVAL<>this.EXTWST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXTWST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXTWST
 Gosub PROPAGATE_EXTWST
Endif
Return

$INIT_EXTWST
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTWST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXTWST
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTWST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXTWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXTWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXTWST
[L]CURPRO = "EXTWST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXTWST,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXTWST
[L]CURPRO = "EXTWST"
If vireblc(this.EXTWST,2)<>vireblc(format$("K:8c",this.EXTWST),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EXTWST
[L]CURPRO = "EXTWST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXTWST
[L]CURPRO = "EXTWST"
Return

$PROPAGATE_EXTWST
this.isReadonly = 0
[L]CURPRO = "EXTWST"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXTWST
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTWST"
$_LNKPRO_EXTWST
Return

$_ALOADATTRIBUTE_EXTWST
[L]ASTATUS = fmet this.ASETATTRIBUTE("EXTWST","$isMandatory","true")
Return


####################################################################
# 13 : OPESTR Start date ( Field D)
####################################################################

$SET_OPESTR
If [L]_AOLDVAL<>this.OPESTR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESTR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESTR
 Gosub PROPAGATE_OPESTR
Endif
Return

$INIT_OPESTR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESTR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESTR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESTR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESTR
[L]CURPRO = "OPESTR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESTR=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESTR
[L]CURPRO = "OPESTR"
Return

$_AOTHERS_OPESTR
[L]CURPRO = "OPESTR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESTR
[L]CURPRO = "OPESTR"
Return

$PROPAGATE_OPESTR
this.isReadonly = 0
[L]CURPRO = "OPESTR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESTR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTR"
$_LNKPRO_OPESTR
Return


####################################################################
# 14 : OPEEND End date ( Field D)
####################################################################

$SET_OPEEND
If [L]_AOLDVAL<>this.OPEEND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEEND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEEND
 Gosub PROPAGATE_OPEEND
Endif
Return

$INIT_OPEEND
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEEND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEEND
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEEND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEEND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEEND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEEND
[L]CURPRO = "OPEEND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPEEND=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEEND
[L]CURPRO = "OPEEND"
Return

$_AOTHERS_OPEEND
[L]CURPRO = "OPEEND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEEND
[L]CURPRO = "OPEEND"
Return

$PROPAGATE_OPEEND
this.isReadonly = 0
[L]CURPRO = "OPEEND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEEND
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEEND"
$_LNKPRO_OPEEND
Return


####################################################################
# 15 : EXTWSTNBR Expected resources ( Field C 2)
####################################################################

$SET_EXTWSTNBR
If [L]_AOLDVAL<>this.EXTWSTNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXTWSTNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXTWSTNBR
 Gosub PROPAGATE_EXTWSTNBR
Endif
Return

$INIT_EXTWSTNBR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTWSTNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXTWSTNBR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTWSTNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXTWSTNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXTWSTNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXTWSTNBR
[L]CURPRO = "EXTWSTNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXTWSTNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXTWSTNBR
[L]CURPRO = "EXTWSTNBR"
Return

$_AOTHERS_EXTWSTNBR
[L]CURPRO = "EXTWSTNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXTWSTNBR
[L]CURPRO = "EXTWSTNBR"
Return

$PROPAGATE_EXTWSTNBR
this.isReadonly = 0
[L]CURPRO = "EXTWSTNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXTWSTNBR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTWSTNBR"
$_LNKPRO_EXTWSTNBR
Return


####################################################################
# 16 : EXTQTY Planned quantity ( Field QTY 0)
####################################################################

$SET_EXTQTY
If [L]_AOLDVAL<>this.EXTQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXTQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXTQTY
 Gosub PROPAGATE_EXTQTY
Endif
Return

$INIT_EXTQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXTQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXTQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXTQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXTQTY
[L]CURPRO = "EXTQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXTQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXTQTY
[L]CURPRO = "EXTQTY"
Return

$_AOTHERS_EXTQTY
[L]CURPRO = "EXTQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXTQTY
[L]CURPRO = "EXTQTY"
Return

$PROPAGATE_EXTQTY
this.isReadonly = 0
[L]CURPRO = "EXTQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXTQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTQTY"
$_LNKPRO_EXTQTY
Return


####################################################################
# 17 : RMNQTY Remaining load ( Field QTY 0)
####################################################################

$SET_RMNQTY
If [L]_AOLDVAL<>this.RMNQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RMNQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RMNQTY
 Gosub PROPAGATE_RMNQTY
Endif
Return

$INIT_RMNQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "RMNQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RMNQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "RMNQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RMNQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RMNQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RMNQTY
[L]CURPRO = "RMNQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RMNQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RMNQTY
[L]CURPRO = "RMNQTY"
Return

$_AOTHERS_RMNQTY
[L]CURPRO = "RMNQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RMNQTY
[L]CURPRO = "RMNQTY"
Return

$PROPAGATE_RMNQTY
this.isReadonly = 0
[L]CURPRO = "RMNQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RMNQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "RMNQTY"
$_LNKPRO_RMNQTY
Return


####################################################################
# 18 : EXTLAB Expected labor work center ( Field WST 8)
####################################################################

$SET_EXTLAB
If [L]_AOLDVAL<>this.EXTLAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXTLAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXTLAB
 Gosub PROPAGATE_EXTLAB
Endif
Return

$INIT_EXTLAB
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTLAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXTLAB
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTLAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXTLAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXTLAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXTLAB
[L]CURPRO = "EXTLAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXTLAB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXTLAB
[L]CURPRO = "EXTLAB"
If vireblc(this.EXTLAB,2)<>vireblc(format$("K:8c",this.EXTLAB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EXTLAB
[L]CURPRO = "EXTLAB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXTLAB
[L]CURPRO = "EXTLAB"
Return

$PROPAGATE_EXTLAB
this.isReadonly = 0
[L]CURPRO = "EXTLAB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXTLAB
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTLAB"
$_LNKPRO_EXTLAB
Return


####################################################################
# 19 : EXTLABNBR Exp. no. labor ( Field C 2)
####################################################################

$SET_EXTLABNBR
If [L]_AOLDVAL<>this.EXTLABNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXTLABNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXTLABNBR
 Gosub PROPAGATE_EXTLABNBR
Endif
Return

$INIT_EXTLABNBR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTLABNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXTLABNBR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTLABNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXTLABNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXTLABNBR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXTLABNBR
[L]CURPRO = "EXTLABNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXTLABNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXTLABNBR
[L]CURPRO = "EXTLABNBR"
Return

$_AOTHERS_EXTLABNBR
[L]CURPRO = "EXTLABNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXTLABNBR
[L]CURPRO = "EXTLABNBR"
Return

$PROPAGATE_EXTLABNBR
this.isReadonly = 0
[L]CURPRO = "EXTLABNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXTLABNBR
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "EXTLABNBR"
$_LNKPRO_EXTLABNBR
Return


####################################################################
# 20 : OPECST Hourly rate ( Field MS1 0)
####################################################################

$SET_OPECST
If [L]_AOLDVAL<>this.OPECST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPECST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPECST
 Gosub PROPAGATE_OPECST
Endif
Return

$INIT_OPECST
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPECST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPECST
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPECST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPECST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPECST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPECST
[L]CURPRO = "OPECST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPECST=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPECST
[L]CURPRO = "OPECST"
Return

$_AOTHERS_OPECST
[L]CURPRO = "OPECST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPECST
[L]CURPRO = "OPECST"
Return

$PROPAGATE_OPECST
this.isReadonly = 0
[L]CURPRO = "OPECST"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPECST
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPECST"
$_LNKPRO_OPECST
Return


####################################################################
# 21 : OPEDATS Date closed ( Field D)
####################################################################

$SET_OPEDATS
If [L]_AOLDVAL<>this.OPEDATS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEDATS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEDATS
 Gosub PROPAGATE_OPEDATS
Endif
Return

$INIT_OPEDATS
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEDATS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEDATS
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEDATS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEDATS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEDATS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEDATS
[L]CURPRO = "OPEDATS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPEDATS=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEDATS
[L]CURPRO = "OPEDATS"
Return

$_AOTHERS_OPEDATS
[L]CURPRO = "OPEDATS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEDATS
[L]CURPRO = "OPEDATS"
Return

$PROPAGATE_OPEDATS
this.isReadonly = 0
[L]CURPRO = "OPEDATS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEDATS
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEDATS"
$_LNKPRO_OPEDATS
Return


####################################################################
# 22 : OPEDATH Suspension date ( Field D)
####################################################################

$SET_OPEDATH
If [L]_AOLDVAL<>this.OPEDATH
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEDATH
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEDATH
 Gosub PROPAGATE_OPEDATH
Endif
Return

$INIT_OPEDATH
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEDATH"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEDATH
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEDATH"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEDATH               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEDATH               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEDATH
[L]CURPRO = "OPEDATH"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPEDATH=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEDATH
[L]CURPRO = "OPEDATH"
Return

$_AOTHERS_OPEDATH
[L]CURPRO = "OPEDATH"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEDATH
[L]CURPRO = "OPEDATH"
Return

$PROPAGATE_OPEDATH
this.isReadonly = 0
[L]CURPRO = "OPEDATH"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEDATH
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEDATH"
$_LNKPRO_OPEDATH
Return


####################################################################
# 23 : OPEUOM Operation UOM ( Field UOM 3)
####################################################################

$SET_OPEUOM
If [L]_AOLDVAL<>this.OPEUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEUOM
 Gosub PROPAGATE_OPEUOM
Endif
Return

$INIT_OPEUOM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEUOM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEUOM
[L]CURPRO = "OPEUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>vireblc(format$("K:3X",this.OPEUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"OPEUOM",this.OPEUOM,this.OPEUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OPEUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEUOM
[L]CURPRO = "OPEUOM"
Return

$PROPAGATE_OPEUOM
this.isReadonly = 0
[L]CURPRO = "OPEUOM"
Gosub _LNKPRO_OPEUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEUOM
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEUOM"
$_LNKPRO_OPEUOM
If vireblc(this.OPEUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.OPEUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 24 : OPESTUCOE STK-OPE conversion ( Field COE 0)
####################################################################

$SET_OPESTUCOE
If [L]_AOLDVAL<>this.OPESTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESTUCOE
 Gosub PROPAGATE_OPESTUCOE
Endif
Return

$INIT_OPESTUCOE
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESTUCOE
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
Return

$_AOTHERS_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESTUCOE
[L]CURPRO = "OPESTUCOE"
Return

$PROPAGATE_OPESTUCOE
this.isReadonly = 0
[L]CURPRO = "OPESTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESTUCOE
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTUCOE"
$_LNKPRO_OPESTUCOE
Return


####################################################################
# 25 : OPEUOM2 Nonfinancial unit ( Field UOM 3)
####################################################################

$SET_OPEUOM2
If [L]_AOLDVAL<>this.OPEUOM2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEUOM2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEUOM2
 Gosub PROPAGATE_OPEUOM2
Endif
Return

$INIT_OPEUOM2
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEUOM2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEUOM2
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEUOM2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEUOM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEUOM2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEUOM2
[L]CURPRO = "OPEUOM2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEUOM2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEUOM2
[L]CURPRO = "OPEUOM2"
If vireblc(this.OPEUOM2,2)<>vireblc(format$("K:3X",this.OPEUOM2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPEUOM2
[L]CURPRO = "OPEUOM2"
If vireblc(this.OPEUOM2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"OPEUOM2",this.OPEUOM2,this.OPEUOM2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OPEUOM2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEUOM2
[L]CURPRO = "OPEUOM2"
Return

$PROPAGATE_OPEUOM2
this.isReadonly = 0
[L]CURPRO = "OPEUOM2"
Gosub _LNKPRO_OPEUOM2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEUOM2
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEUOM2"
$_LNKPRO_OPEUOM2
If vireblc(this.OPEUOM2,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.OPEUOM2
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM2","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM2","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM2","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM2","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_OPEUOM2
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM2","$isMandatory","true")
Return


####################################################################
# 26 : OPECST2 Unit price ( Field MD8 0)
####################################################################

$SET_OPECST2
If [L]_AOLDVAL<>this.OPECST2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPECST2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPECST2
 Gosub PROPAGATE_OPECST2
Endif
Return

$INIT_OPECST2
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPECST2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPECST2
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPECST2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPECST2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPECST2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPECST2
[L]CURPRO = "OPECST2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPECST2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPECST2
[L]CURPRO = "OPECST2"
Return

$_AOTHERS_OPECST2
[L]CURPRO = "OPECST2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPECST2
[L]CURPRO = "OPECST2"
Return

$PROPAGATE_OPECST2
this.isReadonly = 0
[L]CURPRO = "OPECST2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPECST2
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPECST2"
$_LNKPRO_OPECST2
Return


####################################################################
# 27 : OPESTARTDT Actual start date ( Field D)
####################################################################

$SET_OPESTARTDT
If [L]_AOLDVAL<>this.OPESTARTDT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESTARTDT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESTARTDT
 Gosub PROPAGATE_OPESTARTDT
Endif
Return

$INIT_OPESTARTDT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTARTDT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESTARTDT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTARTDT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESTARTDT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESTARTDT            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESTARTDT
[L]CURPRO = "OPESTARTDT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESTARTDT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESTARTDT
[L]CURPRO = "OPESTARTDT"
Return

$_AOTHERS_OPESTARTDT
[L]CURPRO = "OPESTARTDT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESTARTDT
[L]CURPRO = "OPESTARTDT"
Return

$PROPAGATE_OPESTARTDT
this.isReadonly = 0
[L]CURPRO = "OPESTARTDT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESTARTDT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPESTARTDT"
$_LNKPRO_OPESTARTDT
Return


####################################################################
# 28 : OPEENDDT Actual end date ( Field D)
####################################################################

$SET_OPEENDDT
If [L]_AOLDVAL<>this.OPEENDDT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEENDDT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEENDDT
 Gosub PROPAGATE_OPEENDDT
Endif
Return

$INIT_OPEENDDT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEENDDT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEENDDT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEENDDT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEENDDT              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEENDDT              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEENDDT
[L]CURPRO = "OPEENDDT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPEENDDT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEENDDT
[L]CURPRO = "OPEENDDT"
Return

$_AOTHERS_OPEENDDT
[L]CURPRO = "OPEENDDT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEENDDT
[L]CURPRO = "OPEENDDT"
Return

$PROPAGATE_OPEENDDT
this.isReadonly = 0
[L]CURPRO = "OPEENDDT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEENDDT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "OPEENDDT"
$_LNKPRO_OPEENDDT
Return


####################################################################
# 29 : CSMQTY Consumed load ( Field QTY 0)
####################################################################

$SET_CSMQTY
If [L]_AOLDVAL<>this.CSMQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CSMQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CSMQTY
 Gosub PROPAGATE_CSMQTY
Endif
Return

$INIT_CSMQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "CSMQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CSMQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "CSMQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CSMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CSMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CSMQTY
[L]CURPRO = "CSMQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CSMQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CSMQTY
[L]CURPRO = "CSMQTY"
Return

$_AOTHERS_CSMQTY
[L]CURPRO = "CSMQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CSMQTY
[L]CURPRO = "CSMQTY"
Return

$PROPAGATE_CSMQTY
this.isReadonly = 0
[L]CURPRO = "CSMQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CSMQTY
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "CSMQTY"
$_LNKPRO_CSMQTY
Return


####################################################################
# 30 : RPLIND Alternate index ( Field C 3)
####################################################################

$SET_RPLIND
If [L]_AOLDVAL<>this.RPLIND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPLIND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPLIND
 Gosub PROPAGATE_RPLIND
Endif
Return

$INIT_RPLIND
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "RPLIND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPLIND
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "RPLIND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPLIND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPLIND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPLIND
[L]CURPRO = "RPLIND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RPLIND=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPLIND
[L]CURPRO = "RPLIND"
Return

$_AOTHERS_RPLIND
[L]CURPRO = "RPLIND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPLIND
[L]CURPRO = "RPLIND"
Return

$PROPAGATE_RPLIND
this.isReadonly = 0
[L]CURPRO = "RPLIND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPLIND
Gosub DECLARE_VAR From WMC0PJMTSKOPE
[L]CURPRO = "RPLIND"
$_LNKPRO_RPLIND
Return




