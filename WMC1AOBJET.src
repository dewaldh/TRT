#<AdxTL>@(#)0.0.0.0 $Revision$Class Basic objects  
# Supervisor
## ACLA-CLASSE ## AOBJET
# 2018-08-27 12:21:27 476


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : ABREV Object code ( Field AOB 8)
####################################################################

$SET_ABREV
If [L]_AOLDVAL<>this.ABREV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ABREV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ABREV
 Gosub PROPAGATE_ABREV
Endif
Return

$INIT_ABREV
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ABREV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ABREV
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ABREV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ABREV                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ABREV                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ABREV
[L]CURPRO = "ABREV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ABREV,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ABREV
[L]CURPRO = "ABREV"
If vireblc(this.ABREV,2)<>vireblc(format$("KTD:8B",this.ABREV),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ABREV
[L]CURPRO = "ABREV"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ABREV
[L]CURPRO = "ABREV"
Return

$PROPAGATE_ABREV
this.isReadonly = 0
[L]CURPRO = "ABREV"
Gosub _LNKPRO_ABREV
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ABREV
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ABREV"
$_LNKPRO_ABREV
If vireblc(this.ABREV,2)<>""
 # Link AOBJET
 Local File AOBJET [WAOB]
 Read [F:WAOB]ABREV = this.ABREV
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBSHO & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("ABREV","$title",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBEL & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("ABREV","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WAOB]
Endif
Return

$_ALOADATTRIBUTE_ABREV
[L]ASTATUS = fmet this.ASETATTRIBUTE("ABREV","$isMandatory","true")
Return


####################################################################
# 2 : CODACT Activity code ( Field ACV 5)
####################################################################

$SET_CODACT
If [L]_AOLDVAL<>this.CODACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODACT
 Gosub PROPAGATE_CODACT
Endif
Return

$INIT_CODACT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "CODACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODACT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "CODACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODACT
[L]CURPRO = "CODACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODACT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODACT
[L]CURPRO = "CODACT"
If vireblc(this.CODACT,2)<>vireblc(format$("KTD:5B",this.CODACT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CODACT
[L]CURPRO = "CODACT"
If vireblc(this.CODACT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPACV.ACTRLREF(this,"CODACT",this.CODACT,this.CODACT,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CODACT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODACT
[L]CURPRO = "CODACT"
Return

$PROPAGATE_CODACT
this.isReadonly = 0
[L]CURPRO = "CODACT"
Gosub _LNKPRO_CODACT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODACT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "CODACT"
$_LNKPRO_CODACT
If vireblc(this.CODACT,2)<>""
 # Link ACTIV
 Local File ACTIV [WACV]
 Read [F:WACV]CODACT = this.CODACT
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WACV]LIBACT & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CODACT","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WACV]
Endif
Return


####################################################################
# 3 : LIBEL Object title ( Field ATX)
####################################################################

$GET_LIBEL
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBEL"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_LIBEL
If [L]_AOLDVAL<>this.LIBEL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIBEL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIBEL
 Gosub PROPAGATE_LIBEL
Endif
Return

$INIT_LIBEL
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBEL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIBEL
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBEL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIBEL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIBEL                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIBEL
[L]CURPRO = "LIBEL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & (maxtab(this.ATX)=0 or  func ASYRSUB._HASFIELDATX(this.ATX,[L]CURPRO)=0)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIBEL
[L]CURPRO = "LIBEL"
Return

$_AOTHERS_LIBEL
[L]CURPRO = "LIBEL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIBEL
[L]CURPRO = "LIBEL"
Return

$PROPAGATE_LIBEL
this.isReadonly = 0
[L]CURPRO = "LIBEL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIBEL
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBEL"
$_LNKPRO_LIBEL
Return


####################################################################
# 4 : LIBSHO Short description ( Field ATX)
####################################################################

$GET_LIBSHO
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBSHO"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_LIBSHO
If [L]_AOLDVAL<>this.LIBSHO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIBSHO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIBSHO
 Gosub PROPAGATE_LIBSHO
Endif
Return

$INIT_LIBSHO
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBSHO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIBSHO
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBSHO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIBSHO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIBSHO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIBSHO
[L]CURPRO = "LIBSHO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & (maxtab(this.ATX)=0 or  func ASYRSUB._HASFIELDATX(this.ATX,[L]CURPRO)=0)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIBSHO
[L]CURPRO = "LIBSHO"
Return

$_AOTHERS_LIBSHO
[L]CURPRO = "LIBSHO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIBSHO
[L]CURPRO = "LIBSHO"
Return

$PROPAGATE_LIBSHO
this.isReadonly = 0
[L]CURPRO = "LIBSHO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIBSHO
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBSHO"
$_LNKPRO_LIBSHO
Return


####################################################################
# 5 : LIBPAR Parameter title ( Field ATX)
####################################################################

$GET_LIBPAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBPAR"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_LIBPAR
If [L]_AOLDVAL<>this.LIBPAR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIBPAR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIBPAR
 Gosub PROPAGATE_LIBPAR
Endif
Return

$INIT_LIBPAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBPAR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIBPAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBPAR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIBPAR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIBPAR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIBPAR
[L]CURPRO = "LIBPAR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & (maxtab(this.ATX)=0 or  func ASYRSUB._HASFIELDATX(this.ATX,[L]CURPRO)=0)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIBPAR
[L]CURPRO = "LIBPAR"
Return

$_AOTHERS_LIBPAR
[L]CURPRO = "LIBPAR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIBPAR
[L]CURPRO = "LIBPAR"
Return

$PROPAGATE_LIBPAR
this.isReadonly = 0
[L]CURPRO = "LIBPAR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIBPAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "LIBPAR"
$_LNKPRO_LIBPAR
Return


####################################################################
# 6 : MENU Menu ( Field AFC 12)
####################################################################

$SET_MENU
If [L]_AOLDVAL<>this.MENU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MENU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MENU
 Gosub PROPAGATE_MENU
Endif
Return

$INIT_MENU
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MENU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MENU
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MENU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MENU                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MENU                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MENU
[L]CURPRO = "MENU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MENU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MENU
[L]CURPRO = "MENU"
If vireblc(this.MENU,2)<>vireblc(format$("KTD:12B",this.MENU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MENU
[L]CURPRO = "MENU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MENU
[L]CURPRO = "MENU"
Return

$PROPAGATE_MENU
this.isReadonly = 0
[L]CURPRO = "MENU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MENU
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MENU"
$_LNKPRO_MENU
Return


####################################################################
# 7 : RANG Row in menu ( Field C 4)
####################################################################

$SET_RANG
If [L]_AOLDVAL<>this.RANG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RANG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RANG
 Gosub PROPAGATE_RANG
Endif
Return

$INIT_RANG
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RANG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RANG
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RANG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RANG                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RANG                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RANG
[L]CURPRO = "RANG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RANG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RANG
[L]CURPRO = "RANG"
Return

$_AOTHERS_RANG
[L]CURPRO = "RANG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RANG
[L]CURPRO = "RANG"
Return

$PROPAGATE_RANG
this.isReadonly = 0
[L]CURPRO = "RANG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RANG
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RANG"
$_LNKPRO_RANG
Return


####################################################################
# 8 : MODULE Module ( Field Local menu number 14)
####################################################################

$SET_MODULE
If [L]_AOLDVAL<>this.MODULE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MODULE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MODULE
 Gosub PROPAGATE_MODULE
Endif
Return

$INIT_MODULE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MODULE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MODULE=0 and fmet this.AGETATTRIBUTE("MODULE","$isMandatory")="true"
 this.MODULE = 1
Endif
Return
 
$CONTROL_MODULE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MODULE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MODULE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MODULE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MODULE
[L]CURPRO = "MODULE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MODULE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MODULE
[L]CURPRO = "MODULE"
If this.MODULE<0 or this.MODULE>len(mess(0,14,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"14 ->"-num$(this.MODULE)-mess(99,123,1)):  Return : # Local menu "14 -> Invalid option
Endif
Return

$_AOTHERS_MODULE
[L]CURPRO = "MODULE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MODULE
[L]CURPRO = "MODULE"
Return

$PROPAGATE_MODULE
this.isReadonly = 0
[L]CURPRO = "MODULE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MODULE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MODULE"
$_LNKPRO_MODULE
Return


####################################################################
# 9 : NBOPT No. of options ( Field C 2)
####################################################################

$SET_NBOPT
If [L]_AOLDVAL<>this.NBOPT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBOPT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBOPT
 Gosub PROPAGATE_NBOPT
Endif
Return

$INIT_NBOPT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NBOPT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBOPT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NBOPT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBOPT                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBOPT                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBOPT
[L]CURPRO = "NBOPT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBOPT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBOPT
[L]CURPRO = "NBOPT"
Return

$_AOTHERS_NBOPT
[L]CURPRO = "NBOPT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBOPT
[L]CURPRO = "NBOPT"
Return

$PROPAGATE_NBOPT
this.isReadonly = 0
[L]CURPRO = "NBOPT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBOPT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NBOPT"
$_LNKPRO_NBOPT
Return


####################################################################
# 10 : NOMFIC Linked table ( Field ATB 12)
####################################################################

$SET_NOMFIC
If [L]_AOLDVAL<>this.NOMFIC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOMFIC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOMFIC
 Gosub PROPAGATE_NOMFIC
Endif
Return

$INIT_NOMFIC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NOMFIC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOMFIC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NOMFIC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOMFIC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOMFIC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOMFIC
[L]CURPRO = "NOMFIC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NOMFIC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOMFIC
[L]CURPRO = "NOMFIC"
If vireblc(this.NOMFIC,2)<>vireblc(format$("KTD:A11B",this.NOMFIC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_NOMFIC
[L]CURPRO = "NOMFIC"
If vireblc(this.NOMFIC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"NOMFIC",this.NOMFIC,this.NOMFIC,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.NOMFIC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOMFIC
[L]CURPRO = "NOMFIC"
Return

$PROPAGATE_NOMFIC
this.isReadonly = 0
[L]CURPRO = "NOMFIC"
Gosub _LNKPRO_NOMFIC
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOMFIC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NOMFIC"
$_LNKPRO_NOMFIC
If vireblc(this.NOMFIC,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.NOMFIC
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("NOMFIC","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 11 : ABRFIC Table abbreviation ( Field ABR 8)
####################################################################

$SET_ABRFIC
If [L]_AOLDVAL<>this.ABRFIC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ABRFIC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ABRFIC
 Gosub PROPAGATE_ABRFIC
Endif
Return

$INIT_ABRFIC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ABRFIC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ABRFIC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ABRFIC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ABRFIC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ABRFIC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ABRFIC
[L]CURPRO = "ABRFIC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ABRFIC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ABRFIC
[L]CURPRO = "ABRFIC"
If vireblc(this.ABRFIC,2)<>vireblc(format$("KTD:A7u",this.ABRFIC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ABRFIC
[L]CURPRO = "ABRFIC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ABRFIC
[L]CURPRO = "ABRFIC"
Return

$PROPAGATE_ABRFIC
this.isReadonly = 0
[L]CURPRO = "ABRFIC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ABRFIC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ABRFIC"
$_LNKPRO_ABRFIC
Return


####################################################################
# 12 : MODELE Data model ( Field AWM 10)
####################################################################

$SET_MODELE
If [L]_AOLDVAL<>this.MODELE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MODELE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MODELE
 Gosub PROPAGATE_MODELE
Endif
Return

$INIT_MODELE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MODELE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MODELE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MODELE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MODELE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MODELE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MODELE
[L]CURPRO = "MODELE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MODELE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MODELE
[L]CURPRO = "MODELE"
If vireblc(this.MODELE,2)<>vireblc(format$("K:10c",this.MODELE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MODELE
[L]CURPRO = "MODELE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MODELE
[L]CURPRO = "MODELE"
Return

$PROPAGATE_MODELE
this.isReadonly = 0
[L]CURPRO = "MODELE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MODELE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "MODELE"
$_LNKPRO_MODELE
Return


####################################################################
# 14 : SELOPT Selection options ( Field A 20)
####################################################################

$SET_SELOPT
If [L]_AOLDVAL<>this.SELOPT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SELOPT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SELOPT
 Gosub PROPAGATE_SELOPT
Endif
Return

$INIT_SELOPT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELOPT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SELOPT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELOPT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SELOPT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SELOPT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SELOPT
[L]CURPRO = "SELOPT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SELOPT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SELOPT
[L]CURPRO = "SELOPT"
Return

$_AOTHERS_SELOPT
[L]CURPRO = "SELOPT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SELOPT
[L]CURPRO = "SELOPT"
Return

$PROPAGATE_SELOPT
this.isReadonly = 0
[L]CURPRO = "SELOPT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SELOPT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELOPT"
$_LNKPRO_SELOPT
Return


####################################################################
# 15 : SELCAR No. characters ( Field C 4)
####################################################################

$SET_SELCAR
If [L]_AOLDVAL<>this.SELCAR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SELCAR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SELCAR
 Gosub PROPAGATE_SELCAR
Endif
Return

$INIT_SELCAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELCAR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SELCAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELCAR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SELCAR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SELCAR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SELCAR
[L]CURPRO = "SELCAR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SELCAR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SELCAR
[L]CURPRO = "SELCAR"
Return

$_AOTHERS_SELCAR
[L]CURPRO = "SELCAR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SELCAR
[L]CURPRO = "SELCAR"
Return

$PROPAGATE_SELCAR
this.isReadonly = 0
[L]CURPRO = "SELCAR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SELCAR
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELCAR"
$_LNKPRO_SELCAR
Return


####################################################################
# 16 : TYPGES Management type ( Field Local menu number 29)
####################################################################

$SET_TYPGES
If [L]_AOLDVAL<>this.TYPGES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPGES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPGES
 Gosub PROPAGATE_TYPGES
Endif
Return

$INIT_TYPGES
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "TYPGES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPGES=0 and fmet this.AGETATTRIBUTE("TYPGES","$isMandatory")="true"
 this.TYPGES = 1
Endif
Return
 
$CONTROL_TYPGES
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "TYPGES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPGES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPGES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPGES
[L]CURPRO = "TYPGES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPGES=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPGES
[L]CURPRO = "TYPGES"
If this.TYPGES<0 or this.TYPGES>len(mess(0,29,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"29 ->"-num$(this.TYPGES)-mess(99,123,1)):  Return : # Local menu "29 -> Invalid option
Endif
Return

$_AOTHERS_TYPGES
[L]CURPRO = "TYPGES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPGES
[L]CURPRO = "TYPGES"
Return

$PROPAGATE_TYPGES
this.isReadonly = 0
[L]CURPRO = "TYPGES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPGES
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "TYPGES"
$_LNKPRO_TYPGES
Return


####################################################################
# 17 : ZSITE Site field ( Field AVA 12)
####################################################################

$SET_ZSITE
If [L]_AOLDVAL<>this.ZSITE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ZSITE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ZSITE
 Gosub PROPAGATE_ZSITE
Endif
Return

$INIT_ZSITE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ZSITE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ZSITE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ZSITE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ZSITE                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ZSITE                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ZSITE
[L]CURPRO = "ZSITE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ZSITE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ZSITE
[L]CURPRO = "ZSITE"
If vireblc(this.ZSITE,2)<>vireblc(format$("KTD:A11u",this.ZSITE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ZSITE
[L]CURPRO = "ZSITE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ZSITE
[L]CURPRO = "ZSITE"
Return

$PROPAGATE_ZSITE
this.isReadonly = 0
[L]CURPRO = "ZSITE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ZSITE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ZSITE"
$_LNKPRO_ZSITE
Return


####################################################################
# 18 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return


####################################################################
# 19 : UPDDAT Change date ( Field D)
####################################################################

$SET_UPDDAT
If [L]_AOLDVAL<>this.UPDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDAT
 Gosub PROPAGATE_UPDDAT
Endif
Return

$INIT_UPDDAT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "UPDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDAT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "UPDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDAT
[L]CURPRO = "UPDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$_AOTHERS_UPDDAT
[L]CURPRO = "UPDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$PROPAGATE_UPDDAT
this.isReadonly = 0
[L]CURPRO = "UPDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDAT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "UPDDAT"
$_LNKPRO_UPDDAT
Return


####################################################################
# 20 : UPDFLG Validated flag ( Field Local menu number 1)
####################################################################

$SET_UPDFLG
If [L]_AOLDVAL<>this.UPDFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDFLG
 Gosub PROPAGATE_UPDFLG
Endif
Return

$INIT_UPDFLG
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "UPDFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.UPDFLG=0 and fmet this.AGETATTRIBUTE("UPDFLG","$isMandatory")="true"
 this.UPDFLG = 1
Endif
Return
 
$CONTROL_UPDFLG
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "UPDFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDFLG
[L]CURPRO = "UPDFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDFLG
[L]CURPRO = "UPDFLG"
If this.UPDFLG<0 or this.UPDFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.UPDFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_UPDFLG
[L]CURPRO = "UPDFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDFLG
[L]CURPRO = "UPDFLG"
Return

$PROPAGATE_UPDFLG
this.isReadonly = 0
[L]CURPRO = "UPDFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDFLG
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "UPDFLG"
$_LNKPRO_UPDFLG
Return


####################################################################
# 21 : RPT1 Report 1 ( Field ARX 15)
####################################################################

$SET_RPT1
If [L]_AOLDVAL<>this.RPT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPT1
 Gosub PROPAGATE_RPT1
Endif
Return

$INIT_RPT1
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RPT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPT1
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RPT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPT1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPT1
[L]CURPRO = "RPT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.RPT1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPT1
[L]CURPRO = "RPT1"
If vireblc(this.RPT1,2)<>vireblc(format$("K:15c",this.RPT1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_RPT1
[L]CURPRO = "RPT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPT1
[L]CURPRO = "RPT1"
Return

$PROPAGATE_RPT1
this.isReadonly = 0
[L]CURPRO = "RPT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPT1
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RPT1"
$_LNKPRO_RPT1
Return


####################################################################
# 22 : RPT2 Report 2 ( Field ARX 15)
####################################################################

$SET_RPT2
If [L]_AOLDVAL<>this.RPT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPT2
 Gosub PROPAGATE_RPT2
Endif
Return

$INIT_RPT2
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RPT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPT2
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RPT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPT2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPT2
[L]CURPRO = "RPT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.RPT2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPT2
[L]CURPRO = "RPT2"
If vireblc(this.RPT2,2)<>vireblc(format$("K:15c",this.RPT2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_RPT2
[L]CURPRO = "RPT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPT2
[L]CURPRO = "RPT2"
Return

$PROPAGATE_RPT2
this.isReadonly = 0
[L]CURPRO = "RPT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPT2
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "RPT2"
$_LNKPRO_RPT2
Return


####################################################################
# 23 : SELCLE Index ( Field A 10)
####################################################################

$SET_SELCLE
If [L]_AOLDVAL<>this.SELCLE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SELCLE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SELCLE
 Gosub PROPAGATE_SELCLE
Endif
Return

$INIT_SELCLE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELCLE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SELCLE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELCLE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SELCLE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SELCLE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SELCLE
[L]CURPRO = "SELCLE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SELCLE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SELCLE
[L]CURPRO = "SELCLE"
Return

$_AOTHERS_SELCLE
[L]CURPRO = "SELCLE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SELCLE
[L]CURPRO = "SELCLE"
Return

$PROPAGATE_SELCLE
this.isReadonly = 0
[L]CURPRO = "SELCLE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SELCLE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELCLE"
$_LNKPRO_SELCLE
Return


####################################################################
# 24 : SELORD Sign ( Field Local menu number 90)
####################################################################

$SET_SELORD
If [L]_AOLDVAL<>this.SELORD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SELORD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SELORD
 Gosub PROPAGATE_SELORD
Endif
Return

$INIT_SELORD
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELORD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SELORD=0 and fmet this.AGETATTRIBUTE("SELORD","$isMandatory")="true"
 this.SELORD = 1
Endif
Return
 
$CONTROL_SELORD
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELORD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SELORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SELORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SELORD
[L]CURPRO = "SELORD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SELORD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SELORD
[L]CURPRO = "SELORD"
If this.SELORD<0 or this.SELORD>len(mess(0,90,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"90 ->"-num$(this.SELORD)-mess(99,123,1)):  Return : # Local menu "90 -> Invalid option
Endif
Return

$_AOTHERS_SELORD
[L]CURPRO = "SELORD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SELORD
[L]CURPRO = "SELORD"
Return

$PROPAGATE_SELORD
this.isReadonly = 0
[L]CURPRO = "SELORD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SELORD
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELORD"
$_LNKPRO_SELORD
Return


####################################################################
# 25 : SELTREE Hierarchical list ( Field Local menu number 1)
####################################################################

$SET_SELTREE
If [L]_AOLDVAL<>this.SELTREE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SELTREE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SELTREE
 Gosub PROPAGATE_SELTREE
Endif
Return

$INIT_SELTREE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELTREE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SELTREE=0 and fmet this.AGETATTRIBUTE("SELTREE","$isMandatory")="true"
 this.SELTREE = 1
Endif
Return
 
$CONTROL_SELTREE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELTREE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SELTREE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SELTREE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SELTREE
[L]CURPRO = "SELTREE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SELTREE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SELTREE
[L]CURPRO = "SELTREE"
If this.SELTREE<0 or this.SELTREE>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.SELTREE)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_SELTREE
[L]CURPRO = "SELTREE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SELTREE
[L]CURPRO = "SELTREE"
Return

$PROPAGATE_SELTREE
this.isReadonly = 0
[L]CURPRO = "SELTREE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SELTREE
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "SELTREE"
$_LNKPRO_SELTREE
Return


####################################################################
# 26 : NBRIMP Import ( Field C 2)
####################################################################

$SET_NBRIMP
If [L]_AOLDVAL<>this.NBRIMP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBRIMP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBRIMP
 Gosub PROPAGATE_NBRIMP
Endif
Return

$INIT_NBRIMP
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NBRIMP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBRIMP
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NBRIMP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBRIMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBRIMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBRIMP
[L]CURPRO = "NBRIMP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBRIMP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBRIMP
[L]CURPRO = "NBRIMP"
Return

$_AOTHERS_NBRIMP
[L]CURPRO = "NBRIMP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBRIMP
[L]CURPRO = "NBRIMP"
Return

$PROPAGATE_NBRIMP
this.isReadonly = 0
[L]CURPRO = "NBRIMP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBRIMP
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "NBRIMP"
$_LNKPRO_NBRIMP
Return


####################################################################
# 28 : STA Statistics ( Field Local menu number 1)
####################################################################

$SET_STA
If [L]_AOLDVAL<>this.STA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STA
 Gosub PROPAGATE_STA
Endif
Return

$INIT_STA
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "STA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STA=0 and fmet this.AGETATTRIBUTE("STA","$isMandatory")="true"
 this.STA = 1
Endif
Return
 
$CONTROL_STA
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "STA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STA
[L]CURPRO = "STA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STA
[L]CURPRO = "STA"
If this.STA<0 or this.STA>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.STA)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_STA
[L]CURPRO = "STA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STA
[L]CURPRO = "STA"
Return

$PROPAGATE_STA
this.isReadonly = 0
[L]CURPRO = "STA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STA
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "STA"
$_LNKPRO_STA
Return


####################################################################
# 29 : ZACC Access code field ( Field AVA 12)
####################################################################

$SET_ZACC
If [L]_AOLDVAL<>this.ZACC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ZACC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ZACC
 Gosub PROPAGATE_ZACC
Endif
Return

$INIT_ZACC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ZACC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ZACC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ZACC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ZACC                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ZACC                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ZACC
[L]CURPRO = "ZACC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ZACC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ZACC
[L]CURPRO = "ZACC"
If vireblc(this.ZACC,2)<>vireblc(format$("KTD:A11u",this.ZACC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ZACC
[L]CURPRO = "ZACC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ZACC
[L]CURPRO = "ZACC"
Return

$PROPAGATE_ZACC
this.isReadonly = 0
[L]CURPRO = "ZACC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ZACC
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "ZACC"
$_LNKPRO_ZACC
Return


####################################################################
# 30 : IMPORT Import ( Field Local menu number 1)
####################################################################

$SET_IMPORT
If [L]_AOLDVAL<>this.IMPORT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IMPORT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IMPORT
 Gosub PROPAGATE_IMPORT
Endif
Return

$INIT_IMPORT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "IMPORT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IMPORT=0 and fmet this.AGETATTRIBUTE("IMPORT","$isMandatory")="true"
 this.IMPORT = 1
Endif
Return
 
$CONTROL_IMPORT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "IMPORT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IMPORT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IMPORT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IMPORT
[L]CURPRO = "IMPORT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IMPORT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IMPORT
[L]CURPRO = "IMPORT"
If this.IMPORT<0 or this.IMPORT>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.IMPORT)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_IMPORT
[L]CURPRO = "IMPORT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IMPORT
[L]CURPRO = "IMPORT"
Return

$PROPAGATE_IMPORT
this.isReadonly = 0
[L]CURPRO = "IMPORT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IMPORT
Gosub DECLARE_VAR From WMC0AOBJET
[L]CURPRO = "IMPORT"
$_LNKPRO_IMPORT
Return




