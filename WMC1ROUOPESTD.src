#<AdxTL>@(#)0.0.0.0 $Revision$Class Standard operations
# Sage X3 supervisor
## ACLA-CLASSE ## ROUOPESTD
# 2018-03-26 00:40:18 013


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : STDOPENUM Standard operation ( Field ROT 0)
####################################################################

$SET_STDOPENUM
If [L]_AOLDVAL<>this.STDOPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STDOPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STDOPENUM
 Gosub PROPAGATE_STDOPENUM
Endif
Return

$INIT_STDOPENUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STDOPENUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STDOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STDOPENUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STDOPENUM
[L]CURPRO = "STDOPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STDOPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STDOPENUM
[L]CURPRO = "STDOPENUM"
Return

$_AOTHERS_STDOPENUM
[L]CURPRO = "STDOPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STDOPENUM
[L]CURPRO = "STDOPENUM"
Return

$PROPAGATE_STDOPENUM
this.isReadonly = 0
[L]CURPRO = "STDOPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STDOPENUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPENUM"
$_LNKPRO_STDOPENUM
Return

$_ALOADATTRIBUTE_STDOPENUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("STDOPENUM","$isMandatory","true")
Return


####################################################################
# 2 : STDOPEDESAXX Std oper title ( Field AX3)
####################################################################

$GET_STDOPEDESAXX
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPEDESAXX"
this.STDOPEDESAXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_STDOPEDESAXX
If [L]_AOLDVAL<>this.STDOPEDESAXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STDOPEDESAXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STDOPEDESAXX
 Gosub PROPAGATE_STDOPEDESAXX
Endif
Return

$INIT_STDOPEDESAXX
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPEDESAXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STDOPEDESAXX
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPEDESAXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STDOPEDESAXX          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STDOPEDESAXX          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STDOPEDESAXX
[L]CURPRO = "STDOPEDESAXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STDOPEDESAXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STDOPEDESAXX
[L]CURPRO = "STDOPEDESAXX"
If vireblc(fmet this.AGETTEXTRA("STDOPEDESAXX"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("STDOPEDESAXX")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STDOPEDESAXX
[L]CURPRO = "STDOPEDESAXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STDOPEDESAXX
[L]CURPRO = "STDOPEDESAXX"
Return

$PROPAGATE_STDOPEDESAXX
this.isReadonly = 0
[L]CURPRO = "STDOPEDESAXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.STDOPEDESAXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STDOPEDESAXX
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "STDOPEDESAXX"
$_LNKPRO_STDOPEDESAXX
Return


####################################################################
# 3 : LABWST Labor work center ( Field WST 8)
####################################################################

$SET_LABWST
If [L]_AOLDVAL<>this.LABWST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LABWST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LABWST
 Gosub PROPAGATE_LABWST
Endif
Return

$INIT_LABWST
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LABWST
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LABWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LABWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LABWST
[L]CURPRO = "LABWST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LABWST,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LABWST
[L]CURPRO = "LABWST"
If vireblc(this.LABWST,2)<>vireblc(format$("K:8c",this.LABWST),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LABWST
[L]CURPRO = "LABWST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LABWST
[L]CURPRO = "LABWST"
If vireblc(this.LABWST,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWST.ACTRLREF(this,"LABWST",this.LABWST,this.LABWST,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LABWST<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_LABWST
this.isReadonly = 0
[L]CURPRO = "LABWST"
Gosub _LNKPRO_LABWST
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LABWST
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWST"
$_LNKPRO_LABWST
If vireblc(this.LABWST,2)<>""
 # Link WORKSTATIO
 Local File WORKSTATIO [WMWS]
 Read [F:WMWS]WST0 = this.LABWST;this.FCY
 If !fstat
 Endif
 LogicClose File [WMWS]
Endif
Return


####################################################################
# 4 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 5 : WST Main work center ( Field WST 8)
####################################################################

$SET_WST
If [L]_AOLDVAL<>this.WST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WST
 Gosub PROPAGATE_WST
Endif
Return

$INIT_WST
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WST
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WST                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WST                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WST
[L]CURPRO = "WST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WST,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WST
[L]CURPRO = "WST"
If vireblc(this.WST,2)<>vireblc(format$("K:8c",this.WST),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WST
[L]CURPRO = "WST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WST
[L]CURPRO = "WST"
If vireblc(this.WST,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWST.ACTRLREF(this,"WST",this.WST,this.WST,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.WST<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_WST
this.isReadonly = 0
[L]CURPRO = "WST"
Gosub _LNKPRO_WST
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WST
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WST"
$_LNKPRO_WST
If vireblc(this.WST,2)<>""
 # Link WORKSTATIO
 Local File WORKSTATIO [WMWS]
 Read [F:WMWS]WST0 = this.WST;this.FCY
 If !fstat
 Endif
 LogicClose File [WMWS]
Endif
Return

$_ALOADATTRIBUTE_WST
[L]ASTATUS = fmet this.ASETATTRIBUTE("WST","$isMandatory","true")
Return


####################################################################
# 6 : WCR Work center group ( Field WCR 5)
####################################################################

$SET_WCR
If [L]_AOLDVAL<>this.WCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WCR
 Gosub PROPAGATE_WCR
Endif
Return

$INIT_WCR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WCR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WCR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WCR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WCR
[L]CURPRO = "WCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WCR
[L]CURPRO = "WCR"
If vireblc(this.WCR,2)<>vireblc(format$("K:05c",this.WCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WCR
[L]CURPRO = "WCR"
If vireblc(this.WCR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWCR.ACTRLREF(this,"WCR",this.WCR,this.WCR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.WCR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WCR
[L]CURPRO = "WCR"
Return

$PROPAGATE_WCR
this.isReadonly = 0
[L]CURPRO = "WCR"
Gosub _LNKPRO_WCR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WCR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WCR"
$_LNKPRO_WCR
If vireblc(this.WCR,2)<>""
 # Link TABWRKCTR
 Local File TABWRKCTR [WTWC]
 Read [F:WTWC]TWC0 = this.WCR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABWRKCTR" & ZONE="WCRDESAXX" & IDENT1=[F:WTWC]WCR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("WCR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTWC]
Endif
Return

$_ALOADATTRIBUTE_WCR
[L]ASTATUS = fmet this.ASETATTRIBUTE("WCR","$isMandatory","true")
Return


####################################################################
# 7 : WSTTYP Work center type ( Field Local menu number 313)
####################################################################

$SET_WSTTYP
If [L]_AOLDVAL<>this.WSTTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WSTTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WSTTYP
 Gosub PROPAGATE_WSTTYP
Endif
Return

$INIT_WSTTYP
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WSTTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.WSTTYP=0 and fmet this.AGETATTRIBUTE("WSTTYP","$isMandatory")="true"
 this.WSTTYP = 1
Endif
Return
 
$CONTROL_WSTTYP
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WSTTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WSTTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WSTTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WSTTYP
[L]CURPRO = "WSTTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.WSTTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WSTTYP
[L]CURPRO = "WSTTYP"
If this.WSTTYP<0 or this.WSTTYP>len(mess(0,313,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"313 ->"-num$(this.WSTTYP)-mess(99,123,1)):  Return : # Local menu "313 -> Invalid option
Endif
Return

$_AOTHERS_WSTTYP
[L]CURPRO = "WSTTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WSTTYP
[L]CURPRO = "WSTTYP"
Return

$PROPAGATE_WSTTYP
this.isReadonly = 0
[L]CURPRO = "WSTTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WSTTYP
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WSTTYP"
$_LNKPRO_WSTTYP
Return


####################################################################
# 8 : LABWCR Labor work center group ( Field WCR 5)
####################################################################

$SET_LABWCR
If [L]_AOLDVAL<>this.LABWCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LABWCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LABWCR
 Gosub PROPAGATE_LABWCR
Endif
Return

$INIT_LABWCR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LABWCR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LABWCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LABWCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LABWCR
[L]CURPRO = "LABWCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LABWCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LABWCR
[L]CURPRO = "LABWCR"
If vireblc(this.LABWCR,2)<>vireblc(format$("K:05c",this.LABWCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LABWCR
[L]CURPRO = "LABWCR"
If vireblc(this.LABWCR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWCR.ACTRLREF(this,"LABWCR",this.LABWCR,this.LABWCR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LABWCR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LABWCR
[L]CURPRO = "LABWCR"
Return

$PROPAGATE_LABWCR
this.isReadonly = 0
[L]CURPRO = "LABWCR"
Gosub _LNKPRO_LABWCR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LABWCR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWCR"
$_LNKPRO_LABWCR
If vireblc(this.LABWCR,2)<>""
 # Link TABWRKCTR
 Local File TABWRKCTR [WTWC]
 Read [F:WTWC]TWC0 = this.LABWCR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABWRKCTR" & ZONE="WCRDESAXX" & IDENT1=[F:WTWC]WCR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LABWCR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTWC]
Endif
Return


####################################################################
# 9 : LABWSTTYP Labor W/C type ( Field Local menu number 313)
####################################################################

$SET_LABWSTTYP
If [L]_AOLDVAL<>this.LABWSTTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LABWSTTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LABWSTTYP
 Gosub PROPAGATE_LABWSTTYP
Endif
Return

$INIT_LABWSTTYP
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWSTTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LABWSTTYP=0 and fmet this.AGETATTRIBUTE("LABWSTTYP","$isMandatory")="true"
 this.LABWSTTYP = 1
Endif
Return
 
$CONTROL_LABWSTTYP
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWSTTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LABWSTTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LABWSTTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LABWSTTYP
[L]CURPRO = "LABWSTTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LABWSTTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LABWSTTYP
[L]CURPRO = "LABWSTTYP"
If this.LABWSTTYP<0 or this.LABWSTTYP>len(mess(0,313,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"313 ->"-num$(this.LABWSTTYP)-mess(99,123,1)):  Return : # Local menu "313 -> Invalid option
Endif
Return

$_AOTHERS_LABWSTTYP
[L]CURPRO = "LABWSTTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LABWSTTYP
[L]CURPRO = "LABWSTTYP"
Return

$PROPAGATE_LABWSTTYP
this.isReadonly = 0
[L]CURPRO = "LABWSTTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LABWSTTYP
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABWSTTYP"
$_LNKPRO_LABWSTTYP
Return


####################################################################
# 10 : SETLABCOE Labor time set fac ( Field DCB 3)
####################################################################

$SET_SETLABCOE
If [L]_AOLDVAL<>this.SETLABCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SETLABCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SETLABCOE
 Gosub PROPAGATE_SETLABCOE
Endif
Return

$INIT_SETLABCOE
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SETLABCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SETLABCOE
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SETLABCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SETLABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SETLABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SETLABCOE
[L]CURPRO = "SETLABCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SETLABCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SETLABCOE
[L]CURPRO = "SETLABCOE"
Return

$_AOTHERS_SETLABCOE
[L]CURPRO = "SETLABCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SETLABCOE
[L]CURPRO = "SETLABCOE"
Return

$PROPAGATE_SETLABCOE
this.isReadonly = 0
[L]CURPRO = "SETLABCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SETLABCOE
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SETLABCOE"
$_LNKPRO_SETLABCOE
Return


####################################################################
# 11 : OPELABCOE Labor r-time fact ( Field DCB 3)
####################################################################

$SET_OPELABCOE
If [L]_AOLDVAL<>this.OPELABCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPELABCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPELABCOE
 Gosub PROPAGATE_OPELABCOE
Endif
Return

$INIT_OPELABCOE
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPELABCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPELABCOE
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPELABCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPELABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPELABCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPELABCOE
[L]CURPRO = "OPELABCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPELABCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPELABCOE
[L]CURPRO = "OPELABCOE"
Return

$_AOTHERS_OPELABCOE
[L]CURPRO = "OPELABCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPELABCOE
[L]CURPRO = "OPELABCOE"
Return

$PROPAGATE_OPELABCOE
this.isReadonly = 0
[L]CURPRO = "OPELABCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPELABCOE
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPELABCOE"
$_LNKPRO_OPELABCOE
Return


####################################################################
# 12 : TIMUOMCOD Time unit ( Field Local menu number 301)
####################################################################

$SET_TIMUOMCOD
If [L]_AOLDVAL<>this.TIMUOMCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TIMUOMCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TIMUOMCOD
 Gosub PROPAGATE_TIMUOMCOD
Endif
Return

$INIT_TIMUOMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TIMUOMCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TIMUOMCOD=0 and fmet this.AGETATTRIBUTE("TIMUOMCOD","$isMandatory")="true"
 this.TIMUOMCOD = 1
Endif
Return
 
$CONTROL_TIMUOMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TIMUOMCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TIMUOMCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TIMUOMCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TIMUOMCOD
[L]CURPRO = "TIMUOMCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TIMUOMCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TIMUOMCOD
[L]CURPRO = "TIMUOMCOD"
If this.TIMUOMCOD<0 or this.TIMUOMCOD>len(mess(0,301,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"301 ->"-num$(this.TIMUOMCOD)-mess(99,123,1)):  Return : # Local menu "301 -> Invalid option
Endif
Return

$_AOTHERS_TIMUOMCOD
[L]CURPRO = "TIMUOMCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TIMUOMCOD
[L]CURPRO = "TIMUOMCOD"
Return

$PROPAGATE_TIMUOMCOD
this.isReadonly = 0
[L]CURPRO = "TIMUOMCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TIMUOMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TIMUOMCOD"
$_LNKPRO_TIMUOMCOD
Return


####################################################################
# 13 : TIMCOD Management unit ( Field Local menu number 303)
####################################################################

$SET_TIMCOD
If [L]_AOLDVAL<>this.TIMCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TIMCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TIMCOD
 Gosub PROPAGATE_TIMCOD
Endif
Return

$INIT_TIMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TIMCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TIMCOD=0 and fmet this.AGETATTRIBUTE("TIMCOD","$isMandatory")="true"
 this.TIMCOD = 1
Endif
Return
 
$CONTROL_TIMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TIMCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TIMCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TIMCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TIMCOD
[L]CURPRO = "TIMCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TIMCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TIMCOD
[L]CURPRO = "TIMCOD"
If this.TIMCOD<0 or this.TIMCOD>len(mess(0,303,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"303 ->"-num$(this.TIMCOD)-mess(99,123,1)):  Return : # Local menu "303 -> Invalid option
Endif
Return

$_AOTHERS_TIMCOD
[L]CURPRO = "TIMCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TIMCOD
[L]CURPRO = "TIMCOD"
Return

$PROPAGATE_TIMCOD
this.isReadonly = 0
[L]CURPRO = "TIMCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TIMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TIMCOD"
$_LNKPRO_TIMCOD
Return


####################################################################
# 14 : BASQTY Base quantity ( Field QTY 0)
####################################################################

$SET_BASQTY
If [L]_AOLDVAL<>this.BASQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASQTY
 Gosub PROPAGATE_BASQTY
Endif
Return

$INIT_BASQTY
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "BASQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BASQTY
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "BASQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASQTY
[L]CURPRO = "BASQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASQTY
[L]CURPRO = "BASQTY"
Return

$_AOTHERS_BASQTY
[L]CURPRO = "BASQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASQTY
[L]CURPRO = "BASQTY"
Return

$PROPAGATE_BASQTY
this.isReadonly = 0
[L]CURPRO = "BASQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASQTY
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "BASQTY"
$_LNKPRO_BASQTY
Return


####################################################################
# 15 : OPEUOM Operation UOM ( Field UOM 3)
####################################################################

$SET_OPEUOM
If [L]_AOLDVAL<>this.OPEUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEUOM
 Gosub PROPAGATE_OPEUOM
Endif
Return

$INIT_OPEUOM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEUOM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEUOM
[L]CURPRO = "OPEUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>vireblc(format$("K:3X",this.OPEUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"OPEUOM",this.OPEUOM,this.OPEUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OPEUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEUOM
[L]CURPRO = "OPEUOM"
Return

$PROPAGATE_OPEUOM
this.isReadonly = 0
[L]CURPRO = "OPEUOM"
Gosub _LNKPRO_OPEUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEUOM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEUOM"
$_LNKPRO_OPEUOM
If vireblc(this.OPEUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.OPEUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 16 : OPEPLNNUM Operation plan ( Field A 20)
####################################################################

$SET_OPEPLNNUM
If [L]_AOLDVAL<>this.OPEPLNNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEPLNNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEPLNNUM
 Gosub PROPAGATE_OPEPLNNUM
Endif
Return

$INIT_OPEPLNNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEPLNNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEPLNNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEPLNNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEPLNNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEPLNNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEPLNNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
Return

$_AOTHERS_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEPLNNUM
[L]CURPRO = "OPEPLNNUM"
Return

$PROPAGATE_OPEPLNNUM
this.isReadonly = 0
[L]CURPRO = "OPEPLNNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEPLNNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEPLNNUM"
$_LNKPRO_OPEPLNNUM
Return


####################################################################
# 17 : OPEROUPCT Operation image ( Field A 20)
####################################################################

$SET_OPEROUPCT
If [L]_AOLDVAL<>this.OPEROUPCT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEROUPCT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEROUPCT
 Gosub PROPAGATE_OPEROUPCT
Endif
Return

$INIT_OPEROUPCT
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEROUPCT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEROUPCT
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEROUPCT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEROUPCT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEROUPCT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEROUPCT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
Return

$_AOTHERS_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEROUPCT
[L]CURPRO = "OPEROUPCT"
Return

$PROPAGATE_OPEROUPCT
this.isReadonly = 0
[L]CURPRO = "OPEROUPCT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEROUPCT
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPEROUPCT"
$_LNKPRO_OPEROUPCT
Return


####################################################################
# 18 : OPETEXNUM Operation text ( Field TXC 12)
####################################################################

$SET_OPETEXNUM
If [L]_AOLDVAL<>this.OPETEXNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPETEXNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPETEXNUM
 Gosub PROPAGATE_OPETEXNUM
Endif
Return

$INIT_OPETEXNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPETEXNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPETEXNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPETEXNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPETEXNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPETEXNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPETEXNUM
[L]CURPRO = "OPETEXNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPETEXNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPETEXNUM
[L]CURPRO = "OPETEXNUM"
If vireblc(this.OPETEXNUM,2)<>vireblc(format$("K:12X",this.OPETEXNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPETEXNUM
[L]CURPRO = "OPETEXNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPETEXNUM
[L]CURPRO = "OPETEXNUM"
Return

$PROPAGATE_OPETEXNUM
this.isReadonly = 0
[L]CURPRO = "OPETEXNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPETEXNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPETEXNUM"
$_LNKPRO_OPETEXNUM
Return


####################################################################
# 19 : TECCRD Technical sheet ( Field QLC 8)
####################################################################

$SET_TECCRD
If [L]_AOLDVAL<>this.TECCRD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TECCRD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TECCRD
 Gosub PROPAGATE_TECCRD
Endif
Return

$INIT_TECCRD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TECCRD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TECCRD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TECCRD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TECCRD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TECCRD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TECCRD
[L]CURPRO = "TECCRD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TECCRD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TECCRD
[L]CURPRO = "TECCRD"
If vireblc(this.TECCRD,2)<>vireblc(format$("K:8c",this.TECCRD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TECCRD
[L]CURPRO = "TECCRD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TECCRD
[L]CURPRO = "TECCRD"
Return

$PROPAGATE_TECCRD
this.isReadonly = 0
[L]CURPRO = "TECCRD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TECCRD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "TECCRD"
$_LNKPRO_TECCRD
Return


####################################################################
# 20 : EQUNUM Tools ( Field ITM 20)
####################################################################

$SET_EQUNUM
If [L]_AOLDVAL<>this.EQUNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EQUNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EQUNUM
 Gosub PROPAGATE_EQUNUM
Endif
Return

$INIT_EQUNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "EQUNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EQUNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "EQUNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EQUNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EQUNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EQUNUM
[L]CURPRO = "EQUNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EQUNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EQUNUM
[L]CURPRO = "EQUNUM"
If vireblc(this.EQUNUM,2)<>vireblc(format$("K:20c",this.EQUNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EQUNUM
[L]CURPRO = "EQUNUM"
If vireblc(this.EQUNUM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"EQUNUM",this.EQUNUM,this.SCOITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.EQUNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EQUNUM
[L]CURPRO = "EQUNUM"
Return

$PROPAGATE_EQUNUM
this.isReadonly = 0
[L]CURPRO = "EQUNUM"
Gosub _LNKPRO_EQUNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EQUNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "EQUNUM"
$_LNKPRO_EQUNUM
If vireblc(this.EQUNUM,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.SCOITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EQUNUM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return


####################################################################
# 21 : FXGNUM Fixture ( Field A 20)
####################################################################

$SET_FXGNUM
If [L]_AOLDVAL<>this.FXGNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FXGNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FXGNUM
 Gosub PROPAGATE_FXGNUM
Endif
Return

$INIT_FXGNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "FXGNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FXGNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "FXGNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FXGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FXGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FXGNUM
[L]CURPRO = "FXGNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FXGNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FXGNUM
[L]CURPRO = "FXGNUM"
Return

$_AOTHERS_FXGNUM
[L]CURPRO = "FXGNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FXGNUM
[L]CURPRO = "FXGNUM"
Return

$PROPAGATE_FXGNUM
this.isReadonly = 0
[L]CURPRO = "FXGNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FXGNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "FXGNUM"
$_LNKPRO_FXGNUM
Return


####################################################################
# 22 : PRGNUM Program ( Field A 20)
####################################################################

$SET_PRGNUM
If [L]_AOLDVAL<>this.PRGNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRGNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRGNUM
 Gosub PROPAGATE_PRGNUM
Endif
Return

$INIT_PRGNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "PRGNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRGNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "PRGNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRGNUM
[L]CURPRO = "PRGNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PRGNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRGNUM
[L]CURPRO = "PRGNUM"
Return

$_AOTHERS_PRGNUM
[L]CURPRO = "PRGNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRGNUM
[L]CURPRO = "PRGNUM"
Return

$PROPAGATE_PRGNUM
this.isReadonly = 0
[L]CURPRO = "PRGNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRGNUM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "PRGNUM"
$_LNKPRO_PRGNUM
Return


####################################################################
# 23 : WSTNBR Number of resources ( Field C 2)
####################################################################

$SET_WSTNBR
If [L]_AOLDVAL<>this.WSTNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WSTNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WSTNBR
 Gosub PROPAGATE_WSTNBR
Endif
Return

$INIT_WSTNBR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WSTNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WSTNBR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WSTNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WSTNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WSTNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WSTNBR
[L]CURPRO = "WSTNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.WSTNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WSTNBR
[L]CURPRO = "WSTNBR"
Return

$_AOTHERS_WSTNBR
[L]CURPRO = "WSTNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WSTNBR
[L]CURPRO = "WSTNBR"
Return

$PROPAGATE_WSTNBR
this.isReadonly = 0
[L]CURPRO = "WSTNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WSTNBR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "WSTNBR"
$_LNKPRO_WSTNBR
Return


####################################################################
# 24 : LABNBR Number labor res. ( Field C 2)
####################################################################

$SET_LABNBR
If [L]_AOLDVAL<>this.LABNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LABNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LABNBR
 Gosub PROPAGATE_LABNBR
Endif
Return

$INIT_LABNBR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LABNBR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LABNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LABNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LABNBR
[L]CURPRO = "LABNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LABNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LABNBR
[L]CURPRO = "LABNBR"
Return

$_AOTHERS_LABNBR
[L]CURPRO = "LABNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LABNBR
[L]CURPRO = "LABNBR"
Return

$PROPAGATE_LABNBR
this.isReadonly = 0
[L]CURPRO = "LABNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LABNBR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "LABNBR"
$_LNKPRO_LABNBR
Return


####################################################################
# 25 : EFF % efficiency ( Field DCB 3)
####################################################################

$SET_EFF
If [L]_AOLDVAL<>this.EFF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EFF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EFF
 Gosub PROPAGATE_EFF
Endif
Return

$INIT_EFF
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "EFF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EFF
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "EFF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EFF                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EFF                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EFF
[L]CURPRO = "EFF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EFF=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EFF
[L]CURPRO = "EFF"
Return

$_AOTHERS_EFF
[L]CURPRO = "EFF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EFF
[L]CURPRO = "EFF"
Return

$PROPAGATE_EFF
this.isReadonly = 0
[L]CURPRO = "EFF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EFF
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "EFF"
$_LNKPRO_EFF
Return


####################################################################
# 26 : SHR Shrinkage in % ( Field DCB 3)
####################################################################

$SET_SHR
If [L]_AOLDVAL<>this.SHR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHR
 Gosub PROPAGATE_SHR
Endif
Return

$INIT_SHR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SHR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SHR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHR
[L]CURPRO = "SHR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SHR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHR
[L]CURPRO = "SHR"
Return

$_AOTHERS_SHR
[L]CURPRO = "SHR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHR
[L]CURPRO = "SHR"
Return

$PROPAGATE_SHR
this.isReadonly = 0
[L]CURPRO = "SHR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHR
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SHR"
$_LNKPRO_SHR
Return


####################################################################
# 27 : ROOTIMCOD Operation time code ( Field Local menu number 312)
####################################################################

$SET_ROOTIMCOD
If [L]_AOLDVAL<>this.ROOTIMCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ROOTIMCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ROOTIMCOD
 Gosub PROPAGATE_ROOTIMCOD
Endif
Return

$INIT_ROOTIMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "ROOTIMCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ROOTIMCOD=0 and fmet this.AGETATTRIBUTE("ROOTIMCOD","$isMandatory")="true"
 this.ROOTIMCOD = 1
Endif
Return
 
$CONTROL_ROOTIMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "ROOTIMCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ROOTIMCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ROOTIMCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ROOTIMCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
If this.ROOTIMCOD<0 or this.ROOTIMCOD>len(mess(0,312,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"312 ->"-num$(this.ROOTIMCOD)-mess(99,123,1)):  Return : # Local menu "312 -> Invalid option
Endif
Return

$_AOTHERS_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ROOTIMCOD
[L]CURPRO = "ROOTIMCOD"
Return

$PROPAGATE_ROOTIMCOD
this.isReadonly = 0
[L]CURPRO = "ROOTIMCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ROOTIMCOD
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "ROOTIMCOD"
$_LNKPRO_ROOTIMCOD
Return


####################################################################
# 28 : PRPTIM Preparation time ( Field TIH 0)
####################################################################

$SET_PRPTIM
If [L]_AOLDVAL<>this.PRPTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRPTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRPTIM
 Gosub PROPAGATE_PRPTIM
Endif
Return

$INIT_PRPTIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "PRPTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRPTIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "PRPTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRPTIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRPTIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRPTIM
[L]CURPRO = "PRPTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRPTIM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRPTIM
[L]CURPRO = "PRPTIM"
Return

$_AOTHERS_PRPTIM
[L]CURPRO = "PRPTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRPTIM
[L]CURPRO = "PRPTIM"
Return

$PROPAGATE_PRPTIM
this.isReadonly = 0
[L]CURPRO = "PRPTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRPTIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "PRPTIM"
$_LNKPRO_PRPTIM
Return


####################################################################
# 29 : SETTIM Setup time ( Field TIH 0)
####################################################################

$SET_SETTIM
If [L]_AOLDVAL<>this.SETTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SETTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SETTIM
 Gosub PROPAGATE_SETTIM
Endif
Return

$INIT_SETTIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SETTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SETTIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SETTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SETTIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SETTIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SETTIM
[L]CURPRO = "SETTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SETTIM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SETTIM
[L]CURPRO = "SETTIM"
Return

$_AOTHERS_SETTIM
[L]CURPRO = "SETTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SETTIM
[L]CURPRO = "SETTIM"
Return

$PROPAGATE_SETTIM
this.isReadonly = 0
[L]CURPRO = "SETTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SETTIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "SETTIM"
$_LNKPRO_SETTIM
Return


####################################################################
# 30 : OPETIM Run time ( Field TIH 0)
####################################################################

$SET_OPETIM
If [L]_AOLDVAL<>this.OPETIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPETIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPETIM
 Gosub PROPAGATE_OPETIM
Endif
Return

$INIT_OPETIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPETIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPETIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPETIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPETIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPETIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPETIM
[L]CURPRO = "OPETIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPETIM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPETIM
[L]CURPRO = "OPETIM"
Return

$_AOTHERS_OPETIM
[L]CURPRO = "OPETIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPETIM
[L]CURPRO = "OPETIM"
Return

$PROPAGATE_OPETIM
this.isReadonly = 0
[L]CURPRO = "OPETIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPETIM
Gosub DECLARE_VAR From WMC0ROUOPESTD
[L]CURPRO = "OPETIM"
$_LNKPRO_OPETIM
Return




