#<AdxTL>@(#)0.0.0.0 $Revision$Class Shop floor transactions
# Sage X3 supervisor
## ACLA-CLASSE ## SFTTXN
# 2018-03-26 00:42:17 988


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : EMPNUM Employee ID ( Field C 4)
####################################################################

$SET_EMPNUM
If [L]_AOLDVAL<>this.EMPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EMPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EMPNUM
 Gosub PROPAGATE_EMPNUM
Endif
Return

$INIT_EMPNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "EMPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EMPNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "EMPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EMPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EMPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EMPNUM
[L]CURPRO = "EMPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EMPNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EMPNUM
[L]CURPRO = "EMPNUM"
Return

$_AOTHERS_EMPNUM
[L]CURPRO = "EMPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EMPNUM
[L]CURPRO = "EMPNUM"
Return

$PROPAGATE_EMPNUM
this.isReadonly = 0
[L]CURPRO = "EMPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EMPNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "EMPNUM"
$_LNKPRO_EMPNUM
Return

$_ALOADATTRIBUTE_EMPNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("EMPNUM","$isMandatory","true")
Return


####################################################################
# 2 : TEAMNUM Team ( Field TMA 0)
####################################################################

$SET_TEAMNUM
If [L]_AOLDVAL<>this.TEAMNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TEAMNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TEAMNUM
 Gosub PROPAGATE_TEAMNUM
Endif
Return

$INIT_TEAMNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "TEAMNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TEAMNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "TEAMNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TEAMNUM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TEAMNUM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TEAMNUM
[L]CURPRO = "TEAMNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TEAMNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TEAMNUM
[L]CURPRO = "TEAMNUM"
Return

$_AOTHERS_TEAMNUM
[L]CURPRO = "TEAMNUM"
If this.TEAMNUM<>0
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPTMA.ACTRLREF(this,"TEAMNUM",this.TEAMNUM,this.TEAMNUM,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TEAMNUM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TEAMNUM
[L]CURPRO = "TEAMNUM"
Return

$PROPAGATE_TEAMNUM
this.isReadonly = 0
[L]CURPRO = "TEAMNUM"
Gosub _LNKPRO_TEAMNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TEAMNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "TEAMNUM"
$_LNKPRO_TEAMNUM
If this.TEAMNUM<>0
 # Link TABMAT
 Local File TABMAT [WTMA]
 Read [F:WTMA]TMA0 = this.TEAMNUM
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TEAMNUM","$title",[F:WTMA]EMPSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TEAMNUM","$description",[F:WTMA]EMPDES)
 Endif
 LogicClose File [WTMA]
Endif
Return


####################################################################
# 3 : SFTTYP Type ( Field Local menu number 2416)
####################################################################

$SET_SFTTYP
If [L]_AOLDVAL<>this.SFTTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SFTTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SFTTYP
 Gosub PROPAGATE_SFTTYP
Endif
Return

$INIT_SFTTYP
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SFTTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SFTTYP=0 and fmet this.AGETATTRIBUTE("SFTTYP","$isMandatory")="true"
 this.SFTTYP = 1
Endif
Return
 
$CONTROL_SFTTYP
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SFTTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SFTTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SFTTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SFTTYP
[L]CURPRO = "SFTTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SFTTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SFTTYP
[L]CURPRO = "SFTTYP"
If this.SFTTYP<0 or this.SFTTYP>len(mess(0,2416,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2416 ->"-num$(this.SFTTYP)-mess(99,123,1)):  Return : # Local menu "2416 -> Invalid option
Endif
Return

$_AOTHERS_SFTTYP
[L]CURPRO = "SFTTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SFTTYP
[L]CURPRO = "SFTTYP"
Return

$PROPAGATE_SFTTYP
this.isReadonly = 0
[L]CURPRO = "SFTTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SFTTYP
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SFTTYP"
$_LNKPRO_SFTTYP
Return


####################################################################
# 4 : VCRNUM Document ( Field VCR 20)
####################################################################

$SET_VCRNUM
If [L]_AOLDVAL<>this.VCRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRNUM
 Gosub PROPAGATE_VCRNUM
Endif
Return

$INIT_VCRNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "VCRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VCRNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "VCRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRNUM
[L]CURPRO = "VCRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VCRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRNUM
[L]CURPRO = "VCRNUM"
If vireblc(this.VCRNUM,2)<>vireblc(format$("K:20X",this.VCRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VCRNUM
[L]CURPRO = "VCRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRNUM
[L]CURPRO = "VCRNUM"
Return

$PROPAGATE_VCRNUM
this.isReadonly = 0
[L]CURPRO = "VCRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRNUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "VCRNUM"
$_LNKPRO_VCRNUM
Return


####################################################################
# 5 : SFTSEQ Sequence ( Field L 4)
####################################################################

$SET_SFTSEQ
If [L]_AOLDVAL<>this.SFTSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SFTSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SFTSEQ
 Gosub PROPAGATE_SFTSEQ
Endif
Return

$INIT_SFTSEQ
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SFTSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SFTSEQ
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SFTSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SFTSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SFTSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SFTSEQ
[L]CURPRO = "SFTSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SFTSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SFTSEQ
[L]CURPRO = "SFTSEQ"
Return

$_AOTHERS_SFTSEQ
[L]CURPRO = "SFTSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SFTSEQ
[L]CURPRO = "SFTSEQ"
Return

$PROPAGATE_SFTSEQ
this.isReadonly = 0
[L]CURPRO = "SFTSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SFTSEQ
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SFTSEQ"
$_LNKPRO_SFTSEQ
Return


####################################################################
# 6 : UTCSTRDATTIM Start ( Field ADATIM 0)
####################################################################

$SET_UTCSTRDATTIM
If [L]_AOLDVAL<>this.UTCSTRDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UTCSTRDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UTCSTRDATTIM
 Gosub PROPAGATE_UTCSTRDATTIM
Endif
Return

$INIT_UTCSTRDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCSTRDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UTCSTRDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCSTRDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UTCSTRDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UTCSTRDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UTCSTRDATTIM
[L]CURPRO = "UTCSTRDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UTCSTRDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UTCSTRDATTIM
[L]CURPRO = "UTCSTRDATTIM"
Return

$_AOTHERS_UTCSTRDATTIM
[L]CURPRO = "UTCSTRDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UTCSTRDATTIM
[L]CURPRO = "UTCSTRDATTIM"
Return

$PROPAGATE_UTCSTRDATTIM
this.isReadonly = 0
[L]CURPRO = "UTCSTRDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UTCSTRDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCSTRDATTIM"
$_LNKPRO_UTCSTRDATTIM
Return


####################################################################
# 7 : ACTSTRDATTIM Start ( Field ADATIM 0)
####################################################################

$SET_ACTSTRDATTIM
If [L]_AOLDVAL<>this.ACTSTRDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACTSTRDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACTSTRDATTIM
 Gosub PROPAGATE_ACTSTRDATTIM
Endif
Return

$INIT_ACTSTRDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "ACTSTRDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACTSTRDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "ACTSTRDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACTSTRDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACTSTRDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACTSTRDATTIM
[L]CURPRO = "ACTSTRDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACTSTRDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACTSTRDATTIM
[L]CURPRO = "ACTSTRDATTIM"
Return

$_AOTHERS_ACTSTRDATTIM
[L]CURPRO = "ACTSTRDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACTSTRDATTIM
[L]CURPRO = "ACTSTRDATTIM"
Return

$PROPAGATE_ACTSTRDATTIM
this.isReadonly = 0
[L]CURPRO = "ACTSTRDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACTSTRDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "ACTSTRDATTIM"
$_LNKPRO_ACTSTRDATTIM
Return


####################################################################
# 8 : UTCENDDATTIM End ( Field ADATIM 0)
####################################################################

$SET_UTCENDDATTIM
If [L]_AOLDVAL<>this.UTCENDDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UTCENDDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UTCENDDATTIM
 Gosub PROPAGATE_UTCENDDATTIM
Endif
Return

$INIT_UTCENDDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCENDDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UTCENDDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCENDDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UTCENDDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UTCENDDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UTCENDDATTIM
[L]CURPRO = "UTCENDDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UTCENDDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UTCENDDATTIM
[L]CURPRO = "UTCENDDATTIM"
Return

$_AOTHERS_UTCENDDATTIM
[L]CURPRO = "UTCENDDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UTCENDDATTIM
[L]CURPRO = "UTCENDDATTIM"
Return

$PROPAGATE_UTCENDDATTIM
this.isReadonly = 0
[L]CURPRO = "UTCENDDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UTCENDDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCENDDATTIM"
$_LNKPRO_UTCENDDATTIM
Return


####################################################################
# 9 : ACTENDDATTIM End ( Field ADATIM 0)
####################################################################

$SET_ACTENDDATTIM
If [L]_AOLDVAL<>this.ACTENDDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACTENDDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACTENDDATTIM
 Gosub PROPAGATE_ACTENDDATTIM
Endif
Return

$INIT_ACTENDDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "ACTENDDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACTENDDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "ACTENDDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACTENDDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACTENDDATTIM          : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACTENDDATTIM
[L]CURPRO = "ACTENDDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACTENDDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACTENDDATTIM
[L]CURPRO = "ACTENDDATTIM"
Return

$_AOTHERS_ACTENDDATTIM
[L]CURPRO = "ACTENDDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACTENDDATTIM
[L]CURPRO = "ACTENDDATTIM"
Return

$PROPAGATE_ACTENDDATTIM
this.isReadonly = 0
[L]CURPRO = "ACTENDDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACTENDDATTIM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "ACTENDDATTIM"
$_LNKPRO_ACTENDDATTIM
Return


####################################################################
# 10 : UTCOFFSET Time zone difference ( Field DCB 9)
####################################################################

$SET_UTCOFFSET
If [L]_AOLDVAL<>this.UTCOFFSET
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UTCOFFSET
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UTCOFFSET
 Gosub PROPAGATE_UTCOFFSET
Endif
Return

$INIT_UTCOFFSET
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCOFFSET"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UTCOFFSET
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCOFFSET"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UTCOFFSET             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UTCOFFSET             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UTCOFFSET
[L]CURPRO = "UTCOFFSET"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UTCOFFSET=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UTCOFFSET
[L]CURPRO = "UTCOFFSET"
Return

$_AOTHERS_UTCOFFSET
[L]CURPRO = "UTCOFFSET"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UTCOFFSET
[L]CURPRO = "UTCOFFSET"
Return

$PROPAGATE_UTCOFFSET
this.isReadonly = 0
[L]CURPRO = "UTCOFFSET"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UTCOFFSET
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "UTCOFFSET"
$_LNKPRO_UTCOFFSET
Return


####################################################################
# 11 : DURATION Duration ( Field DCB 9)
####################################################################

$SET_DURATION
If [L]_AOLDVAL<>this.DURATION
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DURATION
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DURATION
 Gosub PROPAGATE_DURATION
Endif
Return

$INIT_DURATION
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "DURATION"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DURATION
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "DURATION"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DURATION              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DURATION              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DURATION
[L]CURPRO = "DURATION"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DURATION=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DURATION
[L]CURPRO = "DURATION"
Return

$_AOTHERS_DURATION
[L]CURPRO = "DURATION"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DURATION
[L]CURPRO = "DURATION"
Return

$PROPAGATE_DURATION
this.isReadonly = 0
[L]CURPRO = "DURATION"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DURATION
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "DURATION"
$_LNKPRO_DURATION
Return


####################################################################
# 12 : INDREF Indirect references ( Field A 3)
####################################################################

$SET_INDREF
If [L]_AOLDVAL<>this.INDREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INDREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INDREF
 Gosub PROPAGATE_INDREF
Endif
Return

$INIT_INDREF
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "INDREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INDREF
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "INDREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INDREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INDREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INDREF
[L]CURPRO = "INDREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INDREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INDREF
[L]CURPRO = "INDREF"
Return

$_AOTHERS_INDREF
[L]CURPRO = "INDREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INDREF
[L]CURPRO = "INDREF"
Return

$PROPAGATE_INDREF
this.isReadonly = 0
[L]CURPRO = "INDREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INDREF
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "INDREF"
$_LNKPRO_INDREF
Return


####################################################################
# 13 : BRKTXN Break code ( Field  Uuident)
####################################################################

$SET_BRKTXN
If [L]_AOLDVAL<>this.BRKTXN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BRKTXN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BRKTXN
 Gosub PROPAGATE_BRKTXN
Endif
Return

$INIT_BRKTXN
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "BRKTXN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BRKTXN
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "BRKTXN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BRKTXN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BRKTXN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BRKTXN
[L]CURPRO = "BRKTXN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BRKTXN=NullUuid
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BRKTXN
[L]CURPRO = "BRKTXN"
Return

$_AOTHERS_BRKTXN
[L]CURPRO = "BRKTXN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BRKTXN
[L]CURPRO = "BRKTXN"
Return

$PROPAGATE_BRKTXN
this.isReadonly = 0
[L]CURPRO = "BRKTXN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BRKTXN
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "BRKTXN"
$_LNKPRO_BRKTXN
Return


####################################################################
# 14 : STRTXNUUID Transaction code ( Field  Uuident)
####################################################################

$SET_STRTXNUUID
If [L]_AOLDVAL<>this.STRTXNUUID
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STRTXNUUID
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STRTXNUUID
 Gosub PROPAGATE_STRTXNUUID
Endif
Return

$INIT_STRTXNUUID
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "STRTXNUUID"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STRTXNUUID
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "STRTXNUUID"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STRTXNUUID            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STRTXNUUID            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STRTXNUUID
[L]CURPRO = "STRTXNUUID"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STRTXNUUID=NullUuid
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STRTXNUUID
[L]CURPRO = "STRTXNUUID"
Return

$_AOTHERS_STRTXNUUID
[L]CURPRO = "STRTXNUUID"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STRTXNUUID
[L]CURPRO = "STRTXNUUID"
Return

$PROPAGATE_STRTXNUUID
this.isReadonly = 0
[L]CURPRO = "STRTXNUUID"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STRTXNUUID
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "STRTXNUUID"
$_LNKPRO_STRTXNUUID
Return


####################################################################
# 15 : TXNUUID Transaction ID ( Field  Uuident)
####################################################################

$SET_TXNUUID
If [L]_AOLDVAL<>this.TXNUUID
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TXNUUID
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TXNUUID
 Gosub PROPAGATE_TXNUUID
Endif
Return

$INIT_TXNUUID
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "TXNUUID"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TXNUUID
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "TXNUUID"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TXNUUID               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TXNUUID               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TXNUUID
[L]CURPRO = "TXNUUID"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TXNUUID=NullUuid
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TXNUUID
[L]CURPRO = "TXNUUID"
Return

$_AOTHERS_TXNUUID
[L]CURPRO = "TXNUUID"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TXNUUID
[L]CURPRO = "TXNUUID"
Return

$PROPAGATE_TXNUUID
this.isReadonly = 0
[L]CURPRO = "TXNUUID"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TXNUUID
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "TXNUUID"
$_LNKPRO_TXNUUID
Return


####################################################################
# 16 : MACFLG Machine ( Field Local menu number 1)
####################################################################

$SET_MACFLG
If [L]_AOLDVAL<>this.MACFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MACFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MACFLG
 Gosub PROPAGATE_MACFLG
Endif
Return

$INIT_MACFLG
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "MACFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MACFLG=0 and fmet this.AGETATTRIBUTE("MACFLG","$isMandatory")="true"
 this.MACFLG = 1
Endif
Return
 
$CONTROL_MACFLG
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "MACFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MACFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MACFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MACFLG
[L]CURPRO = "MACFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MACFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MACFLG
[L]CURPRO = "MACFLG"
If this.MACFLG<0 or this.MACFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.MACFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_MACFLG
[L]CURPRO = "MACFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MACFLG
[L]CURPRO = "MACFLG"
Return

$PROPAGATE_MACFLG
this.isReadonly = 0
[L]CURPRO = "MACFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MACFLG
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "MACFLG"
$_LNKPRO_MACFLG
Return


####################################################################
# 17 : NUMJOBS Number of actions ( Field L 8)
####################################################################

$SET_NUMJOBS
If [L]_AOLDVAL<>this.NUMJOBS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMJOBS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMJOBS
 Gosub PROPAGATE_NUMJOBS
Endif
Return

$INIT_NUMJOBS
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "NUMJOBS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUMJOBS
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "NUMJOBS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMJOBS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMJOBS               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMJOBS
[L]CURPRO = "NUMJOBS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NUMJOBS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMJOBS
[L]CURPRO = "NUMJOBS"
Return

$_AOTHERS_NUMJOBS
[L]CURPRO = "NUMJOBS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMJOBS
[L]CURPRO = "NUMJOBS"
Return

$PROPAGATE_NUMJOBS
this.isReadonly = 0
[L]CURPRO = "NUMJOBS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMJOBS
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "NUMJOBS"
$_LNKPRO_NUMJOBS
Return


####################################################################
# 18 : SUMEMP Number of employees ( Field L 8)
####################################################################

$SET_SUMEMP
If [L]_AOLDVAL<>this.SUMEMP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SUMEMP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SUMEMP
 Gosub PROPAGATE_SUMEMP
Endif
Return

$INIT_SUMEMP
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SUMEMP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SUMEMP
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SUMEMP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SUMEMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SUMEMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SUMEMP
[L]CURPRO = "SUMEMP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SUMEMP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SUMEMP
[L]CURPRO = "SUMEMP"
Return

$_AOTHERS_SUMEMP
[L]CURPRO = "SUMEMP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SUMEMP
[L]CURPRO = "SUMEMP"
Return

$PROPAGATE_SUMEMP
this.isReadonly = 0
[L]CURPRO = "SUMEMP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SUMEMP
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SUMEMP"
$_LNKPRO_SUMEMP
Return


####################################################################
# 19 : OPENUM Operation number ( Field OPE 0)
####################################################################

$SET_OPENUM
If [L]_AOLDVAL<>this.OPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPENUM
 Gosub PROPAGATE_OPENUM
Endif
Return

$INIT_OPENUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "OPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPENUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "OPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPENUM
[L]CURPRO = "OPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPENUM
[L]CURPRO = "OPENUM"
Return

$_AOTHERS_OPENUM
[L]CURPRO = "OPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPENUM
[L]CURPRO = "OPENUM"
Return

$PROPAGATE_OPENUM
this.isReadonly = 0
[L]CURPRO = "OPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPENUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "OPENUM"
$_LNKPRO_OPENUM
Return


####################################################################
# 20 : NUMMAC Number of machines ( Field Local menu number 1)
####################################################################

$SET_NUMMAC
If [L]_AOLDVAL<>this.NUMMAC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMMAC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMMAC
 Gosub PROPAGATE_NUMMAC
Endif
Return

$INIT_NUMMAC
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "NUMMAC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.NUMMAC=0 and fmet this.AGETATTRIBUTE("NUMMAC","$isMandatory")="true"
 this.NUMMAC = 1
Endif
Return
 
$CONTROL_NUMMAC
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "NUMMAC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMMAC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMMAC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMMAC
[L]CURPRO = "NUMMAC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NUMMAC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMMAC
[L]CURPRO = "NUMMAC"
If this.NUMMAC<0 or this.NUMMAC>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.NUMMAC)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_NUMMAC
[L]CURPRO = "NUMMAC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMMAC
[L]CURPRO = "NUMMAC"
Return

$PROPAGATE_NUMMAC
this.isReadonly = 0
[L]CURPRO = "NUMMAC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMMAC
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "NUMMAC"
$_LNKPRO_NUMMAC
Return


####################################################################
# 21 : CPLLAB Actual labor W/C ( Field WST 8)
####################################################################

$SET_CPLLAB
If [L]_AOLDVAL<>this.CPLLAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPLLAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPLLAB
 Gosub PROPAGATE_CPLLAB
Endif
Return

$INIT_CPLLAB
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLLAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPLLAB
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLLAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPLLAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPLLAB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPLLAB
[L]CURPRO = "CPLLAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPLLAB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPLLAB
[L]CURPRO = "CPLLAB"
If vireblc(this.CPLLAB,2)<>vireblc(format$("K:8c",this.CPLLAB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPLLAB
[L]CURPRO = "CPLLAB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPLLAB
[L]CURPRO = "CPLLAB"
If vireblc(this.CPLLAB,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWST.ACTRLREF(this,"CPLLAB",this.CPLLAB,this.CPLLAB,this.CPLLAB,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPLLAB<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_CPLLAB
this.isReadonly = 0
[L]CURPRO = "CPLLAB"
Gosub _LNKPRO_CPLLAB
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPLLAB
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLLAB"
$_LNKPRO_CPLLAB
If vireblc(this.CPLLAB,2)<>""
 # Link WORKSTATIO
 Local File WORKSTATIO [WMWS]
 Read [F:WMWS]WST0 = this.CPLLAB;this.CPLLAB
 If !fstat
 Endif
 LogicClose File [WMWS]
Endif
Return


####################################################################
# 22 : CPLWST Actual work center ( Field WST 8)
####################################################################

$SET_CPLWST
If [L]_AOLDVAL<>this.CPLWST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPLWST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPLWST
 Gosub PROPAGATE_CPLWST
Endif
Return

$INIT_CPLWST
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLWST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPLWST
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLWST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPLWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPLWST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPLWST
[L]CURPRO = "CPLWST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPLWST,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPLWST
[L]CURPRO = "CPLWST"
If vireblc(this.CPLWST,2)<>vireblc(format$("K:8c",this.CPLWST),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPLWST
[L]CURPRO = "CPLWST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPLWST
[L]CURPRO = "CPLWST"
If vireblc(this.CPLWST,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPWST.ACTRLREF(this,"CPLWST",this.CPLWST,this.CPLWST,this.CPLWST,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPLWST<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_CPLWST
this.isReadonly = 0
[L]CURPRO = "CPLWST"
Gosub _LNKPRO_CPLWST
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPLWST
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLWST"
$_LNKPRO_CPLWST
If vireblc(this.CPLWST,2)<>""
 # Link WORKSTATIO
 Local File WORKSTATIO [WMWS]
 Read [F:WMWS]WST0 = this.CPLWST;this.CPLWST
 If !fstat
 Endif
 LogicClose File [WMWS]
Endif
Return


####################################################################
# 23 : WCENTER Work center ( Field A 8)
####################################################################

$SET_WCENTER
If [L]_AOLDVAL<>this.WCENTER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WCENTER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WCENTER
 Gosub PROPAGATE_WCENTER
Endif
Return

$INIT_WCENTER
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "WCENTER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WCENTER
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "WCENTER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WCENTER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WCENTER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WCENTER
[L]CURPRO = "WCENTER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WCENTER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WCENTER
[L]CURPRO = "WCENTER"
Return

$_AOTHERS_WCENTER
[L]CURPRO = "WCENTER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WCENTER
[L]CURPRO = "WCENTER"
Return

$PROPAGATE_WCENTER
this.isReadonly = 0
[L]CURPRO = "WCENTER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WCENTER
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "WCENTER"
$_LNKPRO_WCENTER
Return


####################################################################
# 24 : LCENTER Labor center ( Field A 8)
####################################################################

$SET_LCENTER
If [L]_AOLDVAL<>this.LCENTER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LCENTER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LCENTER
 Gosub PROPAGATE_LCENTER
Endif
Return

$INIT_LCENTER
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "LCENTER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LCENTER
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "LCENTER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LCENTER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LCENTER               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LCENTER
[L]CURPRO = "LCENTER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LCENTER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LCENTER
[L]CURPRO = "LCENTER"
Return

$_AOTHERS_LCENTER
[L]CURPRO = "LCENTER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LCENTER
[L]CURPRO = "LCENTER"
Return

$PROPAGATE_LCENTER
this.isReadonly = 0
[L]CURPRO = "LCENTER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LCENTER
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "LCENTER"
$_LNKPRO_LCENTER
Return


####################################################################
# 25 : CPLQTY Completed qty. ( Field QTY 0)
####################################################################

$SET_CPLQTY
If [L]_AOLDVAL<>this.CPLQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPLQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPLQTY
 Gosub PROPAGATE_CPLQTY
Endif
Return

$INIT_CPLQTY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPLQTY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPLQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPLQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPLQTY
[L]CURPRO = "CPLQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPLQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPLQTY
[L]CURPRO = "CPLQTY"
Return

$_AOTHERS_CPLQTY
[L]CURPRO = "CPLQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPLQTY
[L]CURPRO = "CPLQTY"
Return

$PROPAGATE_CPLQTY
this.isReadonly = 0
[L]CURPRO = "CPLQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPLQTY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CPLQTY"
$_LNKPRO_CPLQTY
Return


####################################################################
# 26 : REJCPLQTY Actual rejected qty. ( Field QTY 0)
####################################################################

$SET_REJCPLQTY
If [L]_AOLDVAL<>this.REJCPLQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REJCPLQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REJCPLQTY
 Gosub PROPAGATE_REJCPLQTY
Endif
Return

$INIT_REJCPLQTY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "REJCPLQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REJCPLQTY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "REJCPLQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REJCPLQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REJCPLQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REJCPLQTY
[L]CURPRO = "REJCPLQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REJCPLQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REJCPLQTY
[L]CURPRO = "REJCPLQTY"
Return

$_AOTHERS_REJCPLQTY
[L]CURPRO = "REJCPLQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REJCPLQTY
[L]CURPRO = "REJCPLQTY"
Return

$PROPAGATE_REJCPLQTY
this.isReadonly = 0
[L]CURPRO = "REJCPLQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REJCPLQTY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "REJCPLQTY"
$_LNKPRO_REJCPLQTY
Return


####################################################################
# 27 : SCANUM Rejection ( Field C 4)
####################################################################

$SET_SCANUM
If [L]_AOLDVAL<>this.SCANUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCANUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCANUM
 Gosub PROPAGATE_SCANUM
Endif
Return

$INIT_SCANUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SCANUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCANUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SCANUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCANUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCANUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCANUM
[L]CURPRO = "SCANUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SCANUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCANUM
[L]CURPRO = "SCANUM"
Return

$_AOTHERS_SCANUM
[L]CURPRO = "SCANUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCANUM
[L]CURPRO = "SCANUM"
Return

$PROPAGATE_SCANUM
this.isReadonly = 0
[L]CURPRO = "SCANUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCANUM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "SCANUM"
$_LNKPRO_SCANUM
Return


####################################################################
# 28 : OPEUOM Entry unit ( Field UOM 3)
####################################################################

$SET_OPEUOM
If [L]_AOLDVAL<>this.OPEUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPEUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPEUOM
 Gosub PROPAGATE_OPEUOM
Endif
Return

$INIT_OPEUOM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "OPEUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPEUOM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "OPEUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPEUOM
[L]CURPRO = "OPEUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPEUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>vireblc(format$("K:3X",this.OPEUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPEUOM
[L]CURPRO = "OPEUOM"
If vireblc(this.OPEUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"OPEUOM",this.OPEUOM,this.OPEUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OPEUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPEUOM
[L]CURPRO = "OPEUOM"
Return

$PROPAGATE_OPEUOM
this.isReadonly = 0
[L]CURPRO = "OPEUOM"
Gosub _LNKPRO_OPEUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPEUOM
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "OPEUOM"
$_LNKPRO_OPEUOM
If vireblc(this.OPEUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.OPEUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OPEUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 29 : CLEFLG Closed ( Field Local menu number 1)
####################################################################

$SET_CLEFLG
If [L]_AOLDVAL<>this.CLEFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLEFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLEFLG
 Gosub PROPAGATE_CLEFLG
Endif
Return

$INIT_CLEFLG
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CLEFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CLEFLG=0 and fmet this.AGETATTRIBUTE("CLEFLG","$isMandatory")="true"
 this.CLEFLG = 1
Endif
Return
 
$CONTROL_CLEFLG
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CLEFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLEFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLEFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLEFLG
[L]CURPRO = "CLEFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLEFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLEFLG
[L]CURPRO = "CLEFLG"
If this.CLEFLG<0 or this.CLEFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CLEFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CLEFLG
[L]CURPRO = "CLEFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLEFLG
[L]CURPRO = "CLEFLG"
Return

$PROPAGATE_CLEFLG
this.isReadonly = 0
[L]CURPRO = "CLEFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLEFLG
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "CLEFLG"
$_LNKPRO_CLEFLG
Return


####################################################################
# 30 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0SFTTXN
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return




