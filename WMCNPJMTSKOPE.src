#<AdxTL>@(#)0.0.0.0 $Revision$Class Tasks - Operations
# Supervisor
## ACLA-CLASSE ## PJMTSKOPE
# 2018-09-17 03:51:58 441

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0PJMTSKOPE
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_TASFCY From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CUR From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPPNUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TASCOD From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPENUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPESPLNUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_ROUOPENUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_KEYCONCAT From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDOPENUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTA From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_ROODESAXX From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTWST From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTR From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEEND From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTWSTNBR From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTQTY From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_RMNQTY From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTLAB From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTLABNBR From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPECST From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEDATS From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEDATH From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEUOM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTUCOE From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEUOM2 From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPECST2 From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTARTDT From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEENDDT From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CSMQTY From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_RPLIND From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDWST From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_WSTTYP From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLWST From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDLAB From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLLAB From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SETLABCOE From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPELABCOE From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_INFCAPSTR From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_INFCAPEND From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_FRCSTRDAT From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_FRCSTRHOU From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TIMUOMCOD From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_ROOTIMCOD From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TIMCOD From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_BASQTY From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CAD From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEPLNNUM From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEROUPCT From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TECCRD From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EQUNUM From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_FXGNUM From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_PRGNUM From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EFF From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SHR From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_WSTEFF From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDWSTNBR From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLWSTNBR From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDLABNBR From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLLABNBR From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDUNTTIM From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTUNTTIM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLUNTTIM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDOPETIM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTOPETIM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLOPETIM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTSTUQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_STDQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_REJCPLQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_QUACPLQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCOCOD From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCOWST From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCOITMREF From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCOLTI From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCOPUU From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPESTRCOE From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTSTRQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPSNUM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_WIPNUM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_POHNUM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_POPLIN From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_POPSEQ From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_BPRNUM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_BPAADD From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_REFPRI From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXTPRI From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLPRI From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CPLCRG From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_INVQTY From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SPLCOD From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SPLMAXNBR From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_PIO From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_FITCAPSTR From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_FITCAPEND From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPENUMLEV From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_ALTOPECOD From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_RSTMAC From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCHGRP From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_SCHSBB From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_BUDEDT From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPEDESTEX From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_OPECOMTEX From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHOPEUOM2AN From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHCHGTYP From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHACTION From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHTCACOD From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHTASSTATE From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHOPESTRAN From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_TCHOPEENDAN From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub AINIT From WMC0PJMTSKOPE : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0PJMTSKOPE
Gosub _ALOADATTRIBUTE_TASFCY From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPPNUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_TASCOD From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPENUM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPESTA From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ROODESAXX From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_EXTWST From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_OPEUOM2 From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_TCHTCACOD From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_TCHTASSTATE From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0PJMTSKOPE
Gosub LNKPRO_TASFCY From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_CUR From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_OPEUOM From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_OPEUOM2 From WMC1PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_EQUNUM From WMC2PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_SCOITMREF From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_SCOPUU From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_BPRNUM From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_BPAADD From WMC3PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_OPEDESTEX From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Gosub LNKPRO_OPECOMTEX From WMC4PJMTSKOPE : Gosub TESTALLSTAT
For AINDCLA=1 To maxtab(this.RAFFT)
 If this.RAFFT(AINDCLA)<>null& find(this.RAFFT(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.RAFFT(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_TCHTCACOD From WMC4PJMTSKOPE : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



