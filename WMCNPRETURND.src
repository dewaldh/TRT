#<AdxTL>@(#)0.0.0.0 $Revision$Class Detail return
# Supervisor
## ACLA-CLASSE ## PRETURND
# 2018-08-27 12:43:09 258

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0PRETURND
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
For TBLINE=1 to 5
 [L]ALINE = func ASYRSUBTAB.ADDLINE([L]TBLINE,"C_TSICOD","C_PRETURND_C_TSICOD",this)
 If [L]ALINE=[V]CST_ANOTDEFINED : [L]ASTATUS = [V]CST_AERROR : Break : Endif
Next
If [L]ASTATUS = [V]CST_AERROR :  Gosub TESTALLSTAT : Endif
Gosub INIT_PNHNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_PNDLIN From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_CPY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_PNHFCY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_RTNDAT From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_POHFCY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_POHNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_POPLIN From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_POQSEQ From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_POHTYP From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_PTHNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_PTDLIN From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_BPSNDE From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_BPSNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_BPSINV From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_BPAINV From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_ITMREF From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_ITMDES1 From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_ITMDES From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_QTYUOM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_QTYPUU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_QTYSTU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_INVQTYPUU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_INVQTYSTU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_SRDQTYSTU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_UOMFLG From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_UOMPUUCOE From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_UOMSTUCOE From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_UOM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_PUU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub INIT_STU From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_WEU From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CPRCUR From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_NETCUR From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_UNTWEI From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_RTNREN From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_RTNDES From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_GROPRI From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_PRIREN From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_DISCRGVAL1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_DISCRGVAL2 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_DISCRGVAL3 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_DISCRGREN1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_DISCRGREN2 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_DISCRGREN3 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_NETPRI From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_NETPRIPUU From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINAMT From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINATIAMT From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT2 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT3 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT4 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT5 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT6 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLCAMT7 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_BASTAXLIN1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXLIN1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXLIN2 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXLIN3 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXRCP From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXISS From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXOTH1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_AMTTAXOTH2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXLIN1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXLIN2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXLIN3 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXRCP From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXISS From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXOTH1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_DEDTAXOTH2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_FLGRUP From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_CPRCOE From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_CPR From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_PJT From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_EECINCRAT From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_ORICRY From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_BPOCRY From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINEECFLG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINPRNFLG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_ORDFLG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINPSTFLG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINPSTDAT From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_LININVFLG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_TRSFAM From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_VAT1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_VAT1_LEG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_VAT2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_VAT2_LEG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub INIT_VAT3 From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_VAT3_LEG From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_TAXRCP From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_VATLEG From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_TAXISS From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_TAXOTH1 From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_TAXOTH2 From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINPURTYP From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_SATISS From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINTEX From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_CLALINTEX From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINSTOFCY From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_STOMGTCOD From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_SRHNUM From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_SRDLIN From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINAUTFLG From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINTYP From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LINCAT From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_LIKQTYCOE From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_WRH From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_AVOFLG From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_ITMLNK From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC4PRETURND : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC4PRETURND : Gosub TESTALLSTAT
If this.PNDCAL<>null
 [L]ASTATUS = fmet this.PNDCAL.AINIT : Gosub TESTALLSTAT
Endif
If this.PTD<>null
 [L]ASTATUS = fmet this.PTD.AINIT : Gosub TESTALLSTAT
Endif
Gosub AINIT From WMC0PRETURND : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0PRETURND
Gosub _ALOADATTRIBUTE_PNHNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PNDLIN From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CPY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PNHFCY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_POHFCY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_BPSNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ITMREF From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_UOM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PUU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_STU From WMC2PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_NETCUR From WMC2PRETURND : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ORICRY From WMC3PRETURND : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0PRETURND
Gosub LNKPRO_CPY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_PNHFCY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_POHFCY From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_BPSNUM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_BPSINV From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_BPAINV From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_ITMREF From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_UOM From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_PUU From WMC1PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_STU From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_WEU From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CPRCUR From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_NETCUR From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_RTNREN From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_LINAMT From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_LINATIAMT From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT2 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT3 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT4 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT5 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT6 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLCAMT7 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_BASTAXLIN1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXLIN1 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXLIN2 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXLIN3 From WMC2PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXRCP From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXISS From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXOTH1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_AMTTAXOTH2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXLIN1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXLIN2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXLIN3 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXRCP From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXISS From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXOTH1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_DEDTAXOTH2 From WMC3PRETURND : Gosub TESTALLSTAT
For AINDCLA=1 To 5
 If this.C_TSICOD(AINDCLA)<>null& find(this.C_TSICOD(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.C_TSICOD(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_ORICRY From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_BPOCRY From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_TRSFAM From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VAT1 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VAT1_LEG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VAT2 From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VAT2_LEG From WMC3PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VAT3 From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VAT3_LEG From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_TAXRCP From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_VATLEG From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_TAXISS From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_TAXOTH1 From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_TAXOTH2 From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_SATISS From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_CLALINTEX From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_LINSTOFCY From WMC4PRETURND : Gosub TESTALLSTAT
Gosub LNKPRO_WRH From WMC4PRETURND : Gosub TESTALLSTAT
If this.PNDCAL<>null
 [L]ASTATUS = fmet this.PNDCAL._ALNKPRO : Gosub TESTALLSTAT
Endif
For AINDCLA=1 To maxtab(this.STJ)
 If this.STJ(AINDCLA)<>null& find(this.STJ(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.STJ(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
If this.PTD<>null
 [L]ASTATUS = fmet this.PTD._ALNKPRO : Gosub TESTALLSTAT
Endif
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



