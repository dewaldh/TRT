#<AdxTL>@(#)0.0.0.0 $Revision$Class Customer transactions
# Supervisor
## ACLA-CLASSE ## BPCUSTMVT
# 2018-08-27 12:25:35 276

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0BPCUSTMVT
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_BPCNUM From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ACCCUR From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_BPCRSK From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_CPY From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_CUR From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_QUONOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_QUOATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPCNOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPCATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPINOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPIATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_DLVOSTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_NIVDLVC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_NPTINVC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_BLCC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPCNOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPCATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPINOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPIATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDDLVC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_QUONOTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_QUOATIL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPCNOTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPCATIL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPINOTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPIATIL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_DLVOSTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_NIVDLVL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_NPTINVL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_BLCL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPCNOTL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPCATIL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPINOTL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPIATIL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDDLVL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_QUONOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_QUOATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPCNOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPCATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPINOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_ORDBPIATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_DLVOSTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_NIVDLVR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_NPTINVR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_BLCR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPCNOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPCATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPINOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDBPIATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_LNDDLVR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_FCTOST From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_UNPNBR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_UNPDAT From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_FUPDAT From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_FUPLEV From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_MAXFUPLEV From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_EXPNUM From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_CREDAT From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_UPDDAT From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC3BPCUSTMVT : Gosub TESTALLSTAT
Gosub AINIT From WMC0BPCUSTMVT : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0BPCUSTMVT
Gosub _ALOADATTRIBUTE_BPCNUM From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_ACCCUR From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_BPCRSK From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CPY From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CUR From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0BPCUSTMVT
Gosub LNKPRO_BPCNUM From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ACCCUR From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_BPCRSK From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_CPY From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_CUR From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_QUONOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_QUOATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPCNOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPCATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPINOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPIATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_DLVOSTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_NIVDLVC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_NPTINVC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
For AINDCLA=1 To 3
 If this.C_NYTBILC(AINDCLA)<>null& find(this.C_NYTBILC(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.C_NYTBILC(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_BLCC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPCNOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPCATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPINOTC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPIATIC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDDLVC From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_QUONOTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_QUOATIL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPCNOTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPCATIL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPINOTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPIATIL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_DLVOSTL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_NIVDLVL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_NPTINVL From WMC1BPCUSTMVT : Gosub TESTALLSTAT
For AINDCLA=1 To 3
 If this.C_NYTBILL(AINDCLA)<>null& find(this.C_NYTBILL(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.C_NYTBILL(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_BLCL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPCNOTL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPCATIL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPINOTL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPIATIL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDDLVL From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_QUONOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_QUOATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPCNOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPCATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPINOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_ORDBPIATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_DLVOSTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_NIVDLVR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_NPTINVR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
For AINDCLA=1 To 3
 If this.C_NYTBILR(AINDCLA)<>null& find(this.C_NYTBILR(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.C_NYTBILR(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_BLCR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPCNOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPCATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPINOTR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDBPIATIR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_LNDDLVR From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Gosub LNKPRO_FCTOST From WMC2BPCUSTMVT : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



