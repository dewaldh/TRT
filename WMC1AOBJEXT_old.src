#<AdxTL>@(#)0.0.0.0 $Revision$Class Import/export templates
# Sage X3 supervisor
## ACLA-CLASSE ## AOBJEXT
# 2018-06-20 06:32:39 504


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : EXT Template ( Field AOE 10)
####################################################################

$SET_EXT
If [L]_AOLDVAL<>this.EXT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXT
 Gosub PROPAGATE_EXT
Endif
Return

$INIT_EXT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "EXT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "EXT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXT
[L]CURPRO = "EXT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXT
[L]CURPRO = "EXT"
If vireblc(this.EXT,2)<>vireblc(format$("K:10B",this.EXT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EXT
[L]CURPRO = "EXT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXT
[L]CURPRO = "EXT"
Return

$PROPAGATE_EXT
this.isReadonly = 0
[L]CURPRO = "EXT"
Gosub _LNKPRO_EXT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "EXT"
$_LNKPRO_EXT
If vireblc(this.EXT,2)<>""
 # Link AOBJEXT
 Local File AOBJEXT [WAOE]
 Read [F:WAOE]AOE0 = this.EXT
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AOBJEXT" & ZONE="INTIT" & IDENT1=[F:WAOE]EXT & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EXT","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAOE]
Endif
Return

$_ALOADATTRIBUTE_EXT
[L]ASTATUS = fmet this.ASETATTRIBUTE("EXT","$isMandatory","true")
Return


####################################################################
# 2 : INTIT Description ( Field AX3)
####################################################################

$GET_INTIT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "INTIT"
this.INTIT = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_INTIT
If [L]_AOLDVAL<>this.INTIT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INTIT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INTIT
 Gosub PROPAGATE_INTIT
Endif
Return

$INIT_INTIT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "INTIT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INTIT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "INTIT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INTIT                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INTIT                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INTIT
[L]CURPRO = "INTIT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INTIT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INTIT
[L]CURPRO = "INTIT"
If vireblc(fmet this.AGETTEXTRA("INTIT"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("INTIT")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_INTIT
[L]CURPRO = "INTIT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INTIT
[L]CURPRO = "INTIT"
Return

$PROPAGATE_INTIT
this.isReadonly = 0
[L]CURPRO = "INTIT"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.INTIT)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INTIT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "INTIT"
$_LNKPRO_INTIT
Return


####################################################################
# 3 : ENAFLG Active ( Field Local menu number 1)
####################################################################

$SET_ENAFLG
If [L]_AOLDVAL<>this.ENAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENAFLG
 Gosub PROPAGATE_ENAFLG
Endif
Return

$INIT_ENAFLG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "ENAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ENAFLG=0 and fmet this.AGETATTRIBUTE("ENAFLG","$isMandatory")="true"
 this.ENAFLG = 1
Endif
Return
 
$CONTROL_ENAFLG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "ENAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENAFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENAFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENAFLG
[L]CURPRO = "ENAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENAFLG
[L]CURPRO = "ENAFLG"
If this.ENAFLG<0 or this.ENAFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ENAFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ENAFLG
[L]CURPRO = "ENAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENAFLG
[L]CURPRO = "ENAFLG"
Return

$PROPAGATE_ENAFLG
this.isReadonly = 0
[L]CURPRO = "ENAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENAFLG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "ENAFLG"
$_LNKPRO_ENAFLG
Return


####################################################################
# 4 : MODULE Module ( Field Local menu number 14)
####################################################################

$SET_MODULE
If [L]_AOLDVAL<>this.MODULE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MODULE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MODULE
 Gosub PROPAGATE_MODULE
Endif
Return

$INIT_MODULE
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "MODULE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MODULE=0 and fmet this.AGETATTRIBUTE("MODULE","$isMandatory")="true"
 this.MODULE = 1
Endif
Return
 
$CONTROL_MODULE
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "MODULE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MODULE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MODULE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MODULE
[L]CURPRO = "MODULE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MODULE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MODULE
[L]CURPRO = "MODULE"
If this.MODULE<0 or this.MODULE>len(mess(0,14,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"14 ->"-num$(this.MODULE)-mess(99,123,1)):  Return : # Local menu "14 -> Invalid option
Endif
Return

$_AOTHERS_MODULE
[L]CURPRO = "MODULE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MODULE
[L]CURPRO = "MODULE"
Return

$PROPAGATE_MODULE
this.isReadonly = 0
[L]CURPRO = "MODULE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MODULE
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "MODULE"
$_LNKPRO_MODULE
Return


####################################################################
# 5 : CODACT Activity code ( Field ACV 5)
####################################################################

$SET_CODACT
If [L]_AOLDVAL<>this.CODACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODACT
 Gosub PROPAGATE_CODACT
Endif
Return

$INIT_CODACT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CODACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODACT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CODACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODACT
[L]CURPRO = "CODACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODACT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODACT
[L]CURPRO = "CODACT"
If vireblc(this.CODACT,2)<>vireblc(format$("KTD:5B",this.CODACT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CODACT
[L]CURPRO = "CODACT"
If vireblc(this.CODACT,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPACV.ACTRLREF(this,"CODACT",this.CODACT,this.CODACT,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CODACT<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODACT
[L]CURPRO = "CODACT"
Return

$PROPAGATE_CODACT
this.isReadonly = 0
[L]CURPRO = "CODACT"
Gosub _LNKPRO_CODACT
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODACT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CODACT"
$_LNKPRO_CODACT
If vireblc(this.CODACT,2)<>""
 # Link ACTIV
 Local File ACTIV [WACV]
 Read [F:WACV]CODACT = this.CODACT
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WACV]LIBACT & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CODACT","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WACV]
Endif
Return


####################################################################
# 6 : ACS Access code ( Field ACS 10)
####################################################################

$SET_ACS
If [L]_AOLDVAL<>this.ACS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACS
 Gosub PROPAGATE_ACS
Endif
Return

$INIT_ACS
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "ACS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACS
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "ACS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACS
[L]CURPRO = "ACS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACS,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACS
[L]CURPRO = "ACS"
If vireblc(this.ACS,2)<>vireblc(format$("KTD:10B",this.ACS),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACS
[L]CURPRO = "ACS"
If vireblc(this.ACS,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPACS.ACTRLREF(this,"ACS",this.ACS,this.ACS,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ACS<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACS
[L]CURPRO = "ACS"
Return

$PROPAGATE_ACS
this.isReadonly = 0
[L]CURPRO = "ACS"
Gosub _LNKPRO_ACS
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACS
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "ACS"
$_LNKPRO_ACS
If vireblc(this.ACS,2)<>""
 # Link ACCCOD
 Local File ACCCOD [WACS]
 Read [F:WACS]ACS0 = this.ACS
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ACCCOD" & ZONE="DESACC" & IDENT1=[F:WACS]CODACC & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ACS","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WACS]
Endif
Return


####################################################################
# 7 : CHRNUM Export sequence no. ( Field L 8)
####################################################################

$SET_CHRNUM
If [L]_AOLDVAL<>this.CHRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CHRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CHRNUM
 Gosub PROPAGATE_CHRNUM
Endif
Return

$INIT_CHRNUM
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CHRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CHRNUM
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CHRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CHRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CHRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CHRNUM
[L]CURPRO = "CHRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CHRNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CHRNUM
[L]CURPRO = "CHRNUM"
Return

$_AOTHERS_CHRNUM
[L]CURPRO = "CHRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CHRNUM
[L]CURPRO = "CHRNUM"
Return

$PROPAGATE_CHRNUM
this.isReadonly = 0
[L]CURPRO = "CHRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CHRNUM
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CHRNUM"
$_LNKPRO_CHRNUM
Return


####################################################################
# 8 : FLDLIM Field delimiter ( Field A 1)
####################################################################

$SET_FLDLIM
If [L]_AOLDVAL<>this.FLDLIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLDLIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLDLIM
 Gosub PROPAGATE_FLDLIM
Endif
Return

$INIT_FLDLIM
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FLDLIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLDLIM
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FLDLIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLDLIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLDLIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLDLIM
[L]CURPRO = "FLDLIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLDLIM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLDLIM
[L]CURPRO = "FLDLIM"
Return

$_AOTHERS_FLDLIM
[L]CURPRO = "FLDLIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLDLIM
[L]CURPRO = "FLDLIM"
Return

$PROPAGATE_FLDLIM
this.isReadonly = 0
[L]CURPRO = "FLDLIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLDLIM
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FLDLIM"
$_LNKPRO_FLDLIM
Return


####################################################################
# 9 : TYPEXP Destination type ( Field Local menu number 921)
####################################################################

$SET_TYPEXP
If [L]_AOLDVAL<>this.TYPEXP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPEXP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPEXP
 Gosub PROPAGATE_TYPEXP
Endif
Return

$INIT_TYPEXP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TYPEXP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPEXP=0 and fmet this.AGETATTRIBUTE("TYPEXP","$isMandatory")="true"
 this.TYPEXP = 1
Endif
Return
 
$CONTROL_TYPEXP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TYPEXP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPEXP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPEXP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPEXP
[L]CURPRO = "TYPEXP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPEXP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPEXP
[L]CURPRO = "TYPEXP"
If this.TYPEXP<0 or this.TYPEXP>len(mess(0,921,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"921 ->"-num$(this.TYPEXP)-mess(99,123,1)):  Return : # Local menu "921 -> Invalid option
Endif
Return

$_AOTHERS_TYPEXP
[L]CURPRO = "TYPEXP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPEXP
[L]CURPRO = "TYPEXP"
Return

$PROPAGATE_TYPEXP
this.isReadonly = 0
[L]CURPRO = "TYPEXP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPEXP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TYPEXP"
$_LNKPRO_TYPEXP
Return


####################################################################
# 10 : FILEXT Data file ( Field FIC 250)
####################################################################

$SET_FILEXT
If [L]_AOLDVAL<>this.FILEXT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FILEXT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FILEXT
 Gosub PROPAGATE_FILEXT
Endif
Return

$INIT_FILEXT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FILEXT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FILEXT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FILEXT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FILEXT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FILEXT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FILEXT
[L]CURPRO = "FILEXT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FILEXT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FILEXT
[L]CURPRO = "FILEXT"
If vireblc(this.FILEXT,2)<>vireblc(format$("K:250X",this.FILEXT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FILEXT
[L]CURPRO = "FILEXT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FILEXT
[L]CURPRO = "FILEXT"
Return

$PROPAGATE_FILEXT
this.isReadonly = 0
[L]CURPRO = "FILEXT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FILEXT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FILEXT"
$_LNKPRO_FILEXT
Return


####################################################################
# 11 : REPFIN Final directory ( Field FIC 250)
####################################################################

$SET_REPFIN
If [L]_AOLDVAL<>this.REPFIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPFIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPFIN
 Gosub PROPAGATE_REPFIN
Endif
Return

$INIT_REPFIN
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "REPFIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPFIN
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "REPFIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPFIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPFIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPFIN
[L]CURPRO = "REPFIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REPFIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPFIN
[L]CURPRO = "REPFIN"
If vireblc(this.REPFIN,2)<>vireblc(format$("K:250X",this.REPFIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REPFIN
[L]CURPRO = "REPFIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPFIN
[L]CURPRO = "REPFIN"
Return

$PROPAGATE_REPFIN
this.isReadonly = 0
[L]CURPRO = "REPFIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPFIN
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "REPFIN"
$_LNKPRO_REPFIN
Return


####################################################################
# 12 : OBJ Object ( Field AOB 8)
####################################################################

$SET_OBJ
If [L]_AOLDVAL<>this.OBJ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OBJ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OBJ
 Gosub PROPAGATE_OBJ
Endif
Return

$INIT_OBJ
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OBJ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OBJ
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OBJ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OBJ                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OBJ                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OBJ
[L]CURPRO = "OBJ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OBJ,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OBJ
[L]CURPRO = "OBJ"
If vireblc(this.OBJ,2)<>vireblc(format$("KTD:8B",this.OBJ),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OBJ
[L]CURPRO = "OBJ"
If vireblc(this.OBJ,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPAOB.ACTRLREF(this,"OBJ",this.OBJ,this.OBJ,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.OBJ<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OBJ
[L]CURPRO = "OBJ"
Return

$PROPAGATE_OBJ
this.isReadonly = 0
[L]CURPRO = "OBJ"
Gosub _LNKPRO_OBJ
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OBJ
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OBJ"
$_LNKPRO_OBJ
If vireblc(this.OBJ,2)<>""
 # Link AOBJET
 Local File AOBJET [WAOB]
 Read [F:WAOB]ABREV = this.OBJ
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBSHO & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OBJ","$title",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WAOB]LIBEL & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("OBJ","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WAOB]
Endif
Return


####################################################################
# 13 : TRTIMP Import processing ( Field ADC 30)
####################################################################

$SET_TRTIMP
If [L]_AOLDVAL<>this.TRTIMP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRTIMP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRTIMP
 Gosub PROPAGATE_TRTIMP
Endif
Return

$INIT_TRTIMP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TRTIMP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRTIMP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TRTIMP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRTIMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRTIMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRTIMP
[L]CURPRO = "TRTIMP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TRTIMP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRTIMP
[L]CURPRO = "TRTIMP"
If vireblc(this.TRTIMP,2)<>vireblc(format$("KTD:30X",this.TRTIMP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TRTIMP
[L]CURPRO = "TRTIMP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRTIMP
[L]CURPRO = "TRTIMP"
Return

$PROPAGATE_TRTIMP
this.isReadonly = 0
[L]CURPRO = "TRTIMP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRTIMP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TRTIMP"
$_LNKPRO_TRTIMP
Return


####################################################################
# 14 : SPEIMP Import processing ( Field ADC 30)
####################################################################

$SET_SPEIMP
If [L]_AOLDVAL<>this.SPEIMP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SPEIMP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SPEIMP
 Gosub PROPAGATE_SPEIMP
Endif
Return

$INIT_SPEIMP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SPEIMP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SPEIMP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SPEIMP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SPEIMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SPEIMP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SPEIMP
[L]CURPRO = "SPEIMP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SPEIMP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SPEIMP
[L]CURPRO = "SPEIMP"
If vireblc(this.SPEIMP,2)<>vireblc(format$("KTD:30X",this.SPEIMP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SPEIMP
[L]CURPRO = "SPEIMP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SPEIMP
[L]CURPRO = "SPEIMP"
Return

$PROPAGATE_SPEIMP
this.isReadonly = 0
[L]CURPRO = "SPEIMP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SPEIMP
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SPEIMP"
$_LNKPRO_SPEIMP
Return


####################################################################
# 15 : NBRLIG Number of lines ( Field C 3)
####################################################################

$SET_NBRLIG
If [L]_AOLDVAL<>this.NBRLIG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBRLIG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBRLIG
 Gosub PROPAGATE_NBRLIG
Endif
Return

$INIT_NBRLIG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "NBRLIG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBRLIG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "NBRLIG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBRLIG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBRLIG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBRLIG
[L]CURPRO = "NBRLIG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBRLIG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBRLIG
[L]CURPRO = "NBRLIG"
Return

$_AOTHERS_NBRLIG
[L]CURPRO = "NBRLIG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBRLIG
[L]CURPRO = "NBRLIG"
Return

$PROPAGATE_NBRLIG
this.isReadonly = 0
[L]CURPRO = "NBRLIG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBRLIG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "NBRLIG"
$_LNKPRO_NBRLIG
Return


####################################################################
# 16 : OPTCHA Character set ( Field Local menu number 9)
####################################################################

$SET_OPTCHA
If [L]_AOLDVAL<>this.OPTCHA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTCHA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTCHA
 Gosub PROPAGATE_OPTCHA
Endif
Return

$INIT_OPTCHA
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTCHA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPTCHA=0 and fmet this.AGETATTRIBUTE("OPTCHA","$isMandatory")="true"
 this.OPTCHA = 1
Endif
Return
 
$CONTROL_OPTCHA
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTCHA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTCHA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTCHA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTCHA
[L]CURPRO = "OPTCHA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPTCHA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTCHA
[L]CURPRO = "OPTCHA"
If this.OPTCHA<0 or this.OPTCHA>len(mess(0,9,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"9 ->"-num$(this.OPTCHA)-mess(99,123,1)):  Return : # Local menu "9 -> Invalid option
Endif
Return

$_AOTHERS_OPTCHA
[L]CURPRO = "OPTCHA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTCHA
[L]CURPRO = "OPTCHA"
Return

$PROPAGATE_OPTCHA
this.isReadonly = 0
[L]CURPRO = "OPTCHA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTCHA
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTCHA"
$_LNKPRO_OPTCHA
Return


####################################################################
# 17 : OPTDAT Date format ( Field C 1)
####################################################################

$SET_OPTDAT
If [L]_AOLDVAL<>this.OPTDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTDAT
 Gosub PROPAGATE_OPTDAT
Endif
Return

$INIT_OPTDAT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPTDAT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTDAT
[L]CURPRO = "OPTDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPTDAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTDAT
[L]CURPRO = "OPTDAT"
Return

$_AOTHERS_OPTDAT
[L]CURPRO = "OPTDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTDAT
[L]CURPRO = "OPTDAT"
Return

$PROPAGATE_OPTDAT
this.isReadonly = 0
[L]CURPRO = "OPTDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTDAT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTDAT"
$_LNKPRO_OPTDAT
Return


####################################################################
# 18 : OPTMNL Local menu format ( Field C 1)
####################################################################

$SET_OPTMNL
If [L]_AOLDVAL<>this.OPTMNL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTMNL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTMNL
 Gosub PROPAGATE_OPTMNL
Endif
Return

$INIT_OPTMNL
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTMNL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPTMNL
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTMNL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTMNL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTMNL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTMNL
[L]CURPRO = "OPTMNL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPTMNL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTMNL
[L]CURPRO = "OPTMNL"
Return

$_AOTHERS_OPTMNL
[L]CURPRO = "OPTMNL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTMNL
[L]CURPRO = "OPTMNL"
Return

$PROPAGATE_OPTMNL
this.isReadonly = 0
[L]CURPRO = "OPTMNL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTMNL
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTMNL"
$_LNKPRO_OPTMNL
Return


####################################################################
# 19 : SEPFLD Field separator ( Field A 8)
####################################################################

$SET_SEPFLD
If [L]_AOLDVAL<>this.SEPFLD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEPFLD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEPFLD
 Gosub PROPAGATE_SEPFLD
Endif
Return

$INIT_SEPFLD
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPFLD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEPFLD
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPFLD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEPFLD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEPFLD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEPFLD
[L]CURPRO = "SEPFLD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEPFLD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEPFLD
[L]CURPRO = "SEPFLD"
Return

$_AOTHERS_SEPFLD
[L]CURPRO = "SEPFLD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEPFLD
[L]CURPRO = "SEPFLD"
Return

$PROPAGATE_SEPFLD
this.isReadonly = 0
[L]CURPRO = "SEPFLD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEPFLD
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPFLD"
$_LNKPRO_SEPFLD
Return


####################################################################
# 20 : SEPDEC Decimal separator ( Field A 1)
####################################################################

$SET_SEPDEC
If [L]_AOLDVAL<>this.SEPDEC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEPDEC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEPDEC
 Gosub PROPAGATE_SEPDEC
Endif
Return

$INIT_SEPDEC
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPDEC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEPDEC
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPDEC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEPDEC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEPDEC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEPDEC
[L]CURPRO = "SEPDEC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEPDEC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEPDEC
[L]CURPRO = "SEPDEC"
Return

$_AOTHERS_SEPDEC
[L]CURPRO = "SEPDEC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEPDEC
[L]CURPRO = "SEPDEC"
Return

$PROPAGATE_SEPDEC
this.isReadonly = 0
[L]CURPRO = "SEPDEC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEPDEC
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPDEC"
$_LNKPRO_SEPDEC
Return


####################################################################
# 21 : SEPREC Record separator ( Field A 8)
####################################################################

$SET_SEPREC
If [L]_AOLDVAL<>this.SEPREC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEPREC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEPREC
 Gosub PROPAGATE_SEPREC
Endif
Return

$INIT_SEPREC
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPREC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEPREC
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPREC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEPREC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEPREC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEPREC
[L]CURPRO = "SEPREC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEPREC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEPREC
[L]CURPRO = "SEPREC"
Return

$_AOTHERS_SEPREC
[L]CURPRO = "SEPREC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEPREC
[L]CURPRO = "SEPREC"
Return

$PROPAGATE_SEPREC
this.isReadonly = 0
[L]CURPRO = "SEPREC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEPREC
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "SEPREC"
$_LNKPRO_SEPREC
Return


####################################################################
# 22 : CODDBA File format ( Field Local menu number 945)
####################################################################

$SET_CODDBA
If [L]_AOLDVAL<>this.CODDBA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODDBA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODDBA
 Gosub PROPAGATE_CODDBA
Endif
Return

$INIT_CODDBA
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CODDBA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CODDBA=0 and fmet this.AGETATTRIBUTE("CODDBA","$isMandatory")="true"
 this.CODDBA = 1
Endif
Return
 
$CONTROL_CODDBA
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CODDBA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODDBA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODDBA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODDBA
[L]CURPRO = "CODDBA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CODDBA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODDBA
[L]CURPRO = "CODDBA"
If this.CODDBA<0 or this.CODDBA>len(mess(0,945,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"945 ->"-num$(this.CODDBA)-mess(99,123,1)):  Return : # Local menu "945 -> Invalid option
Endif
Return

$_AOTHERS_CODDBA
[L]CURPRO = "CODDBA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODDBA
[L]CURPRO = "CODDBA"
Return

$PROPAGATE_CODDBA
this.isReadonly = 0
[L]CURPRO = "CODDBA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODDBA
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "CODDBA"
$_LNKPRO_CODDBA
Return


####################################################################
# 23 : TYPFIL File type ( Field Local menu number 94)
####################################################################

$SET_TYPFIL
If [L]_AOLDVAL<>this.TYPFIL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPFIL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPFIL
 Gosub PROPAGATE_TYPFIL
Endif
Return

$INIT_TYPFIL
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TYPFIL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TYPFIL=0 and fmet this.AGETATTRIBUTE("TYPFIL","$isMandatory")="true"
 this.TYPFIL = 1
Endif
Return
 
$CONTROL_TYPFIL
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TYPFIL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPFIL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPFIL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPFIL
[L]CURPRO = "TYPFIL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TYPFIL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPFIL
[L]CURPRO = "TYPFIL"
If this.TYPFIL<0 or this.TYPFIL>len(mess(0,94,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"94 ->"-num$(this.TYPFIL)-mess(99,123,1)):  Return : # Local menu "94 -> Invalid option
Endif
Return

$_AOTHERS_TYPFIL
[L]CURPRO = "TYPFIL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPFIL
[L]CURPRO = "TYPFIL"
Return

$PROPAGATE_TYPFIL
this.isReadonly = 0
[L]CURPRO = "TYPFIL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPFIL
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "TYPFIL"
$_LNKPRO_TYPFIL
Return


####################################################################
# 24 : NBRFLG No. ( Field C 2)
####################################################################

$SET_NBRFLG
If [L]_AOLDVAL<>this.NBRFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NBRFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NBRFLG
 Gosub PROPAGATE_NBRFLG
Endif
Return

$INIT_NBRFLG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "NBRFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NBRFLG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "NBRFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NBRFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NBRFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NBRFLG
[L]CURPRO = "NBRFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NBRFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NBRFLG
[L]CURPRO = "NBRFLG"
Return

$_AOTHERS_NBRFLG
[L]CURPRO = "NBRFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NBRFLG
[L]CURPRO = "NBRFLG"
Return

$PROPAGATE_NBRFLG
this.isReadonly = 0
[L]CURPRO = "NBRFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NBRFLG
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "NBRFLG"
$_LNKPRO_NBRFLG
Return


####################################################################
# 27 : FONCTION Function ( Field AFC 12)
####################################################################

$SET_FONCTION
If [L]_AOLDVAL<>this.FONCTION
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FONCTION
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FONCTION
 Gosub PROPAGATE_FONCTION
Endif
Return

$INIT_FONCTION
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FONCTION"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FONCTION
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FONCTION"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FONCTION              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FONCTION              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FONCTION
[L]CURPRO = "FONCTION"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FONCTION,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FONCTION
[L]CURPRO = "FONCTION"
If vireblc(this.FONCTION,2)<>vireblc(format$("KTD:12B",this.FONCTION),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FONCTION
[L]CURPRO = "FONCTION"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FONCTION
[L]CURPRO = "FONCTION"
Return

$PROPAGATE_FONCTION
this.isReadonly = 0
[L]CURPRO = "FONCTION"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FONCTION
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "FONCTION"
$_LNKPRO_FONCTION
Return


####################################################################
# 28 : OPTUPD Modifcn. authorized ( Field Local menu number 1)
####################################################################

$SET_OPTUPD
If [L]_AOLDVAL<>this.OPTUPD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTUPD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTUPD
 Gosub PROPAGATE_OPTUPD
Endif
Return

$INIT_OPTUPD
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTUPD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPTUPD=0 and fmet this.AGETATTRIBUTE("OPTUPD","$isMandatory")="true"
 this.OPTUPD = 1
Endif
Return
 
$CONTROL_OPTUPD
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTUPD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTUPD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTUPD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTUPD
[L]CURPRO = "OPTUPD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPTUPD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTUPD
[L]CURPRO = "OPTUPD"
If this.OPTUPD<0 or this.OPTUPD>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.OPTUPD)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_OPTUPD
[L]CURPRO = "OPTUPD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTUPD
[L]CURPRO = "OPTUPD"
Return

$PROPAGATE_OPTUPD
this.isReadonly = 0
[L]CURPRO = "OPTUPD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTUPD
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTUPD"
$_LNKPRO_OPTUPD
Return


####################################################################
# 29 : OPTSPE Specific import ( Field Local menu number 1)
####################################################################

$SET_OPTSPE
If [L]_AOLDVAL<>this.OPTSPE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPTSPE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPTSPE
 Gosub PROPAGATE_OPTSPE
Endif
Return

$INIT_OPTSPE
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTSPE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPTSPE=0 and fmet this.AGETATTRIBUTE("OPTSPE","$isMandatory")="true"
 this.OPTSPE = 1
Endif
Return
 
$CONTROL_OPTSPE
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTSPE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPTSPE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPTSPE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPTSPE
[L]CURPRO = "OPTSPE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPTSPE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPTSPE
[L]CURPRO = "OPTSPE"
If this.OPTSPE<0 or this.OPTSPE>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.OPTSPE)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_OPTSPE
[L]CURPRO = "OPTSPE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPTSPE
[L]CURPRO = "OPTSPE"
Return

$PROPAGATE_OPTSPE
this.isReadonly = 0
[L]CURPRO = "OPTSPE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPTSPE
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "OPTSPE"
$_LNKPRO_OPTSPE
Return


####################################################################
# 30 : UPDDAT Change date ( Field D)
####################################################################

$SET_UPDDAT
If [L]_AOLDVAL<>this.UPDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDAT
 Gosub PROPAGATE_UPDDAT
Endif
Return

$INIT_UPDDAT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "UPDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDAT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "UPDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDAT
[L]CURPRO = "UPDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$_AOTHERS_UPDDAT
[L]CURPRO = "UPDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$PROPAGATE_UPDDAT
this.isReadonly = 0
[L]CURPRO = "UPDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDAT
Gosub DECLARE_VAR From WMC0AOBJEXT
[L]CURPRO = "UPDDAT"
$_LNKPRO_UPDDAT
Return




