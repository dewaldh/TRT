#<AdxTL>@(#)0.0.0.0 $Revision$Class Payment balance decl details
# Supervisor
## ACLA-CLASSE ## PBDGEND
# 2018-08-27 12:37:44 063


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : CODE Code ( Field A 20)
####################################################################

$SET_CODE
If [L]_AOLDVAL<>this.CODE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CODE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CODE
 Gosub PROPAGATE_CODE
Endif
Return

$INIT_CODE
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "CODE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CODE
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "CODE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CODE                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CODE                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CODE
[L]CURPRO = "CODE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CODE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CODE
[L]CURPRO = "CODE"
Return

$_AOTHERS_CODE
[L]CURPRO = "CODE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CODE
[L]CURPRO = "CODE"
Return

$PROPAGATE_CODE
this.isReadonly = 0
[L]CURPRO = "CODE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CODE
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "CODE"
$_LNKPRO_CODE
Return

$_ALOADATTRIBUTE_CODE
[L]ASTATUS = fmet this.ASETATTRIBUTE("CODE","$isMandatory","true")
Return


####################################################################
# 2 : LEG Legislation ( Field Miscellaneous table number)
####################################################################

$SET_LEG
If [L]_AOLDVAL<>this.LEG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEG
 Gosub PROPAGATE_LEG
Endif
Return

$INIT_LEG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"LEG",this.LEG,909)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "LEG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEG
[L]CURPRO = "LEG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEG,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEG
[L]CURPRO = "LEG"
If vireblc(this.LEG,2)<>vireblc(format$("K:20B",this.LEG),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEG
[L]CURPRO = "LEG"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"LEG",this.LEG,909,this.LEG)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEG
[L]CURPRO = "LEG"
Return

$PROPAGATE_LEG
this.isReadonly = 0
[L]CURPRO = "LEG"
Gosub _LNKPRO_LEG
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "LEG"
$_LNKPRO_LEG
If vireblc(this.LEG,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 909;this.LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return

$_ALOADATTRIBUTE_LEG
[L]ASTATUS = fmet this.ASETATTRIBUTE("LEG","$isMandatory","true")
Return


####################################################################
# 3 : ISDETAIL Detail ( Field Local menu number 1)
####################################################################

$SET_ISDETAIL
If [L]_AOLDVAL<>this.ISDETAIL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISDETAIL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISDETAIL
 Gosub PROPAGATE_ISDETAIL
Endif
Return

$INIT_ISDETAIL
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISDETAIL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ISDETAIL=0 and fmet this.AGETATTRIBUTE("ISDETAIL","$isMandatory")="true"
 this.ISDETAIL = 1
Endif
Return
 
$CONTROL_ISDETAIL
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISDETAIL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISDETAIL              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISDETAIL              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISDETAIL
[L]CURPRO = "ISDETAIL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISDETAIL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISDETAIL
[L]CURPRO = "ISDETAIL"
If this.ISDETAIL<0 or this.ISDETAIL>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ISDETAIL)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ISDETAIL
[L]CURPRO = "ISDETAIL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISDETAIL
[L]CURPRO = "ISDETAIL"
Return

$PROPAGATE_ISDETAIL
this.isReadonly = 0
[L]CURPRO = "ISDETAIL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISDETAIL
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISDETAIL"
$_LNKPRO_ISDETAIL
Return


####################################################################
# 4 : ISOITEM Open item / payment ( Field Local menu number 1)
####################################################################

$SET_ISOITEM
If [L]_AOLDVAL<>this.ISOITEM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISOITEM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISOITEM
 Gosub PROPAGATE_ISOITEM
Endif
Return

$INIT_ISOITEM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISOITEM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ISOITEM=0 and fmet this.AGETATTRIBUTE("ISOITEM","$isMandatory")="true"
 this.ISOITEM = 1
Endif
Return
 
$CONTROL_ISOITEM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISOITEM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISOITEM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISOITEM               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISOITEM
[L]CURPRO = "ISOITEM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISOITEM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISOITEM
[L]CURPRO = "ISOITEM"
If this.ISOITEM<0 or this.ISOITEM>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ISOITEM)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ISOITEM
[L]CURPRO = "ISOITEM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISOITEM
[L]CURPRO = "ISOITEM"
Return

$PROPAGATE_ISOITEM
this.isReadonly = 0
[L]CURPRO = "ISOITEM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISOITEM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISOITEM"
$_LNKPRO_ISOITEM
Return


####################################################################
# 5 : LINE Line ( Field C 4)
####################################################################

$SET_LINE
If [L]_AOLDVAL<>this.LINE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINE
 Gosub PROPAGATE_LINE
Endif
Return

$INIT_LINE
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "LINE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINE
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "LINE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINE                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINE                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINE
[L]CURPRO = "LINE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINE
[L]CURPRO = "LINE"
Return

$_AOTHERS_LINE
[L]CURPRO = "LINE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINE
[L]CURPRO = "LINE"
Return

$PROPAGATE_LINE
this.isReadonly = 0
[L]CURPRO = "LINE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINE
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "LINE"
$_LNKPRO_LINE
Return

$_ALOADATTRIBUTE_LINE
[L]ASTATUS = fmet this.ASETATTRIBUTE("LINE","$isMandatory","true")
Return


####################################################################
# 6 : ACCNUM Unique number ( Field UNQ 0)
####################################################################

$SET_ACCNUM
If [L]_AOLDVAL<>this.ACCNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCNUM
 Gosub PROPAGATE_ACCNUM
Endif
Return

$INIT_ACCNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCNUM
[L]CURPRO = "ACCNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACCNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCNUM
[L]CURPRO = "ACCNUM"
Return

$_AOTHERS_ACCNUM
[L]CURPRO = "ACCNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCNUM
[L]CURPRO = "ACCNUM"
Return

$PROPAGATE_ACCNUM
this.isReadonly = 0
[L]CURPRO = "ACCNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCNUM"
$_LNKPRO_ACCNUM
Return


####################################################################
# 7 : TYPAMT Type ( Field A 1)
####################################################################

$SET_TYPAMT
If [L]_AOLDVAL<>this.TYPAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TYPAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TYPAMT
 Gosub PROPAGATE_TYPAMT
Endif
Return

$INIT_TYPAMT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "TYPAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TYPAMT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "TYPAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TYPAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TYPAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TYPAMT
[L]CURPRO = "TYPAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TYPAMT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TYPAMT
[L]CURPRO = "TYPAMT"
Return

$_AOTHERS_TYPAMT
[L]CURPRO = "TYPAMT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TYPAMT
[L]CURPRO = "TYPAMT"
Return

$PROPAGATE_TYPAMT
this.isReadonly = 0
[L]CURPRO = "TYPAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TYPAMT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "TYPAMT"
$_LNKPRO_TYPAMT
Return


####################################################################
# 8 : AMOUNT Amount ( Field MD1 0)
####################################################################

$SET_AMOUNT
If [L]_AOLDVAL<>this.AMOUNT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMOUNT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMOUNT
 Gosub PROPAGATE_AMOUNT
Endif
Return

$INIT_AMOUNT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "AMOUNT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMOUNT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "AMOUNT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMOUNT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMOUNT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMOUNT
[L]CURPRO = "AMOUNT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMOUNT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMOUNT
[L]CURPRO = "AMOUNT"
Return

$_AOTHERS_AMOUNT
[L]CURPRO = "AMOUNT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMOUNT",this.AMOUNT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMOUNT
[L]CURPRO = "AMOUNT"
Return

$PROPAGATE_AMOUNT
this.isReadonly = 0
[L]CURPRO = "AMOUNT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMOUNT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "AMOUNT"
$_LNKPRO_AMOUNT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMOUNT",this.AMOUNT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMOUNT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 9 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 10 : ECOCOD Economic reason code ( Field PBDECO 10)
####################################################################

$SET_ECOCOD
If [L]_AOLDVAL<>this.ECOCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECOCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECOCOD
 Gosub PROPAGATE_ECOCOD
Endif
Return

$INIT_ECOCOD
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECOCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ECOCOD
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECOCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECOCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECOCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECOCOD
[L]CURPRO = "ECOCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ECOCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECOCOD
[L]CURPRO = "ECOCOD"
If vireblc(this.ECOCOD,2)<>vireblc(format$("K:10X",this.ECOCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ECOCOD
[L]CURPRO = "ECOCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECOCOD
[L]CURPRO = "ECOCOD"
If vireblc(this.ECOCOD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPBDECO.ACTRLREF(this,"ECOCOD",this.ECOCOD,this.LEG,this.ECOCOD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ECOCOD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_ECOCOD
this.isReadonly = 0
[L]CURPRO = "ECOCOD"
Gosub _LNKPRO_ECOCOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECOCOD
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECOCOD"
$_LNKPRO_ECOCOD
If vireblc(this.ECOCOD,2)<>""
 # Link PBDECOCOD
 Local File PBDECOCOD [WPBDECO]
 Read [F:WPBDECO]PBDECO0 = this.ECOCOD;this.LEG
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PBDECOCOD" & ZONE="TIT" & IDENT1=[F:WPBDECO]COD & IDENT2=[F:WPBDECO]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ECOCOD","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PBDECOCOD" & ZONE="DES" & IDENT1=[F:WPBDECO]COD & IDENT2=[F:WPBDECO]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ECOCOD","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WPBDECO]
Endif
Return


####################################################################
# 11 : ECOTYP Economic reason type ( Field Local menu number 3641)
####################################################################

$SET_ECOTYP
If [L]_AOLDVAL<>this.ECOTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECOTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECOTYP
 Gosub PROPAGATE_ECOTYP
Endif
Return

$INIT_ECOTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECOTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ECOTYP=0 and fmet this.AGETATTRIBUTE("ECOTYP","$isMandatory")="true"
 this.ECOTYP = 1
Endif
Return
 
$CONTROL_ECOTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECOTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECOTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECOTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECOTYP
[L]CURPRO = "ECOTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ECOTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECOTYP
[L]CURPRO = "ECOTYP"
If this.ECOTYP<0 or this.ECOTYP>len(mess(0,3641,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3641 ->"-num$(this.ECOTYP)-mess(99,123,1)):  Return : # Local menu "3641 -> Invalid option
Endif
Return

$_AOTHERS_ECOTYP
[L]CURPRO = "ECOTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECOTYP
[L]CURPRO = "ECOTYP"
Return

$PROPAGATE_ECOTYP
this.isReadonly = 0
[L]CURPRO = "ECOTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECOTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECOTYP"
$_LNKPRO_ECOTYP
Return


####################################################################
# 12 : ORIENT Orientation ( Field Local menu number 3645)
####################################################################

$SET_ORIENT
If [L]_AOLDVAL<>this.ORIENT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORIENT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORIENT
 Gosub PROPAGATE_ORIENT
Endif
Return

$INIT_ORIENT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ORIENT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ORIENT=0 and fmet this.AGETATTRIBUTE("ORIENT","$isMandatory")="true"
 this.ORIENT = 1
Endif
Return
 
$CONTROL_ORIENT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ORIENT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORIENT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORIENT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORIENT
[L]CURPRO = "ORIENT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORIENT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORIENT
[L]CURPRO = "ORIENT"
If this.ORIENT<0 or this.ORIENT>len(mess(0,3645,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3645 ->"-num$(this.ORIENT)-mess(99,123,1)):  Return : # Local menu "3645 -> Invalid option
Endif
Return

$_AOTHERS_ORIENT
[L]CURPRO = "ORIENT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORIENT
[L]CURPRO = "ORIENT"
Return

$PROPAGATE_ORIENT
this.isReadonly = 0
[L]CURPRO = "ORIENT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORIENT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ORIENT"
$_LNKPRO_ORIENT
Return


####################################################################
# 13 : BPRCRY BP country ( Field CRY 3)
####################################################################

$SET_BPRCRY
If [L]_AOLDVAL<>this.BPRCRY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRCRY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRCRY
 Gosub PROPAGATE_BPRCRY
Endif
Return

$INIT_BPRCRY
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BPRCRY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRCRY
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BPRCRY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRCRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRCRY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRCRY
[L]CURPRO = "BPRCRY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRCRY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRCRY
[L]CURPRO = "BPRCRY"
If vireblc(this.BPRCRY,2)<>vireblc(format$("K:3c",this.BPRCRY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRCRY
[L]CURPRO = "BPRCRY"
If vireblc(this.BPRCRY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCRY.ACTRLREF(this,"BPRCRY",this.BPRCRY,this.BPRCRY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPRCRY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRCRY
[L]CURPRO = "BPRCRY"
Return

$PROPAGATE_BPRCRY
this.isReadonly = 0
[L]CURPRO = "BPRCRY"
Gosub _LNKPRO_BPRCRY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRCRY
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BPRCRY"
$_LNKPRO_BPRCRY
If vireblc(this.BPRCRY,2)<>""
 # Link TABCOUNTRY
 Local File TABCOUNTRY [WTCY]
 Read [F:WTCY]TCY0 = this.BPRCRY
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRCRY","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCOUNTRY" & ZONE="CRYDES" & IDENT1=[F:WTCY]CRY & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRCRY","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTCY]
Endif
Return


####################################################################
# 14 : ORIENTCFG Orientation ( Field Local menu number 3645)
####################################################################

$SET_ORIENTCFG
If [L]_AOLDVAL<>this.ORIENTCFG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORIENTCFG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORIENTCFG
 Gosub PROPAGATE_ORIENTCFG
Endif
Return

$INIT_ORIENTCFG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ORIENTCFG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ORIENTCFG=0 and fmet this.AGETATTRIBUTE("ORIENTCFG","$isMandatory")="true"
 this.ORIENTCFG = 1
Endif
Return
 
$CONTROL_ORIENTCFG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ORIENTCFG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORIENTCFG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORIENTCFG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORIENTCFG
[L]CURPRO = "ORIENTCFG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORIENTCFG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORIENTCFG
[L]CURPRO = "ORIENTCFG"
If this.ORIENTCFG<0 or this.ORIENTCFG>len(mess(0,3645,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3645 ->"-num$(this.ORIENTCFG)-mess(99,123,1)):  Return : # Local menu "3645 -> Invalid option
Endif
Return

$_AOTHERS_ORIENTCFG
[L]CURPRO = "ORIENTCFG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORIENTCFG
[L]CURPRO = "ORIENTCFG"
Return

$PROPAGATE_ORIENTCFG
this.isReadonly = 0
[L]CURPRO = "ORIENTCFG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORIENTCFG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ORIENTCFG"
$_LNKPRO_ORIENTCFG
Return


####################################################################
# 15 : NOTES Notes ( Field A 100)
####################################################################

$SET_NOTES
If [L]_AOLDVAL<>this.NOTES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOTES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOTES
 Gosub PROPAGATE_NOTES
Endif
Return

$INIT_NOTES
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NOTES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOTES
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NOTES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOTES                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOTES                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOTES
[L]CURPRO = "NOTES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NOTES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOTES
[L]CURPRO = "NOTES"
Return

$_AOTHERS_NOTES
[L]CURPRO = "NOTES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOTES
[L]CURPRO = "NOTES"
Return

$PROPAGATE_NOTES
this.isReadonly = 0
[L]CURPRO = "NOTES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOTES
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NOTES"
$_LNKPRO_NOTES
Return


####################################################################
# 16 : DOCTYP Document type ( Field A 5)
####################################################################

$SET_DOCTYP
If [L]_AOLDVAL<>this.DOCTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DOCTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DOCTYP
 Gosub PROPAGATE_DOCTYP
Endif
Return

$INIT_DOCTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "DOCTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DOCTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "DOCTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DOCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DOCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DOCTYP
[L]CURPRO = "DOCTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DOCTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DOCTYP
[L]CURPRO = "DOCTYP"
Return

$_AOTHERS_DOCTYP
[L]CURPRO = "DOCTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DOCTYP
[L]CURPRO = "DOCTYP"
Return

$PROPAGATE_DOCTYP
this.isReadonly = 0
[L]CURPRO = "DOCTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DOCTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "DOCTYP"
$_LNKPRO_DOCTYP
Return


####################################################################
# 17 : DOCNUM Document number ( Field VCR 20)
####################################################################

$SET_DOCNUM
If [L]_AOLDVAL<>this.DOCNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DOCNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DOCNUM
 Gosub PROPAGATE_DOCNUM
Endif
Return

$INIT_DOCNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "DOCNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DOCNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "DOCNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DOCNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DOCNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DOCNUM
[L]CURPRO = "DOCNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DOCNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DOCNUM
[L]CURPRO = "DOCNUM"
If vireblc(this.DOCNUM,2)<>vireblc(format$("K:20X",this.DOCNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DOCNUM
[L]CURPRO = "DOCNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DOCNUM
[L]CURPRO = "DOCNUM"
Return

$PROPAGATE_DOCNUM
this.isReadonly = 0
[L]CURPRO = "DOCNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DOCNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "DOCNUM"
$_LNKPRO_DOCNUM
Return


####################################################################
# 18 : BPR BP ( Field BPR 15)
####################################################################

$SET_BPR
If [L]_AOLDVAL<>this.BPR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPR
 Gosub PROPAGATE_BPR
Endif
Return

$INIT_BPR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BPR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BPR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPR
[L]CURPRO = "BPR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPR
[L]CURPRO = "BPR"
If vireblc(this.BPR,2)<>vireblc(format$("K:15c",this.BPR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPR
[L]CURPRO = "BPR"
If vireblc(this.BPR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BPR",this.BPR,this.BPR,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPR
[L]CURPRO = "BPR"
Return

$PROPAGATE_BPR
this.isReadonly = 0
[L]CURPRO = "BPR"
Gosub _LNKPRO_BPR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BPR"
$_LNKPRO_BPR
If vireblc(this.BPR,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BPR
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPR","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPR","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return


####################################################################
# 19 : ECODES Economic reason description ( Field A 140)
####################################################################

$SET_ECODES
If [L]_AOLDVAL<>this.ECODES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ECODES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ECODES
 Gosub PROPAGATE_ECODES
Endif
Return

$INIT_ECODES
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECODES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ECODES
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECODES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ECODES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ECODES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ECODES
[L]CURPRO = "ECODES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ECODES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ECODES
[L]CURPRO = "ECODES"
Return

$_AOTHERS_ECODES
[L]CURPRO = "ECODES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ECODES
[L]CURPRO = "ECODES"
Return

$PROPAGATE_ECODES
this.isReadonly = 0
[L]CURPRO = "ECODES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ECODES
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ECODES"
$_LNKPRO_ECODES
Return


####################################################################
# 20 : INFO Additional info ( Field A 40)
####################################################################

$SET_INFO
If [L]_AOLDVAL<>this.INFO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INFO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INFO
 Gosub PROPAGATE_INFO
Endif
Return

$INIT_INFO
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "INFO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INFO
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "INFO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INFO                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INFO                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INFO
[L]CURPRO = "INFO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INFO,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INFO
[L]CURPRO = "INFO"
Return

$_AOTHERS_INFO
[L]CURPRO = "INFO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INFO
[L]CURPRO = "INFO"
Return

$PROPAGATE_INFO
this.isReadonly = 0
[L]CURPRO = "INFO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INFO
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "INFO"
$_LNKPRO_INFO
Return


####################################################################
# 21 : ISIN ISIN/Chapter no. ( Field A 40)
####################################################################

$SET_ISIN
If [L]_AOLDVAL<>this.ISIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISIN
 Gosub PROPAGATE_ISIN
Endif
Return

$INIT_ISIN
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ISIN
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISIN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISIN                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISIN
[L]CURPRO = "ISIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ISIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISIN
[L]CURPRO = "ISIN"
Return

$_AOTHERS_ISIN
[L]CURPRO = "ISIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISIN
[L]CURPRO = "ISIN"
Return

$PROPAGATE_ISIN
this.isReadonly = 0
[L]CURPRO = "ISIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISIN
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISIN"
$_LNKPRO_ISIN
Return


####################################################################
# 22 : NOMAMT Nominal value ( Field MD1 0)
####################################################################

$SET_NOMAMT
If [L]_AOLDVAL<>this.NOMAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NOMAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NOMAMT
 Gosub PROPAGATE_NOMAMT
Endif
Return

$INIT_NOMAMT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NOMAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NOMAMT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NOMAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NOMAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NOMAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NOMAMT
[L]CURPRO = "NOMAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NOMAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NOMAMT
[L]CURPRO = "NOMAMT"
Return

$_AOTHERS_NOMAMT
[L]CURPRO = "NOMAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"NOMAMT",this.NOMAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NOMAMT
[L]CURPRO = "NOMAMT"
Return

$PROPAGATE_NOMAMT
this.isReadonly = 0
[L]CURPRO = "NOMAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NOMAMT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NOMAMT"
$_LNKPRO_NOMAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"NOMAMT",this.NOMAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("NOMAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 23 : ISSCURR Issue currency ( Field A 40)
####################################################################

$SET_ISSCURR
If [L]_AOLDVAL<>this.ISSCURR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISSCURR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISSCURR
 Gosub PROPAGATE_ISSCURR
Endif
Return

$INIT_ISSCURR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISSCURR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ISSCURR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISSCURR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISSCURR               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISSCURR               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISSCURR
[L]CURPRO = "ISSCURR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ISSCURR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISSCURR
[L]CURPRO = "ISSCURR"
Return

$_AOTHERS_ISSCURR
[L]CURPRO = "ISSCURR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISSCURR
[L]CURPRO = "ISSCURR"
Return

$PROPAGATE_ISSCURR
this.isReadonly = 0
[L]CURPRO = "ISSCURR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISSCURR
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ISSCURR"
$_LNKPRO_ISSCURR
Return


####################################################################
# 24 : EUVATN EU VAT number without country ( Field A 9)
####################################################################

$SET_EUVATN
If [L]_AOLDVAL<>this.EUVATN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EUVATN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EUVATN
 Gosub PROPAGATE_EUVATN
Endif
Return

$INIT_EUVATN
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "EUVATN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EUVATN
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "EUVATN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EUVATN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EUVATN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EUVATN
[L]CURPRO = "EUVATN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EUVATN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EUVATN
[L]CURPRO = "EUVATN"
Return

$_AOTHERS_EUVATN
[L]CURPRO = "EUVATN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EUVATN
[L]CURPRO = "EUVATN"
Return

$PROPAGATE_EUVATN
this.isReadonly = 0
[L]CURPRO = "EUVATN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EUVATN
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "EUVATN"
$_LNKPRO_EUVATN
Return


####################################################################
# 25 : ACCDAT Accounting date ( Field D)
####################################################################

$SET_ACCDAT
If [L]_AOLDVAL<>this.ACCDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCDAT
 Gosub PROPAGATE_ACCDAT
Endif
Return

$INIT_ACCDAT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCDAT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCDAT
[L]CURPRO = "ACCDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACCDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCDAT
[L]CURPRO = "ACCDAT"
Return

$_AOTHERS_ACCDAT
[L]CURPRO = "ACCDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCDAT
[L]CURPRO = "ACCDAT"
Return

$PROPAGATE_ACCDAT
this.isReadonly = 0
[L]CURPRO = "ACCDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCDAT
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCDAT"
$_LNKPRO_ACCDAT
Return


####################################################################
# 26 : FLG Line flag ( Field Local menu number 3649)
####################################################################

$SET_FLG
If [L]_AOLDVAL<>this.FLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLG
 Gosub PROPAGATE_FLG
Endif
Return

$INIT_FLG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "FLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLG=0 and fmet this.AGETATTRIBUTE("FLG","$isMandatory")="true"
 this.FLG = 1
Endif
Return
 
$CONTROL_FLG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "FLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLG                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLG
[L]CURPRO = "FLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLG
[L]CURPRO = "FLG"
If this.FLG<0 or this.FLG>len(mess(0,3649,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3649 ->"-num$(this.FLG)-mess(99,123,1)):  Return : # Local menu "3649 -> Invalid option
Endif
Return

$_AOTHERS_FLG
[L]CURPRO = "FLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLG
[L]CURPRO = "FLG"
Return

$PROPAGATE_FLG
this.isReadonly = 0
[L]CURPRO = "FLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLG
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "FLG"
$_LNKPRO_FLG
Return


####################################################################
# 27 : NPC Entity fiscal number ( Field A 20)
####################################################################

$SET_NPC
If [L]_AOLDVAL<>this.NPC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NPC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NPC
 Gosub PROPAGATE_NPC
Endif
Return

$INIT_NPC
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NPC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NPC
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NPC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NPC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NPC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NPC
[L]CURPRO = "NPC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NPC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NPC
[L]CURPRO = "NPC"
Return

$_AOTHERS_NPC
[L]CURPRO = "NPC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NPC
[L]CURPRO = "NPC"
Return

$PROPAGATE_NPC
this.isReadonly = 0
[L]CURPRO = "NPC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NPC
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NPC"
$_LNKPRO_NPC
Return


####################################################################
# 28 : NPC2 Entity fiscal number 2 ( Field A 20)
####################################################################

$SET_NPC2
If [L]_AOLDVAL<>this.NPC2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NPC2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NPC2
 Gosub PROPAGATE_NPC2
Endif
Return

$INIT_NPC2
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NPC2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NPC2
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NPC2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NPC2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NPC2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NPC2
[L]CURPRO = "NPC2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NPC2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NPC2
[L]CURPRO = "NPC2"
Return

$_AOTHERS_NPC2
[L]CURPRO = "NPC2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NPC2
[L]CURPRO = "NPC2"
Return

$PROPAGATE_NPC2
this.isReadonly = 0
[L]CURPRO = "NPC2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NPC2
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "NPC2"
$_LNKPRO_NPC2
Return


####################################################################
# 29 : ACCTYP Account type ( Field Local menu number 3650)
####################################################################

$SET_ACCTYP
If [L]_AOLDVAL<>this.ACCTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCTYP
 Gosub PROPAGATE_ACCTYP
Endif
Return

$INIT_ACCTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ACCTYP=0 and fmet this.AGETATTRIBUTE("ACCTYP","$isMandatory")="true"
 this.ACCTYP = 1
Endif
Return
 
$CONTROL_ACCTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCTYP
[L]CURPRO = "ACCTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACCTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCTYP
[L]CURPRO = "ACCTYP"
If this.ACCTYP<0 or this.ACCTYP>len(mess(0,3650,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3650 ->"-num$(this.ACCTYP)-mess(99,123,1)):  Return : # Local menu "3650 -> Invalid option
Endif
Return

$_AOTHERS_ACCTYP
[L]CURPRO = "ACCTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCTYP
[L]CURPRO = "ACCTYP"
Return

$PROPAGATE_ACCTYP
this.isReadonly = 0
[L]CURPRO = "ACCTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCTYP
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "ACCTYP"
$_LNKPRO_ACCTYP
Return


####################################################################
# 30 : BIDNUM Bank ID number ( Field A 4)
####################################################################

$SET_BIDNUM
If [L]_AOLDVAL<>this.BIDNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BIDNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BIDNUM
 Gosub PROPAGATE_BIDNUM
Endif
Return

$INIT_BIDNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BIDNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BIDNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BIDNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BIDNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BIDNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BIDNUM
[L]CURPRO = "BIDNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BIDNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BIDNUM
[L]CURPRO = "BIDNUM"
Return

$_AOTHERS_BIDNUM
[L]CURPRO = "BIDNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BIDNUM
[L]CURPRO = "BIDNUM"
Return

$PROPAGATE_BIDNUM
this.isReadonly = 0
[L]CURPRO = "BIDNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BIDNUM
Gosub DECLARE_VAR From WMC0PBDGEND
[L]CURPRO = "BIDNUM"
$_LNKPRO_BIDNUM
Return




