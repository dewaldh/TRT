#<AdxTL>@(#)0.0.0.0 $Revision$Class Employee assignment
# Supervisor
## ACLA-CLASSE ## PJMOPEAFF
# 2018-08-27 12:40:11 099


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : OPPNUM Project number ( Field PIM 40)
####################################################################

$SET_OPPNUM
If [L]_AOLDVAL<>this.OPPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPPNUM
 Gosub PROPAGATE_OPPNUM
Endif
Return

$INIT_OPPNUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPPNUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPPNUM
[L]CURPRO = "OPPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPPNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPPNUM
[L]CURPRO = "OPPNUM"
If vireblc(this.OPPNUM,2)<>vireblc(format$("K:40X",this.OPPNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPPNUM
[L]CURPRO = "OPPNUM"
[L]ASTATUS =  func PIMPL_CSTD_PROGS.PIM_FORMAT(this,"OPPNUM",this.OPPNUM)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPPNUM
[L]CURPRO = "OPPNUM"
Return

$PROPAGATE_OPPNUM
this.isReadonly = 0
[L]CURPRO = "OPPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPPNUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPPNUM"
$_LNKPRO_OPPNUM
Return

$_ALOADATTRIBUTE_OPPNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPPNUM","$isMandatory","true")
Return


####################################################################
# 2 : TASCOD Task number ( Field TAC 15)
####################################################################

$SET_TASCOD
If [L]_AOLDVAL<>this.TASCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASCOD
 Gosub PROPAGATE_TASCOD
Endif
Return

$INIT_TASCOD
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TASCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASCOD
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TASCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASCOD
[L]CURPRO = "TASCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASCOD
[L]CURPRO = "TASCOD"
If vireblc(this.TASCOD,2)<>vireblc(format$("K:15X",this.TASCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASCOD
[L]CURPRO = "TASCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASCOD
[L]CURPRO = "TASCOD"
Return

$PROPAGATE_TASCOD
this.isReadonly = 0
[L]CURPRO = "TASCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASCOD
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TASCOD"
$_LNKPRO_TASCOD
Return

$_ALOADATTRIBUTE_TASCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASCOD","$isMandatory","true")
Return


####################################################################
# 3 : OPESPLNUM Operation split ( Field C 4)
####################################################################

$SET_OPESPLNUM
If [L]_AOLDVAL<>this.OPESPLNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESPLNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESPLNUM
 Gosub PROPAGATE_OPESPLNUM
Endif
Return

$INIT_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPESPLNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESPLNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESPLNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESPLNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
Return

$_AOTHERS_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
Return

$PROPAGATE_OPESPLNUM
this.isReadonly = 0
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPESPLNUM"
$_LNKPRO_OPESPLNUM
Return


####################################################################
# 4 : OPENUM Operation ( Field OPE 0)
####################################################################

$SET_OPENUM
If [L]_AOLDVAL<>this.OPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPENUM
 Gosub PROPAGATE_OPENUM
Endif
Return

$INIT_OPENUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPENUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPENUM
[L]CURPRO = "OPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPENUM
[L]CURPRO = "OPENUM"
Return

$_AOTHERS_OPENUM
[L]CURPRO = "OPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPENUM
[L]CURPRO = "OPENUM"
Return

$PROPAGATE_OPENUM
this.isReadonly = 0
[L]CURPRO = "OPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPENUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "OPENUM"
$_LNKPRO_OPENUM
Return

$_ALOADATTRIBUTE_OPENUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPENUM","$isMandatory","true")
Return


####################################################################
# 5 : POANUM Sequence ( Field ISEQ 0)
####################################################################

$SET_POANUM
If [L]_AOLDVAL<>this.POANUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POANUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POANUM
 Gosub PROPAGATE_POANUM
Endif
Return

$INIT_POANUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POANUM"
[L]ASTATUS =  func SYRCOLLECTION.SEQADD(this,"POANUM",this.POANUM,"RAFFT",10)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POANUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POANUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POANUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POANUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POANUM
[L]CURPRO = "POANUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POANUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POANUM
[L]CURPRO = "POANUM"
Return

$_AOTHERS_POANUM
[L]CURPRO = "POANUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POANUM
[L]CURPRO = "POANUM"
Return

$PROPAGATE_POANUM
this.isReadonly = 0
[L]CURPRO = "POANUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POANUM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POANUM"
$_LNKPRO_POANUM
Return

$_ALOADATTRIBUTE_POANUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("POANUM","$isMandatory","true")
Return


####################################################################
# 6 : KEYCONCAT Concatenation ( Field A 40)
####################################################################

$GET_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_KEYCONCAT
If [L]_AOLDVAL<>this.KEYCONCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_KEYCONCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.KEYCONCAT
 Gosub PROPAGATE_KEYCONCAT
Endif
Return

$INIT_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "KEYCONCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.KEYCONCAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$_AOTHERS_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$PROPAGATE_KEYCONCAT
this.isReadonly = 0
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "KEYCONCAT"
$_LNKPRO_KEYCONCAT
Return


####################################################################
# 7 : POADES Description ( Field AXX)
####################################################################

$GET_POADES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POADES"
this.POADES = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_POADES
If [L]_AOLDVAL<>this.POADES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POADES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POADES
 Gosub PROPAGATE_POADES
Endif
Return

$INIT_POADES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POADES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POADES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POADES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POADES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POADES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POADES
[L]CURPRO = "POADES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POADES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POADES
[L]CURPRO = "POADES"
Return

$_AOTHERS_POADES
[L]CURPRO = "POADES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POADES
[L]CURPRO = "POADES"
Return

$PROPAGATE_POADES
this.isReadonly = 0
[L]CURPRO = "POADES"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.POADES)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POADES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POADES"
$_LNKPRO_POADES
Return


####################################################################
# 8 : POACLB Employee ( Field AUS 5)
####################################################################

$SET_POACLB
If [L]_AOLDVAL<>this.POACLB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POACLB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POACLB
 Gosub PROPAGATE_POACLB
Endif
Return

$INIT_POACLB
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACLB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POACLB
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACLB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POACLB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POACLB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POACLB
[L]CURPRO = "POACLB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POACLB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POACLB
[L]CURPRO = "POACLB"
If vireblc(this.POACLB,2)<>vireblc(format$("K:5B",this.POACLB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POACLB
[L]CURPRO = "POACLB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POACLB
[L]CURPRO = "POACLB"
Return

$PROPAGATE_POACLB
this.isReadonly = 0
[L]CURPRO = "POACLB"
Gosub _LNKPRO_POACLB
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POACLB
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACLB"
$_LNKPRO_POACLB
If vireblc(this.POACLB,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.POACLB
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("POACLB","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("POACLB","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return

$_ALOADATTRIBUTE_POACLB
[L]ASTATUS = fmet this.ASETATTRIBUTE("POACLB","$isMandatory","true")
Return


####################################################################
# 9 : POUOM Unit ( Field UOM 3)
####################################################################

$SET_POUOM
If [L]_AOLDVAL<>this.POUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POUOM
 Gosub PROPAGATE_POUOM
Endif
Return

$INIT_POUOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POUOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POUOM                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POUOM                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POUOM
[L]CURPRO = "POUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POUOM
[L]CURPRO = "POUOM"
If vireblc(this.POUOM,2)<>vireblc(format$("K:3X",this.POUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POUOM
[L]CURPRO = "POUOM"
If vireblc(this.POUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"POUOM",this.POUOM,this.POUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.POUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POUOM
[L]CURPRO = "POUOM"
Return

$PROPAGATE_POUOM
this.isReadonly = 0
[L]CURPRO = "POUOM"
Gosub _LNKPRO_POUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POUOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POUOM"
$_LNKPRO_POUOM
If vireblc(this.POUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.POUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("POUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("POUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("POUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("POUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_POUOM
[L]ASTATUS = fmet this.ASETATTRIBUTE("POUOM","$isMandatory","true")
Return


####################################################################
# 10 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 11 : POASTDQTY Planned load ( Field QTY 0)
####################################################################

$SET_POASTDQTY
If [L]_AOLDVAL<>this.POASTDQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POASTDQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POASTDQTY
 Gosub PROPAGATE_POASTDQTY
Endif
Return

$INIT_POASTDQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTDQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POASTDQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTDQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POASTDQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POASTDQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POASTDQTY
[L]CURPRO = "POASTDQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POASTDQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POASTDQTY
[L]CURPRO = "POASTDQTY"
Return

$_AOTHERS_POASTDQTY
[L]CURPRO = "POASTDQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POASTDQTY
[L]CURPRO = "POASTDQTY"
Return

$PROPAGATE_POASTDQTY
this.isReadonly = 0
[L]CURPRO = "POASTDQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POASTDQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTDQTY"
$_LNKPRO_POASTDQTY
Return


####################################################################
# 12 : POACSMQTY Consumed load ( Field QTY 0)
####################################################################

$SET_POACSMQTY
If [L]_AOLDVAL<>this.POACSMQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POACSMQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POACSMQTY
 Gosub PROPAGATE_POACSMQTY
Endif
Return

$INIT_POACSMQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACSMQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POACSMQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACSMQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POACSMQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POACSMQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POACSMQTY
[L]CURPRO = "POACSMQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POACSMQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POACSMQTY
[L]CURPRO = "POACSMQTY"
Return

$_AOTHERS_POACSMQTY
[L]CURPRO = "POACSMQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POACSMQTY
[L]CURPRO = "POACSMQTY"
Return

$PROPAGATE_POACSMQTY
this.isReadonly = 0
[L]CURPRO = "POACSMQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POACSMQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACSMQTY"
$_LNKPRO_POACSMQTY
Return


####################################################################
# 13 : POARMNQTY Remaining load ( Field QTY 0)
####################################################################

$SET_POARMNQTY
If [L]_AOLDVAL<>this.POARMNQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POARMNQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POARMNQTY
 Gosub PROPAGATE_POARMNQTY
Endif
Return

$INIT_POARMNQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POARMNQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POARMNQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POARMNQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POARMNQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POARMNQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POARMNQTY
[L]CURPRO = "POARMNQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POARMNQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POARMNQTY
[L]CURPRO = "POARMNQTY"
Return

$_AOTHERS_POARMNQTY
[L]CURPRO = "POARMNQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POARMNQTY
[L]CURPRO = "POARMNQTY"
Return

$PROPAGATE_POARMNQTY
this.isReadonly = 0
[L]CURPRO = "POARMNQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POARMNQTY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POARMNQTY"
$_LNKPRO_POARMNQTY
Return


####################################################################
# 14 : POACST Hourly rate ( Field MD2 0)
####################################################################

$SET_POACST
If [L]_AOLDVAL<>this.POACST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POACST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POACST
 Gosub PROPAGATE_POACST
Endif
Return

$INIT_POACST
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POACST
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POACST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POACST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POACST
[L]CURPRO = "POACST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POACST=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POACST
[L]CURPRO = "POACST"
Return

$_AOTHERS_POACST
[L]CURPRO = "POACST"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD2(this,"POACST",this.POACST,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POACST
[L]CURPRO = "POACST"
Return

$PROPAGATE_POACST
this.isReadonly = 0
[L]CURPRO = "POACST"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POACST
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACST"
$_LNKPRO_POACST
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD2(this,"POACST",this.POACST,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("POACST","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 15 : POACSTLAB Labor rate ( Field MD2 0)
####################################################################

$SET_POACSTLAB
If [L]_AOLDVAL<>this.POACSTLAB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POACSTLAB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POACSTLAB
 Gosub PROPAGATE_POACSTLAB
Endif
Return

$INIT_POACSTLAB
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACSTLAB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POACSTLAB
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACSTLAB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POACSTLAB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POACSTLAB             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POACSTLAB
[L]CURPRO = "POACSTLAB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POACSTLAB=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POACSTLAB
[L]CURPRO = "POACSTLAB"
Return

$_AOTHERS_POACSTLAB
[L]CURPRO = "POACSTLAB"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD2(this,"POACSTLAB",this.POACSTLAB,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POACSTLAB
[L]CURPRO = "POACSTLAB"
Return

$PROPAGATE_POACSTLAB
this.isReadonly = 0
[L]CURPRO = "POACSTLAB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POACSTLAB
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POACSTLAB"
$_LNKPRO_POACSTLAB
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD2(this,"POACSTLAB",this.POACSTLAB,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("POACSTLAB","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 16 : POASTR Start date ( Field D)
####################################################################

$SET_POASTR
If [L]_AOLDVAL<>this.POASTR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POASTR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POASTR
 Gosub PROPAGATE_POASTR
Endif
Return

$INIT_POASTR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POASTR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POASTR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POASTR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POASTR
[L]CURPRO = "POASTR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POASTR=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POASTR
[L]CURPRO = "POASTR"
Return

$_AOTHERS_POASTR
[L]CURPRO = "POASTR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POASTR
[L]CURPRO = "POASTR"
Return

$PROPAGATE_POASTR
this.isReadonly = 0
[L]CURPRO = "POASTR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POASTR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTR"
$_LNKPRO_POASTR
Return


####################################################################
# 17 : POAEND End date ( Field D)
####################################################################

$SET_POAEND
If [L]_AOLDVAL<>this.POAEND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POAEND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POAEND
 Gosub PROPAGATE_POAEND
Endif
Return

$INIT_POAEND
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POAEND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POAEND
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POAEND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POAEND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POAEND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POAEND
[L]CURPRO = "POAEND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POAEND=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POAEND
[L]CURPRO = "POAEND"
Return

$_AOTHERS_POAEND
[L]CURPRO = "POAEND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POAEND
[L]CURPRO = "POAEND"
Return

$PROPAGATE_POAEND
this.isReadonly = 0
[L]CURPRO = "POAEND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POAEND
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POAEND"
$_LNKPRO_POAEND
Return


####################################################################
# 18 : POASTRHM Start time ( Field HM 6)
####################################################################

$SET_POASTRHM
If [L]_AOLDVAL<>this.POASTRHM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POASTRHM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POASTRHM
 Gosub PROPAGATE_POASTRHM
Endif
Return

$INIT_POASTRHM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTRHM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POASTRHM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTRHM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POASTRHM              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POASTRHM              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POASTRHM
[L]CURPRO = "POASTRHM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POASTRHM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POASTRHM
[L]CURPRO = "POASTRHM"
If vireblc(this.POASTRHM,2)<>vireblc(format$("Kz:6X",this.POASTRHM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POASTRHM
[L]CURPRO = "POASTRHM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POASTRHM
[L]CURPRO = "POASTRHM"
Return

$PROPAGATE_POASTRHM
this.isReadonly = 0
[L]CURPRO = "POASTRHM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POASTRHM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POASTRHM"
$_LNKPRO_POASTRHM
Return


####################################################################
# 19 : POAENDHM End time ( Field HM 6)
####################################################################

$SET_POAENDHM
If [L]_AOLDVAL<>this.POAENDHM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POAENDHM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POAENDHM
 Gosub PROPAGATE_POAENDHM
Endif
Return

$INIT_POAENDHM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POAENDHM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POAENDHM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POAENDHM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POAENDHM              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POAENDHM              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POAENDHM
[L]CURPRO = "POAENDHM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.POAENDHM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POAENDHM
[L]CURPRO = "POAENDHM"
If vireblc(this.POAENDHM,2)<>vireblc(format$("Kz:6X",this.POAENDHM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_POAENDHM
[L]CURPRO = "POAENDHM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POAENDHM
[L]CURPRO = "POAENDHM"
Return

$PROPAGATE_POAENDHM
this.isReadonly = 0
[L]CURPRO = "POAENDHM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POAENDHM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POAENDHM"
$_LNKPRO_POAENDHM
Return


####################################################################
# 20 : POALGDES Description ( Field ACPLAIN 1)
####################################################################

$GET_POALGDES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGDES"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("POALGDES",
& "PJMOPEAFF"
& +[V]CST_AURLSEPLOB+"POALGDES"
& +[V]CST_AURLSEPLOB+this.KEYCONCAT
& +[V]CST_AURLSEPLOB+num$(this.POANUM)
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& ,[L]_CNT,this.POALGDES)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_POALGDES
If fmet this.AGETATTRIBUTE("POALGDES","$isLoaded")<>"true" or [L]_AOLDVAL<>this.POALGDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POALGDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("POALGDES","$isLoaded")<>"true" or [L]_AOLDVAL<>this.POALGDES
 Gosub PROPAGATE_POALGDES
Endif
Return

$INIT_POALGDES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POALGDES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POALGDES              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POALGDES              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POALGDES
[L]CURPRO = "POALGDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.POALGDES)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POALGDES
[L]CURPRO = "POALGDES"
Return

$_AOTHERS_POALGDES
[L]CURPRO = "POALGDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POALGDES
[L]CURPRO = "POALGDES"
Return

$PROPAGATE_POALGDES
this.isReadonly = 0
[L]CURPRO = "POALGDES"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POALGDES
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGDES"
$_LNKPRO_POALGDES
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_POALGDES From WMC0PJMOPEAFF
[L]ASTATUS = fmet this.ASETATTRIBUTE("POALGDES","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 21 : POALGCOM Comment ( Field ACPLAIN 1)
####################################################################

$GET_POALGCOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGCOM"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("POALGCOM",
& "PJMOPEAFF"
& +[V]CST_AURLSEPLOB+"POALGCOM"
& +[V]CST_AURLSEPLOB+this.KEYCONCAT
& +[V]CST_AURLSEPLOB+num$(this.POANUM)
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& ,[L]_CNT,this.POALGCOM)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_POALGCOM
If fmet this.AGETATTRIBUTE("POALGCOM","$isLoaded")<>"true" or [L]_AOLDVAL<>this.POALGCOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POALGCOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("POALGCOM","$isLoaded")<>"true" or [L]_AOLDVAL<>this.POALGCOM
 Gosub PROPAGATE_POALGCOM
Endif
Return

$INIT_POALGCOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGCOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POALGCOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGCOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POALGCOM              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POALGCOM              : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POALGCOM
[L]CURPRO = "POALGCOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.POALGCOM)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POALGCOM
[L]CURPRO = "POALGCOM"
Return

$_AOTHERS_POALGCOM
[L]CURPRO = "POALGCOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POALGCOM
[L]CURPRO = "POALGCOM"
Return

$PROPAGATE_POALGCOM
this.isReadonly = 0
[L]CURPRO = "POALGCOM"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POALGCOM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "POALGCOM"
$_LNKPRO_POALGCOM
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_POALGCOM From WMC0PJMOPEAFF
[L]ASTATUS = fmet this.ASETATTRIBUTE("POALGCOM","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 22 : TCHACTION Action ( Field A 20)
####################################################################

$SET_TCHACTION
If [L]_AOLDVAL<>this.TCHACTION
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHACTION
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHACTION
 Gosub PROPAGATE_TCHACTION
Endif
Return

$INIT_TCHACTION
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHACTION"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCHACTION
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHACTION"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHACTION             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHACTION             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHACTION
[L]CURPRO = "TCHACTION"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TCHACTION,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHACTION
[L]CURPRO = "TCHACTION"
Return

$_AOTHERS_TCHACTION
[L]CURPRO = "TCHACTION"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHACTION
[L]CURPRO = "TCHACTION"
Return

$PROPAGATE_TCHACTION
this.isReadonly = 0
[L]CURPRO = "TCHACTION"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHACTION
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHACTION"
$_LNKPRO_TCHACTION
Return


####################################################################
# 23 : TASFCY Sales site ( Field FCY 5)
####################################################################

$SET_TASFCY
If [L]_AOLDVAL<>this.TASFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASFCY
 Gosub PROPAGATE_TASFCY
Endif
Return

$INIT_TASFCY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TASFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASFCY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TASFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASFCY
[L]CURPRO = "TASFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASFCY
[L]CURPRO = "TASFCY"
If vireblc(this.TASFCY,2)<>vireblc(format$("K:5c",this.TASFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASFCY
[L]CURPRO = "TASFCY"
If vireblc(this.TASFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"TASFCY",this.TASFCY,this.TASFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TASFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASFCY
[L]CURPRO = "TASFCY"
Return

$PROPAGATE_TASFCY
this.isReadonly = 0
[L]CURPRO = "TASFCY"
Gosub _LNKPRO_TASFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASFCY
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TASFCY"
$_LNKPRO_TASFCY
If vireblc(this.TASFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.TASFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_TASFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("TASFCY","$isMandatory","true")
Return


####################################################################
# 24 : TCHOPESTA Operation status ( Field Local menu number 308)
####################################################################

$SET_TCHOPESTA
If [L]_AOLDVAL<>this.TCHOPESTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHOPESTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHOPESTA
 Gosub PROPAGATE_TCHOPESTA
Endif
Return

$INIT_TCHOPESTA
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPESTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TCHOPESTA=0 and fmet this.AGETATTRIBUTE("TCHOPESTA","$isMandatory")="true"
 this.TCHOPESTA = 1
Endif
Return
 
$CONTROL_TCHOPESTA
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPESTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHOPESTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHOPESTA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHOPESTA
[L]CURPRO = "TCHOPESTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCHOPESTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHOPESTA
[L]CURPRO = "TCHOPESTA"
If this.TCHOPESTA<0 or this.TCHOPESTA>len(mess(0,308,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"308 ->"-num$(this.TCHOPESTA)-mess(99,123,1)):  Return : # Local menu "308 -> Invalid option
Endif
Return

$_AOTHERS_TCHOPESTA
[L]CURPRO = "TCHOPESTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHOPESTA
[L]CURPRO = "TCHOPESTA"
Return

$PROPAGATE_TCHOPESTA
this.isReadonly = 0
[L]CURPRO = "TCHOPESTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHOPESTA
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPESTA"
$_LNKPRO_TCHOPESTA
Return

$_ALOADATTRIBUTE_TCHOPESTA
[L]ASTATUS = fmet this.ASETATTRIBUTE("TCHOPESTA","$isMandatory","true")
Return


####################################################################
# 25 : TCHCHGTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_TCHCHGTYP
If [L]_AOLDVAL<>this.TCHCHGTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHCHGTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHCHGTYP
 Gosub PROPAGATE_TCHCHGTYP
Endif
Return

$INIT_TCHCHGTYP
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHCHGTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TCHCHGTYP=0 and fmet this.AGETATTRIBUTE("TCHCHGTYP","$isMandatory")="true"
 this.TCHCHGTYP = 1
Endif
Return
 
$CONTROL_TCHCHGTYP
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHCHGTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHCHGTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHCHGTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCHCHGTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
If this.TCHCHGTYP<0 or this.TCHCHGTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.TCHCHGTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHCHGTYP
[L]CURPRO = "TCHCHGTYP"
Return

$PROPAGATE_TCHCHGTYP
this.isReadonly = 0
[L]CURPRO = "TCHCHGTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHCHGTYP
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHCHGTYP"
$_LNKPRO_TCHCHGTYP
Return


####################################################################
# 26 : TCHOPECST Hourly rate ( Field MS1 0)
####################################################################

$SET_TCHOPECST
If [L]_AOLDVAL<>this.TCHOPECST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHOPECST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHOPECST
 Gosub PROPAGATE_TCHOPECST
Endif
Return

$INIT_TCHOPECST
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPECST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCHOPECST
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPECST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHOPECST             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHOPECST             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHOPECST
[L]CURPRO = "TCHOPECST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCHOPECST=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHOPECST
[L]CURPRO = "TCHOPECST"
Return

$_AOTHERS_TCHOPECST
[L]CURPRO = "TCHOPECST"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHOPECST
[L]CURPRO = "TCHOPECST"
Return

$PROPAGATE_TCHOPECST
this.isReadonly = 0
[L]CURPRO = "TCHOPECST"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHOPECST
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPECST"
$_LNKPRO_TCHOPECST
Return


####################################################################
# 27 : TCHOPECST2 Unit price ( Field MD8 0)
####################################################################

$SET_TCHOPECST2
If [L]_AOLDVAL<>this.TCHOPECST2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCHOPECST2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCHOPECST2
 Gosub PROPAGATE_TCHOPECST2
Endif
Return

$INIT_TCHOPECST2
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPECST2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCHOPECST2
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPECST2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCHOPECST2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCHOPECST2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCHOPECST2
[L]CURPRO = "TCHOPECST2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TCHOPECST2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCHOPECST2
[L]CURPRO = "TCHOPECST2"
Return

$_AOTHERS_TCHOPECST2
[L]CURPRO = "TCHOPECST2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCHOPECST2
[L]CURPRO = "TCHOPECST2"
Return

$PROPAGATE_TCHOPECST2
this.isReadonly = 0
[L]CURPRO = "TCHOPECST2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCHOPECST2
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "TCHOPECST2"
$_LNKPRO_TCHOPECST2
Return


####################################################################
# 28 : CREUSR Creation user ( Field A 5)
####################################################################

$SET_CREUSR
If [L]_AOLDVAL<>this.CREUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREUSR
 Gosub PROPAGATE_CREUSR
Endif
Return

$INIT_CREUSR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CREUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREUSR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CREUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREUSR
[L]CURPRO = "CREUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CREUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREUSR
[L]CURPRO = "CREUSR"
Return

$_AOTHERS_CREUSR
[L]CURPRO = "CREUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREUSR
[L]CURPRO = "CREUSR"
Return

$PROPAGATE_CREUSR
this.isReadonly = 0
[L]CURPRO = "CREUSR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREUSR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CREUSR"
$_LNKPRO_CREUSR
Return


####################################################################
# 29 : UPDUSR Change user ( Field A 5)
####################################################################

$SET_UPDUSR
If [L]_AOLDVAL<>this.UPDUSR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDUSR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDUSR
 Gosub PROPAGATE_UPDUSR
Endif
Return

$INIT_UPDUSR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "UPDUSR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDUSR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "UPDUSR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDUSR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDUSR
[L]CURPRO = "UPDUSR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.UPDUSR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDUSR
[L]CURPRO = "UPDUSR"
Return

$_AOTHERS_UPDUSR
[L]CURPRO = "UPDUSR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDUSR
[L]CURPRO = "UPDUSR"
Return

$PROPAGATE_UPDUSR
this.isReadonly = 0
[L]CURPRO = "UPDUSR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDUSR
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "UPDUSR"
$_LNKPRO_UPDUSR
Return


####################################################################
# 30 : CREDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_CREDATTIM
If [L]_AOLDVAL<>this.CREDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDATTIM
 Gosub PROPAGATE_CREDATTIM
Endif
Return

$INIT_CREDATTIM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CREDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDATTIM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CREDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDATTIM
[L]CURPRO = "CREDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$_AOTHERS_CREDATTIM
[L]CURPRO = "CREDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$PROPAGATE_CREDATTIM
this.isReadonly = 0
[L]CURPRO = "CREDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDATTIM
Gosub DECLARE_VAR From WMC0PJMOPEAFF
[L]CURPRO = "CREDATTIM"
$_LNKPRO_CREDATTIM
Return




