#<AdxTL>@(#)0.0.0.0 $Revision$Class Time summary
# Supervisor
## ACLA-CLASSE ## PJMTIMEMP
# 2018-08-27 12:40:29 101


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : PTESEQ Sequence ( Field L 8)
####################################################################

$SET_PTESEQ
If [L]_AOLDVAL<>this.PTESEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTESEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTESEQ
 Gosub PROPAGATE_PTESEQ
Endif
Return

$INIT_PTESEQ
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTESEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTESEQ
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTESEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTESEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTESEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTESEQ
[L]CURPRO = "PTESEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTESEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTESEQ
[L]CURPRO = "PTESEQ"
Return

$_AOTHERS_PTESEQ
[L]CURPRO = "PTESEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTESEQ
[L]CURPRO = "PTESEQ"
Return

$PROPAGATE_PTESEQ
this.isReadonly = 0
[L]CURPRO = "PTESEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTESEQ
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTESEQ"
$_LNKPRO_PTESEQ
Return

$_ALOADATTRIBUTE_PTESEQ
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTESEQ","$isMandatory","true")
Return


####################################################################
# 2 : PTEDAT Date ( Field D)
####################################################################

$SET_PTEDAT
If [L]_AOLDVAL<>this.PTEDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEDAT
 Gosub PROPAGATE_PTEDAT
Endif
Return

$INIT_PTEDAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTEDAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEDAT
[L]CURPRO = "PTEDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTEDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEDAT
[L]CURPRO = "PTEDAT"
Return

$_AOTHERS_PTEDAT
[L]CURPRO = "PTEDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEDAT
[L]CURPRO = "PTEDAT"
Return

$PROPAGATE_PTEDAT
this.isReadonly = 0
[L]CURPRO = "PTEDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEDAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDAT"
$_LNKPRO_PTEDAT
Return

$_ALOADATTRIBUTE_PTEDAT
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTEDAT","$isMandatory","true")
Return


####################################################################
# 3 : PTEQTY Time spent ( Field QTY 0)
####################################################################

$SET_PTEQTY
If [L]_AOLDVAL<>this.PTEQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEQTY
 Gosub PROPAGATE_PTEQTY
Endif
Return

$INIT_PTEQTY
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTEQTY
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEQTY
[L]CURPRO = "PTEQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTEQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEQTY
[L]CURPRO = "PTEQTY"
Return

$_AOTHERS_PTEQTY
[L]CURPRO = "PTEQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEQTY
[L]CURPRO = "PTEQTY"
Return

$PROPAGATE_PTEQTY
this.isReadonly = 0
[L]CURPRO = "PTEQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEQTY
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEQTY"
$_LNKPRO_PTEQTY
Return

$_ALOADATTRIBUTE_PTEQTY
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTEQTY","$isMandatory","true")
Return


####################################################################
# 4 : PTEDESAXX Description ( Field AXX)
####################################################################

$GET_PTEDESAXX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESAXX"
this.PTEDESAXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_PTEDESAXX
If [L]_AOLDVAL<>this.PTEDESAXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEDESAXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEDESAXX
 Gosub PROPAGATE_PTEDESAXX
Endif
Return

$INIT_PTEDESAXX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESAXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTEDESAXX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESAXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEDESAXX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEDESAXX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEDESAXX
[L]CURPRO = "PTEDESAXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTEDESAXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEDESAXX
[L]CURPRO = "PTEDESAXX"
Return

$_AOTHERS_PTEDESAXX
[L]CURPRO = "PTEDESAXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEDESAXX
[L]CURPRO = "PTEDESAXX"
Return

$PROPAGATE_PTEDESAXX
this.isReadonly = 0
[L]CURPRO = "PTEDESAXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.PTEDESAXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEDESAXX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESAXX"
$_LNKPRO_PTEDESAXX
Return

$_ALOADATTRIBUTE_PTEDESAXX
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTEDESAXX","$isMandatory","true")
Return


####################################################################
# 5 : PTEINV Invoicing flag ( Field Local menu number 1)
####################################################################

$SET_PTEINV
If [L]_AOLDVAL<>this.PTEINV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEINV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEINV
 Gosub PROPAGATE_PTEINV
Endif
Return

$INIT_PTEINV
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEINV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PTEINV=0 and fmet this.AGETATTRIBUTE("PTEINV","$isMandatory")="true"
 this.PTEINV = 1
Endif
Return
 
$CONTROL_PTEINV
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEINV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEINV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEINV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEINV
[L]CURPRO = "PTEINV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTEINV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEINV
[L]CURPRO = "PTEINV"
If this.PTEINV<0 or this.PTEINV>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PTEINV)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PTEINV
[L]CURPRO = "PTEINV"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEINV
[L]CURPRO = "PTEINV"
Return

$PROPAGATE_PTEINV
this.isReadonly = 0
[L]CURPRO = "PTEINV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEINV
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEINV"
$_LNKPRO_PTEINV
Return


####################################################################
# 6 : PTESTA Statistic ( Field Local menu number 2074)
####################################################################

$SET_PTESTA
If [L]_AOLDVAL<>this.PTESTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTESTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTESTA
 Gosub PROPAGATE_PTESTA
Endif
Return

$INIT_PTESTA
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTESTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PTESTA=0 and fmet this.AGETATTRIBUTE("PTESTA","$isMandatory")="true"
 this.PTESTA = 1
Endif
Return
 
$CONTROL_PTESTA
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTESTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTESTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTESTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTESTA
[L]CURPRO = "PTESTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTESTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTESTA
[L]CURPRO = "PTESTA"
If this.PTESTA<0 or this.PTESTA>len(mess(0,2074,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2074 ->"-num$(this.PTESTA)-mess(99,123,1)):  Return : # Local menu "2074 -> Invalid option
Endif
Return

$_AOTHERS_PTESTA
[L]CURPRO = "PTESTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTESTA
[L]CURPRO = "PTESTA"
Return

$PROPAGATE_PTESTA
this.isReadonly = 0
[L]CURPRO = "PTESTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTESTA
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTESTA"
$_LNKPRO_PTESTA
Return


####################################################################
# 7 : PTEORI Origin ( Field Local menu number 2078)
####################################################################

$SET_PTEORI
If [L]_AOLDVAL<>this.PTEORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEORI
 Gosub PROPAGATE_PTEORI
Endif
Return

$INIT_PTEORI
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PTEORI=0 and fmet this.AGETATTRIBUTE("PTEORI","$isMandatory")="true"
 this.PTEORI = 1
Endif
Return
 
$CONTROL_PTEORI
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEORI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEORI
[L]CURPRO = "PTEORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTEORI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEORI
[L]CURPRO = "PTEORI"
If this.PTEORI<0 or this.PTEORI>len(mess(0,2078,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2078 ->"-num$(this.PTEORI)-mess(99,123,1)):  Return : # Local menu "2078 -> Invalid option
Endif
Return

$_AOTHERS_PTEORI
[L]CURPRO = "PTEORI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEORI
[L]CURPRO = "PTEORI"
Return

$PROPAGATE_PTEORI
this.isReadonly = 0
[L]CURPRO = "PTEORI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEORI
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEORI"
$_LNKPRO_PTEORI
Return


####################################################################
# 8 : PTEVAL Validated ( Field Local menu number 1)
####################################################################

$SET_PTEVAL
If [L]_AOLDVAL<>this.PTEVAL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEVAL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEVAL
 Gosub PROPAGATE_PTEVAL
Endif
Return

$INIT_PTEVAL
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEVAL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PTEVAL=0 and fmet this.AGETATTRIBUTE("PTEVAL","$isMandatory")="true"
 this.PTEVAL = 1
Endif
Return
 
$CONTROL_PTEVAL
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEVAL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEVAL
[L]CURPRO = "PTEVAL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PTEVAL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEVAL
[L]CURPRO = "PTEVAL"
If this.PTEVAL<0 or this.PTEVAL>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PTEVAL)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PTEVAL
[L]CURPRO = "PTEVAL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEVAL
[L]CURPRO = "PTEVAL"
Return

$PROPAGATE_PTEVAL
this.isReadonly = 0
[L]CURPRO = "PTEVAL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEVAL
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEVAL"
$_LNKPRO_PTEVAL
Return


####################################################################
# 9 : PTEUOM Time unit ( Field UOM 3)
####################################################################

$SET_PTEUOM
If [L]_AOLDVAL<>this.PTEUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTEUOM
 Gosub PROPAGATE_PTEUOM
Endif
Return

$INIT_PTEUOM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTEUOM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEUOM
[L]CURPRO = "PTEUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTEUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEUOM
[L]CURPRO = "PTEUOM"
If vireblc(this.PTEUOM,2)<>vireblc(format$("K:3X",this.PTEUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PTEUOM
[L]CURPRO = "PTEUOM"
If vireblc(this.PTEUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"PTEUOM",this.PTEUOM,this.PTEUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PTEUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEUOM
[L]CURPRO = "PTEUOM"
Return

$PROPAGATE_PTEUOM
this.isReadonly = 0
[L]CURPRO = "PTEUOM"
Gosub _LNKPRO_PTEUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEUOM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEUOM"
$_LNKPRO_PTEUOM
If vireblc(this.PTEUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.PTEUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTEUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTEUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PTEUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("PTEUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_PTEUOM
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTEUOM","$isMandatory","true")
Return


####################################################################
# 10 : PTETYP Time category ( Field Miscellaneous table number)
####################################################################

$SET_PTETYP
If [L]_AOLDVAL<>this.PTETYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTETYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PTETYP
 Gosub PROPAGATE_PTETYP
Endif
Return

$INIT_PTETYP
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTETYP"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"PTETYP",this.PTETYP,640)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTETYP
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTETYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTETYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTETYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTETYP
[L]CURPRO = "PTETYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PTETYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTETYP
[L]CURPRO = "PTETYP"
If vireblc(this.PTETYP,2)<>vireblc(format$("K:20B",this.PTETYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PTETYP
[L]CURPRO = "PTETYP"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"PTETYP",this.PTETYP,640,AVOID.ACHAR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTETYP
[L]CURPRO = "PTETYP"
Return

$PROPAGATE_PTETYP
this.isReadonly = 0
[L]CURPRO = "PTETYP"
Gosub _LNKPRO_PTETYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTETYP
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTETYP"
$_LNKPRO_PTETYP
If vireblc(this.PTETYP,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 640;this.PTETYP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTETYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PTETYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 11 : CLB Employee ( Field AUS 5)
####################################################################

$SET_CLB
If [L]_AOLDVAL<>this.CLB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLB
 Gosub PROPAGATE_CLB
Endif
Return

$INIT_CLB
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLB
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLB                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLB                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLB
[L]CURPRO = "CLB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CLB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLB
[L]CURPRO = "CLB"
If vireblc(this.CLB,2)<>vireblc(format$("K:5B",this.CLB),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CLB
[L]CURPRO = "CLB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLB
[L]CURPRO = "CLB"
Return

$PROPAGATE_CLB
this.isReadonly = 0
[L]CURPRO = "CLB"
Gosub _LNKPRO_CLB
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLB
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLB"
$_LNKPRO_CLB
If vireblc(this.CLB,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.CLB
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CLB","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CLB","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return

$_ALOADATTRIBUTE_CLB
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLB","$isMandatory","true")
Return


####################################################################
# 12 : OPPNUM Project chrono ( Field PIM 40)
####################################################################

$SET_OPPNUM
If [L]_AOLDVAL<>this.OPPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPPNUM
 Gosub PROPAGATE_OPPNUM
Endif
Return

$INIT_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPPNUM
[L]CURPRO = "OPPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.OPPNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPPNUM
[L]CURPRO = "OPPNUM"
If vireblc(this.OPPNUM,2)<>vireblc(format$("K:40X",this.OPPNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_OPPNUM
[L]CURPRO = "OPPNUM"
[L]ASTATUS =  func PIMPL_CSTD_PROGS.PIM_FORMAT(this,"OPPNUM",this.OPPNUM)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPPNUM
[L]CURPRO = "OPPNUM"
Return

$PROPAGATE_OPPNUM
this.isReadonly = 0
[L]CURPRO = "OPPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPPNUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPPNUM"
$_LNKPRO_OPPNUM
Return

$_ALOADATTRIBUTE_OPPNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("OPPNUM","$isMandatory","true")
Return


####################################################################
# 13 : TASCOD Task code ( Field TAC 15)
####################################################################

$SET_TASCOD
If [L]_AOLDVAL<>this.TASCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TASCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TASCOD
 Gosub PROPAGATE_TASCOD
Endif
Return

$INIT_TASCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "TASCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TASCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "TASCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TASCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TASCOD
[L]CURPRO = "TASCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TASCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TASCOD
[L]CURPRO = "TASCOD"
If vireblc(this.TASCOD,2)<>vireblc(format$("K:15X",this.TASCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TASCOD
[L]CURPRO = "TASCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TASCOD
[L]CURPRO = "TASCOD"
Return

$PROPAGATE_TASCOD
this.isReadonly = 0
[L]CURPRO = "TASCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TASCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "TASCOD"
$_LNKPRO_TASCOD
Return


####################################################################
# 14 : OPENUM Operation number ( Field OPE 0)
####################################################################

$SET_OPENUM
If [L]_AOLDVAL<>this.OPENUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPENUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPENUM
 Gosub PROPAGATE_OPENUM
Endif
Return

$INIT_OPENUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPENUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPENUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPENUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPENUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPENUM
[L]CURPRO = "OPENUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPENUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPENUM
[L]CURPRO = "OPENUM"
Return

$_AOTHERS_OPENUM
[L]CURPRO = "OPENUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPENUM
[L]CURPRO = "OPENUM"
Return

$PROPAGATE_OPENUM
this.isReadonly = 0
[L]CURPRO = "OPENUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPENUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPENUM"
$_LNKPRO_OPENUM
Return


####################################################################
# 15 : OPESPLNUM Operation split ( Field C 4)
####################################################################

$SET_OPESPLNUM
If [L]_AOLDVAL<>this.OPESPLNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPESPLNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPESPLNUM
 Gosub PROPAGATE_OPESPLNUM
Endif
Return

$INIT_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPESPLNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPESPLNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPESPLNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPESPLNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
Return

$_AOTHERS_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPESPLNUM
[L]CURPRO = "OPESPLNUM"
Return

$PROPAGATE_OPESPLNUM
this.isReadonly = 0
[L]CURPRO = "OPESPLNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPESPLNUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "OPESPLNUM"
$_LNKPRO_OPESPLNUM
Return


####################################################################
# 16 : POANUM Sequence ( Field L 8)
####################################################################

$SET_POANUM
If [L]_AOLDVAL<>this.POANUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POANUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POANUM
 Gosub PROPAGATE_POANUM
Endif
Return

$INIT_POANUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "POANUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POANUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "POANUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POANUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POANUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POANUM
[L]CURPRO = "POANUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POANUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POANUM
[L]CURPRO = "POANUM"
Return

$_AOTHERS_POANUM
[L]CURPRO = "POANUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POANUM
[L]CURPRO = "POANUM"
Return

$PROPAGATE_POANUM
this.isReadonly = 0
[L]CURPRO = "POANUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POANUM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "POANUM"
$_LNKPRO_POANUM
Return


####################################################################
# 17 : PBUCOD Budget code ( Field PBU 15)
####################################################################

$SET_PBUCOD
If [L]_AOLDVAL<>this.PBUCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PBUCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PBUCOD
 Gosub PROPAGATE_PBUCOD
Endif
Return

$INIT_PBUCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PBUCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PBUCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PBUCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PBUCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PBUCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PBUCOD
[L]CURPRO = "PBUCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PBUCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PBUCOD
[L]CURPRO = "PBUCOD"
If vireblc(this.PBUCOD,2)<>vireblc(format$("K:15X",this.PBUCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PBUCOD
[L]CURPRO = "PBUCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PBUCOD
[L]CURPRO = "PBUCOD"
Return

$PROPAGATE_PBUCOD
this.isReadonly = 0
[L]CURPRO = "PBUCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PBUCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PBUCOD"
$_LNKPRO_PBUCOD
Return

$_ALOADATTRIBUTE_PBUCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("PBUCOD","$isMandatory","true")
Return


####################################################################
# 18 : PIMTASCOD Task ( Field PIM 40)
####################################################################

$SET_PIMTASCOD
If [L]_AOLDVAL<>this.PIMTASCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PIMTASCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PIMTASCOD
 Gosub PROPAGATE_PIMTASCOD
Endif
Return

$INIT_PIMTASCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PIMTASCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PIMTASCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PIMTASCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PIMTASCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PIMTASCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PIMTASCOD
[L]CURPRO = "PIMTASCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PIMTASCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PIMTASCOD
[L]CURPRO = "PIMTASCOD"
If vireblc(this.PIMTASCOD,2)<>vireblc(format$("K:40X",this.PIMTASCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PIMTASCOD
[L]CURPRO = "PIMTASCOD"
[L]ASTATUS =  func PIMPL_CSTD_PROGS.PIM_FORMAT(this,"PIMTASCOD",this.PIMTASCOD)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PIMTASCOD
[L]CURPRO = "PIMTASCOD"
Return

$PROPAGATE_PIMTASCOD
this.isReadonly = 0
[L]CURPRO = "PIMTASCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PIMTASCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PIMTASCOD"
$_LNKPRO_PIMTASCOD
Return


####################################################################
# 19 : PIMPBUCOD Budget ( Field PIM 40)
####################################################################

$SET_PIMPBUCOD
If [L]_AOLDVAL<>this.PIMPBUCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PIMPBUCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PIMPBUCOD
 Gosub PROPAGATE_PIMPBUCOD
Endif
Return

$INIT_PIMPBUCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PIMPBUCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PIMPBUCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PIMPBUCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PIMPBUCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PIMPBUCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PIMPBUCOD
[L]CURPRO = "PIMPBUCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PIMPBUCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PIMPBUCOD
[L]CURPRO = "PIMPBUCOD"
If vireblc(this.PIMPBUCOD,2)<>vireblc(format$("K:40X",this.PIMPBUCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PIMPBUCOD
[L]CURPRO = "PIMPBUCOD"
[L]ASTATUS =  func PIMPL_CSTD_PROGS.PIM_FORMAT(this,"PIMPBUCOD",this.PIMPBUCOD)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PIMPBUCOD
[L]CURPRO = "PIMPBUCOD"
Return

$PROPAGATE_PIMPBUCOD
this.isReadonly = 0
[L]CURPRO = "PIMPBUCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PIMPBUCOD
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PIMPBUCOD"
$_LNKPRO_PIMPBUCOD
Return

$_ALOADATTRIBUTE_PIMPBUCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("PIMPBUCOD","$isMandatory","true")
Return


####################################################################
# 20 : FCY Site ( Field FCY 5)
####################################################################

$SET_FCY
If [L]_AOLDVAL<>this.FCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCY
 Gosub PROPAGATE_FCY
Endif
Return

$INIT_FCY
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "FCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCY
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "FCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCY
[L]CURPRO = "FCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>vireblc(format$("K:5c",this.FCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCY
[L]CURPRO = "FCY"
If vireblc(this.FCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCY",this.FCY,this.FCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCY
[L]CURPRO = "FCY"
Return

$PROPAGATE_FCY
this.isReadonly = 0
[L]CURPRO = "FCY"
Gosub _LNKPRO_FCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCY
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "FCY"
$_LNKPRO_FCY
If vireblc(this.FCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_FCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("FCY","$isMandatory","true")
Return


####################################################################
# 21 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 22 : PJMPCC Project cost type ( Field PJCC 15)
####################################################################

$SET_PJMPCC
If [L]_AOLDVAL<>this.PJMPCC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PJMPCC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PJMPCC
 Gosub PROPAGATE_PJMPCC
Endif
Return

$INIT_PJMPCC
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PJMPCC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PJMPCC
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PJMPCC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PJMPCC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PJMPCC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PJMPCC
[L]CURPRO = "PJMPCC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PJMPCC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PJMPCC
[L]CURPRO = "PJMPCC"
If vireblc(this.PJMPCC,2)<>vireblc(format$("K:15c",this.PJMPCC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PJMPCC
[L]CURPRO = "PJMPCC"
If vireblc(this.PJMPCC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPJCC.ACTRLREF(this,"PJMPCC",this.PJMPCC,this.PJMPCC,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PJMPCC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PJMPCC
[L]CURPRO = "PJMPCC"
Return

$PROPAGATE_PJMPCC
this.isReadonly = 0
[L]CURPRO = "PJMPCC"
Gosub _LNKPRO_PJMPCC
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PJMPCC
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PJMPCC"
$_LNKPRO_PJMPCC
If vireblc(this.PJMPCC,2)<>""
 # Link PJMCOSTCTR
 Local File PJMCOSTCTR [WPJCC]
 Read [F:WPJCC]PCC0 = this.PJMPCC
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PJMCOSTCTR" & ZONE="SHOAXX" & IDENT1=[F:WPJCC]PCCCOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PJMPCC","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PJMCOSTCTR" & ZONE="DESAXX" & IDENT1=[F:WPJCC]PCCCOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PJMPCC","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WPJCC]
Endif
Return

$_ALOADATTRIBUTE_PJMPCC
[L]ASTATUS = fmet this.ASETATTRIBUTE("PJMPCC","$isMandatory","true")
Return


####################################################################
# 23 : PJMCST Project labor rate ( Field MD2 0)
####################################################################

$SET_PJMCST
If [L]_AOLDVAL<>this.PJMCST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PJMCST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PJMCST
 Gosub PROPAGATE_PJMCST
Endif
Return

$INIT_PJMCST
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PJMCST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PJMCST
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PJMCST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PJMCST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PJMCST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PJMCST
[L]CURPRO = "PJMCST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PJMCST=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PJMCST
[L]CURPRO = "PJMCST"
Return

$_AOTHERS_PJMCST
[L]CURPRO = "PJMCST"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD2(this,"PJMCST",this.PJMCST,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PJMCST
[L]CURPRO = "PJMCST"
Return

$PROPAGATE_PJMCST
this.isReadonly = 0
[L]CURPRO = "PJMCST"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PJMCST
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PJMCST"
$_LNKPRO_PJMCST
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD2(this,"PJMCST",this.PJMCST,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PJMCST","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 24 : CLBPCC Employee cost type ( Field PJCC 15)
####################################################################

$SET_CLBPCC
If [L]_AOLDVAL<>this.CLBPCC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLBPCC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLBPCC
 Gosub PROPAGATE_CLBPCC
Endif
Return

$INIT_CLBPCC
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLBPCC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLBPCC
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLBPCC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLBPCC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLBPCC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLBPCC
[L]CURPRO = "CLBPCC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CLBPCC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLBPCC
[L]CURPRO = "CLBPCC"
If vireblc(this.CLBPCC,2)<>vireblc(format$("K:15c",this.CLBPCC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CLBPCC
[L]CURPRO = "CLBPCC"
If vireblc(this.CLBPCC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPPJCC.ACTRLREF(this,"CLBPCC",this.CLBPCC,this.CLBPCC,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CLBPCC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLBPCC
[L]CURPRO = "CLBPCC"
Return

$PROPAGATE_CLBPCC
this.isReadonly = 0
[L]CURPRO = "CLBPCC"
Gosub _LNKPRO_CLBPCC
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLBPCC
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLBPCC"
$_LNKPRO_CLBPCC
If vireblc(this.CLBPCC,2)<>""
 # Link PJMCOSTCTR
 Local File PJMCOSTCTR [WPJCC]
 Read [F:WPJCC]PCC0 = this.CLBPCC
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PJMCOSTCTR" & ZONE="SHOAXX" & IDENT1=[F:WPJCC]PCCCOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CLBPCC","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="PJMCOSTCTR" & ZONE="DESAXX" & IDENT1=[F:WPJCC]PCCCOD & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CLBPCC","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WPJCC]
Endif
Return

$_ALOADATTRIBUTE_CLBPCC
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLBPCC","$isMandatory","true")
Return


####################################################################
# 25 : CLBCST Employee labor rate ( Field MD2 0)
####################################################################

$SET_CLBCST
If [L]_AOLDVAL<>this.CLBCST
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CLBCST
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CLBCST
 Gosub PROPAGATE_CLBCST
Endif
Return

$INIT_CLBCST
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLBCST"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CLBCST
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLBCST"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CLBCST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CLBCST                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CLBCST
[L]CURPRO = "CLBCST"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CLBCST=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CLBCST
[L]CURPRO = "CLBCST"
Return

$_AOTHERS_CLBCST
[L]CURPRO = "CLBCST"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD2(this,"CLBCST",this.CLBCST,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CLBCST
[L]CURPRO = "CLBCST"
Return

$PROPAGATE_CLBCST
this.isReadonly = 0
[L]CURPRO = "CLBCST"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CLBCST
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CLBCST"
$_LNKPRO_CLBCST
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD2(this,"CLBCST",this.CLBCST,[L]AFORMAT,this.CUR)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("CLBCST","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 26 : PTEDESTEX Description ( Field ACPLAIN 1)
####################################################################

$GET_PTEDESTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESTEX"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("PTEDESTEX",
& "PJMTIMEMP"
& +[V]CST_AURLSEPLOB+"PTEDESTEX"
& +[V]CST_AURLSEPLOB+this.KEYCONCAT
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& ,[L]_CNT,this.PTEDESTEX)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_PTEDESTEX
If fmet this.AGETATTRIBUTE("PTEDESTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PTEDESTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTEDESTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("PTEDESTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PTEDESTEX
 Gosub PROPAGATE_PTEDESTEX
Endif
Return

$INIT_PTEDESTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTEDESTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTEDESTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTEDESTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTEDESTEX
[L]CURPRO = "PTEDESTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.PTEDESTEX)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTEDESTEX
[L]CURPRO = "PTEDESTEX"
Return

$_AOTHERS_PTEDESTEX
[L]CURPRO = "PTEDESTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTEDESTEX
[L]CURPRO = "PTEDESTEX"
Return

$PROPAGATE_PTEDESTEX
this.isReadonly = 0
[L]CURPRO = "PTEDESTEX"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTEDESTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTEDESTEX"
$_LNKPRO_PTEDESTEX
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_PTEDESTEX From WMC0PJMTIMEMP
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTEDESTEX","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 27 : PTECOMTEX Comment ( Field ACPLAIN 1)
####################################################################

$GET_PTECOMTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTECOMTEX"
Local Char _CNT(100)
Local Tinyint _EXI : [L]_EXI=1
[L]ASTATUS = fmet this.AREAD_CLB("PTECOMTEX",
& "PJMTIMEMP"
& +[V]CST_AURLSEPLOB+"PTECOMTEX"
& +[V]CST_AURLSEPLOB+this.KEYCONCAT
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& +[V]CST_AURLSEPLOB+AVOID.ACHAR
& ,[L]_CNT,this.PTECOMTEX)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isLoaded")<>"true"
 [L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
Endif
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_PTECOMTEX
If fmet this.AGETATTRIBUTE("PTECOMTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PTECOMTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PTECOMTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If fmet this.AGETATTRIBUTE("PTECOMTEX","$isLoaded")<>"true" or [L]_AOLDVAL<>this.PTECOMTEX
 Gosub PROPAGATE_PTECOMTEX
Endif
Return

$INIT_PTECOMTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTECOMTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PTECOMTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTECOMTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PTECOMTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PTECOMTEX             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PTECOMTEX
[L]CURPRO = "PTECOMTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & len(this.PTECOMTEX)=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PTECOMTEX
[L]CURPRO = "PTECOMTEX"
Return

$_AOTHERS_PTECOMTEX
[L]CURPRO = "PTECOMTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PTECOMTEX
[L]CURPRO = "PTECOMTEX"
Return

$PROPAGATE_PTECOMTEX
this.isReadonly = 0
[L]CURPRO = "PTECOMTEX"
[L]ASTATUS = fmet this.ASETATTRIBUTE([L]CURPRO,"$isLoaded","true")
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PTECOMTEX
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "PTECOMTEX"
$_LNKPRO_PTECOMTEX
Local Tinyint _EXI : [L]_EXI=1
Gosub READ_EXI_PTECOMTEX From WMC0PJMTIMEMP
[L]ASTATUS = fmet this.ASETATTRIBUTE("PTECOMTEX","$isLobFound",func ASYRSUB.BOOLEAN_TO_SYR([L]_EXI+1))
Return


####################################################################
# 28 : CHGTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_CHGTYP
If [L]_AOLDVAL<>this.CHGTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CHGTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CHGTYP
 Gosub PROPAGATE_CHGTYP
Endif
Return

$INIT_CHGTYP
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CHGTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CHGTYP=0 and fmet this.AGETATTRIBUTE("CHGTYP","$isMandatory")="true"
 this.CHGTYP = 1
Endif
Return
 
$CONTROL_CHGTYP
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CHGTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CHGTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CHGTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CHGTYP
[L]CURPRO = "CHGTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CHGTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CHGTYP
[L]CURPRO = "CHGTYP"
If this.CHGTYP<0 or this.CHGTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.CHGTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_CHGTYP
[L]CURPRO = "CHGTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CHGTYP
[L]CURPRO = "CHGTYP"
Return

$PROPAGATE_CHGTYP
this.isReadonly = 0
[L]CURPRO = "CHGTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CHGTYP
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CHGTYP"
$_LNKPRO_CHGTYP
Return

$_ALOADATTRIBUTE_CHGTYP
[L]ASTATUS = fmet this.ASETATTRIBUTE("CHGTYP","$isMandatory","true")
Return


####################################################################
# 29 : KEYCONCAT Concatenation ( Field A 40)
####################################################################

$GET_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_KEYCONCAT
If [L]_AOLDVAL<>this.KEYCONCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_KEYCONCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.KEYCONCAT
 Gosub PROPAGATE_KEYCONCAT
Endif
Return

$INIT_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "KEYCONCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_KEYCONCAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.KEYCONCAT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$_AOTHERS_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_KEYCONCAT
[L]CURPRO = "KEYCONCAT"
Return

$PROPAGATE_KEYCONCAT
this.isReadonly = 0
[L]CURPRO = "KEYCONCAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_KEYCONCAT
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "KEYCONCAT"
$_LNKPRO_KEYCONCAT
Return


####################################################################
# 30 : CREDATTIM Date time ( Field ADATIM 0)
####################################################################

$SET_CREDATTIM
If [L]_AOLDVAL<>this.CREDATTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDATTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDATTIM
 Gosub PROPAGATE_CREDATTIM
Endif
Return

$INIT_CREDATTIM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CREDATTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDATTIM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CREDATTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDATTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDATTIM
[L]CURPRO = "CREDATTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDATTIM=AVOID.ADATTIM
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$_AOTHERS_CREDATTIM
[L]CURPRO = "CREDATTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDATTIM
[L]CURPRO = "CREDATTIM"
Return

$PROPAGATE_CREDATTIM
this.isReadonly = 0
[L]CURPRO = "CREDATTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDATTIM
Gosub DECLARE_VAR From WMC0PJMTIMEMP
[L]CURPRO = "CREDATTIM"
$_LNKPRO_CREDATTIM
Return




