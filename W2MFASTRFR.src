#<AdxTL>@(#)0.0.0.0 $Revision$
# Supervisor
# Mask management MFASTRFR 

$_AFF
If GIMPORT
 Gosub AFF From GSAISIE
Else
 If GMESSAGE <>""
  Gosub ERR From GSAISIE
 Else
  Raz GERR , GZNUM
 Endif
Endif
Return

$ON_CCE20
Onevent BEFORE_AREA Gosub AV_CCE20 From W2MFASTRFR
Onevent CONTROL Call C_CCE20(zc) From W2MFASTRFR
Onevent BEFORE_INPUT Call AS_CCE20(zc) From W2MFASTRFR
Return

$AV_CCE20
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(20))) From SETGLBDIE
If GCCEFMT<>""
 Chgfmt [M]CCE20(indice) With "K:"+GCCEFMT
Else
 Chgfmt [M]CCE20(indice) With "-K:1X"
Endif
Gosub _AFF
Return

Subprog AS_CCE20(VALEUR)
Variable Char    VALEUR()
Local Integer INDIC : INDIC = indice
Raz mkstat
Call TEXTE(15597,GBOUTS) From OBJDIV
Call TEXTE(12276,GBOUTP) From OBJDIV
Call TEXTE(16134,GBOUTA) From OBJDIV
Onkey   2 Titled GBOUTS Call S_CCE20(zc) From W2MFASTRFR
Onkey 144 Titled GBOUTP Call P_CCE20(zc) From W2MFASTRFR
Onkey 146 Titled GBOUTA Call SA_CCE20(zc) From W2MFASTRFR
Gosub _AFF
End

Subprog C_CCE20(VALEUR)
Variable Char    VALEUR()
If !GWEBSERV
 ## Action CCECHOICE
 Local Char    PARMSK(250)(1..20) , SAVACT(20)
 SAVACT = GACTION : GACTION = "CCECHOICE"
 PARMSK(1) = num$(GDIE(20))
 Call S_TAB_CHAR(VALEUR,PARMSK,"CCECHOICE","TRTSEL","") From GACTION
 GACTION = SAVACT
 If mkstat : GERR = 1 : GZONE = "CCE20" : GZNUM = 0 : Endif
Endif
If !mkstat
 ## Action %CNTOBJ
 Call CONTSEL("CCE","!",VALEUR,num$(GDIE(20)),mkstat) From CONTOBJ
 If mkstat : GERR = 1 : GZONE = "CCE20" : GZNUM = 0 : Endif
Endif
Gosub _AFF
End

Subprog S_CCE20(VALEUR)
Variable Char    VALEUR()
Local Char PARMSK(250)(1..16)
PARMSK(1) = "CCE"
PARMSK(2) = "!"
PARMSK(3) = num$(GDIE(20))
Call S_TAB_CHAR(VALEUR,PARMSK,"SELOBJ","SELOBJ","") From GACTION
Gosub _AFF
End

Subprog SA_CCE20(VALEUR)
Variable Char    VALEUR()
Local Char PARMSK(250)(1..16) , SAVACT(20)
SAVACT = GACTION : GACTION = "SELOBJAW"
PARMSK(1) = "CCE"
PARMSK(2) = num$(GDIE(20))
Call SAISIE_CHAR(VALEUR,PARMSK,"DSELOBJAW","SELOBJAW","XWDSELOBJAW") From GSAISIE
GACTION = SAVACT
Gosub _AFF
End

Subprog P_CCE20(VALEUR)
Variable Char    VALEUR()
Local Char PAROBJ(250)
PAROBJ = num$(GDIE(20))
Call VISU("CCE",VALEUR,PAROBJ) From SUBAOP
Gosub _AFF
End

$ON_REGTVAFLG
Onevent INIT_AREA Call D_REGTVAFLG(zc) From W2MFASTRFR
Return

Subprog D_REGTVAFLG(VALEUR)
Variable Integer VALEUR
If varinit([M]REGTVAFLG,indice)=0
 VALEUR = 1
Endif
Gosub _AFF
End

$ON_CCE1O
Onevent BEFORE_AREA Gosub AV_CCE1O From W2MFASTRFR
Return

$AV_CCE1O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(1))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE2O
Onevent BEFORE_AREA Gosub AV_CCE2O From W2MFASTRFR
Return

$AV_CCE2O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(2))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE3O
Onevent BEFORE_AREA Gosub AV_CCE3O From W2MFASTRFR
Return

$AV_CCE3O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(3))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE4O
Onevent BEFORE_AREA Gosub AV_CCE4O From W2MFASTRFR
Return

$AV_CCE4O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(4))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE5O
Onevent BEFORE_AREA Gosub AV_CCE5O From W2MFASTRFR
Return

$AV_CCE5O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(5))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE6O
Onevent BEFORE_AREA Gosub AV_CCE6O From W2MFASTRFR
Return

$AV_CCE6O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(6))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE7O
Onevent BEFORE_AREA Gosub AV_CCE7O From W2MFASTRFR
Return

$AV_CCE7O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(7))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE8O
Onevent BEFORE_AREA Gosub AV_CCE8O From W2MFASTRFR
Return

$AV_CCE8O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(8))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE9O
Onevent BEFORE_AREA Gosub AV_CCE9O From W2MFASTRFR
Return

$AV_CCE9O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(9))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE10O
Onevent BEFORE_AREA Gosub AV_CCE10O From W2MFASTRFR
Return

$AV_CCE10O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(10))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE11O
Onevent BEFORE_AREA Gosub AV_CCE11O From W2MFASTRFR
Return

$AV_CCE11O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(11))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE12O
Onevent BEFORE_AREA Gosub AV_CCE12O From W2MFASTRFR
Return

$AV_CCE12O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(12))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE13O
Onevent BEFORE_AREA Gosub AV_CCE13O From W2MFASTRFR
Return

$AV_CCE13O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(13))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE14O
Onevent BEFORE_AREA Gosub AV_CCE14O From W2MFASTRFR
Return

$AV_CCE14O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(14))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE15O
Onevent BEFORE_AREA Gosub AV_CCE15O From W2MFASTRFR
Return

$AV_CCE15O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(15))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE16O
Onevent BEFORE_AREA Gosub AV_CCE16O From W2MFASTRFR
Return

$AV_CCE16O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(16))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE17O
Onevent BEFORE_AREA Gosub AV_CCE17O From W2MFASTRFR
Return

$AV_CCE17O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(17))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE18O
Onevent BEFORE_AREA Gosub AV_CCE18O From W2MFASTRFR
Return

$AV_CCE18O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(18))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE19O
Onevent BEFORE_AREA Gosub AV_CCE19O From W2MFASTRFR
Return

$AV_CCE19O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(19))) From SETGLBDIE
Gosub _AFF
Return

$ON_CCE20O
Onevent BEFORE_AREA Gosub AV_CCE20O From W2MFASTRFR
Return

$AV_CCE20O
## Action INICCEFMT
Call INICCEFMT(num$(GDIE(20))) From SETGLBDIE
Gosub _AFF
Return

$TIT_COL
Local Char TITCL(200)(1..20)
Raz TITCL
Case BASPAG
 When "NBOBJ"
  TITCL(1) = GDIE(1)
  TITCL(2) = GDIE(2)
  TITCL(3) = GDIE(3)
  TITCL(4) = GDIE(4)
  TITCL(5) = GDIE(5)
  TITCL(6) = GDIE(6)
  TITCL(7) = GDIE(7)
  TITCL(8) = GDIE(8)
  TITCL(9) = GDIE(9)
  TITCL(10) = GDIE(10)
  TITCL(11) = GDIE(11)
  TITCL(12) = GDIE(12)
  TITCL(13) = GDIE(13)
  TITCL(14) = GDIE(14)
  TITCL(15) = GDIE(15)
  TITCL(16) = GDIE(16)
  TITCL(17) = GDIE(17)
  TITCL(18) = GDIE(18)
  TITCL(19) = GDIE(19)
  TITCL(20) = GDIE(20)
  If !GORITITCOL
   Titcol [M]NBOBJ TITCL(1) For CCE1
   Titcol [M]NBOBJ TITCL(2) For CCE2
   Titcol [M]NBOBJ TITCL(3) For CCE3
   Titcol [M]NBOBJ TITCL(4) For CCE4
   Titcol [M]NBOBJ TITCL(5) For CCE5
   Titcol [M]NBOBJ TITCL(6) For CCE6
   Titcol [M]NBOBJ TITCL(7) For CCE7
   Titcol [M]NBOBJ TITCL(8) For CCE8
   Titcol [M]NBOBJ TITCL(9) For CCE9
   Titcol [M]NBOBJ TITCL(10) For CCE10
   Titcol [M]NBOBJ TITCL(11) For CCE11
   Titcol [M]NBOBJ TITCL(12) For CCE12
   Titcol [M]NBOBJ TITCL(13) For CCE13
   Titcol [M]NBOBJ TITCL(14) For CCE14
   Titcol [M]NBOBJ TITCL(15) For CCE15
   Titcol [M]NBOBJ TITCL(16) For CCE16
   Titcol [M]NBOBJ TITCL(17) For CCE17
   Titcol [M]NBOBJ TITCL(18) For CCE18
   Titcol [M]NBOBJ TITCL(19) For CCE19
   Titcol [M]NBOBJ TITCL(20) For CCE20
  Else
   Titcol [M:MFS0]NBOBJ TITCL(1) For CCE1
   Titcol [M:MFS0]NBOBJ TITCL(2) For CCE2
   Titcol [M:MFS0]NBOBJ TITCL(3) For CCE3
   Titcol [M:MFS0]NBOBJ TITCL(4) For CCE4
   Titcol [M:MFS0]NBOBJ TITCL(5) For CCE5
   Titcol [M:MFS0]NBOBJ TITCL(6) For CCE6
   Titcol [M:MFS0]NBOBJ TITCL(7) For CCE7
   Titcol [M:MFS0]NBOBJ TITCL(8) For CCE8
   Titcol [M:MFS0]NBOBJ TITCL(9) For CCE9
   Titcol [M:MFS0]NBOBJ TITCL(10) For CCE10
   Titcol [M:MFS0]NBOBJ TITCL(11) For CCE11
   Titcol [M:MFS0]NBOBJ TITCL(12) For CCE12
   Titcol [M:MFS0]NBOBJ TITCL(13) For CCE13
   Titcol [M:MFS0]NBOBJ TITCL(14) For CCE14
   Titcol [M:MFS0]NBOBJ TITCL(15) For CCE15
   Titcol [M:MFS0]NBOBJ TITCL(16) For CCE16
   Titcol [M:MFS0]NBOBJ TITCL(17) For CCE17
   Titcol [M:MFS0]NBOBJ TITCL(18) For CCE18
   Titcol [M:MFS0]NBOBJ TITCL(19) For CCE19
   Titcol [M:MFS0]NBOBJ TITCL(20) For CCE20
  Endif
Endcase
Return

$CHG_STY
Return


