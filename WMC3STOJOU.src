#<AdxTL>@(#)0.0.0.0 $Revision$Class Stock journal
# Supervisor
## ACLA-CLASSE ## STOJOU
# 2018-08-27 12:50:04 369

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 61 : AMTDEV2 Variance not absorbed ( Field MD1 0)
####################################################################

$SET_AMTDEV2
If [L]_AOLDVAL<>this.AMTDEV2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTDEV2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTDEV2
 Gosub PROPAGATE_AMTDEV2
Endif
Return

$INIT_AMTDEV2
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "AMTDEV2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTDEV2
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "AMTDEV2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTDEV2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTDEV2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTDEV2
[L]CURPRO = "AMTDEV2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTDEV2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTDEV2
[L]CURPRO = "AMTDEV2"
Return

$_AOTHERS_AMTDEV2
[L]CURPRO = "AMTDEV2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTDEV2",this.AMTDEV2,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTDEV2
[L]CURPRO = "AMTDEV2"
Return

$PROPAGATE_AMTDEV2
this.isReadonly = 0
[L]CURPRO = "AMTDEV2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTDEV2
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "AMTDEV2"
$_LNKPRO_AMTDEV2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTDEV2",this.AMTDEV2,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTDEV2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 62 : SHLDAT Expiration date ( Field D)
####################################################################

$SET_SHLDAT
If [L]_AOLDVAL<>this.SHLDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SHLDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SHLDAT
 Gosub PROPAGATE_SHLDAT
Endif
Return

$INIT_SHLDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "SHLDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SHLDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "SHLDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SHLDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SHLDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SHLDAT
[L]CURPRO = "SHLDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SHLDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SHLDAT
[L]CURPRO = "SHLDAT"
Return

$_AOTHERS_SHLDAT
[L]CURPRO = "SHLDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SHLDAT
[L]CURPRO = "SHLDAT"
Return

$PROPAGATE_SHLDAT
this.isReadonly = 0
[L]CURPRO = "SHLDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SHLDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "SHLDAT"
$_LNKPRO_SHLDAT
Return


####################################################################
# 63 : STA Status ( Field A 3)
####################################################################

$SET_STA
If [L]_AOLDVAL<>this.STA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STA
 Gosub PROPAGATE_STA
Endif
Return

$INIT_STA
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "STA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STA
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "STA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STA
[L]CURPRO = "STA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STA
[L]CURPRO = "STA"
Return

$_AOTHERS_STA
[L]CURPRO = "STA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STA
[L]CURPRO = "STA"
Return

$PROPAGATE_STA
this.isReadonly = 0
[L]CURPRO = "STA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STA
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "STA"
$_LNKPRO_STA
Return

$_ALOADATTRIBUTE_STA
[L]ASTATUS = fmet this.ASETATTRIBUTE("STA","$isMandatory","true")
Return


####################################################################
# 64 : POT Potency ( Field DCB 5)
####################################################################

$SET_POT
If [L]_AOLDVAL<>this.POT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_POT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.POT
 Gosub PROPAGATE_POT
Endif
Return

$INIT_POT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "POT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_POT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "POT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_POT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_POT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_POT
[L]CURPRO = "POT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.POT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_POT
[L]CURPRO = "POT"
Return

$_AOTHERS_POT
[L]CURPRO = "POT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_POT
[L]CURPRO = "POT"
Return

$PROPAGATE_POT
this.isReadonly = 0
[L]CURPRO = "POT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_POT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "POT"
$_LNKPRO_POT
Return


####################################################################
# 65 : ACT International unit potency ( Field DCB 5)
####################################################################

$SET_ACT
If [L]_AOLDVAL<>this.ACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACT
 Gosub PROPAGATE_ACT
Endif
Return

$INIT_ACT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACT
[L]CURPRO = "ACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACT
[L]CURPRO = "ACT"
Return

$_AOTHERS_ACT
[L]CURPRO = "ACT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACT
[L]CURPRO = "ACT"
Return

$PROPAGATE_ACT
this.isReadonly = 0
[L]CURPRO = "ACT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ACT"
$_LNKPRO_ACT
Return


####################################################################
# 66 : ACTQTY Active quantity ( Field QTY 0)
####################################################################

$SET_ACTQTY
If [L]_AOLDVAL<>this.ACTQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACTQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACTQTY
 Gosub PROPAGATE_ACTQTY
Endif
Return

$INIT_ACTQTY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ACTQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACTQTY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ACTQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACTQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACTQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACTQTY
[L]CURPRO = "ACTQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACTQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACTQTY
[L]CURPRO = "ACTQTY"
Return

$_AOTHERS_ACTQTY
[L]CURPRO = "ACTQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACTQTY
[L]CURPRO = "ACTQTY"
Return

$PROPAGATE_ACTQTY
this.isReadonly = 0
[L]CURPRO = "ACTQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACTQTY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ACTQTY"
$_LNKPRO_ACTQTY
Return


####################################################################
# 67 : QLYCTLDEM Quality analysis request ( Field VCR 20)
####################################################################

$SET_QLYCTLDEM
If [L]_AOLDVAL<>this.QLYCTLDEM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QLYCTLDEM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QLYCTLDEM
 Gosub PROPAGATE_QLYCTLDEM
Endif
Return

$INIT_QLYCTLDEM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "QLYCTLDEM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QLYCTLDEM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "QLYCTLDEM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QLYCTLDEM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QLYCTLDEM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.QLYCTLDEM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
If vireblc(this.QLYCTLDEM,2)<>vireblc(format$("K:20X",this.QLYCTLDEM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QLYCTLDEM
[L]CURPRO = "QLYCTLDEM"
Return

$PROPAGATE_QLYCTLDEM
this.isReadonly = 0
[L]CURPRO = "QLYCTLDEM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QLYCTLDEM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "QLYCTLDEM"
$_LNKPRO_QLYCTLDEM
Return


####################################################################
# 68 : PRNFLG Printed ( Field Local menu number 1)
####################################################################

$SET_PRNFLG
If [L]_AOLDVAL<>this.PRNFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRNFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRNFLG
 Gosub PROPAGATE_PRNFLG
Endif
Return

$INIT_PRNFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PRNFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRNFLG=0 and fmet this.AGETATTRIBUTE("PRNFLG","$isMandatory")="true"
 this.PRNFLG = 1
Endif
Return
 
$CONTROL_PRNFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PRNFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRNFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRNFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRNFLG
[L]CURPRO = "PRNFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRNFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRNFLG
[L]CURPRO = "PRNFLG"
If this.PRNFLG<0 or this.PRNFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PRNFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PRNFLG
[L]CURPRO = "PRNFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRNFLG
[L]CURPRO = "PRNFLG"
Return

$PROPAGATE_PRNFLG
this.isReadonly = 0
[L]CURPRO = "PRNFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRNFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PRNFLG"
$_LNKPRO_PRNFLG
Return


####################################################################
# 69 : REGFLG Adjusted movement ( Field Local menu number 1)
####################################################################

$SET_REGFLG
If [L]_AOLDVAL<>this.REGFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REGFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REGFLG
 Gosub PROPAGATE_REGFLG
Endif
Return

$INIT_REGFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "REGFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.REGFLG=0 and fmet this.AGETATTRIBUTE("REGFLG","$isMandatory")="true"
 this.REGFLG = 1
Endif
Return
 
$CONTROL_REGFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "REGFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REGFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REGFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REGFLG
[L]CURPRO = "REGFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REGFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REGFLG
[L]CURPRO = "REGFLG"
If this.REGFLG<0 or this.REGFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.REGFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_REGFLG
[L]CURPRO = "REGFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REGFLG
[L]CURPRO = "REGFLG"
Return

$PROPAGATE_REGFLG
this.isReadonly = 0
[L]CURPRO = "REGFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REGFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "REGFLG"
$_LNKPRO_REGFLG
Return


####################################################################
# 70 : LBEFMT Label format ( Field ARP 15)
####################################################################

$SET_LBEFMT
If [L]_AOLDVAL<>this.LBEFMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LBEFMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LBEFMT
 Gosub PROPAGATE_LBEFMT
Endif
Return

$INIT_LBEFMT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "LBEFMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LBEFMT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "LBEFMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LBEFMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LBEFMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LBEFMT
[L]CURPRO = "LBEFMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LBEFMT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LBEFMT
[L]CURPRO = "LBEFMT"
If vireblc(this.LBEFMT,2)<>vireblc(format$("K:15c",this.LBEFMT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LBEFMT
[L]CURPRO = "LBEFMT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LBEFMT
[L]CURPRO = "LBEFMT"
Return

$PROPAGATE_LBEFMT
this.isReadonly = 0
[L]CURPRO = "LBEFMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LBEFMT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "LBEFMT"
$_LNKPRO_LBEFMT
Return


####################################################################
# 71 : LBENBR Number of labels ( Field C 4)
####################################################################

$SET_LBENBR
If [L]_AOLDVAL<>this.LBENBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LBENBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LBENBR
 Gosub PROPAGATE_LBENBR
Endif
Return

$INIT_LBENBR
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "LBENBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LBENBR
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "LBENBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LBENBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LBENBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LBENBR
[L]CURPRO = "LBENBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LBENBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LBENBR
[L]CURPRO = "LBENBR"
Return

$_AOTHERS_LBENBR
[L]CURPRO = "LBENBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LBENBR
[L]CURPRO = "LBENBR"
Return

$PROPAGATE_LBENBR
this.isReadonly = 0
[L]CURPRO = "LBENBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LBENBR
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "LBENBR"
$_LNKPRO_LBENBR
Return


####################################################################
# 73 : ENTCOD Automatic journal code ( Field GAU 5)
####################################################################

$SET_ENTCOD
If [L]_AOLDVAL<>this.ENTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENTCOD
 Gosub PROPAGATE_ENTCOD
Endif
Return

$INIT_ENTCOD
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ENTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ENTCOD
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ENTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENTCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENTCOD
[L]CURPRO = "ENTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ENTCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENTCOD
[L]CURPRO = "ENTCOD"
If vireblc(this.ENTCOD,2)<>vireblc(format$("K:5c",this.ENTCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ENTCOD
[L]CURPRO = "ENTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENTCOD
[L]CURPRO = "ENTCOD"
Return

$PROPAGATE_ENTCOD
this.isReadonly = 0
[L]CURPRO = "ENTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENTCOD
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "ENTCOD"
$_LNKPRO_ENTCOD
Return


####################################################################
# 74 : FINRSPFCY Financial site ( Field FCY 5)
####################################################################

$SET_FINRSPFCY
If [L]_AOLDVAL<>this.FINRSPFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FINRSPFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FINRSPFCY
 Gosub PROPAGATE_FINRSPFCY
Endif
Return

$INIT_FINRSPFCY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "FINRSPFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FINRSPFCY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "FINRSPFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FINRSPFCY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FINRSPFCY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FINRSPFCY
[L]CURPRO = "FINRSPFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FINRSPFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FINRSPFCY
[L]CURPRO = "FINRSPFCY"
If vireblc(this.FINRSPFCY,2)<>vireblc(format$("K:5c",this.FINRSPFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FINRSPFCY
[L]CURPRO = "FINRSPFCY"
If vireblc(this.FINRSPFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FINRSPFCY",this.FINRSPFCY,this.FINRSPFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FINRSPFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FINRSPFCY
[L]CURPRO = "FINRSPFCY"
Return

$PROPAGATE_FINRSPFCY
this.isReadonly = 0
[L]CURPRO = "FINRSPFCY"
Gosub _LNKPRO_FINRSPFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FINRSPFCY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "FINRSPFCY"
$_LNKPRO_FINRSPFCY
If vireblc(this.FINRSPFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FINRSPFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FINRSPFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FINRSPFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 75 : AGGIFAFLG Interface aggregation ( Field Local menu number 1)
####################################################################

$SET_AGGIFAFLG
If [L]_AOLDVAL<>this.AGGIFAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AGGIFAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AGGIFAFLG
 Gosub PROPAGATE_AGGIFAFLG
Endif
Return

$INIT_AGGIFAFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "AGGIFAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.AGGIFAFLG=0 and fmet this.AGETATTRIBUTE("AGGIFAFLG","$isMandatory")="true"
 this.AGGIFAFLG = 1
Endif
Return
 
$CONTROL_AGGIFAFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "AGGIFAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AGGIFAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AGGIFAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AGGIFAFLG
[L]CURPRO = "AGGIFAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AGGIFAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AGGIFAFLG
[L]CURPRO = "AGGIFAFLG"
If this.AGGIFAFLG<0 or this.AGGIFAFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.AGGIFAFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_AGGIFAFLG
[L]CURPRO = "AGGIFAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AGGIFAFLG
[L]CURPRO = "AGGIFAFLG"
Return

$PROPAGATE_AGGIFAFLG
this.isReadonly = 0
[L]CURPRO = "AGGIFAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AGGIFAFLG
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "AGGIFAFLG"
$_LNKPRO_AGGIFAFLG
Return


####################################################################
# 76 : GTE Entry type ( Field GTE 5)
####################################################################

$SET_GTE
If [L]_AOLDVAL<>this.GTE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GTE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GTE
 Gosub PROPAGATE_GTE
Endif
Return

$INIT_GTE
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "GTE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GTE
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "GTE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GTE                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GTE                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GTE
[L]CURPRO = "GTE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GTE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GTE
[L]CURPRO = "GTE"
If vireblc(this.GTE,2)<>vireblc(format$("K:5d",this.GTE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GTE
[L]CURPRO = "GTE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GTE
[L]CURPRO = "GTE"
If vireblc(this.GTE,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGTE.ACTRLREF(this,"GTE",this.GTE,this.GTE,"",2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.GTE<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_GTE
this.isReadonly = 0
[L]CURPRO = "GTE"
Gosub _LNKPRO_GTE
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GTE
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "GTE"
$_LNKPRO_GTE
If vireblc(this.GTE,2)<>""
 # Link GTYPACCENT
 Local File GTYPACCENT [WGTE]
 Read [F:WGTE]GTE0 = this.GTE;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="SHOTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("GTE","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="DESTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("GTE","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGTE]
Endif
Return


####################################################################
# 77 : NUMVCR Accounting document ( Field VCR 20)
####################################################################

$SET_NUMVCR
If [L]_AOLDVAL<>this.NUMVCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUMVCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUMVCR
 Gosub PROPAGATE_NUMVCR
Endif
Return

$INIT_NUMVCR
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "NUMVCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUMVCR
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "NUMVCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUMVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUMVCR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUMVCR
[L]CURPRO = "NUMVCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUMVCR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUMVCR
[L]CURPRO = "NUMVCR"
If vireblc(this.NUMVCR,2)<>vireblc(format$("K:20X",this.NUMVCR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_NUMVCR
[L]CURPRO = "NUMVCR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUMVCR
[L]CURPRO = "NUMVCR"
Return

$PROPAGATE_NUMVCR
this.isReadonly = 0
[L]CURPRO = "NUMVCR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUMVCR
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "NUMVCR"
$_LNKPRO_NUMVCR
Return


####################################################################
# 78 : PALNUM Identifier 1 ( Field PAL 10)
####################################################################

$SET_PALNUM
If [L]_AOLDVAL<>this.PALNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PALNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PALNUM
 Gosub PROPAGATE_PALNUM
Endif
Return

$INIT_PALNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PALNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PALNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PALNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PALNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PALNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PALNUM
[L]CURPRO = "PALNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PALNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PALNUM
[L]CURPRO = "PALNUM"
Return

$_AOTHERS_PALNUM
[L]CURPRO = "PALNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PALNUM
[L]CURPRO = "PALNUM"
Return

$PROPAGATE_PALNUM
this.isReadonly = 0
[L]CURPRO = "PALNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PALNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PALNUM"
$_LNKPRO_PALNUM
Return


####################################################################
# 79 : CTRNUM Identifier 2 ( Field CTR 10)
####################################################################

$SET_CTRNUM
If [L]_AOLDVAL<>this.CTRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CTRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CTRNUM
 Gosub PROPAGATE_CTRNUM
Endif
Return

$INIT_CTRNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CTRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CTRNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CTRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CTRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CTRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CTRNUM
[L]CURPRO = "CTRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CTRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CTRNUM
[L]CURPRO = "CTRNUM"
Return

$_AOTHERS_CTRNUM
[L]CURPRO = "CTRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CTRNUM
[L]CURPRO = "CTRNUM"
Return

$PROPAGATE_CTRNUM
this.isReadonly = 0
[L]CURPRO = "CTRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CTRNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CTRNUM"
$_LNKPRO_CTRNUM
Return


####################################################################
# 80 : BETCPY Intercompany ( Field Local menu number 1)
####################################################################

$SET_BETCPY
If [L]_AOLDVAL<>this.BETCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BETCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BETCPY
 Gosub PROPAGATE_BETCPY
Endif
Return

$INIT_BETCPY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "BETCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BETCPY=0 and fmet this.AGETATTRIBUTE("BETCPY","$isMandatory")="true"
 this.BETCPY = 1
Endif
Return
 
$CONTROL_BETCPY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "BETCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BETCPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BETCPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BETCPY
[L]CURPRO = "BETCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BETCPY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BETCPY
[L]CURPRO = "BETCPY"
If this.BETCPY<0 or this.BETCPY>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.BETCPY)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_BETCPY
[L]CURPRO = "BETCPY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BETCPY
[L]CURPRO = "BETCPY"
Return

$PROPAGATE_BETCPY
this.isReadonly = 0
[L]CURPRO = "BETCPY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BETCPY
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "BETCPY"
$_LNKPRO_BETCPY
Return


####################################################################
# 81 : DLUDAT Use-by date ( Field D)
####################################################################

$SET_DLUDAT
If [L]_AOLDVAL<>this.DLUDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLUDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLUDAT
 Gosub PROPAGATE_DLUDAT
Endif
Return

$INIT_DLUDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "DLUDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DLUDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "DLUDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLUDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLUDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLUDAT
[L]CURPRO = "DLUDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLUDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLUDAT
[L]CURPRO = "DLUDAT"
Return

$_AOTHERS_DLUDAT
[L]CURPRO = "DLUDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLUDAT
[L]CURPRO = "DLUDAT"
Return

$PROPAGATE_DLUDAT
this.isReadonly = 0
[L]CURPRO = "DLUDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLUDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "DLUDAT"
$_LNKPRO_DLUDAT
Return


####################################################################
# 82 : NEWLTIDAT Recontrol date ( Field D)
####################################################################

$SET_NEWLTIDAT
If [L]_AOLDVAL<>this.NEWLTIDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NEWLTIDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NEWLTIDAT
 Gosub PROPAGATE_NEWLTIDAT
Endif
Return

$INIT_NEWLTIDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "NEWLTIDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NEWLTIDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "NEWLTIDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NEWLTIDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NEWLTIDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NEWLTIDAT
[L]CURPRO = "NEWLTIDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NEWLTIDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NEWLTIDAT
[L]CURPRO = "NEWLTIDAT"
Return

$_AOTHERS_NEWLTIDAT
[L]CURPRO = "NEWLTIDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NEWLTIDAT
[L]CURPRO = "NEWLTIDAT"
Return

$PROPAGATE_NEWLTIDAT
this.isReadonly = 0
[L]CURPRO = "NEWLTIDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NEWLTIDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "NEWLTIDAT"
$_LNKPRO_NEWLTIDAT
Return


####################################################################
# 83 : CREMVTDAT Date created ( Field D)
####################################################################

$SET_CREMVTDAT
If [L]_AOLDVAL<>this.CREMVTDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREMVTDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREMVTDAT
 Gosub PROPAGATE_CREMVTDAT
Endif
Return

$INIT_CREMVTDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREMVTDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREMVTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREMVTDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREMVTDAT
[L]CURPRO = "CREMVTDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREMVTDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREMVTDAT
[L]CURPRO = "CREMVTDAT"
Return

$_AOTHERS_CREMVTDAT
[L]CURPRO = "CREMVTDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREMVTDAT
[L]CURPRO = "CREMVTDAT"
Return

$PROPAGATE_CREMVTDAT
this.isReadonly = 0
[L]CURPRO = "CREMVTDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREMVTDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTDAT"
$_LNKPRO_CREMVTDAT
Return


####################################################################
# 84 : CREMVTTIM Time ( Field HS 8)
####################################################################

$SET_CREMVTTIM
If [L]_AOLDVAL<>this.CREMVTTIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREMVTTIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREMVTTIM
 Gosub PROPAGATE_CREMVTTIM
Endif
Return

$INIT_CREMVTTIM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTTIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREMVTTIM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTTIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREMVTTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREMVTTIM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREMVTTIM
[L]CURPRO = "CREMVTTIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CREMVTTIM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREMVTTIM
[L]CURPRO = "CREMVTTIM"
If vireblc(this.CREMVTTIM,2)<>vireblc(format$("Kz:8X",this.CREMVTTIM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CREMVTTIM
[L]CURPRO = "CREMVTTIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREMVTTIM
[L]CURPRO = "CREMVTTIM"
Return

$PROPAGATE_CREMVTTIM
this.isReadonly = 0
[L]CURPRO = "CREMVTTIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREMVTTIM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTTIM"
$_LNKPRO_CREMVTTIM
Return


####################################################################
# 85 : CREMVTSEQ Source sequence ( Field L 8)
####################################################################

$SET_CREMVTSEQ
If [L]_AOLDVAL<>this.CREMVTSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREMVTSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREMVTSEQ
 Gosub PROPAGATE_CREMVTSEQ
Endif
Return

$INIT_CREMVTSEQ
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREMVTSEQ
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREMVTSEQ             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREMVTSEQ             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREMVTSEQ
[L]CURPRO = "CREMVTSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREMVTSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREMVTSEQ
[L]CURPRO = "CREMVTSEQ"
Return

$_AOTHERS_CREMVTSEQ
[L]CURPRO = "CREMVTSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREMVTSEQ
[L]CURPRO = "CREMVTSEQ"
Return

$PROPAGATE_CREMVTSEQ
this.isReadonly = 0
[L]CURPRO = "CREMVTSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREMVTSEQ
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREMVTSEQ"
$_LNKPRO_CREMVTSEQ
Return


####################################################################
# 86 : EXPNUM Export number ( Field L 8)
####################################################################

$SET_EXPNUM
If [L]_AOLDVAL<>this.EXPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXPNUM
 Gosub PROPAGATE_EXPNUM
Endif
Return

$INIT_EXPNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "EXPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXPNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "EXPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXPNUM
[L]CURPRO = "EXPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EXPNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$_AOTHERS_EXPNUM
[L]CURPRO = "EXPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXPNUM
[L]CURPRO = "EXPNUM"
Return

$PROPAGATE_EXPNUM
this.isReadonly = 0
[L]CURPRO = "EXPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXPNUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "EXPNUM"
$_LNKPRO_EXPNUM
Return


####################################################################
# 87 : PRONUM Process number ( Field L 8)
####################################################################

$SET_PRONUM
If [L]_AOLDVAL<>this.PRONUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRONUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRONUM
 Gosub PROPAGATE_PRONUM
Endif
Return

$INIT_PRONUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PRONUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRONUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PRONUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRONUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRONUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRONUM
[L]CURPRO = "PRONUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRONUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRONUM
[L]CURPRO = "PRONUM"
Return

$_AOTHERS_PRONUM
[L]CURPRO = "PRONUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRONUM
[L]CURPRO = "PRONUM"
Return

$PROPAGATE_PRONUM
this.isReadonly = 0
[L]CURPRO = "PRONUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRONUM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "PRONUM"
$_LNKPRO_PRONUM
Return


####################################################################
# 88 : CREDAT Date created ( Field D)
####################################################################

$SET_CREDAT
If [L]_AOLDVAL<>this.CREDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CREDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CREDAT
 Gosub PROPAGATE_CREDAT
Endif
Return

$INIT_CREDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CREDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CREDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CREDAT
[L]CURPRO = "CREDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CREDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CREDAT
[L]CURPRO = "CREDAT"
Return

$_AOTHERS_CREDAT
[L]CURPRO = "CREDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CREDAT
[L]CURPRO = "CREDAT"
Return

$PROPAGATE_CREDAT
this.isReadonly = 0
[L]CURPRO = "CREDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CREDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CREDAT"
$_LNKPRO_CREDAT
Return


####################################################################
# 89 : CRETIM Time ( Field HM 6)
####################################################################

$SET_CRETIM
If [L]_AOLDVAL<>this.CRETIM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRETIM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRETIM
 Gosub PROPAGATE_CRETIM
Endif
Return

$INIT_CRETIM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CRETIM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRETIM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CRETIM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRETIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRETIM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRETIM
[L]CURPRO = "CRETIM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CRETIM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRETIM
[L]CURPRO = "CRETIM"
If vireblc(this.CRETIM,2)<>vireblc(format$("Kz:6X",this.CRETIM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CRETIM
[L]CURPRO = "CRETIM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRETIM
[L]CURPRO = "CRETIM"
Return

$PROPAGATE_CRETIM
this.isReadonly = 0
[L]CURPRO = "CRETIM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRETIM
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "CRETIM"
$_LNKPRO_CRETIM
Return


####################################################################
# 90 : UPDDAT Change date ( Field D)
####################################################################

$SET_UPDDAT
If [L]_AOLDVAL<>this.UPDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDDAT
 Gosub PROPAGATE_UPDDAT
Endif
Return

$INIT_UPDDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "UPDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_UPDDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "UPDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDDAT
[L]CURPRO = "UPDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$_AOTHERS_UPDDAT
[L]CURPRO = "UPDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDDAT
[L]CURPRO = "UPDDAT"
Return

$PROPAGATE_UPDDAT
this.isReadonly = 0
[L]CURPRO = "UPDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDDAT
Gosub DECLARE_VAR From WMC0STOJOU
[L]CURPRO = "UPDDAT"
$_LNKPRO_UPDDAT
Return




