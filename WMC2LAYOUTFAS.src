#<AdxTL>@(#)0.0.0.0 $Revision$Class Expenses
# Supervisor
## ACLA-CLASSE ## LAYOUTFAS
# 2018-08-27 12:35:56 993

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 31 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return

$_ALOADATTRIBUTE_CUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$isMandatory","true")
Return


####################################################################
# 32 : AMTNOTCUR Amount ex-tax cur ( Field MD1 0)
####################################################################

$SET_AMTNOTCUR
If [L]_AOLDVAL<>this.AMTNOTCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTNOTCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTNOTCUR
 Gosub PROPAGATE_AMTNOTCUR
Endif
Return

$INIT_AMTNOTCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTNOTCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTNOTCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTNOTCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTNOTCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTNOTCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTNOTCUR
[L]CURPRO = "AMTNOTCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTNOTCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTNOTCUR
[L]CURPRO = "AMTNOTCUR"
Return

$_AOTHERS_AMTNOTCUR
[L]CURPRO = "AMTNOTCUR"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTNOTCUR",this.AMTNOTCUR,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTNOTCUR
[L]CURPRO = "AMTNOTCUR"
Return

$PROPAGATE_AMTNOTCUR
this.isReadonly = 0
[L]CURPRO = "AMTNOTCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTNOTCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTNOTCUR"
$_LNKPRO_AMTNOTCUR
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTNOTCUR",this.AMTNOTCUR,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTNOTCUR","$x3Format",[L]AFORMAT)
Endif
Return

$_ALOADATTRIBUTE_AMTNOTCUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTNOTCUR","$isMandatory","true")
Return


####################################################################
# 33 : RATVAT Invd VAT rate ( Field RAT 0)
####################################################################

$SET_RATVAT
If [L]_AOLDVAL<>this.RATVAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RATVAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RATVAT
 Gosub PROPAGATE_RATVAT
Endif
Return

$INIT_RATVAT
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "RATVAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RATVAT
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "RATVAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RATVAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RATVAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RATVAT
[L]CURPRO = "RATVAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RATVAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RATVAT
[L]CURPRO = "RATVAT"
Return

$_AOTHERS_RATVAT
[L]CURPRO = "RATVAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RATVAT
[L]CURPRO = "RATVAT"
Return

$PROPAGATE_RATVAT
this.isReadonly = 0
[L]CURPRO = "RATVAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RATVAT
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "RATVAT"
$_LNKPRO_RATVAT
Return

$_ALOADATTRIBUTE_RATVAT
[L]ASTATUS = fmet this.ASETATTRIBUTE("RATVAT","$isMandatory","true")
Return


####################################################################
# 34 : AMTVATCUR VAT amt currency ( Field MD1 0)
####################################################################

$SET_AMTVATCUR
If [L]_AOLDVAL<>this.AMTVATCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTVATCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTVATCUR
 Gosub PROPAGATE_AMTVATCUR
Endif
Return

$INIT_AMTVATCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTVATCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTVATCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTVATCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTVATCUR
[L]CURPRO = "AMTVATCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTVATCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTVATCUR
[L]CURPRO = "AMTVATCUR"
Return

$_AOTHERS_AMTVATCUR
[L]CURPRO = "AMTVATCUR"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTVATCUR",this.AMTVATCUR,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTVATCUR
[L]CURPRO = "AMTVATCUR"
Return

$PROPAGATE_AMTVATCUR
this.isReadonly = 0
[L]CURPRO = "AMTVATCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTVATCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATCUR"
$_LNKPRO_AMTVATCUR
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTVATCUR",this.AMTVATCUR,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTVATCUR","$x3Format",[L]AFORMAT)
Endif
Return

$_ALOADATTRIBUTE_AMTVATCUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTVATCUR","$isMandatory","true")
Return


####################################################################
# 35 : FLGVATFCR VAT forcd ( Field Local menu number 1)
####################################################################

$SET_FLGVATFCR
If [L]_AOLDVAL<>this.FLGVATFCR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGVATFCR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGVATFCR
 Gosub PROPAGATE_FLGVATFCR
Endif
Return

$INIT_FLGVATFCR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGVATFCR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGVATFCR=0 and fmet this.AGETATTRIBUTE("FLGVATFCR","$isMandatory")="true"
 this.FLGVATFCR = 1
Endif
Return
 
$CONTROL_FLGVATFCR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGVATFCR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGVATFCR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGVATFCR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGVATFCR
[L]CURPRO = "FLGVATFCR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGVATFCR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGVATFCR
[L]CURPRO = "FLGVATFCR"
If this.FLGVATFCR<0 or this.FLGVATFCR>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGVATFCR)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGVATFCR
[L]CURPRO = "FLGVATFCR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGVATFCR
[L]CURPRO = "FLGVATFCR"
Return

$PROPAGATE_FLGVATFCR
this.isReadonly = 0
[L]CURPRO = "FLGVATFCR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGVATFCR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGVATFCR"
$_LNKPRO_FLGVATFCR
Return


####################################################################
# 36 : RATVATREC Recovered VAT ( Field RAT 0)
####################################################################

$SET_RATVATREC
If [L]_AOLDVAL<>this.RATVATREC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RATVATREC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RATVATREC
 Gosub PROPAGATE_RATVATREC
Endif
Return

$INIT_RATVATREC
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "RATVATREC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RATVATREC
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "RATVATREC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RATVATREC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RATVATREC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RATVATREC
[L]CURPRO = "RATVATREC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RATVATREC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RATVATREC
[L]CURPRO = "RATVATREC"
Return

$_AOTHERS_RATVATREC
[L]CURPRO = "RATVATREC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RATVATREC
[L]CURPRO = "RATVATREC"
Return

$PROPAGATE_RATVATREC
this.isReadonly = 0
[L]CURPRO = "RATVATREC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RATVATREC
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "RATVATREC"
$_LNKPRO_RATVATREC
Return

$_ALOADATTRIBUTE_RATVATREC
[L]ASTATUS = fmet this.ASETATTRIBUTE("RATVATREC","$isMandatory","true")
Return


####################################################################
# 37 : AMTVATRCUR Recovered VAT amt ( Field MD1 0)
####################################################################

$SET_AMTVATRCUR
If [L]_AOLDVAL<>this.AMTVATRCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTVATRCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTVATRCUR
 Gosub PROPAGATE_AMTVATRCUR
Endif
Return

$INIT_AMTVATRCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATRCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTVATRCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATRCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTVATRCUR            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTVATRCUR            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTVATRCUR
[L]CURPRO = "AMTVATRCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTVATRCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTVATRCUR
[L]CURPRO = "AMTVATRCUR"
Return

$_AOTHERS_AMTVATRCUR
[L]CURPRO = "AMTVATRCUR"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTVATRCUR",this.AMTVATRCUR,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTVATRCUR
[L]CURPRO = "AMTVATRCUR"
Return

$PROPAGATE_AMTVATRCUR
this.isReadonly = 0
[L]CURPRO = "AMTVATRCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTVATRCUR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATRCUR"
$_LNKPRO_AMTVATRCUR
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTVATRCUR",this.AMTVATRCUR,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTVATRCUR","$x3Format",[L]AFORMAT)
Endif
Return

$_ALOADATTRIBUTE_AMTVATRCUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTVATRCUR","$isMandatory","true")
Return


####################################################################
# 38 : FLGRECFVR Force VAT recovered ( Field Local menu number 1)
####################################################################

$SET_FLGRECFVR
If [L]_AOLDVAL<>this.FLGRECFVR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGRECFVR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGRECFVR
 Gosub PROPAGATE_FLGRECFVR
Endif
Return

$INIT_FLGRECFVR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGRECFVR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGRECFVR=0 and fmet this.AGETATTRIBUTE("FLGRECFVR","$isMandatory")="true"
 this.FLGRECFVR = 1
Endif
Return
 
$CONTROL_FLGRECFVR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGRECFVR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGRECFVR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGRECFVR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGRECFVR
[L]CURPRO = "FLGRECFVR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGRECFVR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGRECFVR
[L]CURPRO = "FLGRECFVR"
If this.FLGRECFVR<0 or this.FLGRECFVR>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGRECFVR)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGRECFVR
[L]CURPRO = "FLGRECFVR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGRECFVR
[L]CURPRO = "FLGRECFVR"
Return

$PROPAGATE_FLGRECFVR
this.isReadonly = 0
[L]CURPRO = "FLGRECFVR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGRECFVR
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGRECFVR"
$_LNKPRO_FLGRECFVR
Return


####################################################################
# 39 : AMTNOTCPY Conv amount ex-tax ( Field MD1 0)
####################################################################

$SET_AMTNOTCPY
If [L]_AOLDVAL<>this.AMTNOTCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTNOTCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTNOTCPY
 Gosub PROPAGATE_AMTNOTCPY
Endif
Return

$INIT_AMTNOTCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTNOTCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTNOTCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTNOTCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTNOTCPY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTNOTCPY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTNOTCPY
[L]CURPRO = "AMTNOTCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTNOTCPY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTNOTCPY
[L]CURPRO = "AMTNOTCPY"
Return

$_AOTHERS_AMTNOTCPY
[L]CURPRO = "AMTNOTCPY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTNOTCPY",this.AMTNOTCPY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTNOTCPY
[L]CURPRO = "AMTNOTCPY"
Return

$PROPAGATE_AMTNOTCPY
this.isReadonly = 0
[L]CURPRO = "AMTNOTCPY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTNOTCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTNOTCPY"
$_LNKPRO_AMTNOTCPY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTNOTCPY",this.AMTNOTCPY,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTNOTCPY","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 40 : AMTVATCPY Converted VAT amount ( Field MD1 0)
####################################################################

$SET_AMTVATCPY
If [L]_AOLDVAL<>this.AMTVATCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTVATCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTVATCPY
 Gosub PROPAGATE_AMTVATCPY
Endif
Return

$INIT_AMTVATCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTVATCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTVATCPY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTVATCPY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTVATCPY
[L]CURPRO = "AMTVATCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTVATCPY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTVATCPY
[L]CURPRO = "AMTVATCPY"
Return

$_AOTHERS_AMTVATCPY
[L]CURPRO = "AMTVATCPY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTVATCPY",this.AMTVATCPY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTVATCPY
[L]CURPRO = "AMTVATCPY"
Return

$PROPAGATE_AMTVATCPY
this.isReadonly = 0
[L]CURPRO = "AMTVATCPY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTVATCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATCPY"
$_LNKPRO_AMTVATCPY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTVATCPY",this.AMTVATCPY,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTVATCPY","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 41 : AMTVATRCPY Conv recovered VAT amount ( Field MD1 0)
####################################################################

$SET_AMTVATRCPY
If [L]_AOLDVAL<>this.AMTVATRCPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTVATRCPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTVATRCPY
 Gosub PROPAGATE_AMTVATRCPY
Endif
Return

$INIT_AMTVATRCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATRCPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTVATRCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATRCPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTVATRCPY            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTVATRCPY            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTVATRCPY
[L]CURPRO = "AMTVATRCPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTVATRCPY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTVATRCPY
[L]CURPRO = "AMTVATRCPY"
Return

$_AOTHERS_AMTVATRCPY
[L]CURPRO = "AMTVATRCPY"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTVATRCPY",this.AMTVATRCPY,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTVATRCPY
[L]CURPRO = "AMTVATRCPY"
Return

$PROPAGATE_AMTVATRCPY
this.isReadonly = 0
[L]CURPRO = "AMTVATRCPY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTVATRCPY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTVATRCPY"
$_LNKPRO_AMTVATRCPY
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTVATRCPY",this.AMTVATRCPY,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTVATRCPY","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 42 : ACT Activity ( Field SEA 20)
####################################################################

$SET_ACT
If [L]_AOLDVAL<>this.ACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACT
 Gosub PROPAGATE_ACT
Endif
Return

$INIT_ACT
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "ACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACT
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "ACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACT
[L]CURPRO = "ACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACT
[L]CURPRO = "ACT"
If vireblc(this.ACT,2)<>vireblc(format$("K:20c",this.ACT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACT
[L]CURPRO = "ACT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACT
[L]CURPRO = "ACT"
Return

$PROPAGATE_ACT
this.isReadonly = 0
[L]CURPRO = "ACT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACT
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "ACT"
$_LNKPRO_ACT
Return


####################################################################
# 43 : USRDEN Destination ( Field AUS 5)
####################################################################

$SET_USRDEN
If [L]_AOLDVAL<>this.USRDEN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_USRDEN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.USRDEN
 Gosub PROPAGATE_USRDEN
Endif
Return

$INIT_USRDEN
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "USRDEN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_USRDEN
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "USRDEN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_USRDEN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_USRDEN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_USRDEN
[L]CURPRO = "USRDEN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.USRDEN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_USRDEN
[L]CURPRO = "USRDEN"
If vireblc(this.USRDEN,2)<>vireblc(format$("K:5B",this.USRDEN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_USRDEN
[L]CURPRO = "USRDEN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_USRDEN
[L]CURPRO = "USRDEN"
Return

$PROPAGATE_USRDEN
this.isReadonly = 0
[L]CURPRO = "USRDEN"
Gosub _LNKPRO_USRDEN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_USRDEN
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "USRDEN"
$_LNKPRO_USRDEN
If vireblc(this.USRDEN,2)<>""
 # Link AUTILIS
 Local File AUTILIS [WAUS]
 Read [F:WAUS]CODUSR = this.USRDEN
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("USRDEN","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="AUTILIS" & ZONE="INTUSR" & IDENT1=[F:WAUS]USR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("USRDEN","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WAUS]
Endif
Return


####################################################################
# 44 : GEOFCY Site ( Field BLS 5)
####################################################################

$SET_GEOFCY
If [L]_AOLDVAL<>this.GEOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GEOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GEOFCY
 Gosub PROPAGATE_GEOFCY
Endif
Return

$INIT_GEOFCY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "GEOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GEOFCY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "GEOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GEOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GEOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GEOFCY
[L]CURPRO = "GEOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GEOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GEOFCY
[L]CURPRO = "GEOFCY"
If vireblc(this.GEOFCY,2)<>vireblc(format$("K:5c",this.GEOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GEOFCY
[L]CURPRO = "GEOFCY"
If vireblc(this.GEOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBLS.ACTRLREF(this,"GEOFCY",this.GEOFCY,this.GEOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.GEOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GEOFCY
[L]CURPRO = "GEOFCY"
Return

$PROPAGATE_GEOFCY
this.isReadonly = 0
[L]CURPRO = "GEOFCY"
Gosub _LNKPRO_GEOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GEOFCY
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "GEOFCY"
$_LNKPRO_GEOFCY
If vireblc(this.GEOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.GEOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("GEOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("GEOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 45 : ACGGRP Asset group ( Field FAM 20)
####################################################################

$SET_ACGGRP
If [L]_AOLDVAL<>this.ACGGRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACGGRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACGGRP
 Gosub PROPAGATE_ACGGRP
Endif
Return

$INIT_ACGGRP
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "ACGGRP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACGGRP
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "ACGGRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACGGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACGGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACGGRP
[L]CURPRO = "ACGGRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACGGRP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACGGRP
[L]CURPRO = "ACGGRP"
If vireblc(this.ACGGRP,2)<>vireblc(format$("K:20c",this.ACGGRP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACGGRP
[L]CURPRO = "ACGGRP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACGGRP
[L]CURPRO = "ACGGRP"
Return

$PROPAGATE_ACGGRP
this.isReadonly = 0
[L]CURPRO = "ACGGRP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACGGRP
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "ACGGRP"
$_LNKPRO_ACGGRP
Return


####################################################################
# 46 : FLGGRA Subsidized ( Field Local menu number 1)
####################################################################

$SET_FLGGRA
If [L]_AOLDVAL<>this.FLGGRA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGGRA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGGRA
 Gosub PROPAGATE_FLGGRA
Endif
Return

$INIT_FLGGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGGRA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGGRA=0 and fmet this.AGETATTRIBUTE("FLGGRA","$isMandatory")="true"
 this.FLGGRA = 1
Endif
Return
 
$CONTROL_FLGGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGGRA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGGRA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGGRA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGGRA
[L]CURPRO = "FLGGRA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGGRA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGGRA
[L]CURPRO = "FLGGRA"
If this.FLGGRA<0 or this.FLGGRA>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGGRA)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGGRA
[L]CURPRO = "FLGGRA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGGRA
[L]CURPRO = "FLGGRA"
Return

$PROPAGATE_FLGGRA
this.isReadonly = 0
[L]CURPRO = "FLGGRA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGGRA"
$_LNKPRO_FLGGRA
Return


####################################################################
# 47 : AMTGRA Subsidy amount ( Field MD1 0)
####################################################################

$SET_AMTGRA
If [L]_AOLDVAL<>this.AMTGRA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTGRA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTGRA
 Gosub PROPAGATE_AMTGRA
Endif
Return

$INIT_AMTGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTGRA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTGRA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTGRA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTGRA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTGRA
[L]CURPRO = "AMTGRA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTGRA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTGRA
[L]CURPRO = "AMTGRA"
Return

$_AOTHERS_AMTGRA
[L]CURPRO = "AMTGRA"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTGRA",this.AMTGRA,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTGRA
[L]CURPRO = "AMTGRA"
Return

$PROPAGATE_AMTGRA
this.isReadonly = 0
[L]CURPRO = "AMTGRA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AMTGRA"
$_LNKPRO_AMTGRA
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTGRA",this.AMTGRA,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTGRA","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 48 : FLGAMTGRA Subsidy strength ( Field Local menu number 1)
####################################################################

$SET_FLGAMTGRA
If [L]_AOLDVAL<>this.FLGAMTGRA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGAMTGRA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGAMTGRA
 Gosub PROPAGATE_FLGAMTGRA
Endif
Return

$INIT_FLGAMTGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGAMTGRA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGAMTGRA=0 and fmet this.AGETATTRIBUTE("FLGAMTGRA","$isMandatory")="true"
 this.FLGAMTGRA = 1
Endif
Return
 
$CONTROL_FLGAMTGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGAMTGRA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGAMTGRA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGAMTGRA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGAMTGRA
[L]CURPRO = "FLGAMTGRA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGAMTGRA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGAMTGRA
[L]CURPRO = "FLGAMTGRA"
If this.FLGAMTGRA<0 or this.FLGAMTGRA>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGAMTGRA)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGAMTGRA
[L]CURPRO = "FLGAMTGRA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGAMTGRA
[L]CURPRO = "FLGAMTGRA"
Return

$PROPAGATE_FLGAMTGRA
this.isReadonly = 0
[L]CURPRO = "FLGAMTGRA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGAMTGRA
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGAMTGRA"
$_LNKPRO_FLGAMTGRA
Return


####################################################################
# 49 : CONNUM Market no ( Field Miscellaneous table number)
####################################################################

$SET_CONNUM
If [L]_AOLDVAL<>this.CONNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CONNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CONNUM
 Gosub PROPAGATE_CONNUM
Endif
Return

$INIT_CONNUM
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "CONNUM"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"CONNUM",this.CONNUM,620)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CONNUM
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "CONNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CONNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CONNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CONNUM
[L]CURPRO = "CONNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CONNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CONNUM
[L]CURPRO = "CONNUM"
If vireblc(this.CONNUM,2)<>vireblc(format$("K:20B",this.CONNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CONNUM
[L]CURPRO = "CONNUM"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"CONNUM",this.CONNUM,620,this.CONNUM)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CONNUM
[L]CURPRO = "CONNUM"
Return

$PROPAGATE_CONNUM
this.isReadonly = 0
[L]CURPRO = "CONNUM"
Gosub _LNKPRO_CONNUM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CONNUM
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "CONNUM"
$_LNKPRO_CONNUM
If vireblc(this.CONNUM,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 620;this.CONNUM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CONNUM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CONNUM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 50 : FLGLIKAAS Asset link ( Field Local menu number 1)
####################################################################

$SET_FLGLIKAAS
If [L]_AOLDVAL<>this.FLGLIKAAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGLIKAAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGLIKAAS
 Gosub PROPAGATE_FLGLIKAAS
Endif
Return

$INIT_FLGLIKAAS
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGLIKAAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGLIKAAS=0 and fmet this.AGETATTRIBUTE("FLGLIKAAS","$isMandatory")="true"
 this.FLGLIKAAS = 1
Endif
Return
 
$CONTROL_FLGLIKAAS
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGLIKAAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGLIKAAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGLIKAAS             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGLIKAAS
[L]CURPRO = "FLGLIKAAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGLIKAAS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGLIKAAS
[L]CURPRO = "FLGLIKAAS"
If this.FLGLIKAAS<0 or this.FLGLIKAAS>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGLIKAAS)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGLIKAAS
[L]CURPRO = "FLGLIKAAS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGLIKAAS
[L]CURPRO = "FLGLIKAAS"
Return

$PROPAGATE_FLGLIKAAS
this.isReadonly = 0
[L]CURPRO = "FLGLIKAAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGLIKAAS
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGLIKAAS"
$_LNKPRO_FLGLIKAAS
Return


####################################################################
# 51 : FLGLOFMAI Principal expense ( Field Local menu number 1)
####################################################################

$SET_FLGLOFMAI
If [L]_AOLDVAL<>this.FLGLOFMAI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLGLOFMAI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLGLOFMAI
 Gosub PROPAGATE_FLGLOFMAI
Endif
Return

$INIT_FLGLOFMAI
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGLOFMAI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FLGLOFMAI=0 and fmet this.AGETATTRIBUTE("FLGLOFMAI","$isMandatory")="true"
 this.FLGLOFMAI = 1
Endif
Return
 
$CONTROL_FLGLOFMAI
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGLOFMAI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLGLOFMAI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLGLOFMAI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLGLOFMAI
[L]CURPRO = "FLGLOFMAI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FLGLOFMAI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLGLOFMAI
[L]CURPRO = "FLGLOFMAI"
If this.FLGLOFMAI<0 or this.FLGLOFMAI>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.FLGLOFMAI)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_FLGLOFMAI
[L]CURPRO = "FLGLOFMAI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLGLOFMAI
[L]CURPRO = "FLGLOFMAI"
Return

$PROPAGATE_FLGLOFMAI
this.isReadonly = 0
[L]CURPRO = "FLGLOFMAI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLGLOFMAI
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "FLGLOFMAI"
$_LNKPRO_FLGLOFMAI
Return


####################################################################
# 52 : AASREF Asset reference ( Field AAS 20)
####################################################################

$SET_AASREF
If [L]_AOLDVAL<>this.AASREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AASREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AASREF
 Gosub PROPAGATE_AASREF
Endif
Return

$INIT_AASREF
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AASREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AASREF
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AASREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AASREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AASREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AASREF
[L]CURPRO = "AASREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.AASREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AASREF
[L]CURPRO = "AASREF"
If vireblc(this.AASREF,2)<>vireblc(format$("K:20c",this.AASREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_AASREF
[L]CURPRO = "AASREF"
If vireblc(this.AASREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPAAS.ACTRLREF(this,"AASREF",this.AASREF,this.AASREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.AASREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AASREF
[L]CURPRO = "AASREF"
Return

$PROPAGATE_AASREF
this.isReadonly = 0
[L]CURPRO = "AASREF"
Gosub _LNKPRO_AASREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AASREF
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "AASREF"
$_LNKPRO_AASREF
If vireblc(this.AASREF,2)<>""
 # Link FXDASSETS
 Local File FXDASSETS [WFAS]
 Read [F:WFAS]FAS0 = this.AASREF
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$title",[F:WFAS]AASDES1)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("AASREF","$description",[F:WFAS]AASDES1)
 Endif
 LogicClose File [WFAS]
Endif
Return


####################################################################
# 53 : REFTAB1 Reference free field 1 ( Field C 4)
####################################################################

$SET_REFTAB1
If [L]_AOLDVAL<>this.REFTAB1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB1
 Gosub PROPAGATE_REFTAB1
Endif
Return

$INIT_REFTAB1
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB1
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB1
[L]CURPRO = "REFTAB1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB1
[L]CURPRO = "REFTAB1"
Return

$_AOTHERS_REFTAB1
[L]CURPRO = "REFTAB1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB1
[L]CURPRO = "REFTAB1"
Return

$PROPAGATE_REFTAB1
this.isReadonly = 0
[L]CURPRO = "REFTAB1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB1
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB1"
$_LNKPRO_REFTAB1
Return


####################################################################
# 54 : REFTAB2 Reference free field 2 ( Field C 4)
####################################################################

$SET_REFTAB2
If [L]_AOLDVAL<>this.REFTAB2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB2
 Gosub PROPAGATE_REFTAB2
Endif
Return

$INIT_REFTAB2
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB2
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB2
[L]CURPRO = "REFTAB2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB2
[L]CURPRO = "REFTAB2"
Return

$_AOTHERS_REFTAB2
[L]CURPRO = "REFTAB2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB2
[L]CURPRO = "REFTAB2"
Return

$PROPAGATE_REFTAB2
this.isReadonly = 0
[L]CURPRO = "REFTAB2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB2
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB2"
$_LNKPRO_REFTAB2
Return


####################################################################
# 55 : REFTAB3 Reference free field 3 ( Field C 4)
####################################################################

$SET_REFTAB3
If [L]_AOLDVAL<>this.REFTAB3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB3
 Gosub PROPAGATE_REFTAB3
Endif
Return

$INIT_REFTAB3
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB3
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB3
[L]CURPRO = "REFTAB3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB3
[L]CURPRO = "REFTAB3"
Return

$_AOTHERS_REFTAB3
[L]CURPRO = "REFTAB3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB3
[L]CURPRO = "REFTAB3"
Return

$PROPAGATE_REFTAB3
this.isReadonly = 0
[L]CURPRO = "REFTAB3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB3
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB3"
$_LNKPRO_REFTAB3
Return


####################################################################
# 56 : REFTAB4 Reference free field 4 ( Field C 4)
####################################################################

$SET_REFTAB4
If [L]_AOLDVAL<>this.REFTAB4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB4
 Gosub PROPAGATE_REFTAB4
Endif
Return

$INIT_REFTAB4
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB4
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB4               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB4               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB4
[L]CURPRO = "REFTAB4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB4=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB4
[L]CURPRO = "REFTAB4"
Return

$_AOTHERS_REFTAB4
[L]CURPRO = "REFTAB4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB4
[L]CURPRO = "REFTAB4"
Return

$PROPAGATE_REFTAB4
this.isReadonly = 0
[L]CURPRO = "REFTAB4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB4
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB4"
$_LNKPRO_REFTAB4
Return


####################################################################
# 57 : REFTAB5 Reference free field 5 ( Field C 4)
####################################################################

$SET_REFTAB5
If [L]_AOLDVAL<>this.REFTAB5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB5
 Gosub PROPAGATE_REFTAB5
Endif
Return

$INIT_REFTAB5
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB5
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB5               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB5               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB5
[L]CURPRO = "REFTAB5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB5=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB5
[L]CURPRO = "REFTAB5"
Return

$_AOTHERS_REFTAB5
[L]CURPRO = "REFTAB5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB5
[L]CURPRO = "REFTAB5"
Return

$PROPAGATE_REFTAB5
this.isReadonly = 0
[L]CURPRO = "REFTAB5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB5
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB5"
$_LNKPRO_REFTAB5
Return


####################################################################
# 58 : REFTAB6 Reference free field 6 ( Field C 4)
####################################################################

$SET_REFTAB6
If [L]_AOLDVAL<>this.REFTAB6
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB6
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB6
 Gosub PROPAGATE_REFTAB6
Endif
Return

$INIT_REFTAB6
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB6"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB6
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB6"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB6               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB6               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB6
[L]CURPRO = "REFTAB6"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB6=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB6
[L]CURPRO = "REFTAB6"
Return

$_AOTHERS_REFTAB6
[L]CURPRO = "REFTAB6"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB6
[L]CURPRO = "REFTAB6"
Return

$PROPAGATE_REFTAB6
this.isReadonly = 0
[L]CURPRO = "REFTAB6"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB6
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB6"
$_LNKPRO_REFTAB6
Return


####################################################################
# 59 : REFTAB7 Reference free field 7 ( Field C 4)
####################################################################

$SET_REFTAB7
If [L]_AOLDVAL<>this.REFTAB7
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB7
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB7
 Gosub PROPAGATE_REFTAB7
Endif
Return

$INIT_REFTAB7
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB7"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB7
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB7"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB7               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB7               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB7
[L]CURPRO = "REFTAB7"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB7=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB7
[L]CURPRO = "REFTAB7"
Return

$_AOTHERS_REFTAB7
[L]CURPRO = "REFTAB7"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB7
[L]CURPRO = "REFTAB7"
Return

$PROPAGATE_REFTAB7
this.isReadonly = 0
[L]CURPRO = "REFTAB7"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB7
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB7"
$_LNKPRO_REFTAB7
Return


####################################################################
# 60 : REFTAB8 Reference free field 8 ( Field C 4)
####################################################################

$SET_REFTAB8
If [L]_AOLDVAL<>this.REFTAB8
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REFTAB8
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REFTAB8
 Gosub PROPAGATE_REFTAB8
Endif
Return

$INIT_REFTAB8
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB8"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REFTAB8
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB8"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REFTAB8               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REFTAB8               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REFTAB8
[L]CURPRO = "REFTAB8"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REFTAB8=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REFTAB8
[L]CURPRO = "REFTAB8"
Return

$_AOTHERS_REFTAB8
[L]CURPRO = "REFTAB8"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REFTAB8
[L]CURPRO = "REFTAB8"
Return

$PROPAGATE_REFTAB8
this.isReadonly = 0
[L]CURPRO = "REFTAB8"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REFTAB8
Gosub DECLARE_VAR From WMC0LAYOUTFAS
[L]CURPRO = "REFTAB8"
$_LNKPRO_REFTAB8
Return




