#<AdxTL>@(#)0.0.0.0 $Revision$Class Products
# Sage X3 supervisor
## ACLA-CLASSE ## ITMMASTER
# 2018-06-20 06:47:13 137


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : ITMREF Product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 3 : TCLCOD Category ( Field A 5)
####################################################################

$SET_TCLCOD
If [L]_AOLDVAL<>this.TCLCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TCLCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TCLCOD
 Gosub PROPAGATE_TCLCOD
Endif
Return

$INIT_TCLCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "TCLCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TCLCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "TCLCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TCLCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TCLCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TCLCOD
[L]CURPRO = "TCLCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TCLCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TCLCOD
[L]CURPRO = "TCLCOD"
Return

$_AOTHERS_TCLCOD
[L]CURPRO = "TCLCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TCLCOD
[L]CURPRO = "TCLCOD"
Return

$PROPAGATE_TCLCOD
this.isReadonly = 0
[L]CURPRO = "TCLCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TCLCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "TCLCOD"
$_LNKPRO_TCLCOD
Return

$_ALOADATTRIBUTE_TCLCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("TCLCOD","$isMandatory","true")
Return


####################################################################
# 4 : SEAKEY Search key ( Field A 20)
####################################################################

$SET_SEAKEY
If [L]_AOLDVAL<>this.SEAKEY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEAKEY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEAKEY
 Gosub PROPAGATE_SEAKEY
Endif
Return

$INIT_SEAKEY
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SEAKEY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEAKEY
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SEAKEY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEAKEY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEAKEY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEAKEY
[L]CURPRO = "SEAKEY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEAKEY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEAKEY
[L]CURPRO = "SEAKEY"
Return

$_AOTHERS_SEAKEY
[L]CURPRO = "SEAKEY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEAKEY
[L]CURPRO = "SEAKEY"
Return

$PROPAGATE_SEAKEY
this.isReadonly = 0
[L]CURPRO = "SEAKEY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEAKEY
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SEAKEY"
$_LNKPRO_SEAKEY
Return


####################################################################
# 6 : ACCCOD Accounting code ( Field CAC 10)
####################################################################

$SET_ACCCOD
If [L]_AOLDVAL<>this.ACCCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCCOD
 Gosub PROPAGATE_ACCCOD
Endif
Return

$INIT_ACCCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ACCCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ACCCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCCOD
[L]CURPRO = "ACCCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACCCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCCOD
[L]CURPRO = "ACCCOD"
If vireblc(this.ACCCOD,2)<>vireblc(format$("K:10c",this.ACCCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACCCOD
[L]CURPRO = "ACCCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCCOD
[L]CURPRO = "ACCCOD"
Return

$PROPAGATE_ACCCOD
this.isReadonly = 0
[L]CURPRO = "ACCCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ACCCOD"
$_LNKPRO_ACCCOD
Return


####################################################################
# 7 : ITMDES1 Description 1 ( Field DES 30)
####################################################################

$SET_ITMDES1
If [L]_AOLDVAL<>this.ITMDES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES1
 Gosub PROPAGATE_ITMDES1
Endif
Return

$INIT_ITMDES1
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES1
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES1
[L]CURPRO = "ITMDES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES1
[L]CURPRO = "ITMDES1"
If vireblc(this.ITMDES1,2)<>vireblc(format$("K:30X",this.ITMDES1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES1
[L]CURPRO = "ITMDES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES1
[L]CURPRO = "ITMDES1"
Return

$PROPAGATE_ITMDES1
this.isReadonly = 0
[L]CURPRO = "ITMDES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES1
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES1"
$_LNKPRO_ITMDES1
Return


####################################################################
# 8 : ITMDES2 Description 2 ( Field DES 30)
####################################################################

$SET_ITMDES2
If [L]_AOLDVAL<>this.ITMDES2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES2
 Gosub PROPAGATE_ITMDES2
Endif
Return

$INIT_ITMDES2
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES2
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES2
[L]CURPRO = "ITMDES2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES2
[L]CURPRO = "ITMDES2"
If vireblc(this.ITMDES2,2)<>vireblc(format$("K:30X",this.ITMDES2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES2
[L]CURPRO = "ITMDES2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES2
[L]CURPRO = "ITMDES2"
Return

$PROPAGATE_ITMDES2
this.isReadonly = 0
[L]CURPRO = "ITMDES2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES2
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES2"
$_LNKPRO_ITMDES2
Return


####################################################################
# 9 : ITMDES3 Description 3 ( Field DES 30)
####################################################################

$SET_ITMDES3
If [L]_AOLDVAL<>this.ITMDES3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES3
 Gosub PROPAGATE_ITMDES3
Endif
Return

$INIT_ITMDES3
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES3
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES3               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES3
[L]CURPRO = "ITMDES3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES3
[L]CURPRO = "ITMDES3"
If vireblc(this.ITMDES3,2)<>vireblc(format$("K:30X",this.ITMDES3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES3
[L]CURPRO = "ITMDES3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES3
[L]CURPRO = "ITMDES3"
Return

$PROPAGATE_ITMDES3
this.isReadonly = 0
[L]CURPRO = "ITMDES3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES3
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMDES3"
$_LNKPRO_ITMDES3
Return


####################################################################
# 10 : DES1AXX Description 1 ( Field AX3)
####################################################################

$GET_DES1AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES1AXX"
this.DES1AXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_DES1AXX
If [L]_AOLDVAL<>this.DES1AXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES1AXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES1AXX
 Gosub PROPAGATE_DES1AXX
Endif
Return

$INIT_DES1AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES1AXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES1AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES1AXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES1AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES1AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES1AXX
[L]CURPRO = "DES1AXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES1AXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES1AXX
[L]CURPRO = "DES1AXX"
If vireblc(fmet this.AGETTEXTRA("DES1AXX"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("DES1AXX")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DES1AXX
[L]CURPRO = "DES1AXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES1AXX
[L]CURPRO = "DES1AXX"
Return

$PROPAGATE_DES1AXX
this.isReadonly = 0
[L]CURPRO = "DES1AXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.DES1AXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES1AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES1AXX"
$_LNKPRO_DES1AXX
Return


####################################################################
# 11 : DES2AXX Description 2 ( Field AX3)
####################################################################

$GET_DES2AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES2AXX"
this.DES2AXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_DES2AXX
If [L]_AOLDVAL<>this.DES2AXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES2AXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES2AXX
 Gosub PROPAGATE_DES2AXX
Endif
Return

$INIT_DES2AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES2AXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES2AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES2AXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES2AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES2AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES2AXX
[L]CURPRO = "DES2AXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES2AXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES2AXX
[L]CURPRO = "DES2AXX"
If vireblc(fmet this.AGETTEXTRA("DES2AXX"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("DES2AXX")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DES2AXX
[L]CURPRO = "DES2AXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES2AXX
[L]CURPRO = "DES2AXX"
Return

$PROPAGATE_DES2AXX
this.isReadonly = 0
[L]CURPRO = "DES2AXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.DES2AXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES2AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES2AXX"
$_LNKPRO_DES2AXX
Return


####################################################################
# 12 : DES3AXX Description 3 ( Field AX3)
####################################################################

$GET_DES3AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES3AXX"
this.DES3AXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_DES3AXX
If [L]_AOLDVAL<>this.DES3AXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES3AXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES3AXX
 Gosub PROPAGATE_DES3AXX
Endif
Return

$INIT_DES3AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES3AXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES3AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES3AXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES3AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES3AXX               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES3AXX
[L]CURPRO = "DES3AXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES3AXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES3AXX
[L]CURPRO = "DES3AXX"
If vireblc(fmet this.AGETTEXTRA("DES3AXX"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("DES3AXX")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DES3AXX
[L]CURPRO = "DES3AXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES3AXX
[L]CURPRO = "DES3AXX"
Return

$PROPAGATE_DES3AXX
this.isReadonly = 0
[L]CURPRO = "DES3AXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.DES3AXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES3AXX
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DES3AXX"
$_LNKPRO_DES3AXX
Return


####################################################################
# 13 : STDFLG Management mode ( Field Local menu number 297)
####################################################################

$SET_STDFLG
If [L]_AOLDVAL<>this.STDFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STDFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STDFLG
 Gosub PROPAGATE_STDFLG
Endif
Return

$INIT_STDFLG
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STDFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STDFLG=0 and fmet this.AGETATTRIBUTE("STDFLG","$isMandatory")="true"
 this.STDFLG = 1
Endif
Return
 
$CONTROL_STDFLG
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STDFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STDFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STDFLG
[L]CURPRO = "STDFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STDFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STDFLG
[L]CURPRO = "STDFLG"
If this.STDFLG<0 or this.STDFLG>len(mess(0,297,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"297 ->"-num$(this.STDFLG)-mess(99,123,1)):  Return : # Local menu "297 -> Invalid option
Endif
Return

$_AOTHERS_STDFLG
[L]CURPRO = "STDFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STDFLG
[L]CURPRO = "STDFLG"
Return

$PROPAGATE_STDFLG
this.isReadonly = 0
[L]CURPRO = "STDFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STDFLG
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STDFLG"
$_LNKPRO_STDFLG
Return


####################################################################
# 14 : ITMSTD Standard ( Field A 20)
####################################################################

$SET_ITMSTD
If [L]_AOLDVAL<>this.ITMSTD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMSTD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMSTD
 Gosub PROPAGATE_ITMSTD
Endif
Return

$INIT_ITMSTD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMSTD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMSTD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMSTD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMSTD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMSTD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMSTD
[L]CURPRO = "ITMSTD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMSTD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMSTD
[L]CURPRO = "ITMSTD"
Return

$_AOTHERS_ITMSTD
[L]CURPRO = "ITMSTD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMSTD
[L]CURPRO = "ITMSTD"
Return

$PROPAGATE_ITMSTD
this.isReadonly = 0
[L]CURPRO = "ITMSTD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMSTD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMSTD"
$_LNKPRO_ITMSTD
Return


####################################################################
# 15 : EANCOD UPC code ( Field A 20)
####################################################################

$SET_EANCOD
If [L]_AOLDVAL<>this.EANCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EANCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EANCOD
 Gosub PROPAGATE_EANCOD
Endif
Return

$INIT_EANCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EANCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EANCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EANCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EANCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EANCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EANCOD
[L]CURPRO = "EANCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EANCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EANCOD
[L]CURPRO = "EANCOD"
Return

$_AOTHERS_EANCOD
[L]CURPRO = "EANCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EANCOD
[L]CURPRO = "EANCOD"
Return

$PROPAGATE_EANCOD
this.isReadonly = 0
[L]CURPRO = "EANCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EANCOD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EANCOD"
$_LNKPRO_EANCOD
Return


####################################################################
# 16 : ITMSTA Product status ( Field Local menu number 246)
####################################################################

$SET_ITMSTA
If [L]_AOLDVAL<>this.ITMSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMSTA
 Gosub PROPAGATE_ITMSTA
Endif
Return

$INIT_ITMSTA
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ITMSTA=0 and fmet this.AGETATTRIBUTE("ITMSTA","$isMandatory")="true"
 this.ITMSTA = 1
Endif
Return
 
$CONTROL_ITMSTA
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMSTA
[L]CURPRO = "ITMSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ITMSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMSTA
[L]CURPRO = "ITMSTA"
If this.ITMSTA<0 or this.ITMSTA>len(mess(0,246,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"246 ->"-num$(this.ITMSTA)-mess(99,123,1)):  Return : # Local menu "246 -> Invalid option
Endif
Return

$_AOTHERS_ITMSTA
[L]CURPRO = "ITMSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMSTA
[L]CURPRO = "ITMSTA"
Return

$PROPAGATE_ITMSTA
this.isReadonly = 0
[L]CURPRO = "ITMSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMSTA
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "ITMSTA"
$_LNKPRO_ITMSTA
Return


####################################################################
# 17 : DEFPOT Default potency % ( Field DCB 5)
####################################################################

$SET_DEFPOT
If [L]_AOLDVAL<>this.DEFPOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEFPOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEFPOT
 Gosub PROPAGATE_DEFPOT
Endif
Return

$INIT_DEFPOT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DEFPOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEFPOT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DEFPOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEFPOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEFPOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEFPOT
[L]CURPRO = "DEFPOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEFPOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEFPOT
[L]CURPRO = "DEFPOT"
Return

$_AOTHERS_DEFPOT
[L]CURPRO = "DEFPOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEFPOT
[L]CURPRO = "DEFPOT"
Return

$PROPAGATE_DEFPOT
this.isReadonly = 0
[L]CURPRO = "DEFPOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEFPOT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DEFPOT"
$_LNKPRO_DEFPOT
Return


####################################################################
# 18 : DEFACT Default title ( Field DCB 5)
####################################################################

$SET_DEFACT
If [L]_AOLDVAL<>this.DEFACT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DEFACT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DEFACT
 Gosub PROPAGATE_DEFACT
Endif
Return

$INIT_DEFACT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DEFACT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DEFACT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DEFACT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DEFACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DEFACT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DEFACT
[L]CURPRO = "DEFACT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DEFACT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DEFACT
[L]CURPRO = "DEFACT"
Return

$_AOTHERS_DEFACT
[L]CURPRO = "DEFACT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DEFACT
[L]CURPRO = "DEFACT"
Return

$PROPAGATE_DEFACT
this.isReadonly = 0
[L]CURPRO = "DEFACT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DEFACT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DEFACT"
$_LNKPRO_DEFACT
Return


####################################################################
# 19 : LIFSTRDAT Service life start ( Field D)
####################################################################

$SET_LIFSTRDAT
If [L]_AOLDVAL<>this.LIFSTRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIFSTRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIFSTRDAT
 Gosub PROPAGATE_LIFSTRDAT
Endif
Return

$INIT_LIFSTRDAT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LIFSTRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIFSTRDAT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LIFSTRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIFSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIFSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIFSTRDAT
[L]CURPRO = "LIFSTRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIFSTRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIFSTRDAT
[L]CURPRO = "LIFSTRDAT"
Return

$_AOTHERS_LIFSTRDAT
[L]CURPRO = "LIFSTRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIFSTRDAT
[L]CURPRO = "LIFSTRDAT"
Return

$PROPAGATE_LIFSTRDAT
this.isReadonly = 0
[L]CURPRO = "LIFSTRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIFSTRDAT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LIFSTRDAT"
$_LNKPRO_LIFSTRDAT
Return


####################################################################
# 20 : LIFENDDAT Service life end ( Field D)
####################################################################

$SET_LIFENDDAT
If [L]_AOLDVAL<>this.LIFENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIFENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIFENDDAT
 Gosub PROPAGATE_LIFENDDAT
Endif
Return

$INIT_LIFENDDAT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LIFENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIFENDDAT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LIFENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIFENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIFENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIFENDDAT
[L]CURPRO = "LIFENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIFENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIFENDDAT
[L]CURPRO = "LIFENDDAT"
Return

$_AOTHERS_LIFENDDAT
[L]CURPRO = "LIFENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIFENDDAT
[L]CURPRO = "LIFENDDAT"
Return

$PROPAGATE_LIFENDDAT
this.isReadonly = 0
[L]CURPRO = "LIFENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIFENDDAT
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "LIFENDDAT"
$_LNKPRO_LIFENDDAT
Return


####################################################################
# 21 : STOCRD Storage sheet ( Field A 8)
####################################################################

$SET_STOCRD
If [L]_AOLDVAL<>this.STOCRD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOCRD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOCRD
 Gosub PROPAGATE_STOCRD
Endif
Return

$INIT_STOCRD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STOCRD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STOCRD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STOCRD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOCRD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOCRD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOCRD
[L]CURPRO = "STOCRD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STOCRD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOCRD
[L]CURPRO = "STOCRD"
Return

$_AOTHERS_STOCRD
[L]CURPRO = "STOCRD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOCRD
[L]CURPRO = "STOCRD"
Return

$PROPAGATE_STOCRD
this.isReadonly = 0
[L]CURPRO = "STOCRD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOCRD
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STOCRD"
$_LNKPRO_STOCRD
Return


####################################################################
# 22 : STU Stock unit ( Field UOM 3)
####################################################################

$SET_STU
If [L]_AOLDVAL<>this.STU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STU
 Gosub PROPAGATE_STU
Endif
Return

$INIT_STU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STU
[L]CURPRO = "STU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>vireblc(format$("K:3X",this.STU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"STU",this.STU,this.STU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STU
[L]CURPRO = "STU"
Return

$PROPAGATE_STU
this.isReadonly = 0
[L]CURPRO = "STU"
Gosub _LNKPRO_STU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "STU"
$_LNKPRO_STU
If vireblc(this.STU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.STU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_STU
[L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$isMandatory","true")
Return


####################################################################
# 23 : PUU Purchase unit ( Field UOM 3)
####################################################################

$SET_PUU
If [L]_AOLDVAL<>this.PUU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PUU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PUU
 Gosub PROPAGATE_PUU
Endif
Return

$INIT_PUU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PUU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PUU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PUU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PUU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PUU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PUU
[L]CURPRO = "PUU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PUU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PUU
[L]CURPRO = "PUU"
If vireblc(this.PUU,2)<>vireblc(format$("K:3X",this.PUU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PUU
[L]CURPRO = "PUU"
If vireblc(this.PUU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"PUU",this.PUU,this.PUU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PUU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PUU
[L]CURPRO = "PUU"
Return

$PROPAGATE_PUU
this.isReadonly = 0
[L]CURPRO = "PUU"
Gosub _LNKPRO_PUU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PUU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PUU"
$_LNKPRO_PUU
If vireblc(this.PUU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.PUU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PUU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("PUU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PUU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("PUU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 24 : SAU Sales unit ( Field UOM 3)
####################################################################

$SET_SAU
If [L]_AOLDVAL<>this.SAU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAU
 Gosub PROPAGATE_SAU
Endif
Return

$INIT_SAU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SAU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SAU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAU
[L]CURPRO = "SAU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAU
[L]CURPRO = "SAU"
If vireblc(this.SAU,2)<>vireblc(format$("K:3X",this.SAU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAU
[L]CURPRO = "SAU"
If vireblc(this.SAU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"SAU",this.SAU,this.SAU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SAU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAU
[L]CURPRO = "SAU"
Return

$PROPAGATE_SAU
this.isReadonly = 0
[L]CURPRO = "SAU"
Gosub _LNKPRO_SAU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SAU"
$_LNKPRO_SAU
If vireblc(this.SAU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.SAU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 25 : SSU Statistic unit ( Field UOM 3)
####################################################################

$SET_SSU
If [L]_AOLDVAL<>this.SSU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SSU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SSU
 Gosub PROPAGATE_SSU
Endif
Return

$INIT_SSU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SSU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SSU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SSU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SSU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SSU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SSU
[L]CURPRO = "SSU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SSU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SSU
[L]CURPRO = "SSU"
If vireblc(this.SSU,2)<>vireblc(format$("K:3X",this.SSU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SSU
[L]CURPRO = "SSU"
If vireblc(this.SSU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"SSU",this.SSU,this.SSU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SSU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SSU
[L]CURPRO = "SSU"
Return

$PROPAGATE_SSU
this.isReadonly = 0
[L]CURPRO = "SSU"
Gosub _LNKPRO_SSU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SSU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SSU"
$_LNKPRO_SSU
If vireblc(this.SSU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.SSU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SSU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SSU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SSU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("SSU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_SSU
[L]ASTATUS = fmet this.ASETATTRIBUTE("SSU","$isMandatory","true")
Return


####################################################################
# 26 : EEU EU unit ( Field UOM 3)
####################################################################

$SET_EEU
If [L]_AOLDVAL<>this.EEU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EEU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EEU
 Gosub PROPAGATE_EEU
Endif
Return

$INIT_EEU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EEU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EEU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EEU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EEU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EEU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EEU
[L]CURPRO = "EEU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EEU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EEU
[L]CURPRO = "EEU"
If vireblc(this.EEU,2)<>vireblc(format$("K:3X",this.EEU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_EEU
[L]CURPRO = "EEU"
If vireblc(this.EEU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"EEU",this.EEU,this.EEU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.EEU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EEU
[L]CURPRO = "EEU"
Return

$PROPAGATE_EEU
this.isReadonly = 0
[L]CURPRO = "EEU"
Gosub _LNKPRO_EEU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EEU
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "EEU"
$_LNKPRO_EEU
If vireblc(this.EEU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.EEU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EEU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("EEU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("EEU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("EEU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 27 : PUUSTUCOE PUR-STK conv. ( Field COE 0)
####################################################################

$SET_PUUSTUCOE
If [L]_AOLDVAL<>this.PUUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PUUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PUUSTUCOE
 Gosub PROPAGATE_PUUSTUCOE
Endif
Return

$INIT_PUUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PUUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PUUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PUUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PUUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PUUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PUUSTUCOE
[L]CURPRO = "PUUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PUUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PUUSTUCOE
[L]CURPRO = "PUUSTUCOE"
Return

$_AOTHERS_PUUSTUCOE
[L]CURPRO = "PUUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PUUSTUCOE
[L]CURPRO = "PUUSTUCOE"
Return

$PROPAGATE_PUUSTUCOE
this.isReadonly = 0
[L]CURPRO = "PUUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PUUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "PUUSTUCOE"
$_LNKPRO_PUUSTUCOE
Return


####################################################################
# 28 : DACPUUCOE Purch coeff entry ( Field Local menu number 1)
####################################################################

$SET_DACPUUCOE
If [L]_AOLDVAL<>this.DACPUUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DACPUUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DACPUUCOE
 Gosub PROPAGATE_DACPUUCOE
Endif
Return

$INIT_DACPUUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DACPUUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DACPUUCOE=0 and fmet this.AGETATTRIBUTE("DACPUUCOE","$isMandatory")="true"
 this.DACPUUCOE = 1
Endif
Return
 
$CONTROL_DACPUUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DACPUUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DACPUUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DACPUUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DACPUUCOE
[L]CURPRO = "DACPUUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DACPUUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DACPUUCOE
[L]CURPRO = "DACPUUCOE"
If this.DACPUUCOE<0 or this.DACPUUCOE>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.DACPUUCOE)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_DACPUUCOE
[L]CURPRO = "DACPUUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DACPUUCOE
[L]CURPRO = "DACPUUCOE"
Return

$PROPAGATE_DACPUUCOE
this.isReadonly = 0
[L]CURPRO = "DACPUUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DACPUUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DACPUUCOE"
$_LNKPRO_DACPUUCOE
Return


####################################################################
# 29 : SAUSTUCOE SAL-STK conv. ( Field COE 0)
####################################################################

$SET_SAUSTUCOE
If [L]_AOLDVAL<>this.SAUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAUSTUCOE
 Gosub PROPAGATE_SAUSTUCOE
Endif
Return

$INIT_SAUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SAUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SAUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
Return

$_AOTHERS_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
Return

$PROPAGATE_SAUSTUCOE
this.isReadonly = 0
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAUSTUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "SAUSTUCOE"
$_LNKPRO_SAUSTUCOE
Return


####################################################################
# 30 : DACSAUCOE Sales coeff entry ( Field Local menu number 1)
####################################################################

$SET_DACSAUCOE
If [L]_AOLDVAL<>this.DACSAUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DACSAUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DACSAUCOE
 Gosub PROPAGATE_DACSAUCOE
Endif
Return

$INIT_DACSAUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DACSAUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DACSAUCOE=0 and fmet this.AGETATTRIBUTE("DACSAUCOE","$isMandatory")="true"
 this.DACSAUCOE = 1
Endif
Return
 
$CONTROL_DACSAUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DACSAUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DACSAUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DACSAUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DACSAUCOE
[L]CURPRO = "DACSAUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DACSAUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DACSAUCOE
[L]CURPRO = "DACSAUCOE"
If this.DACSAUCOE<0 or this.DACSAUCOE>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.DACSAUCOE)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_DACSAUCOE
[L]CURPRO = "DACSAUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DACSAUCOE
[L]CURPRO = "DACSAUCOE"
Return

$PROPAGATE_DACSAUCOE
this.isReadonly = 0
[L]CURPRO = "DACSAUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DACSAUCOE
Gosub DECLARE_VAR From WMC0ITMMASTER
[L]CURPRO = "DACSAUCOE"
$_LNKPRO_DACSAUCOE
Return




