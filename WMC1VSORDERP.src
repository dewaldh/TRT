#<AdxTL>@(#)0.0.0.0 $Revision$Class Sales order history - price
# Supervisor
## ACLA-CLASSE ## VSORDERP
# 2018-08-27 12:55:03 536


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : SOHNUM Order no. ( Field VCR 20)
####################################################################

$SET_SOHNUM
If [L]_AOLDVAL<>this.SOHNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOHNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOHNUM
 Gosub PROPAGATE_SOHNUM
Endif
Return

$INIT_SOHNUM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOHNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOHNUM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOHNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOHNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOHNUM
[L]CURPRO = "SOHNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SOHNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOHNUM
[L]CURPRO = "SOHNUM"
If vireblc(this.SOHNUM,2)<>vireblc(format$("K:20X",this.SOHNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SOHNUM
[L]CURPRO = "SOHNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOHNUM
[L]CURPRO = "SOHNUM"
Return

$PROPAGATE_SOHNUM
this.isReadonly = 0
[L]CURPRO = "SOHNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOHNUM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOHNUM"
$_LNKPRO_SOHNUM
Return

$_ALOADATTRIBUTE_SOHNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("SOHNUM","$isMandatory","true")
Return


####################################################################
# 2 : LINREVNUM Revision no. ( Field C 4)
####################################################################

$SET_LINREVNUM
If [L]_AOLDVAL<>this.LINREVNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINREVNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINREVNUM
 Gosub PROPAGATE_LINREVNUM
Endif
Return

$INIT_LINREVNUM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "LINREVNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LINREVNUM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "LINREVNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINREVNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINREVNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINREVNUM
[L]CURPRO = "LINREVNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINREVNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINREVNUM
[L]CURPRO = "LINREVNUM"
Return

$_AOTHERS_LINREVNUM
[L]CURPRO = "LINREVNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINREVNUM
[L]CURPRO = "LINREVNUM"
Return

$PROPAGATE_LINREVNUM
this.isReadonly = 0
[L]CURPRO = "LINREVNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINREVNUM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "LINREVNUM"
$_LNKPRO_LINREVNUM
Return

$_ALOADATTRIBUTE_LINREVNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("LINREVNUM","$isMandatory","true")
Return


####################################################################
# 3 : SOPLIN Line ( Field L 8)
####################################################################

$SET_SOPLIN
If [L]_AOLDVAL<>this.SOPLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOPLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOPLIN
 Gosub PROPAGATE_SOPLIN
Endif
Return

$INIT_SOPLIN
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOPLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOPLIN
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOPLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOPLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOPLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOPLIN
[L]CURPRO = "SOPLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOPLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOPLIN
[L]CURPRO = "SOPLIN"
Return

$_AOTHERS_SOPLIN
[L]CURPRO = "SOPLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOPLIN
[L]CURPRO = "SOPLIN"
Return

$PROPAGATE_SOPLIN
this.isReadonly = 0
[L]CURPRO = "SOPLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOPLIN
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOPLIN"
$_LNKPRO_SOPLIN
Return

$_ALOADATTRIBUTE_SOPLIN
[L]ASTATUS = fmet this.ASETATTRIBUTE("SOPLIN","$isMandatory","true")
Return


####################################################################
# 4 : SOPSEQ Sequence ( Field L 8)
####################################################################

$SET_SOPSEQ
If [L]_AOLDVAL<>this.SOPSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOPSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOPSEQ
 Gosub PROPAGATE_SOPSEQ
Endif
Return

$INIT_SOPSEQ
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOPSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SOPSEQ
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOPSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOPSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOPSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOPSEQ
[L]CURPRO = "SOPSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOPSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOPSEQ
[L]CURPRO = "SOPSEQ"
Return

$_AOTHERS_SOPSEQ
[L]CURPRO = "SOPSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOPSEQ
[L]CURPRO = "SOPSEQ"
Return

$PROPAGATE_SOPSEQ
this.isReadonly = 0
[L]CURPRO = "SOPSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOPSEQ
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOPSEQ"
$_LNKPRO_SOPSEQ
Return

$_ALOADATTRIBUTE_SOPSEQ
[L]ASTATUS = fmet this.ASETATTRIBUTE("SOPSEQ","$isMandatory","true")
Return


####################################################################
# 5 : CPY Company ( Field CPY 5)
####################################################################

$SET_CPY
If [L]_AOLDVAL<>this.CPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPY
 Gosub PROPAGATE_CPY
Endif
Return

$INIT_CPY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "CPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "CPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPY
[L]CURPRO = "CPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>vireblc(format$("K:5c",this.CPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPY
[L]CURPRO = "CPY"
If vireblc(this.CPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"CPY",this.CPY,this.CPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPY
[L]CURPRO = "CPY"
Return

$PROPAGATE_CPY
this.isReadonly = 0
[L]CURPRO = "CPY"
Gosub _LNKPRO_CPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "CPY"
$_LNKPRO_CPY
If vireblc(this.CPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.CPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return

$_ALOADATTRIBUTE_CPY
[L]ASTATUS = fmet this.ASETATTRIBUTE("CPY","$isMandatory","true")
Return


####################################################################
# 6 : REVCOD Revision code ( Field A 1)
####################################################################

$SET_REVCOD
If [L]_AOLDVAL<>this.REVCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REVCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REVCOD
 Gosub PROPAGATE_REVCOD
Endif
Return

$INIT_REVCOD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REVCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REVCOD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REVCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REVCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REVCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REVCOD
[L]CURPRO = "REVCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REVCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REVCOD
[L]CURPRO = "REVCOD"
Return

$_AOTHERS_REVCOD
[L]CURPRO = "REVCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REVCOD
[L]CURPRO = "REVCOD"
Return

$PROPAGATE_REVCOD
this.isReadonly = 0
[L]CURPRO = "REVCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REVCOD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REVCOD"
$_LNKPRO_REVCOD
Return


####################################################################
# 7 : SOHCAT Order category ( Field Local menu number 412)
####################################################################

$SET_SOHCAT
If [L]_AOLDVAL<>this.SOHCAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SOHCAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SOHCAT
 Gosub PROPAGATE_SOHCAT
Endif
Return

$INIT_SOHCAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOHCAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SOHCAT=0 and fmet this.AGETATTRIBUTE("SOHCAT","$isMandatory")="true"
 this.SOHCAT = 1
Endif
Return
 
$CONTROL_SOHCAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOHCAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SOHCAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SOHCAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SOHCAT
[L]CURPRO = "SOHCAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SOHCAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SOHCAT
[L]CURPRO = "SOHCAT"
If this.SOHCAT<0 or this.SOHCAT>len(mess(0,412,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"412 ->"-num$(this.SOHCAT)-mess(99,123,1)):  Return : # Local menu "412 -> Invalid option
Endif
Return

$_AOTHERS_SOHCAT
[L]CURPRO = "SOHCAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SOHCAT
[L]CURPRO = "SOHCAT"
Return

$PROPAGATE_SOHCAT
this.isReadonly = 0
[L]CURPRO = "SOHCAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SOHCAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SOHCAT"
$_LNKPRO_SOHCAT
Return

$_ALOADATTRIBUTE_SOHCAT
[L]ASTATUS = fmet this.ASETATTRIBUTE("SOHCAT","$isMandatory","true")
Return


####################################################################
# 8 : STRDAT Start date ( Field D)
####################################################################

$SET_STRDAT
If [L]_AOLDVAL<>this.STRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STRDAT
 Gosub PROPAGATE_STRDAT
Endif
Return

$INIT_STRDAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "STRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STRDAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "STRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STRDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STRDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STRDAT
[L]CURPRO = "STRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STRDAT
[L]CURPRO = "STRDAT"
Return

$_AOTHERS_STRDAT
[L]CURPRO = "STRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STRDAT
[L]CURPRO = "STRDAT"
Return

$PROPAGATE_STRDAT
this.isReadonly = 0
[L]CURPRO = "STRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STRDAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "STRDAT"
$_LNKPRO_STRDAT
Return


####################################################################
# 9 : ENDDAT End date ( Field D)
####################################################################

$SET_ENDDAT
If [L]_AOLDVAL<>this.ENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENDDAT
 Gosub PROPAGATE_ENDDAT
Endif
Return

$INIT_ENDDAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ENDDAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENDDAT
[L]CURPRO = "ENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENDDAT
[L]CURPRO = "ENDDAT"
Return

$_AOTHERS_ENDDAT
[L]CURPRO = "ENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENDDAT
[L]CURPRO = "ENDDAT"
Return

$PROPAGATE_ENDDAT
this.isReadonly = 0
[L]CURPRO = "ENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENDDAT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ENDDAT"
$_LNKPRO_ENDDAT
Return


####################################################################
# 10 : BPCORD Sold-to ( Field BPC 15)
####################################################################

$SET_BPCORD
If [L]_AOLDVAL<>this.BPCORD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPCORD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPCORD
 Gosub PROPAGATE_BPCORD
Endif
Return

$INIT_BPCORD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPCORD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPCORD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPCORD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPCORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPCORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPCORD
[L]CURPRO = "BPCORD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPCORD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPCORD
[L]CURPRO = "BPCORD"
If vireblc(this.BPCORD,2)<>vireblc(format$("K:15c",this.BPCORD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPCORD
[L]CURPRO = "BPCORD"
If vireblc(this.BPCORD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPC.ACTRLREF(this,"BPCORD",this.BPCORD,this.BPCORD,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPCORD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPCORD
[L]CURPRO = "BPCORD"
Return

$PROPAGATE_BPCORD
this.isReadonly = 0
[L]CURPRO = "BPCORD"
Gosub _LNKPRO_BPCORD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPCORD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPCORD"
$_LNKPRO_BPCORD
If vireblc(this.BPCORD,2)<>""
 # Link BPCUSTOMER
 Local File BPCUSTOMER [WBPC]
 Read [F:WBPC]BPC0 = this.BPCORD
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD","$title",[F:WBPC]BPCSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD","$description",[F:WBPC]BPCNAM)
 Endif
 LogicClose File [WBPC]
Endif
Return

$_ALOADATTRIBUTE_BPCORD
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPCORD","$isMandatory","true")
Return


####################################################################
# 11 : BPAADD Delivery address ( Field BPD 5)
####################################################################

$SET_BPAADD
If [L]_AOLDVAL<>this.BPAADD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPAADD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPAADD
 Gosub PROPAGATE_BPAADD
Endif
Return

$INIT_BPAADD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPAADD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPAADD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPAADD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPAADD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPAADD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPAADD
[L]CURPRO = "BPAADD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPAADD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPAADD
[L]CURPRO = "BPAADD"
If vireblc(this.BPAADD,2)<>vireblc(format$("K:5c",this.BPAADD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPAADD
[L]CURPRO = "BPAADD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPAADD
[L]CURPRO = "BPAADD"
If vireblc(this.BPAADD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPD.ACTRLREF(this,"BPAADD",this.BPAADD,this.BPCORD,this.BPAADD,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPAADD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_BPAADD
this.isReadonly = 0
[L]CURPRO = "BPAADD"
Gosub _LNKPRO_BPAADD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPAADD
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPAADD"
$_LNKPRO_BPAADD
If vireblc(this.BPAADD,2)<>""
 # Link BPDLVCUST
 Local File BPDLVCUST [WBPD]
 Read [F:WBPD]BPD0 = this.BPCORD;this.BPAADD
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADD","$description",[F:WBPD]BPDNAM)
 Endif
 LogicClose File [WBPD]
Endif
Return

$_ALOADATTRIBUTE_BPAADD
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPAADD","$isMandatory","true")
Return


####################################################################
# 12 : CNDNAM Delivery contact ( Field AIN 15)
####################################################################

$SET_CNDNAM
If [L]_AOLDVAL<>this.CNDNAM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CNDNAM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CNDNAM
 Gosub PROPAGATE_CNDNAM
Endif
Return

$INIT_CNDNAM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "CNDNAM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CNDNAM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "CNDNAM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CNDNAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CNDNAM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CNDNAM
[L]CURPRO = "CNDNAM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CNDNAM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CNDNAM
[L]CURPRO = "CNDNAM"
If vireblc(this.CNDNAM,2)<>vireblc(format$("K:15c",this.CNDNAM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CNDNAM
[L]CURPRO = "CNDNAM"
If vireblc(this.CNDNAM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPAIN.ACTRLREF(this,"CNDNAM",this.CNDNAM,this.CNDNAM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CNDNAM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CNDNAM
[L]CURPRO = "CNDNAM"
Return

$PROPAGATE_CNDNAM
this.isReadonly = 0
[L]CURPRO = "CNDNAM"
Gosub _LNKPRO_CNDNAM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CNDNAM
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "CNDNAM"
$_LNKPRO_CNDNAM
If vireblc(this.CNDNAM,2)<>""
 # Link CONTACTCRM
 Local File CONTACTCRM [WAIN]
 Read [F:WAIN]AIN0 = this.CNDNAM
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CNDNAM","$description",[F:WAIN]CNTLNA)
 Endif
 LogicClose File [WAIN]
Endif
Return


####################################################################
# 13 : BPCINV Bill-to customer ( Field BPC 15)
####################################################################

$SET_BPCINV
If [L]_AOLDVAL<>this.BPCINV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPCINV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPCINV
 Gosub PROPAGATE_BPCINV
Endif
Return

$INIT_BPCINV
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPCINV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPCINV
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPCINV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPCINV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPCINV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPCINV
[L]CURPRO = "BPCINV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPCINV,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPCINV
[L]CURPRO = "BPCINV"
If vireblc(this.BPCINV,2)<>vireblc(format$("K:15c",this.BPCINV),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPCINV
[L]CURPRO = "BPCINV"
If vireblc(this.BPCINV,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPC.ACTRLREF(this,"BPCINV",this.BPCINV,this.BPCINV,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPCINV<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPCINV
[L]CURPRO = "BPCINV"
Return

$PROPAGATE_BPCINV
this.isReadonly = 0
[L]CURPRO = "BPCINV"
Gosub _LNKPRO_BPCINV
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPCINV
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "BPCINV"
$_LNKPRO_BPCINV
If vireblc(this.BPCINV,2)<>""
 # Link BPCUSTOMER
 Local File BPCUSTOMER [WBPC]
 Read [F:WBPC]BPC0 = this.BPCINV
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCINV","$title",[F:WBPC]BPCSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPCINV","$description",[F:WBPC]BPCNAM)
 Endif
 LogicClose File [WBPC]
Endif
Return

$_ALOADATTRIBUTE_BPCINV
[L]ASTATUS = fmet this.ASETATTRIBUTE("BPCINV","$isMandatory","true")
Return


####################################################################
# 14 : STOFCY Shipment site ( Field FCY 5)
####################################################################

$SET_STOFCY
If [L]_AOLDVAL<>this.STOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOFCY
 Gosub PROPAGATE_STOFCY
Endif
Return

$INIT_STOFCY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "STOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STOFCY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "STOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOFCY
[L]CURPRO = "STOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>vireblc(format$("K:5c",this.STOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"STOFCY",this.STOFCY,this.STOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOFCY
[L]CURPRO = "STOFCY"
Return

$PROPAGATE_STOFCY
this.isReadonly = 0
[L]CURPRO = "STOFCY"
Gosub _LNKPRO_STOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOFCY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "STOFCY"
$_LNKPRO_STOFCY
If vireblc(this.STOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.STOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_STOFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$isMandatory","true")
Return


####################################################################
# 15 : SALFCY Sales site ( Field FCY 5)
####################################################################

$SET_SALFCY
If [L]_AOLDVAL<>this.SALFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SALFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SALFCY
 Gosub PROPAGATE_SALFCY
Endif
Return

$INIT_SALFCY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SALFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SALFCY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SALFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SALFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SALFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SALFCY
[L]CURPRO = "SALFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SALFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SALFCY
[L]CURPRO = "SALFCY"
If vireblc(this.SALFCY,2)<>vireblc(format$("K:5c",this.SALFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SALFCY
[L]CURPRO = "SALFCY"
If vireblc(this.SALFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"SALFCY",this.SALFCY,this.SALFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SALFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SALFCY
[L]CURPRO = "SALFCY"
Return

$PROPAGATE_SALFCY
this.isReadonly = 0
[L]CURPRO = "SALFCY"
Gosub _LNKPRO_SALFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SALFCY
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "SALFCY"
$_LNKPRO_SALFCY
If vireblc(this.SALFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.SALFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_SALFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$isMandatory","true")
Return


####################################################################
# 16 : ITMREF Product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 17 : ITMDES1 Description ( Field DES 30)
####################################################################

$SET_ITMDES1
If [L]_AOLDVAL<>this.ITMDES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES1
 Gosub PROPAGATE_ITMDES1
Endif
Return

$INIT_ITMDES1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMDES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMDES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES1
[L]CURPRO = "ITMDES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES1
[L]CURPRO = "ITMDES1"
If vireblc(this.ITMDES1,2)<>vireblc(format$("K:30X",this.ITMDES1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES1
[L]CURPRO = "ITMDES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES1
[L]CURPRO = "ITMDES1"
Return

$PROPAGATE_ITMDES1
this.isReadonly = 0
[L]CURPRO = "ITMDES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMDES1"
$_LNKPRO_ITMDES1
Return


####################################################################
# 18 : ITMDES Description ( Field DES 30)
####################################################################

$SET_ITMDES
If [L]_AOLDVAL<>this.ITMDES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMDES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMDES
 Gosub PROPAGATE_ITMDES
Endif
Return

$INIT_ITMDES
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMDES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMDES
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMDES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMDES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMDES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMDES
[L]CURPRO = "ITMDES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMDES,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMDES
[L]CURPRO = "ITMDES"
If vireblc(this.ITMDES,2)<>vireblc(format$("K:30X",this.ITMDES),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMDES
[L]CURPRO = "ITMDES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMDES
[L]CURPRO = "ITMDES"
Return

$PROPAGATE_ITMDES
this.isReadonly = 0
[L]CURPRO = "ITMDES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMDES
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMDES"
$_LNKPRO_ITMDES
Return


####################################################################
# 19 : ITMREFBPC Customer product ( Field A 20)
####################################################################

$SET_ITMREFBPC
If [L]_AOLDVAL<>this.ITMREFBPC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREFBPC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREFBPC
 Gosub PROPAGATE_ITMREFBPC
Endif
Return

$INIT_ITMREFBPC
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMREFBPC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREFBPC
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMREFBPC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREFBPC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREFBPC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREFBPC
[L]CURPRO = "ITMREFBPC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREFBPC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREFBPC
[L]CURPRO = "ITMREFBPC"
Return

$_AOTHERS_ITMREFBPC
[L]CURPRO = "ITMREFBPC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREFBPC
[L]CURPRO = "ITMREFBPC"
Return

$PROPAGATE_ITMREFBPC
this.isReadonly = 0
[L]CURPRO = "ITMREFBPC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREFBPC
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "ITMREFBPC"
$_LNKPRO_ITMREFBPC
Return


####################################################################
# 21 : REP1 Sales rep 1 ( Field REP 15)
####################################################################

$SET_REP1
If [L]_AOLDVAL<>this.REP1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REP1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REP1
 Gosub PROPAGATE_REP1
Endif
Return

$INIT_REP1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REP1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REP1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REP1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REP1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REP1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REP1
[L]CURPRO = "REP1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REP1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REP1
[L]CURPRO = "REP1"
If vireblc(this.REP1,2)<>vireblc(format$("K:15c",this.REP1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REP1
[L]CURPRO = "REP1"
If vireblc(this.REP1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPREP.ACTRLREF(this,"REP1",this.REP1,this.REP1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.REP1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REP1
[L]CURPRO = "REP1"
Return

$PROPAGATE_REP1
this.isReadonly = 0
[L]CURPRO = "REP1"
Gosub _LNKPRO_REP1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REP1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REP1"
$_LNKPRO_REP1
If vireblc(this.REP1,2)<>""
 # Link SALESREP
 Local File SALESREP [WREP]
 Read [F:WREP]REP0 = this.REP1
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REP1","$description",[F:WREP]REPNAM)
 Endif
 LogicClose File [WREP]
Endif
Return


####################################################################
# 22 : REP2 Sales rep 2 ( Field REP 15)
####################################################################

$SET_REP2
If [L]_AOLDVAL<>this.REP2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REP2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REP2
 Gosub PROPAGATE_REP2
Endif
Return

$INIT_REP2
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REP2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REP2
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REP2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REP2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REP2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REP2
[L]CURPRO = "REP2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REP2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REP2
[L]CURPRO = "REP2"
If vireblc(this.REP2,2)<>vireblc(format$("K:15c",this.REP2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REP2
[L]CURPRO = "REP2"
If vireblc(this.REP2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPREP.ACTRLREF(this,"REP2",this.REP2,this.REP2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.REP2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REP2
[L]CURPRO = "REP2"
Return

$PROPAGATE_REP2
this.isReadonly = 0
[L]CURPRO = "REP2"
Gosub _LNKPRO_REP2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REP2
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REP2"
$_LNKPRO_REP2
If vireblc(this.REP2,2)<>""
 # Link SALESREP
 Local File SALESREP [WREP]
 Read [F:WREP]REP0 = this.REP2
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REP2","$description",[F:WREP]REPNAM)
 Endif
 LogicClose File [WREP]
Endif
Return


####################################################################
# 23 : REPRAT1 Commission rate 1 ( Field RAT 0)
####################################################################

$SET_REPRAT1
If [L]_AOLDVAL<>this.REPRAT1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPRAT1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPRAT1
 Gosub PROPAGATE_REPRAT1
Endif
Return

$INIT_REPRAT1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPRAT1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPRAT1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPRAT1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPRAT1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPRAT1               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPRAT1
[L]CURPRO = "REPRAT1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REPRAT1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPRAT1
[L]CURPRO = "REPRAT1"
Return

$_AOTHERS_REPRAT1
[L]CURPRO = "REPRAT1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPRAT1
[L]CURPRO = "REPRAT1"
Return

$PROPAGATE_REPRAT1
this.isReadonly = 0
[L]CURPRO = "REPRAT1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPRAT1
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPRAT1"
$_LNKPRO_REPRAT1
Return


####################################################################
# 24 : REPRAT2 Commission rate 2 ( Field RAT 0)
####################################################################

$SET_REPRAT2
If [L]_AOLDVAL<>this.REPRAT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPRAT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPRAT2
 Gosub PROPAGATE_REPRAT2
Endif
Return

$INIT_REPRAT2
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPRAT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPRAT2
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPRAT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPRAT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPRAT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPRAT2
[L]CURPRO = "REPRAT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REPRAT2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPRAT2
[L]CURPRO = "REPRAT2"
Return

$_AOTHERS_REPRAT2
[L]CURPRO = "REPRAT2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPRAT2
[L]CURPRO = "REPRAT2"
Return

$PROPAGATE_REPRAT2
this.isReadonly = 0
[L]CURPRO = "REPRAT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPRAT2
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPRAT2"
$_LNKPRO_REPRAT2
Return


####################################################################
# 25 : REPCOE Commission factor ( Field CCR 0)
####################################################################

$SET_REPCOE
If [L]_AOLDVAL<>this.REPCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REPCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REPCOE
 Gosub PROPAGATE_REPCOE
Endif
Return

$INIT_REPCOE
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REPCOE
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REPCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REPCOE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REPCOE
[L]CURPRO = "REPCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REPCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REPCOE
[L]CURPRO = "REPCOE"
Return

$_AOTHERS_REPCOE
[L]CURPRO = "REPCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REPCOE
[L]CURPRO = "REPCOE"
Return

$PROPAGATE_REPCOE
this.isReadonly = 0
[L]CURPRO = "REPCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REPCOE
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "REPCOE"
$_LNKPRO_REPCOE
Return


####################################################################
# 26 : GROPRI Gross price ( Field MD8 0)
####################################################################

$SET_GROPRI
If [L]_AOLDVAL<>this.GROPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GROPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GROPRI
 Gosub PROPAGATE_GROPRI
Endif
Return

$INIT_GROPRI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "GROPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GROPRI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "GROPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GROPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GROPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GROPRI
[L]CURPRO = "GROPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GROPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GROPRI
[L]CURPRO = "GROPRI"
Return

$_AOTHERS_GROPRI
[L]CURPRO = "GROPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GROPRI
[L]CURPRO = "GROPRI"
Return

$PROPAGATE_GROPRI
this.isReadonly = 0
[L]CURPRO = "GROPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GROPRI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "GROPRI"
$_LNKPRO_GROPRI
Return


####################################################################
# 27 : PRIREN Price reason ( Field SPR 0)
####################################################################

$SET_PRIREN
If [L]_AOLDVAL<>this.PRIREN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIREN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIREN
 Gosub PROPAGATE_PRIREN
Endif
Return

$INIT_PRIREN
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "PRIREN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIREN
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "PRIREN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIREN
[L]CURPRO = "PRIREN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIREN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIREN
[L]CURPRO = "PRIREN"
Return

$_AOTHERS_PRIREN
[L]CURPRO = "PRIREN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIREN
[L]CURPRO = "PRIREN"
Return

$PROPAGATE_PRIREN
this.isReadonly = 0
[L]CURPRO = "PRIREN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIREN
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "PRIREN"
$_LNKPRO_PRIREN
Return


####################################################################
# 28 : NETPRI Net price ( Field MD8 0)
####################################################################

$SET_NETPRI
If [L]_AOLDVAL<>this.NETPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRI
 Gosub PROPAGATE_NETPRI
Endif
Return

$INIT_NETPRI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRI
[L]CURPRO = "NETPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRI
[L]CURPRO = "NETPRI"
Return

$_AOTHERS_NETPRI
[L]CURPRO = "NETPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRI
[L]CURPRO = "NETPRI"
Return

$PROPAGATE_NETPRI
this.isReadonly = 0
[L]CURPRO = "NETPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRI"
$_LNKPRO_NETPRI
Return


####################################################################
# 29 : NETPRINOT Net price - tax ( Field MD8 0)
####################################################################

$SET_NETPRINOT
If [L]_AOLDVAL<>this.NETPRINOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRINOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRINOT
 Gosub PROPAGATE_NETPRINOT
Endif
Return

$INIT_NETPRINOT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRINOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRINOT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRINOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRINOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRINOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRINOT
[L]CURPRO = "NETPRINOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRINOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRINOT
[L]CURPRO = "NETPRINOT"
Return

$_AOTHERS_NETPRINOT
[L]CURPRO = "NETPRINOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRINOT
[L]CURPRO = "NETPRINOT"
Return

$PROPAGATE_NETPRINOT
this.isReadonly = 0
[L]CURPRO = "NETPRINOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRINOT
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRINOT"
$_LNKPRO_NETPRINOT
Return


####################################################################
# 30 : NETPRIATI Net price + tax ( Field MD8 0)
####################################################################

$SET_NETPRIATI
If [L]_AOLDVAL<>this.NETPRIATI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NETPRIATI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NETPRIATI
 Gosub PROPAGATE_NETPRIATI
Endif
Return

$INIT_NETPRIATI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRIATI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NETPRIATI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRIATI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NETPRIATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NETPRIATI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NETPRIATI
[L]CURPRO = "NETPRIATI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NETPRIATI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NETPRIATI
[L]CURPRO = "NETPRIATI"
Return

$_AOTHERS_NETPRIATI
[L]CURPRO = "NETPRIATI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NETPRIATI
[L]CURPRO = "NETPRIATI"
Return

$PROPAGATE_NETPRIATI
this.isReadonly = 0
[L]CURPRO = "NETPRIATI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NETPRIATI
Gosub DECLARE_VAR From WMC0VSORDERP
[L]CURPRO = "NETPRIATI"
$_LNKPRO_NETPRIATI
Return




