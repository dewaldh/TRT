#<AdxTL>@(#)0.0.0.0 $Revision$Class Tax determination table
# Supervisor
## ACLA-CLASSE ## TABVAC
# 2018-08-27 13:39:14 112

 
####################################################################
# Labels of the main class and methods 
####################################################################
 
####################################################################
# 1 : FLD1 Field ( Field AVA 12)
####################################################################
 
$SET_FLD1
If [L]_AOLDVAL<>this.FLD1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLD1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLD1
 Gosub PROPAGATE_FLD1
Endif
Return

$INIT_FLD1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLD1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLD1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLD1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLD1
[L]CURPRO = "FLD1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLD1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLD1
[L]CURPRO = "FLD1"
If vireblc(this.FLD1,2)<>vireblc(format$("KTD:A11u",this.FLD1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FLD1
[L]CURPRO = "FLD1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLD1
[L]CURPRO = "FLD1"
Return

$PROPAGATE_FLD1
this.isReadonly = 0
[L]CURPRO = "FLD1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLD1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD1"
$_LNKPRO_FLD1
Return


####################################################################
# 2 : DES1 Description ( Field A 16)
####################################################################
 
$SET_DES1
If [L]_AOLDVAL<>this.DES1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES1
 Gosub PROPAGATE_DES1
Endif
Return

$INIT_DES1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES1
[L]CURPRO = "DES1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES1
[L]CURPRO = "DES1"
Return

$_AOTHERS_DES1
[L]CURPRO = "DES1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES1
[L]CURPRO = "DES1"
Return

$PROPAGATE_DES1
this.isReadonly = 0
[L]CURPRO = "DES1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES1"
$_LNKPRO_DES1
Return


####################################################################
# 3 : OPE1 Operator ( Field Local menu number 55)
####################################################################
 
$SET_OPE1
If [L]_AOLDVAL<>this.OPE1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPE1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPE1
 Gosub PROPAGATE_OPE1
Endif
Return

$INIT_OPE1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPE1=0 and fmet this.AGETATTRIBUTE("OPE1","$isMandatory")="true"
 this.OPE1 = 1
Endif
Return
 
$CONTROL_OPE1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPE1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPE1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPE1
[L]CURPRO = "OPE1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPE1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPE1
[L]CURPRO = "OPE1"
If this.OPE1<0 or this.OPE1>len(mess(0,55,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"55 ->"-num$(this.OPE1)-mess(99,123,1)):  Return : # Local menu "55 -> Invalid option
Endif
Return

$_AOTHERS_OPE1
[L]CURPRO = "OPE1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPE1
[L]CURPRO = "OPE1"
Return

$PROPAGATE_OPE1
this.isReadonly = 0
[L]CURPRO = "OPE1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPE1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE1"
$_LNKPRO_OPE1
Return


####################################################################
# 4 : VAL1 Value ( Field AVV 80)
####################################################################
 
$SET_VAL1
If [L]_AOLDVAL<>this.VAL1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAL1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAL1
 Gosub PROPAGATE_VAL1
Endif
Return

$INIT_VAL1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAL1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAL1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAL1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAL1
[L]CURPRO = "VAL1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAL1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAL1
[L]CURPRO = "VAL1"
Return

$_AOTHERS_VAL1
[L]CURPRO = "VAL1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAL1
[L]CURPRO = "VAL1"
Return

$PROPAGATE_VAL1
this.isReadonly = 0
[L]CURPRO = "VAL1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAL1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL1"
$_LNKPRO_VAL1
Return


####################################################################
# 5 : VALI1 Value ( Field A 80)
####################################################################
 
$SET_VALI1
If [L]_AOLDVAL<>this.VALI1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALI1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALI1
 Gosub PROPAGATE_VALI1
Endif
Return

$INIT_VALI1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALI1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALI1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALI1                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALI1
[L]CURPRO = "VALI1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VALI1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALI1
[L]CURPRO = "VALI1"
Return

$_AOTHERS_VALI1
[L]CURPRO = "VALI1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALI1
[L]CURPRO = "VALI1"
Return

$PROPAGATE_VALI1
this.isReadonly = 0
[L]CURPRO = "VALI1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALI1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI1"
$_LNKPRO_VALI1
Return


####################################################################
# 6 : TBL1 Table ( Field ATB 12)
####################################################################
 
$SET_TBL1
If [L]_AOLDVAL<>this.TBL1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TBL1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TBL1
 Gosub PROPAGATE_TBL1
Endif
Return

$INIT_TBL1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TBL1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TBL1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TBL1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TBL1
[L]CURPRO = "TBL1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TBL1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TBL1
[L]CURPRO = "TBL1"
If vireblc(this.TBL1,2)<>vireblc(format$("KTD:A11B",this.TBL1),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TBL1
[L]CURPRO = "TBL1"
If vireblc(this.TBL1,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"TBL1",this.TBL1,this.TBL1,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TBL1<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TBL1
[L]CURPRO = "TBL1"
Return

$PROPAGATE_TBL1
this.isReadonly = 0
[L]CURPRO = "TBL1"
Gosub _LNKPRO_TBL1
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TBL1
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL1"
$_LNKPRO_TBL1
If vireblc(this.TBL1,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.TBL1
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("TBL1","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 7 : ANDOR2 And / or ( Field Local menu number 56)
####################################################################
 
$SET_ANDOR2
If [L]_AOLDVAL<>this.ANDOR2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ANDOR2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ANDOR2
 Gosub PROPAGATE_ANDOR2
Endif
Return

$INIT_ANDOR2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ANDOR2=0 and fmet this.AGETATTRIBUTE("ANDOR2","$isMandatory")="true"
 this.ANDOR2 = 1
Endif
Return
 
$CONTROL_ANDOR2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ANDOR2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ANDOR2                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ANDOR2
[L]CURPRO = "ANDOR2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ANDOR2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ANDOR2
[L]CURPRO = "ANDOR2"
If this.ANDOR2<0 or this.ANDOR2>len(mess(0,56,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"56 ->"-num$(this.ANDOR2)-mess(99,123,1)):  Return : # Local menu "56 -> Invalid option
Endif
Return

$_AOTHERS_ANDOR2
[L]CURPRO = "ANDOR2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ANDOR2
[L]CURPRO = "ANDOR2"
Return

$PROPAGATE_ANDOR2
this.isReadonly = 0
[L]CURPRO = "ANDOR2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ANDOR2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR2"
$_LNKPRO_ANDOR2
Return


####################################################################
# 8 : FLD2 Field ( Field AVA 12)
####################################################################
 
$SET_FLD2
If [L]_AOLDVAL<>this.FLD2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLD2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLD2
 Gosub PROPAGATE_FLD2
Endif
Return

$INIT_FLD2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLD2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLD2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLD2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLD2
[L]CURPRO = "FLD2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLD2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLD2
[L]CURPRO = "FLD2"
If vireblc(this.FLD2,2)<>vireblc(format$("KTD:A11u",this.FLD2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FLD2
[L]CURPRO = "FLD2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLD2
[L]CURPRO = "FLD2"
Return

$PROPAGATE_FLD2
this.isReadonly = 0
[L]CURPRO = "FLD2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLD2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD2"
$_LNKPRO_FLD2
Return


####################################################################
# 9 : DES2 Description ( Field A 16)
####################################################################
 
$SET_DES2
If [L]_AOLDVAL<>this.DES2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES2
 Gosub PROPAGATE_DES2
Endif
Return

$INIT_DES2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES2
[L]CURPRO = "DES2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES2
[L]CURPRO = "DES2"
Return

$_AOTHERS_DES2
[L]CURPRO = "DES2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES2
[L]CURPRO = "DES2"
Return

$PROPAGATE_DES2
this.isReadonly = 0
[L]CURPRO = "DES2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES2"
$_LNKPRO_DES2
Return


####################################################################
# 10 : OPE2 Operator ( Field Local menu number 55)
####################################################################
 
$SET_OPE2
If [L]_AOLDVAL<>this.OPE2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPE2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPE2
 Gosub PROPAGATE_OPE2
Endif
Return

$INIT_OPE2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPE2=0 and fmet this.AGETATTRIBUTE("OPE2","$isMandatory")="true"
 this.OPE2 = 1
Endif
Return
 
$CONTROL_OPE2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPE2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPE2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPE2
[L]CURPRO = "OPE2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPE2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPE2
[L]CURPRO = "OPE2"
If this.OPE2<0 or this.OPE2>len(mess(0,55,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"55 ->"-num$(this.OPE2)-mess(99,123,1)):  Return : # Local menu "55 -> Invalid option
Endif
Return

$_AOTHERS_OPE2
[L]CURPRO = "OPE2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPE2
[L]CURPRO = "OPE2"
Return

$PROPAGATE_OPE2
this.isReadonly = 0
[L]CURPRO = "OPE2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPE2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE2"
$_LNKPRO_OPE2
Return


####################################################################
# 11 : VAL2 Value ( Field AVV 80)
####################################################################
 
$SET_VAL2
If [L]_AOLDVAL<>this.VAL2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAL2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAL2
 Gosub PROPAGATE_VAL2
Endif
Return

$INIT_VAL2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAL2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAL2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAL2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAL2
[L]CURPRO = "VAL2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAL2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAL2
[L]CURPRO = "VAL2"
Return

$_AOTHERS_VAL2
[L]CURPRO = "VAL2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAL2
[L]CURPRO = "VAL2"
Return

$PROPAGATE_VAL2
this.isReadonly = 0
[L]CURPRO = "VAL2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAL2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL2"
$_LNKPRO_VAL2
Return


####################################################################
# 12 : VALI2 Value ( Field A 80)
####################################################################
 
$SET_VALI2
If [L]_AOLDVAL<>this.VALI2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALI2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALI2
 Gosub PROPAGATE_VALI2
Endif
Return

$INIT_VALI2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALI2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALI2                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALI2                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALI2
[L]CURPRO = "VALI2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VALI2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALI2
[L]CURPRO = "VALI2"
Return

$_AOTHERS_VALI2
[L]CURPRO = "VALI2"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALI2
[L]CURPRO = "VALI2"
Return

$PROPAGATE_VALI2
this.isReadonly = 0
[L]CURPRO = "VALI2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALI2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI2"
$_LNKPRO_VALI2
Return


####################################################################
# 13 : TBL2 Table ( Field ATB 12)
####################################################################
 
$SET_TBL2
If [L]_AOLDVAL<>this.TBL2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TBL2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TBL2
 Gosub PROPAGATE_TBL2
Endif
Return

$INIT_TBL2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TBL2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TBL2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TBL2                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TBL2
[L]CURPRO = "TBL2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TBL2,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TBL2
[L]CURPRO = "TBL2"
If vireblc(this.TBL2,2)<>vireblc(format$("KTD:A11B",this.TBL2),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TBL2
[L]CURPRO = "TBL2"
If vireblc(this.TBL2,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"TBL2",this.TBL2,this.TBL2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TBL2<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TBL2
[L]CURPRO = "TBL2"
Return

$PROPAGATE_TBL2
this.isReadonly = 0
[L]CURPRO = "TBL2"
Gosub _LNKPRO_TBL2
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TBL2
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL2"
$_LNKPRO_TBL2
If vireblc(this.TBL2,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.TBL2
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("TBL2","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 14 : ANDOR3 And / or ( Field Local menu number 56)
####################################################################
 
$SET_ANDOR3
If [L]_AOLDVAL<>this.ANDOR3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ANDOR3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ANDOR3
 Gosub PROPAGATE_ANDOR3
Endif
Return

$INIT_ANDOR3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ANDOR3=0 and fmet this.AGETATTRIBUTE("ANDOR3","$isMandatory")="true"
 this.ANDOR3 = 1
Endif
Return
 
$CONTROL_ANDOR3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ANDOR3                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ANDOR3                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ANDOR3
[L]CURPRO = "ANDOR3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ANDOR3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ANDOR3
[L]CURPRO = "ANDOR3"
If this.ANDOR3<0 or this.ANDOR3>len(mess(0,56,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"56 ->"-num$(this.ANDOR3)-mess(99,123,1)):  Return : # Local menu "56 -> Invalid option
Endif
Return

$_AOTHERS_ANDOR3
[L]CURPRO = "ANDOR3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ANDOR3
[L]CURPRO = "ANDOR3"
Return

$PROPAGATE_ANDOR3
this.isReadonly = 0
[L]CURPRO = "ANDOR3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ANDOR3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR3"
$_LNKPRO_ANDOR3
Return


####################################################################
# 15 : FLD3 Field ( Field AVA 12)
####################################################################
 
$SET_FLD3
If [L]_AOLDVAL<>this.FLD3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLD3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLD3
 Gosub PROPAGATE_FLD3
Endif
Return

$INIT_FLD3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLD3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLD3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLD3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLD3
[L]CURPRO = "FLD3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLD3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLD3
[L]CURPRO = "FLD3"
If vireblc(this.FLD3,2)<>vireblc(format$("KTD:A11u",this.FLD3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FLD3
[L]CURPRO = "FLD3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLD3
[L]CURPRO = "FLD3"
Return

$PROPAGATE_FLD3
this.isReadonly = 0
[L]CURPRO = "FLD3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLD3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD3"
$_LNKPRO_FLD3
Return


####################################################################
# 16 : DES3 Description ( Field A 16)
####################################################################
 
$SET_DES3
If [L]_AOLDVAL<>this.DES3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES3
 Gosub PROPAGATE_DES3
Endif
Return

$INIT_DES3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES3
[L]CURPRO = "DES3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES3
[L]CURPRO = "DES3"
Return

$_AOTHERS_DES3
[L]CURPRO = "DES3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES3
[L]CURPRO = "DES3"
Return

$PROPAGATE_DES3
this.isReadonly = 0
[L]CURPRO = "DES3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES3"
$_LNKPRO_DES3
Return


####################################################################
# 17 : OPE3 Operator ( Field Local menu number 55)
####################################################################
 
$SET_OPE3
If [L]_AOLDVAL<>this.OPE3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPE3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPE3
 Gosub PROPAGATE_OPE3
Endif
Return

$INIT_OPE3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPE3=0 and fmet this.AGETATTRIBUTE("OPE3","$isMandatory")="true"
 this.OPE3 = 1
Endif
Return
 
$CONTROL_OPE3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPE3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPE3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPE3
[L]CURPRO = "OPE3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPE3=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPE3
[L]CURPRO = "OPE3"
If this.OPE3<0 or this.OPE3>len(mess(0,55,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"55 ->"-num$(this.OPE3)-mess(99,123,1)):  Return : # Local menu "55 -> Invalid option
Endif
Return

$_AOTHERS_OPE3
[L]CURPRO = "OPE3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPE3
[L]CURPRO = "OPE3"
Return

$PROPAGATE_OPE3
this.isReadonly = 0
[L]CURPRO = "OPE3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPE3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE3"
$_LNKPRO_OPE3
Return


####################################################################
# 18 : VAL3 Value ( Field AVV 80)
####################################################################
 
$SET_VAL3
If [L]_AOLDVAL<>this.VAL3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAL3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAL3
 Gosub PROPAGATE_VAL3
Endif
Return

$INIT_VAL3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAL3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAL3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAL3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAL3
[L]CURPRO = "VAL3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAL3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAL3
[L]CURPRO = "VAL3"
Return

$_AOTHERS_VAL3
[L]CURPRO = "VAL3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAL3
[L]CURPRO = "VAL3"
Return

$PROPAGATE_VAL3
this.isReadonly = 0
[L]CURPRO = "VAL3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAL3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL3"
$_LNKPRO_VAL3
Return


####################################################################
# 19 : VALI3 Value ( Field A 80)
####################################################################
 
$SET_VALI3
If [L]_AOLDVAL<>this.VALI3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALI3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALI3
 Gosub PROPAGATE_VALI3
Endif
Return

$INIT_VALI3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALI3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALI3                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALI3                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALI3
[L]CURPRO = "VALI3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VALI3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALI3
[L]CURPRO = "VALI3"
Return

$_AOTHERS_VALI3
[L]CURPRO = "VALI3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALI3
[L]CURPRO = "VALI3"
Return

$PROPAGATE_VALI3
this.isReadonly = 0
[L]CURPRO = "VALI3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALI3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI3"
$_LNKPRO_VALI3
Return


####################################################################
# 20 : TBL3 Table ( Field ATB 12)
####################################################################
 
$SET_TBL3
If [L]_AOLDVAL<>this.TBL3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TBL3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TBL3
 Gosub PROPAGATE_TBL3
Endif
Return

$INIT_TBL3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TBL3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TBL3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TBL3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TBL3
[L]CURPRO = "TBL3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TBL3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TBL3
[L]CURPRO = "TBL3"
If vireblc(this.TBL3,2)<>vireblc(format$("KTD:A11B",this.TBL3),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TBL3
[L]CURPRO = "TBL3"
If vireblc(this.TBL3,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"TBL3",this.TBL3,this.TBL3,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TBL3<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TBL3
[L]CURPRO = "TBL3"
Return

$PROPAGATE_TBL3
this.isReadonly = 0
[L]CURPRO = "TBL3"
Gosub _LNKPRO_TBL3
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TBL3
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL3"
$_LNKPRO_TBL3
If vireblc(this.TBL3,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.TBL3
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("TBL3","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 21 : ANDOR4 And / or ( Field Local menu number 56)
####################################################################
 
$SET_ANDOR4
If [L]_AOLDVAL<>this.ANDOR4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ANDOR4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ANDOR4
 Gosub PROPAGATE_ANDOR4
Endif
Return

$INIT_ANDOR4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ANDOR4=0 and fmet this.AGETATTRIBUTE("ANDOR4","$isMandatory")="true"
 this.ANDOR4 = 1
Endif
Return
 
$CONTROL_ANDOR4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ANDOR4                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ANDOR4                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ANDOR4
[L]CURPRO = "ANDOR4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ANDOR4=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ANDOR4
[L]CURPRO = "ANDOR4"
If this.ANDOR4<0 or this.ANDOR4>len(mess(0,56,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"56 ->"-num$(this.ANDOR4)-mess(99,123,1)):  Return : # Local menu "56 -> Invalid option
Endif
Return

$_AOTHERS_ANDOR4
[L]CURPRO = "ANDOR4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ANDOR4
[L]CURPRO = "ANDOR4"
Return

$PROPAGATE_ANDOR4
this.isReadonly = 0
[L]CURPRO = "ANDOR4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ANDOR4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR4"
$_LNKPRO_ANDOR4
Return


####################################################################
# 22 : FLD4 Field ( Field AVA 12)
####################################################################
 
$SET_FLD4
If [L]_AOLDVAL<>this.FLD4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLD4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLD4
 Gosub PROPAGATE_FLD4
Endif
Return

$INIT_FLD4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLD4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLD4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLD4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLD4
[L]CURPRO = "FLD4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLD4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLD4
[L]CURPRO = "FLD4"
If vireblc(this.FLD4,2)<>vireblc(format$("KTD:A11u",this.FLD4),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FLD4
[L]CURPRO = "FLD4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLD4
[L]CURPRO = "FLD4"
Return

$PROPAGATE_FLD4
this.isReadonly = 0
[L]CURPRO = "FLD4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLD4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD4"
$_LNKPRO_FLD4
Return


####################################################################
# 23 : DES4 Description ( Field A 16)
####################################################################
 
$SET_DES4
If [L]_AOLDVAL<>this.DES4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES4
 Gosub PROPAGATE_DES4
Endif
Return

$INIT_DES4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES4
[L]CURPRO = "DES4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES4
[L]CURPRO = "DES4"
Return

$_AOTHERS_DES4
[L]CURPRO = "DES4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES4
[L]CURPRO = "DES4"
Return

$PROPAGATE_DES4
this.isReadonly = 0
[L]CURPRO = "DES4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES4"
$_LNKPRO_DES4
Return


####################################################################
# 24 : OPE4 Operator ( Field Local menu number 55)
####################################################################
 
$SET_OPE4
If [L]_AOLDVAL<>this.OPE4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPE4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPE4
 Gosub PROPAGATE_OPE4
Endif
Return

$INIT_OPE4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OPE4=0 and fmet this.AGETATTRIBUTE("OPE4","$isMandatory")="true"
 this.OPE4 = 1
Endif
Return
 
$CONTROL_OPE4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPE4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPE4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPE4
[L]CURPRO = "OPE4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPE4=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPE4
[L]CURPRO = "OPE4"
If this.OPE4<0 or this.OPE4>len(mess(0,55,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"55 ->"-num$(this.OPE4)-mess(99,123,1)):  Return : # Local menu "55 -> Invalid option
Endif
Return

$_AOTHERS_OPE4
[L]CURPRO = "OPE4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPE4
[L]CURPRO = "OPE4"
Return

$PROPAGATE_OPE4
this.isReadonly = 0
[L]CURPRO = "OPE4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPE4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "OPE4"
$_LNKPRO_OPE4
Return


####################################################################
# 25 : VAL4 Value ( Field AVV 80)
####################################################################
 
$SET_VAL4
If [L]_AOLDVAL<>this.VAL4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VAL4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VAL4
 Gosub PROPAGATE_VAL4
Endif
Return

$INIT_VAL4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VAL4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VAL4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VAL4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VAL4
[L]CURPRO = "VAL4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VAL4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VAL4
[L]CURPRO = "VAL4"
Return

$_AOTHERS_VAL4
[L]CURPRO = "VAL4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VAL4
[L]CURPRO = "VAL4"
Return

$PROPAGATE_VAL4
this.isReadonly = 0
[L]CURPRO = "VAL4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VAL4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VAL4"
$_LNKPRO_VAL4
Return


####################################################################
# 26 : VALI4 Value ( Field A 80)
####################################################################
 
$SET_VALI4
If [L]_AOLDVAL<>this.VALI4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VALI4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VALI4
 Gosub PROPAGATE_VALI4
Endif
Return

$INIT_VALI4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VALI4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VALI4                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VALI4                 : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VALI4
[L]CURPRO = "VALI4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VALI4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VALI4
[L]CURPRO = "VALI4"
Return

$_AOTHERS_VALI4
[L]CURPRO = "VALI4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VALI4
[L]CURPRO = "VALI4"
Return

$PROPAGATE_VALI4
this.isReadonly = 0
[L]CURPRO = "VALI4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VALI4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "VALI4"
$_LNKPRO_VALI4
Return


####################################################################
# 27 : TBL4 Table ( Field ATB 12)
####################################################################
 
$SET_TBL4
If [L]_AOLDVAL<>this.TBL4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TBL4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TBL4
 Gosub PROPAGATE_TBL4
Endif
Return

$INIT_TBL4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TBL4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TBL4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TBL4                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TBL4
[L]CURPRO = "TBL4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.TBL4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TBL4
[L]CURPRO = "TBL4"
If vireblc(this.TBL4,2)<>vireblc(format$("KTD:A11B",this.TBL4),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_TBL4
[L]CURPRO = "TBL4"
If vireblc(this.TBL4,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATB.ACTRLREF(this,"TBL4",this.TBL4,this.TBL4,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.TBL4<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TBL4
[L]CURPRO = "TBL4"
Return

$PROPAGATE_TBL4
this.isReadonly = 0
[L]CURPRO = "TBL4"
Gosub _LNKPRO_TBL4
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TBL4
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "TBL4"
$_LNKPRO_TBL4
If vireblc(this.TBL4,2)<>""
 # Link ATABLE
 Local File ATABLE [WATB]
 Read [F:WATB]CODFIC = this.TBL4
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATB]INTITFIC & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("TBL4","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATB]
Endif
Return


####################################################################
# 28 : ANDOR5 And / or ( Field Local menu number 56)
####################################################################
 
$SET_ANDOR5
If [L]_AOLDVAL<>this.ANDOR5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ANDOR5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ANDOR5
 Gosub PROPAGATE_ANDOR5
Endif
Return

$INIT_ANDOR5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ANDOR5=0 and fmet this.AGETATTRIBUTE("ANDOR5","$isMandatory")="true"
 this.ANDOR5 = 1
Endif
Return
 
$CONTROL_ANDOR5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ANDOR5                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ANDOR5                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ANDOR5
[L]CURPRO = "ANDOR5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ANDOR5=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ANDOR5
[L]CURPRO = "ANDOR5"
If this.ANDOR5<0 or this.ANDOR5>len(mess(0,56,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"56 ->"-num$(this.ANDOR5)-mess(99,123,1)):  Return : # Local menu "56 -> Invalid option
Endif
Return

$_AOTHERS_ANDOR5
[L]CURPRO = "ANDOR5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ANDOR5
[L]CURPRO = "ANDOR5"
Return

$PROPAGATE_ANDOR5
this.isReadonly = 0
[L]CURPRO = "ANDOR5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ANDOR5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "ANDOR5"
$_LNKPRO_ANDOR5
Return


####################################################################
# 29 : FLD5 Field ( Field AVA 12)
####################################################################
 
$SET_FLD5
If [L]_AOLDVAL<>this.FLD5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLD5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLD5
 Gosub PROPAGATE_FLD5
Endif
Return

$INIT_FLD5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLD5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLD5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLD5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLD5
[L]CURPRO = "FLD5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLD5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLD5
[L]CURPRO = "FLD5"
If vireblc(this.FLD5,2)<>vireblc(format$("KTD:A11u",this.FLD5),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FLD5
[L]CURPRO = "FLD5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLD5
[L]CURPRO = "FLD5"
Return

$PROPAGATE_FLD5
this.isReadonly = 0
[L]CURPRO = "FLD5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLD5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "FLD5"
$_LNKPRO_FLD5
Return


####################################################################
# 30 : DES5 Description ( Field A 16)
####################################################################
 
$SET_DES5
If [L]_AOLDVAL<>this.DES5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DES5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DES5
 Gosub PROPAGATE_DES5
Endif
Return

$INIT_DES5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DES5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DES5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DES5                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DES5
[L]CURPRO = "DES5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DES5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DES5
[L]CURPRO = "DES5"
Return

$_AOTHERS_DES5
[L]CURPRO = "DES5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DES5
[L]CURPRO = "DES5"
Return

$PROPAGATE_DES5
this.isReadonly = 0
[L]CURPRO = "DES5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DES5
Gosub DECLARE_VAR From WMR0TABVAC
[L]CURPRO = "DES5"
$_LNKPRO_DES5
Return




