#<AdxTL>@(#)0.0.0.0 $Revision$Class Payment lines
# Supervisor
## ACLA-CLASSE ## PYDINQ
# 2018-08-27 12:43:22 942


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : NUM Number ( Field VCR 20)
####################################################################

$SET_NUM
If [L]_AOLDVAL<>this.NUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NUM
 Gosub PROPAGATE_NUM
Endif
Return

$INIT_NUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "NUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_NUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "NUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NUM                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NUM
[L]CURPRO = "NUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.NUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NUM
[L]CURPRO = "NUM"
If vireblc(this.NUM,2)<>vireblc(format$("K:20X",this.NUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_NUM
[L]CURPRO = "NUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NUM
[L]CURPRO = "NUM"
Return

$PROPAGATE_NUM
this.isReadonly = 0
[L]CURPRO = "NUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "NUM"
$_LNKPRO_NUM
Return

$_ALOADATTRIBUTE_NUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("NUM","$isMandatory","true")
Return


####################################################################
# 2 : LIN Line ( Field C 3)
####################################################################

$SET_LIN
If [L]_AOLDVAL<>this.LIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIN
 Gosub PROPAGATE_LIN
Endif
Return

$INIT_LIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "LIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "LIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIN                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIN                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIN
[L]CURPRO = "LIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIN
[L]CURPRO = "LIN"
Return

$_AOTHERS_LIN
[L]CURPRO = "LIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIN
[L]CURPRO = "LIN"
Return

$PROPAGATE_LIN
this.isReadonly = 0
[L]CURPRO = "LIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "LIN"
$_LNKPRO_LIN
Return

$_ALOADATTRIBUTE_LIN
[L]ASTATUS = fmet this.ASETATTRIBUTE("LIN","$isMandatory","true")
Return


####################################################################
# 4 : DENCOD Destination ( Field CDA 5)
####################################################################

$SET_DENCOD
If [L]_AOLDVAL<>this.DENCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DENCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DENCOD
 Gosub PROPAGATE_DENCOD
Endif
Return

$INIT_DENCOD
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DENCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DENCOD
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DENCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DENCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DENCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DENCOD
[L]CURPRO = "DENCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DENCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DENCOD
[L]CURPRO = "DENCOD"
If vireblc(this.DENCOD,2)<>vireblc(format$("K:5c",this.DENCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DENCOD
[L]CURPRO = "DENCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DENCOD
[L]CURPRO = "DENCOD"
If vireblc(this.DENCOD,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCDA.ACTRLREF(this,"DENCOD",this.DENCOD,this.DENCOD,"",2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.DENCOD<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_DENCOD
this.isReadonly = 0
[L]CURPRO = "DENCOD"
Gosub _LNKPRO_DENCOD
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DENCOD
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DENCOD"
$_LNKPRO_DENCOD
If vireblc(this.DENCOD,2)<>""
 # Link GACCDENCOD
 Local File GACCDENCOD [WCDA]
 Read [F:WCDA]CDA0 = this.DENCOD;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCDENCOD" & ZONE="SHOTRA" & IDENT1=[F:WCDA]COD & IDENT2=[F:WCDA]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DENCOD","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCDENCOD" & ZONE="DESTRA" & IDENT1=[F:WCDA]COD & IDENT2=[F:WCDA]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("DENCOD","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WCDA]
Endif
Return

$_ALOADATTRIBUTE_DENCOD
[L]ASTATUS = fmet this.ASETATTRIBUTE("DENCOD","$isMandatory","true")
Return


####################################################################
# 5 : ACCTYP Account structure ( Field Local menu number 612)
####################################################################

$SET_ACCTYP
If [L]_AOLDVAL<>this.ACCTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCTYP
 Gosub PROPAGATE_ACCTYP
Endif
Return

$INIT_ACCTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "ACCTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ACCTYP=0 and fmet this.AGETATTRIBUTE("ACCTYP","$isMandatory")="true"
 this.ACCTYP = 1
Endif
Return
 
$CONTROL_ACCTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "ACCTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCTYP
[L]CURPRO = "ACCTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACCTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCTYP
[L]CURPRO = "ACCTYP"
If this.ACCTYP<0 or this.ACCTYP>len(mess(0,612,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"612 ->"-num$(this.ACCTYP)-mess(99,123,1)):  Return : # Local menu "612 -> Invalid option
Endif
Return

$_AOTHERS_ACCTYP
[L]CURPRO = "ACCTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCTYP
[L]CURPRO = "ACCTYP"
Return

$PROPAGATE_ACCTYP
this.isReadonly = 0
[L]CURPRO = "ACCTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "ACCTYP"
$_LNKPRO_ACCTYP
Return


####################################################################
# 6 : ACCSNS Accounting sign ( Field Local menu number 671)
####################################################################

$SET_ACCSNS
If [L]_AOLDVAL<>this.ACCSNS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCSNS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCSNS
 Gosub PROPAGATE_ACCSNS
Endif
Return

$INIT_ACCSNS
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "ACCSNS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ACCSNS=0 and fmet this.AGETATTRIBUTE("ACCSNS","$isMandatory")="true"
 this.ACCSNS = 1
Endif
Return
 
$CONTROL_ACCSNS
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "ACCSNS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCSNS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCSNS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCSNS
[L]CURPRO = "ACCSNS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACCSNS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCSNS
[L]CURPRO = "ACCSNS"
If this.ACCSNS<0 or this.ACCSNS>len(mess(0,671,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"671 ->"-num$(this.ACCSNS)-mess(99,123,1)):  Return : # Local menu "671 -> Invalid option
Endif
Return

$_AOTHERS_ACCSNS
[L]CURPRO = "ACCSNS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCSNS
[L]CURPRO = "ACCSNS"
Return

$PROPAGATE_ACCSNS
this.isReadonly = 0
[L]CURPRO = "ACCSNS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCSNS
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "ACCSNS"
$_LNKPRO_ACCSNS
Return


####################################################################
# 7 : FCYLIN Site ( Field FCY 5)
####################################################################

$SET_FCYLIN
If [L]_AOLDVAL<>this.FCYLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FCYLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FCYLIN
 Gosub PROPAGATE_FCYLIN
Endif
Return

$INIT_FCYLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "FCYLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FCYLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "FCYLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FCYLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FCYLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FCYLIN
[L]CURPRO = "FCYLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FCYLIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FCYLIN
[L]CURPRO = "FCYLIN"
If vireblc(this.FCYLIN,2)<>vireblc(format$("K:5c",this.FCYLIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FCYLIN
[L]CURPRO = "FCYLIN"
If vireblc(this.FCYLIN,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"FCYLIN",this.FCYLIN,this.FCYLIN,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FCYLIN<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FCYLIN
[L]CURPRO = "FCYLIN"
Return

$PROPAGATE_FCYLIN
this.isReadonly = 0
[L]CURPRO = "FCYLIN"
Gosub _LNKPRO_FCYLIN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FCYLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "FCYLIN"
$_LNKPRO_FCYLIN
If vireblc(this.FCYLIN,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.FCYLIN
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCYLIN","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("FCYLIN","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 8 : SACLIN Control ( Field SAC 12)
####################################################################

$SET_SACLIN
If [L]_AOLDVAL<>this.SACLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SACLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SACLIN
 Gosub PROPAGATE_SACLIN
Endif
Return

$INIT_SACLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "SACLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SACLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "SACLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SACLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SACLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SACLIN
[L]CURPRO = "SACLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SACLIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SACLIN
[L]CURPRO = "SACLIN"
If vireblc(this.SACLIN,2)<>vireblc(format$("K:A11B",this.SACLIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SACLIN
[L]CURPRO = "SACLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SACLIN
[L]CURPRO = "SACLIN"
Return

$PROPAGATE_SACLIN
this.isReadonly = 0
[L]CURPRO = "SACLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SACLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "SACLIN"
$_LNKPRO_SACLIN
Return


####################################################################
# 9 : BPRLIN BPs ( Field BPR 15)
####################################################################

$SET_BPRLIN
If [L]_AOLDVAL<>this.BPRLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BPRLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BPRLIN
 Gosub PROPAGATE_BPRLIN
Endif
Return

$INIT_BPRLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "BPRLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BPRLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "BPRLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BPRLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BPRLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BPRLIN
[L]CURPRO = "BPRLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BPRLIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BPRLIN
[L]CURPRO = "BPRLIN"
If vireblc(this.BPRLIN,2)<>vireblc(format$("K:15c",this.BPRLIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BPRLIN
[L]CURPRO = "BPRLIN"
If vireblc(this.BPRLIN,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBPR.ACTRLREF(this,"BPRLIN",this.BPRLIN,this.BPRLIN,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BPRLIN<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BPRLIN
[L]CURPRO = "BPRLIN"
Return

$PROPAGATE_BPRLIN
this.isReadonly = 0
[L]CURPRO = "BPRLIN"
Gosub _LNKPRO_BPRLIN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BPRLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "BPRLIN"
$_LNKPRO_BPRLIN
If vireblc(this.BPRLIN,2)<>""
 # Link BPARTNER
 Local File BPARTNER [WBPR]
 Read [F:WBPR]BPR0 = this.BPRLIN
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRLIN","$title",[F:WBPR]BPRSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BPRLIN","$description",[F:WBPR]BPRNAM)
 Endif
 LogicClose File [WBPR]
Endif
Return


####################################################################
# 11 : VATLIN VAT code ( Field VAT 5)
####################################################################

$SET_VATLIN
If [L]_AOLDVAL<>this.VATLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VATLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VATLIN
 Gosub PROPAGATE_VATLIN
Endif
Return

$INIT_VATLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VATLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VATLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VATLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VATLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VATLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VATLIN
[L]CURPRO = "VATLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VATLIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VATLIN
[L]CURPRO = "VATLIN"
If vireblc(this.VATLIN,2)<>vireblc(format$("K:5c",this.VATLIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VATLIN
[L]CURPRO = "VATLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VATLIN
[L]CURPRO = "VATLIN"
If vireblc(this.VATLIN,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPVAT.ACTRLREF(this,"VATLIN",this.VATLIN,this.VATLIN,"","")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VATLIN<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VATLIN
this.isReadonly = 0
[L]CURPRO = "VATLIN"
Gosub _LNKPRO_VATLIN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VATLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VATLIN"
$_LNKPRO_VATLIN
If vireblc(this.VATLIN,2)<>""
 # Link TABVAT
 Local File TABVAT [WTVT]
 Read [F:WTVT]TVT0 = this.VATLIN;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="SHOAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VATLIN","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABVAT" & ZONE="DESAXX" & IDENT1=[F:WTVT]vat & IDENT2=[F:WTVT]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VATLIN","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WTVT]
Endif
Return


####################################################################
# 12 : CURLIN Currency ( Field CUR 3)
####################################################################

$SET_CURLIN
If [L]_AOLDVAL<>this.CURLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURLIN
 Gosub PROPAGATE_CURLIN
Endif
Return

$INIT_CURLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "CURLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CURLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "CURLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURLIN
[L]CURPRO = "CURLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CURLIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURLIN
[L]CURPRO = "CURLIN"
If vireblc(this.CURLIN,2)<>vireblc(format$("K:3c",this.CURLIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CURLIN
[L]CURPRO = "CURLIN"
If vireblc(this.CURLIN,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CURLIN",this.CURLIN,this.CURLIN,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CURLIN<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURLIN
[L]CURPRO = "CURLIN"
Return

$PROPAGATE_CURLIN
this.isReadonly = 0
[L]CURPRO = "CURLIN"
Gosub _LNKPRO_CURLIN
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "CURLIN"
$_LNKPRO_CURLIN
If vireblc(this.CURLIN,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CURLIN
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURLIN","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CURLIN","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CURLIN","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURLIN","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CURLIN","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 13 : AMTLIN Amount ( Field MD1 0)
####################################################################

$SET_AMTLIN
If [L]_AOLDVAL<>this.AMTLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTLIN
 Gosub PROPAGATE_AMTLIN
Endif
Return

$INIT_AMTLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTLIN
[L]CURPRO = "AMTLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTLIN
[L]CURPRO = "AMTLIN"
Return

$_AOTHERS_AMTLIN
[L]CURPRO = "AMTLIN"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTLIN",this.AMTLIN,this.CURLIN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTLIN
[L]CURPRO = "AMTLIN"
Return

$PROPAGATE_AMTLIN
this.isReadonly = 0
[L]CURPRO = "AMTLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTLIN"
$_LNKPRO_AMTLIN
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTLIN",this.AMTLIN,[L]AFORMAT,this.CURLIN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTLIN","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 14 : AMTLIN2 Allocated amount ( Field MD1 0)
####################################################################

$SET_AMTLIN2
If [L]_AOLDVAL<>this.AMTLIN2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTLIN2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTLIN2
 Gosub PROPAGATE_AMTLIN2
Endif
Return

$INIT_AMTLIN2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTLIN2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTLIN2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTLIN2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTLIN2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTLIN2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTLIN2
[L]CURPRO = "AMTLIN2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTLIN2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTLIN2
[L]CURPRO = "AMTLIN2"
Return

$_AOTHERS_AMTLIN2
[L]CURPRO = "AMTLIN2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTLIN2",this.AMTLIN2,this.CURLIN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTLIN2
[L]CURPRO = "AMTLIN2"
Return

$PROPAGATE_AMTLIN2
this.isReadonly = 0
[L]CURPRO = "AMTLIN2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTLIN2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTLIN2"
$_LNKPRO_AMTLIN2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTLIN2",this.AMTLIN2,[L]AFORMAT,this.CURLIN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTLIN2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 15 : PAYCURLIN Amount ( Field MD1 0)
####################################################################

$SET_PAYCURLIN
If [L]_AOLDVAL<>this.PAYCURLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAYCURLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAYCURLIN
 Gosub PROPAGATE_PAYCURLIN
Endif
Return

$INIT_PAYCURLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "PAYCURLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PAYCURLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "PAYCURLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAYCURLIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAYCURLIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAYCURLIN
[L]CURPRO = "PAYCURLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PAYCURLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAYCURLIN
[L]CURPRO = "PAYCURLIN"
Return

$_AOTHERS_PAYCURLIN
[L]CURPRO = "PAYCURLIN"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PAYCURLIN",this.PAYCURLIN,this.CURLIN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAYCURLIN
[L]CURPRO = "PAYCURLIN"
Return

$PROPAGATE_PAYCURLIN
this.isReadonly = 0
[L]CURPRO = "PAYCURLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAYCURLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "PAYCURLIN"
$_LNKPRO_PAYCURLIN
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PAYCURLIN",this.PAYCURLIN,[L]AFORMAT,this.CURLIN)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PAYCURLIN","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 16 : PAYLOCLIN Amount ( Field MD1 0)
####################################################################

$SET_PAYLOCLIN
If [L]_AOLDVAL<>this.PAYLOCLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PAYLOCLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PAYLOCLIN
 Gosub PROPAGATE_PAYLOCLIN
Endif
Return

$INIT_PAYLOCLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "PAYLOCLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PAYLOCLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "PAYLOCLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PAYLOCLIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PAYLOCLIN             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PAYLOCLIN
[L]CURPRO = "PAYLOCLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PAYLOCLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PAYLOCLIN
[L]CURPRO = "PAYLOCLIN"
Return

$_AOTHERS_PAYLOCLIN
[L]CURPRO = "PAYLOCLIN"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"PAYLOCLIN",this.PAYLOCLIN,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PAYLOCLIN
[L]CURPRO = "PAYLOCLIN"
Return

$PROPAGATE_PAYLOCLIN
this.isReadonly = 0
[L]CURPRO = "PAYLOCLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PAYLOCLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "PAYLOCLIN"
$_LNKPRO_PAYLOCLIN
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"PAYLOCLIN",this.PAYLOCLIN,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PAYLOCLIN","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 17 : AMTBANFRC Bank amount ( Field MD1 0)
####################################################################

$SET_AMTBANFRC
If [L]_AOLDVAL<>this.AMTBANFRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTBANFRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTBANFRC
 Gosub PROPAGATE_AMTBANFRC
Endif
Return

$INIT_AMTBANFRC
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTBANFRC
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTBANFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTBANFRC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTBANFRC
[L]CURPRO = "AMTBANFRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTBANFRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTBANFRC
[L]CURPRO = "AMTBANFRC"
Return

$_AOTHERS_AMTBANFRC
[L]CURPRO = "AMTBANFRC"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTBANFRC",this.AMTBANFRC,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTBANFRC
[L]CURPRO = "AMTBANFRC"
Return

$PROPAGATE_AMTBANFRC
this.isReadonly = 0
[L]CURPRO = "AMTBANFRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTBANFRC
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC"
$_LNKPRO_AMTBANFRC
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTBANFRC",this.AMTBANFRC,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTBANFRC","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 18 : AMTBANFRC1 Bank amount ( Field MD1 0)
####################################################################

$SET_AMTBANFRC1
If [L]_AOLDVAL<>this.AMTBANFRC1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTBANFRC1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTBANFRC1
 Gosub PROPAGATE_AMTBANFRC1
Endif
Return

$INIT_AMTBANFRC1
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTBANFRC1
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTBANFRC1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTBANFRC1            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTBANFRC1
[L]CURPRO = "AMTBANFRC1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTBANFRC1=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTBANFRC1
[L]CURPRO = "AMTBANFRC1"
Return

$_AOTHERS_AMTBANFRC1
[L]CURPRO = "AMTBANFRC1"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTBANFRC1",this.AMTBANFRC1,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTBANFRC1
[L]CURPRO = "AMTBANFRC1"
Return

$PROPAGATE_AMTBANFRC1
this.isReadonly = 0
[L]CURPRO = "AMTBANFRC1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTBANFRC1
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC1"
$_LNKPRO_AMTBANFRC1
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTBANFRC1",this.AMTBANFRC1,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTBANFRC1","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 19 : AMTBANFRC2 Bank amount ( Field MD1 0)
####################################################################

$SET_AMTBANFRC2
If [L]_AOLDVAL<>this.AMTBANFRC2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTBANFRC2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTBANFRC2
 Gosub PROPAGATE_AMTBANFRC2
Endif
Return

$INIT_AMTBANFRC2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTBANFRC2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTBANFRC2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTBANFRC2            : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTBANFRC2
[L]CURPRO = "AMTBANFRC2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTBANFRC2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTBANFRC2
[L]CURPRO = "AMTBANFRC2"
Return

$_AOTHERS_AMTBANFRC2
[L]CURPRO = "AMTBANFRC2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTBANFRC2",this.AMTBANFRC2,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTBANFRC2
[L]CURPRO = "AMTBANFRC2"
Return

$PROPAGATE_AMTBANFRC2
this.isReadonly = 0
[L]CURPRO = "AMTBANFRC2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTBANFRC2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "AMTBANFRC2"
$_LNKPRO_AMTBANFRC2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTBANFRC2",this.AMTBANFRC2,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTBANFRC2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 20 : QTYLIN Quantity ( Field QTY 0)
####################################################################

$SET_QTYLIN
If [L]_AOLDVAL<>this.QTYLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYLIN
 Gosub PROPAGATE_QTYLIN
Endif
Return

$INIT_QTYLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "QTYLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "QTYLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYLIN
[L]CURPRO = "QTYLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYLIN
[L]CURPRO = "QTYLIN"
Return

$_AOTHERS_QTYLIN
[L]CURPRO = "QTYLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYLIN
[L]CURPRO = "QTYLIN"
Return

$PROPAGATE_QTYLIN
this.isReadonly = 0
[L]CURPRO = "QTYLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "QTYLIN"
$_LNKPRO_QTYLIN
Return


####################################################################
# 21 : DESLIN Description ( Field DES 30)
####################################################################

$SET_DESLIN
If [L]_AOLDVAL<>this.DESLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DESLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DESLIN
 Gosub PROPAGATE_DESLIN
Endif
Return

$INIT_DESLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DESLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DESLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DESLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DESLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DESLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DESLIN
[L]CURPRO = "DESLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DESLIN,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DESLIN
[L]CURPRO = "DESLIN"
If vireblc(this.DESLIN,2)<>vireblc(format$("K:30X",this.DESLIN),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DESLIN
[L]CURPRO = "DESLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DESLIN
[L]CURPRO = "DESLIN"
Return

$PROPAGATE_DESLIN
this.isReadonly = 0
[L]CURPRO = "DESLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DESLIN
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DESLIN"
$_LNKPRO_DESLIN
Return


####################################################################
# 22 : VCRTYP Entry type ( Field GTE 5)
####################################################################

$SET_VCRTYP
If [L]_AOLDVAL<>this.VCRTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRTYP
 Gosub PROPAGATE_VCRTYP
Endif
Return

$INIT_VCRTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VCRTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VCRTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VCRTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRTYP
[L]CURPRO = "VCRTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VCRTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRTYP
[L]CURPRO = "VCRTYP"
If vireblc(this.VCRTYP,2)<>vireblc(format$("K:5d",this.VCRTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VCRTYP
[L]CURPRO = "VCRTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRTYP
[L]CURPRO = "VCRTYP"
If vireblc(this.VCRTYP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGTE.ACTRLREF(this,"VCRTYP",this.VCRTYP,this.VCRTYP,"",2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.VCRTYP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_VCRTYP
this.isReadonly = 0
[L]CURPRO = "VCRTYP"
Gosub _LNKPRO_VCRTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VCRTYP"
$_LNKPRO_VCRTYP
If vireblc(this.VCRTYP,2)<>""
 # Link GTYPACCENT
 Local File GTYPACCENT [WGTE]
 Read [F:WGTE]GTE0 = this.VCRTYP;""
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="SHOTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VCRTYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GTYPACCENT" & ZONE="DESTRA" & IDENT1=[F:WGTE]TYP & IDENT2=[F:WGTE]LEG & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("VCRTYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGTE]
Endif
Return


####################################################################
# 23 : VCRNUM Part ( Field VCR 20)
####################################################################

$SET_VCRNUM
If [L]_AOLDVAL<>this.VCRNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_VCRNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.VCRNUM
 Gosub PROPAGATE_VCRNUM
Endif
Return

$INIT_VCRNUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VCRNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_VCRNUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VCRNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_VCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_VCRNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_VCRNUM
[L]CURPRO = "VCRNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.VCRNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_VCRNUM
[L]CURPRO = "VCRNUM"
If vireblc(this.VCRNUM,2)<>vireblc(format$("K:20X",this.VCRNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_VCRNUM
[L]CURPRO = "VCRNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_VCRNUM
[L]CURPRO = "VCRNUM"
Return

$PROPAGATE_VCRNUM
this.isReadonly = 0
[L]CURPRO = "VCRNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_VCRNUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "VCRNUM"
$_LNKPRO_VCRNUM
Return


####################################################################
# 24 : IPTTYP Internal type ( Field Local menu number 659)
####################################################################

$SET_IPTTYP
If [L]_AOLDVAL<>this.IPTTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IPTTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IPTTYP
 Gosub PROPAGATE_IPTTYP
Endif
Return

$INIT_IPTTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "IPTTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IPTTYP=0 and fmet this.AGETATTRIBUTE("IPTTYP","$isMandatory")="true"
 this.IPTTYP = 1
Endif
Return
 
$CONTROL_IPTTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "IPTTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IPTTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IPTTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IPTTYP
[L]CURPRO = "IPTTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IPTTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IPTTYP
[L]CURPRO = "IPTTYP"
If this.IPTTYP<0 or this.IPTTYP>len(mess(0,659,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"659 ->"-num$(this.IPTTYP)-mess(99,123,1)):  Return : # Local menu "659 -> Invalid option
Endif
Return

$_AOTHERS_IPTTYP
[L]CURPRO = "IPTTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IPTTYP
[L]CURPRO = "IPTTYP"
Return

$PROPAGATE_IPTTYP
this.isReadonly = 0
[L]CURPRO = "IPTTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IPTTYP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "IPTTYP"
$_LNKPRO_IPTTYP
Return


####################################################################
# 25 : DUDNUM Internal number ( Field UNQ 0)
####################################################################

$SET_DUDNUM
If [L]_AOLDVAL<>this.DUDNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DUDNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DUDNUM
 Gosub PROPAGATE_DUDNUM
Endif
Return

$INIT_DUDNUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DUDNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DUDNUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DUDNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DUDNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DUDNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DUDNUM
[L]CURPRO = "DUDNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DUDNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DUDNUM
[L]CURPRO = "DUDNUM"
Return

$_AOTHERS_DUDNUM
[L]CURPRO = "DUDNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DUDNUM
[L]CURPRO = "DUDNUM"
Return

$PROPAGATE_DUDNUM
this.isReadonly = 0
[L]CURPRO = "DUDNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DUDNUM
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DUDNUM"
$_LNKPRO_DUDNUM
Return


####################################################################
# 26 : DUDLIG Due date number ( Field C 2)
####################################################################

$SET_DUDLIG
If [L]_AOLDVAL<>this.DUDLIG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DUDLIG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DUDLIG
 Gosub PROPAGATE_DUDLIG
Endif
Return

$INIT_DUDLIG
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DUDLIG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DUDLIG
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DUDLIG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DUDLIG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DUDLIG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DUDLIG
[L]CURPRO = "DUDLIG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DUDLIG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DUDLIG
[L]CURPRO = "DUDLIG"
Return

$_AOTHERS_DUDLIG
[L]CURPRO = "DUDLIG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DUDLIG
[L]CURPRO = "DUDLIG"
Return

$PROPAGATE_DUDLIG
this.isReadonly = 0
[L]CURPRO = "DUDLIG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DUDLIG
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DUDLIG"
$_LNKPRO_DUDLIG
Return


####################################################################
# 27 : DSP Distribution ( Field DSP 10)
####################################################################

$SET_DSP
If [L]_AOLDVAL<>this.DSP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DSP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DSP
 Gosub PROPAGATE_DSP
Endif
Return

$INIT_DSP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DSP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DSP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DSP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DSP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DSP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DSP
[L]CURPRO = "DSP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DSP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DSP
[L]CURPRO = "DSP"
If vireblc(this.DSP,2)<>vireblc(format$("K:10c",this.DSP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DSP
[L]CURPRO = "DSP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DSP
[L]CURPRO = "DSP"
Return

$PROPAGATE_DSP
this.isReadonly = 0
[L]CURPRO = "DSP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DSP
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "DSP"
$_LNKPRO_DSP
Return


####################################################################
# 28 : RITAMT Retained amount ( Field MD1 0)
####################################################################

$SET_RITAMT
If [L]_AOLDVAL<>this.RITAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RITAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RITAMT
 Gosub PROPAGATE_RITAMT
Endif
Return

$INIT_RITAMT
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "RITAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RITAMT
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "RITAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RITAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RITAMT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RITAMT
[L]CURPRO = "RITAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RITAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RITAMT
[L]CURPRO = "RITAMT"
Return

$_AOTHERS_RITAMT
[L]CURPRO = "RITAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"RITAMT",this.RITAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RITAMT
[L]CURPRO = "RITAMT"
Return

$PROPAGATE_RITAMT
this.isReadonly = 0
[L]CURPRO = "RITAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RITAMT
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "RITAMT"
$_LNKPRO_RITAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"RITAMT",this.RITAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("RITAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 29 : RITAMT2 Allocated retentions ( Field MD1 0)
####################################################################

$SET_RITAMT2
If [L]_AOLDVAL<>this.RITAMT2
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RITAMT2
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RITAMT2
 Gosub PROPAGATE_RITAMT2
Endif
Return

$INIT_RITAMT2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "RITAMT2"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RITAMT2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "RITAMT2"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RITAMT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RITAMT2               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RITAMT2
[L]CURPRO = "RITAMT2"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RITAMT2=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RITAMT2
[L]CURPRO = "RITAMT2"
Return

$_AOTHERS_RITAMT2
[L]CURPRO = "RITAMT2"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"RITAMT2",this.RITAMT2,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RITAMT2
[L]CURPRO = "RITAMT2"
Return

$PROPAGATE_RITAMT2
this.isReadonly = 0
[L]CURPRO = "RITAMT2"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RITAMT2
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "RITAMT2"
$_LNKPRO_RITAMT2
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"RITAMT2",this.RITAMT2,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("RITAMT2","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 30 : EARDISFLG Settlement discount ( Field Local menu number 1)
####################################################################

$SET_EARDISFLG
If [L]_AOLDVAL<>this.EARDISFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EARDISFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EARDISFLG
 Gosub PROPAGATE_EARDISFLG
Endif
Return

$INIT_EARDISFLG
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "EARDISFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EARDISFLG=0 and fmet this.AGETATTRIBUTE("EARDISFLG","$isMandatory")="true"
 this.EARDISFLG = 1
Endif
Return
 
$CONTROL_EARDISFLG
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "EARDISFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EARDISFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EARDISFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EARDISFLG
[L]CURPRO = "EARDISFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EARDISFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EARDISFLG
[L]CURPRO = "EARDISFLG"
If this.EARDISFLG<0 or this.EARDISFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.EARDISFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_EARDISFLG
[L]CURPRO = "EARDISFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EARDISFLG
[L]CURPRO = "EARDISFLG"
Return

$PROPAGATE_EARDISFLG
this.isReadonly = 0
[L]CURPRO = "EARDISFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EARDISFLG
Gosub DECLARE_VAR From WMC0PYDINQ
[L]CURPRO = "EARDISFLG"
$_LNKPRO_EARDISFLG
Return




