#<AdxTL>@(#)0.0.0.0 $Revision$Class Components
# Supervisor
## ACLA-CLASSE ## BODPD
# 2018-08-27 12:24:49 774


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : ITMREF Parent product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 2 : BOMALT BOM code ( Field C 2)
####################################################################

$SET_BOMALT
If [L]_AOLDVAL<>this.BOMALT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMALT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMALT
 Gosub PROPAGATE_BOMALT
Endif
Return

$INIT_BOMALT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMALT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMALT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMALT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMALT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMALT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMALT
[L]CURPRO = "BOMALT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMALT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMALT
[L]CURPRO = "BOMALT"
Return

$_AOTHERS_BOMALT
[L]CURPRO = "BOMALT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMALT
[L]CURPRO = "BOMALT"
Return

$PROPAGATE_BOMALT
this.isReadonly = 0
[L]CURPRO = "BOMALT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMALT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMALT"
$_LNKPRO_BOMALT
Return

$_ALOADATTRIBUTE_BOMALT
[L]ASTATUS = fmet this.ASETATTRIBUTE("BOMALT","$isMandatory","true")
Return


####################################################################
# 3 : BOMSEQ Sequence ( Field C 4)
####################################################################

$SET_BOMSEQ
If [L]_AOLDVAL<>this.BOMSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSEQ
 Gosub PROPAGATE_BOMSEQ
Endif
Return

$INIT_BOMSEQ
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSEQ
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSEQ
[L]CURPRO = "BOMSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSEQ
[L]CURPRO = "BOMSEQ"
Return

$_AOTHERS_BOMSEQ
[L]CURPRO = "BOMSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSEQ
[L]CURPRO = "BOMSEQ"
Return

$PROPAGATE_BOMSEQ
this.isReadonly = 0
[L]CURPRO = "BOMSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSEQ
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSEQ"
$_LNKPRO_BOMSEQ
Return

$_ALOADATTRIBUTE_BOMSEQ
[L]ASTATUS = fmet this.ASETATTRIBUTE("BOMSEQ","$isMandatory","true")
Return


####################################################################
# 4 : BOMSEQNUM Sequence remainder ( Field C 2)
####################################################################

$SET_BOMSEQNUM
If [L]_AOLDVAL<>this.BOMSEQNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSEQNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSEQNUM
 Gosub PROPAGATE_BOMSEQNUM
Endif
Return

$INIT_BOMSEQNUM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSEQNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSEQNUM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSEQNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSEQNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSEQNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSEQNUM
[L]CURPRO = "BOMSEQNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMSEQNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSEQNUM
[L]CURPRO = "BOMSEQNUM"
Return

$_AOTHERS_BOMSEQNUM
[L]CURPRO = "BOMSEQNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSEQNUM
[L]CURPRO = "BOMSEQNUM"
Return

$PROPAGATE_BOMSEQNUM
this.isReadonly = 0
[L]CURPRO = "BOMSEQNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSEQNUM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSEQNUM"
$_LNKPRO_BOMSEQNUM
Return


####################################################################
# 5 : CPNITMREF Component product ( Field ITM 20)
####################################################################

$SET_CPNITMREF
If [L]_AOLDVAL<>this.CPNITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPNITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPNITMREF
 Gosub PROPAGATE_CPNITMREF
Endif
Return

$INIT_CPNITMREF
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPNITMREF
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPNITMREF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPNITMREF             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPNITMREF
[L]CURPRO = "CPNITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CPNITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPNITMREF
[L]CURPRO = "CPNITMREF"
If vireblc(this.CPNITMREF,2)<>vireblc(format$("K:20c",this.CPNITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CPNITMREF
[L]CURPRO = "CPNITMREF"
If vireblc(this.CPNITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"CPNITMREF",this.CPNITMREF,this.CPNITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CPNITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPNITMREF
[L]CURPRO = "CPNITMREF"
Return

$PROPAGATE_CPNITMREF
this.isReadonly = 0
[L]CURPRO = "CPNITMREF"
Gosub _LNKPRO_CPNITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPNITMREF
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNITMREF"
$_LNKPRO_CPNITMREF
If vireblc(this.CPNITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.CPNITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CPNITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return


####################################################################
# 6 : CPNTYP Component type ( Field Local menu number 438)
####################################################################

$SET_CPNTYP
If [L]_AOLDVAL<>this.CPNTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPNTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPNTYP
 Gosub PROPAGATE_CPNTYP
Endif
Return

$INIT_CPNTYP
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CPNTYP=0 and fmet this.AGETATTRIBUTE("CPNTYP","$isMandatory")="true"
 this.CPNTYP = 1
Endif
Return
 
$CONTROL_CPNTYP
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPNTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPNTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPNTYP
[L]CURPRO = "CPNTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPNTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPNTYP
[L]CURPRO = "CPNTYP"
If this.CPNTYP<0 or this.CPNTYP>len(mess(0,438,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"438 ->"-num$(this.CPNTYP)-mess(99,123,1)):  Return : # Local menu "438 -> Invalid option
Endif
Return

$_AOTHERS_CPNTYP
[L]CURPRO = "CPNTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPNTYP
[L]CURPRO = "CPNTYP"
Return

$PROPAGATE_CPNTYP
this.isReadonly = 0
[L]CURPRO = "CPNTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPNTYP
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNTYP"
$_LNKPRO_CPNTYP
Return


####################################################################
# 7 : BOMSHO Link description ( Field DES 30)
####################################################################

$SET_BOMSHO
If [L]_AOLDVAL<>this.BOMSHO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSHO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSHO
 Gosub PROPAGATE_BOMSHO
Endif
Return

$INIT_BOMSHO
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSHO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSHO
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSHO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSHO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSHO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSHO
[L]CURPRO = "BOMSHO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMSHO,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSHO
[L]CURPRO = "BOMSHO"
If vireblc(this.BOMSHO,2)<>vireblc(format$("K:30X",this.BOMSHO),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMSHO
[L]CURPRO = "BOMSHO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSHO
[L]CURPRO = "BOMSHO"
Return

$PROPAGATE_BOMSHO
this.isReadonly = 0
[L]CURPRO = "BOMSHO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSHO
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSHO"
$_LNKPRO_BOMSHO
Return


####################################################################
# 8 : BOMALTTYP BOM code type ( Field Local menu number 224)
####################################################################

$SET_BOMALTTYP
If [L]_AOLDVAL<>this.BOMALTTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMALTTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMALTTYP
 Gosub PROPAGATE_BOMALTTYP
Endif
Return

$INIT_BOMALTTYP
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMALTTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.BOMALTTYP=0 and fmet this.AGETATTRIBUTE("BOMALTTYP","$isMandatory")="true"
 this.BOMALTTYP = 1
Endif
Return
 
$CONTROL_BOMALTTYP
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMALTTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMALTTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMALTTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMALTTYP
[L]CURPRO = "BOMALTTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMALTTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMALTTYP
[L]CURPRO = "BOMALTTYP"
If this.BOMALTTYP<0 or this.BOMALTTYP>len(mess(0,224,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"224 ->"-num$(this.BOMALTTYP)-mess(99,123,1)):  Return : # Local menu "224 -> Invalid option
Endif
Return

$_AOTHERS_BOMALTTYP
[L]CURPRO = "BOMALTTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMALTTYP
[L]CURPRO = "BOMALTTYP"
Return

$PROPAGATE_BOMALTTYP
this.isReadonly = 0
[L]CURPRO = "BOMALTTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMALTTYP
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMALTTYP"
$_LNKPRO_BOMALTTYP
Return

$_ALOADATTRIBUTE_BOMALTTYP
[L]ASTATUS = fmet this.ASETATTRIBUTE("BOMALTTYP","$isMandatory","true")
Return


####################################################################
# 9 : BOMSTRLOT First valid lot ( Field LOT 15)
####################################################################

$SET_BOMSTRLOT
If [L]_AOLDVAL<>this.BOMSTRLOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSTRLOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSTRLOT
 Gosub PROPAGATE_BOMSTRLOT
Endif
Return

$INIT_BOMSTRLOT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTRLOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSTRLOT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTRLOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSTRLOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSTRLOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSTRLOT
[L]CURPRO = "BOMSTRLOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMSTRLOT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSTRLOT
[L]CURPRO = "BOMSTRLOT"
If vireblc(this.BOMSTRLOT,2)<>vireblc(format$("K:15c",this.BOMSTRLOT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMSTRLOT
[L]CURPRO = "BOMSTRLOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSTRLOT
[L]CURPRO = "BOMSTRLOT"
Return

$PROPAGATE_BOMSTRLOT
this.isReadonly = 0
[L]CURPRO = "BOMSTRLOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSTRLOT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTRLOT"
$_LNKPRO_BOMSTRLOT
Return


####################################################################
# 10 : BOMENDLOT Last valid lot ( Field LOT 15)
####################################################################

$SET_BOMENDLOT
If [L]_AOLDVAL<>this.BOMENDLOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMENDLOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMENDLOT
 Gosub PROPAGATE_BOMENDLOT
Endif
Return

$INIT_BOMENDLOT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMENDLOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMENDLOT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMENDLOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMENDLOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMENDLOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMENDLOT
[L]CURPRO = "BOMENDLOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMENDLOT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMENDLOT
[L]CURPRO = "BOMENDLOT"
If vireblc(this.BOMENDLOT,2)<>vireblc(format$("K:15c",this.BOMENDLOT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMENDLOT
[L]CURPRO = "BOMENDLOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMENDLOT
[L]CURPRO = "BOMENDLOT"
Return

$PROPAGATE_BOMENDLOT
this.isReadonly = 0
[L]CURPRO = "BOMENDLOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMENDLOT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMENDLOT"
$_LNKPRO_BOMENDLOT
Return


####################################################################
# 11 : BOMSTRDAT Validity start date ( Field D)
####################################################################

$SET_BOMSTRDAT
If [L]_AOLDVAL<>this.BOMSTRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSTRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSTRDAT
 Gosub PROPAGATE_BOMSTRDAT
Endif
Return

$INIT_BOMSTRDAT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSTRDAT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSTRDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSTRDAT
[L]CURPRO = "BOMSTRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMSTRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSTRDAT
[L]CURPRO = "BOMSTRDAT"
Return

$_AOTHERS_BOMSTRDAT
[L]CURPRO = "BOMSTRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSTRDAT
[L]CURPRO = "BOMSTRDAT"
Return

$PROPAGATE_BOMSTRDAT
this.isReadonly = 0
[L]CURPRO = "BOMSTRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSTRDAT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTRDAT"
$_LNKPRO_BOMSTRDAT
Return


####################################################################
# 12 : BOMENDDAT Validity end date ( Field D)
####################################################################

$SET_BOMENDDAT
If [L]_AOLDVAL<>this.BOMENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMENDDAT
 Gosub PROPAGATE_BOMENDDAT
Endif
Return

$INIT_BOMENDDAT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMENDDAT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMENDDAT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMENDDAT
[L]CURPRO = "BOMENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMENDDAT
[L]CURPRO = "BOMENDDAT"
Return

$_AOTHERS_BOMENDDAT
[L]CURPRO = "BOMENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMENDDAT
[L]CURPRO = "BOMENDDAT"
Return

$PROPAGATE_BOMENDDAT
this.isReadonly = 0
[L]CURPRO = "BOMENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMENDDAT
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMENDDAT"
$_LNKPRO_BOMENDDAT
Return


####################################################################
# 13 : LIKQTYCOD Link quantity code ( Field Local menu number 226)
####################################################################

$SET_LIKQTYCOD
If [L]_AOLDVAL<>this.LIKQTYCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIKQTYCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIKQTYCOD
 Gosub PROPAGATE_LIKQTYCOD
Endif
Return

$INIT_LIKQTYCOD
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKQTYCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LIKQTYCOD=0 and fmet this.AGETATTRIBUTE("LIKQTYCOD","$isMandatory")="true"
 this.LIKQTYCOD = 1
Endif
Return
 
$CONTROL_LIKQTYCOD
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKQTYCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIKQTYCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIKQTYCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIKQTYCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
If this.LIKQTYCOD<0 or this.LIKQTYCOD>len(mess(0,226,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"226 ->"-num$(this.LIKQTYCOD)-mess(99,123,1)):  Return : # Local menu "226 -> Invalid option
Endif
Return

$_AOTHERS_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
Return

$PROPAGATE_LIKQTYCOD
this.isReadonly = 0
[L]CURPRO = "LIKQTYCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIKQTYCOD
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKQTYCOD"
$_LNKPRO_LIKQTYCOD
Return


####################################################################
# 14 : QTYRND Quantity rounding ( Field Local menu number 293)
####################################################################

$SET_QTYRND
If [L]_AOLDVAL<>this.QTYRND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYRND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYRND
 Gosub PROPAGATE_QTYRND
Endif
Return

$INIT_QTYRND
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "QTYRND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QTYRND=0 and fmet this.AGETATTRIBUTE("QTYRND","$isMandatory")="true"
 this.QTYRND = 1
Endif
Return
 
$CONTROL_QTYRND
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "QTYRND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYRND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYRND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYRND
[L]CURPRO = "QTYRND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYRND=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYRND
[L]CURPRO = "QTYRND"
If this.QTYRND<0 or this.QTYRND>len(mess(0,293,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"293 ->"-num$(this.QTYRND)-mess(99,123,1)):  Return : # Local menu "293 -> Invalid option
Endif
Return

$_AOTHERS_QTYRND
[L]CURPRO = "QTYRND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYRND
[L]CURPRO = "QTYRND"
Return

$PROPAGATE_QTYRND
this.isReadonly = 0
[L]CURPRO = "QTYRND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYRND
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "QTYRND"
$_LNKPRO_QTYRND
Return


####################################################################
# 15 : BOMUOM UOM ( Field UOM 3)
####################################################################

$SET_BOMUOM
If [L]_AOLDVAL<>this.BOMUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMUOM
 Gosub PROPAGATE_BOMUOM
Endif
Return

$INIT_BOMUOM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMUOM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMUOM
[L]CURPRO = "BOMUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMUOM
[L]CURPRO = "BOMUOM"
If vireblc(this.BOMUOM,2)<>vireblc(format$("K:3X",this.BOMUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMUOM
[L]CURPRO = "BOMUOM"
If vireblc(this.BOMUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"BOMUOM",this.BOMUOM,this.BOMUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BOMUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMUOM
[L]CURPRO = "BOMUOM"
Return

$PROPAGATE_BOMUOM
this.isReadonly = 0
[L]CURPRO = "BOMUOM"
Gosub _LNKPRO_BOMUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMUOM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMUOM"
$_LNKPRO_BOMUOM
If vireblc(this.BOMUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.BOMUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 16 : BOMSTUCOE Coefficient UOM-STK ( Field COE 0)
####################################################################

$SET_BOMSTUCOE
If [L]_AOLDVAL<>this.BOMSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSTUCOE
 Gosub PROPAGATE_BOMSTUCOE
Endif
Return

$INIT_BOMSTUCOE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSTUCOE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
Return

$_AOTHERS_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
Return

$PROPAGATE_BOMSTUCOE
this.isReadonly = 0
[L]CURPRO = "BOMSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSTUCOE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMSTUCOE"
$_LNKPRO_BOMSTUCOE
Return


####################################################################
# 17 : BOMQTY Quantity BOM UOM ( Field QTY 0)
####################################################################

$SET_BOMQTY
If [L]_AOLDVAL<>this.BOMQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMQTY
 Gosub PROPAGATE_BOMQTY
Endif
Return

$INIT_BOMQTY
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMQTY
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMQTY
[L]CURPRO = "BOMQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMQTY
[L]CURPRO = "BOMQTY"
Return

$_AOTHERS_BOMQTY
[L]CURPRO = "BOMQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMQTY
[L]CURPRO = "BOMQTY"
Return

$PROPAGATE_BOMQTY
this.isReadonly = 0
[L]CURPRO = "BOMQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMQTY
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMQTY"
$_LNKPRO_BOMQTY
Return


####################################################################
# 18 : LIKQTY Link quantity ( Field QTY 0)
####################################################################

$SET_LIKQTY
If [L]_AOLDVAL<>this.LIKQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIKQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIKQTY
 Gosub PROPAGATE_LIKQTY
Endif
Return

$INIT_LIKQTY
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIKQTY
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIKQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIKQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIKQTY
[L]CURPRO = "LIKQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIKQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIKQTY
[L]CURPRO = "LIKQTY"
Return

$_AOTHERS_LIKQTY
[L]CURPRO = "LIKQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIKQTY
[L]CURPRO = "LIKQTY"
Return

$PROPAGATE_LIKQTY
this.isReadonly = 0
[L]CURPRO = "LIKQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIKQTY
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKQTY"
$_LNKPRO_LIKQTY
Return


####################################################################
# 19 : SCA Scrap factor % ( Field DCB 3)
####################################################################

$SET_SCA
If [L]_AOLDVAL<>this.SCA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCA
 Gosub PROPAGATE_SCA
Endif
Return

$INIT_SCA
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "SCA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCA
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "SCA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCA
[L]CURPRO = "SCA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SCA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCA
[L]CURPRO = "SCA"
Return

$_AOTHERS_SCA
[L]CURPRO = "SCA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCA
[L]CURPRO = "SCA"
Return

$PROPAGATE_SCA
this.isReadonly = 0
[L]CURPRO = "SCA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCA
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "SCA"
$_LNKPRO_SCA
Return


####################################################################
# 20 : CPNOPE Routing operation ( Field OPE 0)
####################################################################

$SET_CPNOPE
If [L]_AOLDVAL<>this.CPNOPE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CPNOPE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CPNOPE
 Gosub PROPAGATE_CPNOPE
Endif
Return

$INIT_CPNOPE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNOPE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CPNOPE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNOPE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CPNOPE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CPNOPE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CPNOPE
[L]CURPRO = "CPNOPE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CPNOPE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CPNOPE
[L]CURPRO = "CPNOPE"
Return

$_AOTHERS_CPNOPE
[L]CURPRO = "CPNOPE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CPNOPE
[L]CURPRO = "CPNOPE"
Return

$PROPAGATE_CPNOPE
this.isReadonly = 0
[L]CURPRO = "CPNOPE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CPNOPE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CPNOPE"
$_LNKPRO_CPNOPE
Return


####################################################################
# 21 : OPENUMLEV Routing operation suffix (pmsi ( Field C 1)
####################################################################

$SET_OPENUMLEV
If [L]_AOLDVAL<>this.OPENUMLEV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OPENUMLEV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OPENUMLEV
 Gosub PROPAGATE_OPENUMLEV
Endif
Return

$INIT_OPENUMLEV
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "OPENUMLEV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OPENUMLEV
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "OPENUMLEV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OPENUMLEV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OPENUMLEV             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OPENUMLEV
[L]CURPRO = "OPENUMLEV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OPENUMLEV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OPENUMLEV
[L]CURPRO = "OPENUMLEV"
Return

$_AOTHERS_OPENUMLEV
[L]CURPRO = "OPENUMLEV"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OPENUMLEV
[L]CURPRO = "OPENUMLEV"
Return

$PROPAGATE_OPENUMLEV
this.isReadonly = 0
[L]CURPRO = "OPENUMLEV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OPENUMLEV
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "OPENUMLEV"
$_LNKPRO_OPENUMLEV
Return


####################################################################
# 22 : BOMOFS Operation lead-time ( Field C 4)
####################################################################

$SET_BOMOFS
If [L]_AOLDVAL<>this.BOMOFS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMOFS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMOFS
 Gosub PROPAGATE_BOMOFS
Endif
Return

$INIT_BOMOFS
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMOFS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMOFS
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMOFS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMOFS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMOFS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMOFS
[L]CURPRO = "BOMOFS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMOFS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMOFS
[L]CURPRO = "BOMOFS"
Return

$_AOTHERS_BOMOFS
[L]CURPRO = "BOMOFS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMOFS
[L]CURPRO = "BOMOFS"
Return

$PROPAGATE_BOMOFS
this.isReadonly = 0
[L]CURPRO = "BOMOFS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMOFS
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMOFS"
$_LNKPRO_BOMOFS
Return


####################################################################
# 23 : PICPRN Print material note ( Field Local menu number 1)
####################################################################

$SET_PICPRN
If [L]_AOLDVAL<>this.PICPRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PICPRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PICPRN
 Gosub PROPAGATE_PICPRN
Endif
Return

$INIT_PICPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "PICPRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PICPRN=0 and fmet this.AGETATTRIBUTE("PICPRN","$isMandatory")="true"
 this.PICPRN = 1
Endif
Return
 
$CONTROL_PICPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "PICPRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PICPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PICPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PICPRN
[L]CURPRO = "PICPRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PICPRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PICPRN
[L]CURPRO = "PICPRN"
If this.PICPRN<0 or this.PICPRN>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PICPRN)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PICPRN
[L]CURPRO = "PICPRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PICPRN
[L]CURPRO = "PICPRN"
Return

$PROPAGATE_PICPRN
this.isReadonly = 0
[L]CURPRO = "PICPRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PICPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "PICPRN"
$_LNKPRO_PICPRN
Return


####################################################################
# 24 : OCNPRN Print acknowledgment ( Field Local menu number 1)
####################################################################

$SET_OCNPRN
If [L]_AOLDVAL<>this.OCNPRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OCNPRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OCNPRN
 Gosub PROPAGATE_OCNPRN
Endif
Return

$INIT_OCNPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "OCNPRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OCNPRN=0 and fmet this.AGETATTRIBUTE("OCNPRN","$isMandatory")="true"
 this.OCNPRN = 1
Endif
Return
 
$CONTROL_OCNPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "OCNPRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OCNPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OCNPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OCNPRN
[L]CURPRO = "OCNPRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OCNPRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OCNPRN
[L]CURPRO = "OCNPRN"
If this.OCNPRN<0 or this.OCNPRN>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.OCNPRN)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_OCNPRN
[L]CURPRO = "OCNPRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OCNPRN
[L]CURPRO = "OCNPRN"
Return

$PROPAGATE_OCNPRN
this.isReadonly = 0
[L]CURPRO = "OCNPRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OCNPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "OCNPRN"
$_LNKPRO_OCNPRN
Return


####################################################################
# 25 : NDEPRN Print delivery note ( Field Local menu number 1)
####################################################################

$SET_NDEPRN
If [L]_AOLDVAL<>this.NDEPRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_NDEPRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.NDEPRN
 Gosub PROPAGATE_NDEPRN
Endif
Return

$INIT_NDEPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "NDEPRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.NDEPRN=0 and fmet this.AGETATTRIBUTE("NDEPRN","$isMandatory")="true"
 this.NDEPRN = 1
Endif
Return
 
$CONTROL_NDEPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "NDEPRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_NDEPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_NDEPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_NDEPRN
[L]CURPRO = "NDEPRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.NDEPRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_NDEPRN
[L]CURPRO = "NDEPRN"
If this.NDEPRN<0 or this.NDEPRN>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.NDEPRN)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_NDEPRN
[L]CURPRO = "NDEPRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_NDEPRN
[L]CURPRO = "NDEPRN"
Return

$PROPAGATE_NDEPRN
this.isReadonly = 0
[L]CURPRO = "NDEPRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_NDEPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "NDEPRN"
$_LNKPRO_NDEPRN
Return


####################################################################
# 26 : INVPRN Print invoice ( Field Local menu number 1)
####################################################################

$SET_INVPRN
If [L]_AOLDVAL<>this.INVPRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVPRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVPRN
 Gosub PROPAGATE_INVPRN
Endif
Return

$INIT_INVPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "INVPRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.INVPRN=0 and fmet this.AGETATTRIBUTE("INVPRN","$isMandatory")="true"
 this.INVPRN = 1
Endif
Return
 
$CONTROL_INVPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "INVPRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVPRN
[L]CURPRO = "INVPRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVPRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVPRN
[L]CURPRO = "INVPRN"
If this.INVPRN<0 or this.INVPRN>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.INVPRN)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_INVPRN
[L]CURPRO = "INVPRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVPRN
[L]CURPRO = "INVPRN"
Return

$PROPAGATE_INVPRN
this.isReadonly = 0
[L]CURPRO = "INVPRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVPRN
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "INVPRN"
$_LNKPRO_INVPRN
Return


####################################################################
# 27 : LIKRLE Link review index ( Field A 10)
####################################################################

$SET_LIKRLE
If [L]_AOLDVAL<>this.LIKRLE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIKRLE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIKRLE
 Gosub PROPAGATE_LIKRLE
Endif
Return

$INIT_LIKRLE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKRLE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIKRLE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKRLE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIKRLE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIKRLE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIKRLE
[L]CURPRO = "LIKRLE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LIKRLE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIKRLE
[L]CURPRO = "LIKRLE"
Return

$_AOTHERS_LIKRLE
[L]CURPRO = "LIKRLE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIKRLE
[L]CURPRO = "LIKRLE"
Return

$PROPAGATE_LIKRLE
this.isReadonly = 0
[L]CURPRO = "LIKRLE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIKRLE
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "LIKRLE"
$_LNKPRO_LIKRLE
Return


####################################################################
# 28 : BOMTEXNUM BOM link text ( Field TXC 12)
####################################################################

$SET_BOMTEXNUM
If [L]_AOLDVAL<>this.BOMTEXNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMTEXNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMTEXNUM
 Gosub PROPAGATE_BOMTEXNUM
Endif
Return

$INIT_BOMTEXNUM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMTEXNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMTEXNUM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMTEXNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMTEXNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMTEXNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMTEXNUM
[L]CURPRO = "BOMTEXNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMTEXNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMTEXNUM
[L]CURPRO = "BOMTEXNUM"
If vireblc(this.BOMTEXNUM,2)<>vireblc(format$("K:12X",this.BOMTEXNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMTEXNUM
[L]CURPRO = "BOMTEXNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMTEXNUM
[L]CURPRO = "BOMTEXNUM"
Return

$PROPAGATE_BOMTEXNUM
this.isReadonly = 0
[L]CURPRO = "BOMTEXNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMTEXNUM
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "BOMTEXNUM"
$_LNKPRO_BOMTEXNUM
Return


####################################################################
# 29 : CSTFLG Valuation ( Field Local menu number 1)
####################################################################

$SET_CSTFLG
If [L]_AOLDVAL<>this.CSTFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CSTFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CSTFLG
 Gosub PROPAGATE_CSTFLG
Endif
Return

$INIT_CSTFLG
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CSTFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CSTFLG=0 and fmet this.AGETATTRIBUTE("CSTFLG","$isMandatory")="true"
 this.CSTFLG = 1
Endif
Return
 
$CONTROL_CSTFLG
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CSTFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CSTFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CSTFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CSTFLG
[L]CURPRO = "CSTFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CSTFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CSTFLG
[L]CURPRO = "CSTFLG"
If this.CSTFLG<0 or this.CSTFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CSTFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CSTFLG
[L]CURPRO = "CSTFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CSTFLG
[L]CURPRO = "CSTFLG"
Return

$PROPAGATE_CSTFLG
this.isReadonly = 0
[L]CURPRO = "CSTFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CSTFLG
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "CSTFLG"
$_LNKPRO_CSTFLG
Return


####################################################################
# 30 : SCOFLG Type of supply ( Field Local menu number 2225)
####################################################################

$SET_SCOFLG
If [L]_AOLDVAL<>this.SCOFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCOFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCOFLG
 Gosub PROPAGATE_SCOFLG
Endif
Return

$INIT_SCOFLG
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "SCOFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.SCOFLG=0 and fmet this.AGETATTRIBUTE("SCOFLG","$isMandatory")="true"
 this.SCOFLG = 1
Endif
Return
 
$CONTROL_SCOFLG
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "SCOFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCOFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCOFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCOFLG
[L]CURPRO = "SCOFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SCOFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCOFLG
[L]CURPRO = "SCOFLG"
If this.SCOFLG<0 or this.SCOFLG>len(mess(0,2225,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2225 ->"-num$(this.SCOFLG)-mess(99,123,1)):  Return : # Local menu "2225 -> Invalid option
Endif
Return

$_AOTHERS_SCOFLG
[L]CURPRO = "SCOFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCOFLG
[L]CURPRO = "SCOFLG"
Return

$PROPAGATE_SCOFLG
this.isReadonly = 0
[L]CURPRO = "SCOFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCOFLG
Gosub DECLARE_VAR From WMC0BODPD
[L]CURPRO = "SCOFLG"
$_LNKPRO_SCOFLG
Return




