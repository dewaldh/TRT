#<AdxTL>@(#)0.0.0.0 $Revision$Class Asset
# Supervisor
## ACLA-CLASSE ## FXDASSETS
# 2018-08-27 12:32:02 980

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 61 : RPLVAL New value ( Field MD1 0)
####################################################################

$SET_RPLVAL
If [L]_AOLDVAL<>this.RPLVAL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPLVAL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPLVAL
 Gosub PROPAGATE_RPLVAL
Endif
Return

$INIT_RPLVAL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RPLVAL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RPLVAL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RPLVAL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPLVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPLVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPLVAL
[L]CURPRO = "RPLVAL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RPLVAL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPLVAL
[L]CURPRO = "RPLVAL"
Return

$_AOTHERS_RPLVAL
[L]CURPRO = "RPLVAL"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"RPLVAL",this.RPLVAL,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPLVAL
[L]CURPRO = "RPLVAL"
Return

$PROPAGATE_RPLVAL
this.isReadonly = 0
[L]CURPRO = "RPLVAL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPLVAL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RPLVAL"
$_LNKPRO_RPLVAL
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"RPLVAL",this.RPLVAL,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("RPLVAL","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 62 : RPLVALFLG Forced new value amount flag ( Field Local menu number 1)
####################################################################

$SET_RPLVALFLG
If [L]_AOLDVAL<>this.RPLVALFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RPLVALFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RPLVALFLG
 Gosub PROPAGATE_RPLVALFLG
Endif
Return

$INIT_RPLVALFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RPLVALFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.RPLVALFLG=0 and fmet this.AGETATTRIBUTE("RPLVALFLG","$isMandatory")="true"
 this.RPLVALFLG = 1
Endif
Return
 
$CONTROL_RPLVALFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RPLVALFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RPLVALFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RPLVALFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RPLVALFLG
[L]CURPRO = "RPLVALFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RPLVALFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RPLVALFLG
[L]CURPRO = "RPLVALFLG"
If this.RPLVALFLG<0 or this.RPLVALFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.RPLVALFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_RPLVALFLG
[L]CURPRO = "RPLVALFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RPLVALFLG
[L]CURPRO = "RPLVALFLG"
Return

$PROPAGATE_RPLVALFLG
this.isReadonly = 0
[L]CURPRO = "RPLVALFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RPLVALFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "RPLVALFLG"
$_LNKPRO_RPLVALFLG
Return


####################################################################
# 63 : ISRVALCOE Asset insurance disc coeff ( Field COE 0)
####################################################################

$SET_ISRVALCOE
If [L]_AOLDVAL<>this.ISRVALCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISRVALCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISRVALCOE
 Gosub PROPAGATE_ISRVALCOE
Endif
Return

$INIT_ISRVALCOE
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVALCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ISRVALCOE
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVALCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISRVALCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISRVALCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISRVALCOE
[L]CURPRO = "ISRVALCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISRVALCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISRVALCOE
[L]CURPRO = "ISRVALCOE"
Return

$_AOTHERS_ISRVALCOE
[L]CURPRO = "ISRVALCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISRVALCOE
[L]CURPRO = "ISRVALCOE"
Return

$PROPAGATE_ISRVALCOE
this.isReadonly = 0
[L]CURPRO = "ISRVALCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISRVALCOE
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVALCOE"
$_LNKPRO_ISRVALCOE
Return


####################################################################
# 64 : ISRVAL Insurance value amount for asset ( Field MD1 0)
####################################################################

$SET_ISRVAL
If [L]_AOLDVAL<>this.ISRVAL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISRVAL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISRVAL
 Gosub PROPAGATE_ISRVAL
Endif
Return

$INIT_ISRVAL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVAL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ISRVAL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVAL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISRVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISRVAL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISRVAL
[L]CURPRO = "ISRVAL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISRVAL=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISRVAL
[L]CURPRO = "ISRVAL"
Return

$_AOTHERS_ISRVAL
[L]CURPRO = "ISRVAL"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"ISRVAL",this.ISRVAL,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISRVAL
[L]CURPRO = "ISRVAL"
Return

$PROPAGATE_ISRVAL
this.isReadonly = 0
[L]CURPRO = "ISRVAL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISRVAL
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVAL"
$_LNKPRO_ISRVAL
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"ISRVAL",this.ISRVAL,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("ISRVAL","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 65 : ISRVALFLG Forced insurance value flag ( Field Local menu number 1)
####################################################################

$SET_ISRVALFLG
If [L]_AOLDVAL<>this.ISRVALFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ISRVALFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ISRVALFLG
 Gosub PROPAGATE_ISRVALFLG
Endif
Return

$INIT_ISRVALFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVALFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ISRVALFLG=0 and fmet this.AGETATTRIBUTE("ISRVALFLG","$isMandatory")="true"
 this.ISRVALFLG = 1
Endif
Return
 
$CONTROL_ISRVALFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVALFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ISRVALFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ISRVALFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ISRVALFLG
[L]CURPRO = "ISRVALFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ISRVALFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ISRVALFLG
[L]CURPRO = "ISRVALFLG"
If this.ISRVALFLG<0 or this.ISRVALFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ISRVALFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ISRVALFLG
[L]CURPRO = "ISRVALFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ISRVALFLG
[L]CURPRO = "ISRVALFLG"
Return

$PROPAGATE_ISRVALFLG
this.isReadonly = 0
[L]CURPRO = "ISRVALFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ISRVALFLG
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ISRVALFLG"
$_LNKPRO_ISRVALFLG
Return


####################################################################
# 66 : GACACN CoA nature ( Field Local menu number 2628)
####################################################################

$SET_GACACN
If [L]_AOLDVAL<>this.GACACN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GACACN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GACACN
 Gosub PROPAGATE_GACACN
Endif
Return

$INIT_GACACN
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GACACN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.GACACN=0 and fmet this.AGETATTRIBUTE("GACACN","$isMandatory")="true"
 this.GACACN = 1
Endif
Return
 
$CONTROL_GACACN
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GACACN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GACACN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GACACN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GACACN
[L]CURPRO = "GACACN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.GACACN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GACACN
[L]CURPRO = "GACACN"
If this.GACACN<0 or this.GACACN>len(mess(0,2628,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2628 ->"-num$(this.GACACN)-mess(99,123,1)):  Return : # Local menu "2628 -> Invalid option
Endif
Return

$_AOTHERS_GACACN
[L]CURPRO = "GACACN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GACACN
[L]CURPRO = "GACACN"
Return

$PROPAGATE_GACACN
this.isReadonly = 0
[L]CURPRO = "GACACN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GACACN
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GACACN"
$_LNKPRO_GACACN
Return

$_ALOADATTRIBUTE_GACACN
[L]ASTATUS = fmet this.ASETATTRIBUTE("GACACN","$isMandatory","true")
Return


####################################################################
# 67 : GAC GL account ( Field GAC 15)
####################################################################

$SET_GAC
If [L]_AOLDVAL<>this.GAC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GAC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GAC
 Gosub PROPAGATE_GAC
Endif
Return

$INIT_GAC
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GAC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GAC
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GAC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GAC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GAC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GAC
[L]CURPRO = "GAC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GAC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GAC
[L]CURPRO = "GAC"
If vireblc(this.GAC,2)<>vireblc(format$("K:15X",this.GAC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GAC
[L]CURPRO = "GAC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GAC
[L]CURPRO = "GAC"
If vireblc(this.GAC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGAC.ACTRLREF(this,"GAC",this.GAC,"",this.GAC,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.GAC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_GAC
this.isReadonly = 0
[L]CURPRO = "GAC"
Gosub _LNKPRO_GAC
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GAC
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GAC"
$_LNKPRO_GAC
If vireblc(this.GAC,2)<>""
 # Link GACCOUNT
 Local File GACCOUNT [WGAC]
 Read [F:WGAC]GAC0 = "";this.GAC
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCOUNT" & ZONE="SHOTRA" & IDENT1=[F:WGAC]COA & IDENT2=[F:WGAC]ACC & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("GAC","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCOUNT" & ZONE="DESTRA" & IDENT1=[F:WGAC]COA & IDENT2=[F:WGAC]ACC & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("GAC","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGAC]
Endif
Return

$_ALOADATTRIBUTE_GAC
[L]ASTATUS = fmet this.ASETATTRIBUTE("GAC","$isMandatory","true")
Return


####################################################################
# 68 : IASACN IFRS nature ( Field Local menu number 2628)
####################################################################

$SET_IASACN
If [L]_AOLDVAL<>this.IASACN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASACN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASACN
 Gosub PROPAGATE_IASACN
Endif
Return

$INIT_IASACN
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASACN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IASACN=0 and fmet this.AGETATTRIBUTE("IASACN","$isMandatory")="true"
 this.IASACN = 1
Endif
Return
 
$CONTROL_IASACN
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASACN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASACN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASACN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASACN
[L]CURPRO = "IASACN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASACN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASACN
[L]CURPRO = "IASACN"
If this.IASACN<0 or this.IASACN>len(mess(0,2628,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2628 ->"-num$(this.IASACN)-mess(99,123,1)):  Return : # Local menu "2628 -> Invalid option
Endif
Return

$_AOTHERS_IASACN
[L]CURPRO = "IASACN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASACN
[L]CURPRO = "IASACN"
Return

$PROPAGATE_IASACN
this.isReadonly = 0
[L]CURPRO = "IASACN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASACN
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASACN"
$_LNKPRO_IASACN
Return


####################################################################
# 69 : IASACC IFRS allocation ( Field GAC 15)
####################################################################

$SET_IASACC
If [L]_AOLDVAL<>this.IASACC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASACC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASACC
 Gosub PROPAGATE_IASACC
Endif
Return

$INIT_IASACC
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASACC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASACC
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASACC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASACC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASACC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASACC
[L]CURPRO = "IASACC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.IASACC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASACC
[L]CURPRO = "IASACC"
If vireblc(this.IASACC,2)<>vireblc(format$("K:15X",this.IASACC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_IASACC
[L]CURPRO = "IASACC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASACC
[L]CURPRO = "IASACC"
If vireblc(this.IASACC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPGAC.ACTRLREF(this,"IASACC",this.IASACC,"",this.IASACC,2,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.IASACC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_IASACC
this.isReadonly = 0
[L]CURPRO = "IASACC"
Gosub _LNKPRO_IASACC
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASACC
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASACC"
$_LNKPRO_IASACC
If vireblc(this.IASACC,2)<>""
 # Link GACCOUNT
 Local File GACCOUNT [WGAC]
 Read [F:WGAC]GAC0 = "";this.IASACC
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCOUNT" & ZONE="SHOTRA" & IDENT1=[F:WGAC]COA & IDENT2=[F:WGAC]ACC & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("IASACC","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="GACCOUNT" & ZONE="DESTRA" & IDENT1=[F:WGAC]COA & IDENT2=[F:WGAC]ACC & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("IASACC","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WGAC]
Endif
Return


####################################################################
# 70 : OWNTYP Holding type ( Field Local menu number 3171)
####################################################################

$SET_OWNTYP
If [L]_AOLDVAL<>this.OWNTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OWNTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OWNTYP
 Gosub PROPAGATE_OWNTYP
Endif
Return

$INIT_OWNTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "OWNTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.OWNTYP=0 and fmet this.AGETATTRIBUTE("OWNTYP","$isMandatory")="true"
 this.OWNTYP = 1
Endif
Return
 
$CONTROL_OWNTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "OWNTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OWNTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OWNTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OWNTYP
[L]CURPRO = "OWNTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OWNTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OWNTYP
[L]CURPRO = "OWNTYP"
If this.OWNTYP<0 or this.OWNTYP>len(mess(0,3171,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3171 ->"-num$(this.OWNTYP)-mess(99,123,1)):  Return : # Local menu "3171 -> Invalid option
Endif
Return

$_AOTHERS_OWNTYP
[L]CURPRO = "OWNTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OWNTYP
[L]CURPRO = "OWNTYP"
Return

$PROPAGATE_OWNTYP
this.isReadonly = 0
[L]CURPRO = "OWNTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OWNTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "OWNTYP"
$_LNKPRO_OWNTYP
Return


####################################################################
# 71 : STABILTYP Asset stability type ( Field Local menu number 3156)
####################################################################

$SET_STABILTYP
If [L]_AOLDVAL<>this.STABILTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STABILTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STABILTYP
 Gosub PROPAGATE_STABILTYP
Endif
Return

$INIT_STABILTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "STABILTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STABILTYP=0 and fmet this.AGETATTRIBUTE("STABILTYP","$isMandatory")="true"
 this.STABILTYP = 1
Endif
Return
 
$CONTROL_STABILTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "STABILTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STABILTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STABILTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STABILTYP
[L]CURPRO = "STABILTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STABILTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STABILTYP
[L]CURPRO = "STABILTYP"
If this.STABILTYP<0 or this.STABILTYP>len(mess(0,3156,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3156 ->"-num$(this.STABILTYP)-mess(99,123,1)):  Return : # Local menu "3156 -> Invalid option
Endif
Return

$_AOTHERS_STABILTYP
[L]CURPRO = "STABILTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STABILTYP
[L]CURPRO = "STABILTYP"
Return

$PROPAGATE_STABILTYP
this.isReadonly = 0
[L]CURPRO = "STABILTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STABILTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "STABILTYP"
$_LNKPRO_STABILTYP
Return


####################################################################
# 72 : ETRNAT Recpt nature for asset ( Field Local menu number 3157)
####################################################################

$SET_ETRNAT
If [L]_AOLDVAL<>this.ETRNAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ETRNAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ETRNAT
 Gosub PROPAGATE_ETRNAT
Endif
Return

$INIT_ETRNAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ETRNAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ETRNAT=0 and fmet this.AGETATTRIBUTE("ETRNAT","$isMandatory")="true"
 this.ETRNAT = 1
Endif
Return
 
$CONTROL_ETRNAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ETRNAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ETRNAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ETRNAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ETRNAT
[L]CURPRO = "ETRNAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ETRNAT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ETRNAT
[L]CURPRO = "ETRNAT"
If this.ETRNAT<0 or this.ETRNAT>len(mess(0,3157,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3157 ->"-num$(this.ETRNAT)-mess(99,123,1)):  Return : # Local menu "3157 -> Invalid option
Endif
Return

$_AOTHERS_ETRNAT
[L]CURPRO = "ETRNAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ETRNAT
[L]CURPRO = "ETRNAT"
Return

$PROPAGATE_ETRNAT
this.isReadonly = 0
[L]CURPRO = "ETRNAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ETRNAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ETRNAT"
$_LNKPRO_ETRNAT
Return


####################################################################
# 73 : TAXTYP Tax type ( Field Local menu number 3158)
####################################################################

$SET_TAXTYP
If [L]_AOLDVAL<>this.TAXTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXTYP
 Gosub PROPAGATE_TAXTYP
Endif
Return

$INIT_TAXTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.TAXTYP=0 and fmet this.AGETATTRIBUTE("TAXTYP","$isMandatory")="true"
 this.TAXTYP = 1
Endif
Return
 
$CONTROL_TAXTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXTYP
[L]CURPRO = "TAXTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TAXTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXTYP
[L]CURPRO = "TAXTYP"
If this.TAXTYP<0 or this.TAXTYP>len(mess(0,3158,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"3158 ->"-num$(this.TAXTYP)-mess(99,123,1)):  Return : # Local menu "3158 -> Invalid option
Endif
Return

$_AOTHERS_TAXTYP
[L]CURPRO = "TAXTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXTYP
[L]CURPRO = "TAXTYP"
Return

$PROPAGATE_TAXTYP
this.isReadonly = 0
[L]CURPRO = "TAXTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXTYP"
$_LNKPRO_TAXTYP
Return


####################################################################
# 74 : TRFDAT Last transfer ( Field D4)
####################################################################

$SET_TRFDAT
If [L]_AOLDVAL<>this.TRFDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TRFDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TRFDAT
 Gosub PROPAGATE_TRFDAT
Endif
Return

$INIT_TRFDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TRFDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TRFDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TRFDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TRFDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TRFDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TRFDAT
[L]CURPRO = "TRFDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TRFDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TRFDAT
[L]CURPRO = "TRFDAT"
Return

$_AOTHERS_TRFDAT
[L]CURPRO = "TRFDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TRFDAT
[L]CURPRO = "TRFDAT"
Return

$PROPAGATE_TRFDAT
this.isReadonly = 0
[L]CURPRO = "TRFDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TRFDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TRFDAT"
$_LNKPRO_TRFDAT
Return


####################################################################
# 75 : GEOFCY Site ( Field BLS 5)
####################################################################

$SET_GEOFCY
If [L]_AOLDVAL<>this.GEOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_GEOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.GEOFCY
 Gosub PROPAGATE_GEOFCY
Endif
Return

$INIT_GEOFCY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GEOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_GEOFCY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GEOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_GEOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_GEOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_GEOFCY
[L]CURPRO = "GEOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.GEOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_GEOFCY
[L]CURPRO = "GEOFCY"
If vireblc(this.GEOFCY,2)<>vireblc(format$("K:5c",this.GEOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_GEOFCY
[L]CURPRO = "GEOFCY"
If vireblc(this.GEOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPBLS.ACTRLREF(this,"GEOFCY",this.GEOFCY,this.GEOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.GEOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_GEOFCY
[L]CURPRO = "GEOFCY"
Return

$PROPAGATE_GEOFCY
this.isReadonly = 0
[L]CURPRO = "GEOFCY"
Gosub _LNKPRO_GEOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_GEOFCY
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "GEOFCY"
$_LNKPRO_GEOFCY
If vireblc(this.GEOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.GEOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("GEOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("GEOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 76 : DSP Analytical allocation key ( Field DSP 10)
####################################################################

$SET_DSP
If [L]_AOLDVAL<>this.DSP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DSP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DSP
 Gosub PROPAGATE_DSP
Endif
Return

$INIT_DSP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DSP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DSP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DSP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DSP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DSP                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DSP
[L]CURPRO = "DSP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DSP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DSP
[L]CURPRO = "DSP"
If vireblc(this.DSP,2)<>vireblc(format$("K:10c",this.DSP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DSP
[L]CURPRO = "DSP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DSP
[L]CURPRO = "DSP"
Return

$PROPAGATE_DSP
this.isReadonly = 0
[L]CURPRO = "DSP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DSP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "DSP"
$_LNKPRO_DSP
Return


####################################################################
# 78 : LEAREF Lse contract ref. ( Field LEA 20)
####################################################################

$SET_LEAREF
If [L]_AOLDVAL<>this.LEAREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAREF
 Gosub PROPAGATE_LEAREF
Endif
Return

$INIT_LEAREF
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "LEAREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEAREF
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "LEAREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAREF
[L]CURPRO = "LEAREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEAREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAREF
[L]CURPRO = "LEAREF"
If vireblc(this.LEAREF,2)<>vireblc(format$("K:20c",this.LEAREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEAREF
[L]CURPRO = "LEAREF"
If vireblc(this.LEAREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLEA.ACTRLREF(this,"LEAREF",this.LEAREF,this.LEAREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LEAREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAREF
[L]CURPRO = "LEAREF"
Return

$PROPAGATE_LEAREF
this.isReadonly = 0
[L]CURPRO = "LEAREF"
Gosub _LNKPRO_LEAREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAREF
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "LEAREF"
$_LNKPRO_LEAREF
If vireblc(this.LEAREF,2)<>""
 # Link LEASE
 Local File LEASE [WLEA]
 Read [F:WLEA]LEA0 = this.LEAREF
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREF","$title",[F:WLEA]LEADES)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREF","$description",[F:WLEA]LEADES)
 Endif
 LogicClose File [WLEA]
Endif
Return


####################################################################
# 79 : LEAREFORI Source lease contract ref ( Field LEA 20)
####################################################################

$SET_LEAREFORI
If [L]_AOLDVAL<>this.LEAREFORI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LEAREFORI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LEAREFORI
 Gosub PROPAGATE_LEAREFORI
Endif
Return

$INIT_LEAREFORI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "LEAREFORI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LEAREFORI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "LEAREFORI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LEAREFORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LEAREFORI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LEAREFORI
[L]CURPRO = "LEAREFORI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LEAREFORI,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LEAREFORI
[L]CURPRO = "LEAREFORI"
If vireblc(this.LEAREFORI,2)<>vireblc(format$("K:20c",this.LEAREFORI),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LEAREFORI
[L]CURPRO = "LEAREFORI"
If vireblc(this.LEAREFORI,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLEA.ACTRLREF(this,"LEAREFORI",this.LEAREFORI,this.LEAREFORI,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LEAREFORI<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LEAREFORI
[L]CURPRO = "LEAREFORI"
Return

$PROPAGATE_LEAREFORI
this.isReadonly = 0
[L]CURPRO = "LEAREFORI"
Gosub _LNKPRO_LEAREFORI
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LEAREFORI
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "LEAREFORI"
$_LNKPRO_LEAREFORI
If vireblc(this.LEAREFORI,2)<>""
 # Link LEASE
 Local File LEASE [WLEA]
 Read [F:WLEA]LEA0 = this.LEAREFORI
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREFORI","$title",[F:WLEA]LEADES)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("LEAREFORI","$description",[F:WLEA]LEADES)
 Endif
 LogicClose File [WLEA]
Endif
Return


####################################################################
# 80 : ACGGRP Asset group ( Field FAM 20)
####################################################################

$SET_ACGGRP
If [L]_AOLDVAL<>this.ACGGRP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACGGRP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACGGRP
 Gosub PROPAGATE_ACGGRP
Endif
Return

$INIT_ACGGRP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGGRP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACGGRP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGGRP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACGGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACGGRP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACGGRP
[L]CURPRO = "ACGGRP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACGGRP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACGGRP
[L]CURPRO = "ACGGRP"
If vireblc(this.ACGGRP,2)<>vireblc(format$("K:20c",this.ACGGRP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACGGRP
[L]CURPRO = "ACGGRP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACGGRP
[L]CURPRO = "ACGGRP"
Return

$PROPAGATE_ACGGRP
this.isReadonly = 0
[L]CURPRO = "ACGGRP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACGGRP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGGRP"
$_LNKPRO_ACGGRP
Return


####################################################################
# 81 : INVTYP Investment type ( Field Miscellaneous table number)
####################################################################

$SET_INVTYP
If [L]_AOLDVAL<>this.INVTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVTYP
 Gosub PROPAGATE_INVTYP
Endif
Return

$INIT_INVTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "INVTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_INI(this,"INVTYP",this.INVTYP,515)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "INVTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVTYP
[L]CURPRO = "INVTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.INVTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVTYP
[L]CURPRO = "INVTYP"
If vireblc(this.INVTYP,2)<>vireblc(format$("K:20B",this.INVTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_INVTYP
[L]CURPRO = "INVTYP"
[L]ASTATUS =  func ADI_TOOL.ADI_CONT(this,"INVTYP",this.INVTYP,515,this.INVTYP)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVTYP
[L]CURPRO = "INVTYP"
Return

$PROPAGATE_INVTYP
this.isReadonly = 0
[L]CURPRO = "INVTYP"
Gosub _LNKPRO_INVTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "INVTYP"
$_LNKPRO_INVTYP
If vireblc(this.INVTYP,2)<>""
 # Link ATABDIV
 Local File ATABDIV [WADI]
 Read [F:WADI]CODE = 515;this.INVTYP
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="SHODES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("INVTYP","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ATABDIV" & ZONE="LNGDES" & IDENT1=num$([F:WADI]NUMTAB) & IDENT2=[F:WADI]CODE & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("INVTYP","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WADI]
Endif
Return


####################################################################
# 82 : ACCCOD Accounting code ( Field CAC 10)
####################################################################

$SET_ACCCOD
If [L]_AOLDVAL<>this.ACCCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACCCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACCCOD
 Gosub PROPAGATE_ACCCOD
Endif
Return

$INIT_ACCCOD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACCCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACCCOD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACCCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACCCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACCCOD
[L]CURPRO = "ACCCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACCCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACCCOD
[L]CURPRO = "ACCCOD"
If vireblc(this.ACCCOD,2)<>vireblc(format$("K:10c",this.ACCCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACCCOD
[L]CURPRO = "ACCCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACCCOD
[L]CURPRO = "ACCCOD"
Return

$PROPAGATE_ACCCOD
this.isReadonly = 0
[L]CURPRO = "ACCCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACCCOD
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACCCOD"
$_LNKPRO_ACCCOD
Return


####################################################################
# 83 : TAXBAS Tax basis ( Field MD1 0)
####################################################################

$SET_TAXBAS
If [L]_AOLDVAL<>this.TAXBAS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TAXBAS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TAXBAS
 Gosub PROPAGATE_TAXBAS
Endif
Return

$INIT_TAXBAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXBAS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TAXBAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXBAS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TAXBAS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TAXBAS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TAXBAS
[L]CURPRO = "TAXBAS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TAXBAS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TAXBAS
[L]CURPRO = "TAXBAS"
Return

$_AOTHERS_TAXBAS
[L]CURPRO = "TAXBAS"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"TAXBAS",this.TAXBAS,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TAXBAS
[L]CURPRO = "TAXBAS"
Return

$PROPAGATE_TAXBAS
this.isReadonly = 0
[L]CURPRO = "TAXBAS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TAXBAS
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "TAXBAS"
$_LNKPRO_TAXBAS
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"TAXBAS",this.TAXBAS,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("TAXBAS","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 84 : PURDAT Purchase date ( Field D4)
####################################################################

$SET_PURDAT
If [L]_AOLDVAL<>this.PURDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PURDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PURDAT
 Gosub PROPAGATE_PURDAT
Endif
Return

$INIT_PURDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "PURDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PURDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "PURDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PURDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PURDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PURDAT
[L]CURPRO = "PURDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PURDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PURDAT
[L]CURPRO = "PURDAT"
Return

$_AOTHERS_PURDAT
[L]CURPRO = "PURDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PURDAT
[L]CURPRO = "PURDAT"
Return

$PROPAGATE_PURDAT
this.isReadonly = 0
[L]CURPRO = "PURDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PURDAT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "PURDAT"
$_LNKPRO_PURDAT
Return


####################################################################
# 85 : ACGETRNOT Receipt value ex-tax ( Field MD1 0)
####################################################################

$SET_ACGETRNOT
If [L]_AOLDVAL<>this.ACGETRNOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACGETRNOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACGETRNOT
 Gosub PROPAGATE_ACGETRNOT
Endif
Return

$INIT_ACGETRNOT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGETRNOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACGETRNOT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGETRNOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACGETRNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACGETRNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACGETRNOT
[L]CURPRO = "ACGETRNOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ACGETRNOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACGETRNOT
[L]CURPRO = "ACGETRNOT"
Return

$_AOTHERS_ACGETRNOT
[L]CURPRO = "ACGETRNOT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"ACGETRNOT",this.ACGETRNOT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACGETRNOT
[L]CURPRO = "ACGETRNOT"
Return

$PROPAGATE_ACGETRNOT
this.isReadonly = 0
[L]CURPRO = "ACGETRNOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACGETRNOT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGETRNOT"
$_LNKPRO_ACGETRNOT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"ACGETRNOT",this.ACGETRNOT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("ACGETRNOT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 86 : ACGCUR CoA curr. ( Field CUR 3)
####################################################################

$SET_ACGCUR
If [L]_AOLDVAL<>this.ACGCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ACGCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ACGCUR
 Gosub PROPAGATE_ACGCUR
Endif
Return

$INIT_ACGCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ACGCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ACGCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ACGCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ACGCUR
[L]CURPRO = "ACGCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ACGCUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ACGCUR
[L]CURPRO = "ACGCUR"
If vireblc(this.ACGCUR,2)<>vireblc(format$("K:3c",this.ACGCUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ACGCUR
[L]CURPRO = "ACGCUR"
If vireblc(this.ACGCUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"ACGCUR",this.ACGCUR,this.ACGCUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ACGCUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ACGCUR
[L]CURPRO = "ACGCUR"
Return

$PROPAGATE_ACGCUR
this.isReadonly = 0
[L]CURPRO = "ACGCUR"
Gosub _LNKPRO_ACGCUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ACGCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "ACGCUR"
$_LNKPRO_ACGCUR
If vireblc(this.ACGCUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.ACGCUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ACGCUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ACGCUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("ACGCUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("ACGCUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("ACGCUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 87 : IASCUR IFRS curr. ( Field CUR 3)
####################################################################

$SET_IASCUR
If [L]_AOLDVAL<>this.IASCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASCUR
 Gosub PROPAGATE_IASCUR
Endif
Return

$INIT_IASCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASCUR
[L]CURPRO = "IASCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.IASCUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASCUR
[L]CURPRO = "IASCUR"
If vireblc(this.IASCUR,2)<>vireblc(format$("K:3c",this.IASCUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_IASCUR
[L]CURPRO = "IASCUR"
If vireblc(this.IASCUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"IASCUR",this.IASCUR,this.IASCUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.IASCUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASCUR
[L]CURPRO = "IASCUR"
Return

$PROPAGATE_IASCUR
this.isReadonly = 0
[L]CURPRO = "IASCUR"
Gosub _LNKPRO_IASCUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASCUR"
$_LNKPRO_IASCUR
If vireblc(this.IASCUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.IASCUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("IASCUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 88 : IASCURTYP Rate type ( Field Local menu number 202)
####################################################################

$SET_IASCURTYP
If [L]_AOLDVAL<>this.IASCURTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASCURTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASCURTYP
 Gosub PROPAGATE_IASCURTYP
Endif
Return

$INIT_IASCURTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASCURTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.IASCURTYP=0 and fmet this.AGETATTRIBUTE("IASCURTYP","$isMandatory")="true"
 this.IASCURTYP = 1
Endif
Return
 
$CONTROL_IASCURTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASCURTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASCURTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASCURTYP             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASCURTYP
[L]CURPRO = "IASCURTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASCURTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASCURTYP
[L]CURPRO = "IASCURTYP"
If this.IASCURTYP<0 or this.IASCURTYP>len(mess(0,202,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"202 ->"-num$(this.IASCURTYP)-mess(99,123,1)):  Return : # Local menu "202 -> Invalid option
Endif
Return

$_AOTHERS_IASCURTYP
[L]CURPRO = "IASCURTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASCURTYP
[L]CURPRO = "IASCURTYP"
Return

$PROPAGATE_IASCURTYP
this.isReadonly = 0
[L]CURPRO = "IASCURTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASCURTYP
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASCURTYP"
$_LNKPRO_IASCURTYP
Return

$_ALOADATTRIBUTE_IASCURTYP
[L]ASTATUS = fmet this.ASETATTRIBUTE("IASCURTYP","$isMandatory","true")
Return


####################################################################
# 89 : IASRATCUR Currency rate ( Field RCU 0)
####################################################################

$SET_IASRATCUR
If [L]_AOLDVAL<>this.IASRATCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASRATCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASRATCUR
 Gosub PROPAGATE_IASRATCUR
Endif
Return

$INIT_IASRATCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASRATCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASRATCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASRATCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASRATCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASRATCUR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASRATCUR
[L]CURPRO = "IASRATCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASRATCUR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASRATCUR
[L]CURPRO = "IASRATCUR"
Return

$_AOTHERS_IASRATCUR
[L]CURPRO = "IASRATCUR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASRATCUR
[L]CURPRO = "IASRATCUR"
Return

$PROPAGATE_IASRATCUR
this.isReadonly = 0
[L]CURPRO = "IASRATCUR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASRATCUR
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASRATCUR"
$_LNKPRO_IASRATCUR
Return

$_ALOADATTRIBUTE_IASRATCUR
[L]ASTATUS = fmet this.ASETATTRIBUTE("IASRATCUR","$isMandatory","true")
Return


####################################################################
# 90 : IASETRNOT Receipt value ex-tax ( Field MD1 0)
####################################################################

$SET_IASETRNOT
If [L]_AOLDVAL<>this.IASETRNOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_IASETRNOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.IASETRNOT
 Gosub PROPAGATE_IASETRNOT
Endif
Return

$INIT_IASETRNOT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASETRNOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_IASETRNOT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASETRNOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_IASETRNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_IASETRNOT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_IASETRNOT
[L]CURPRO = "IASETRNOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.IASETRNOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_IASETRNOT
[L]CURPRO = "IASETRNOT"
Return

$_AOTHERS_IASETRNOT
[L]CURPRO = "IASETRNOT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"IASETRNOT",this.IASETRNOT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_IASETRNOT
[L]CURPRO = "IASETRNOT"
Return

$PROPAGATE_IASETRNOT
this.isReadonly = 0
[L]CURPRO = "IASETRNOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_IASETRNOT
Gosub DECLARE_VAR From WMC0FXDASSETS
[L]CURPRO = "IASETRNOT"
$_LNKPRO_IASETRNOT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"IASETRNOT",this.IASETRNOT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("IASETRNOT","$x3Format",[L]AFORMAT)
Endif
Return




