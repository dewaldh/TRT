#<AdxTL>@(#)0.0.0.0 $Revision$Class Work order - materials
# Sage X3 supervisor
## ACLA-CLASSE ## MFGMAT
# 2018-03-26 00:33:01 158


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : MFGNUM Order no. ( Field VCR 20)
####################################################################

$SET_MFGNUM
If [L]_AOLDVAL<>this.MFGNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFGNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFGNUM
 Gosub PROPAGATE_MFGNUM
Endif
Return

$INIT_MFGNUM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MFGNUM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFGNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFGNUM
[L]CURPRO = "MFGNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MFGNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFGNUM
[L]CURPRO = "MFGNUM"
If vireblc(this.MFGNUM,2)<>vireblc(format$("K:20X",this.MFGNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MFGNUM
[L]CURPRO = "MFGNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFGNUM
[L]CURPRO = "MFGNUM"
Return

$PROPAGATE_MFGNUM
this.isReadonly = 0
[L]CURPRO = "MFGNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFGNUM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGNUM"
$_LNKPRO_MFGNUM
Return

$_ALOADATTRIBUTE_MFGNUM
[L]ASTATUS = fmet this.ASETATTRIBUTE("MFGNUM","$isMandatory","true")
Return


####################################################################
# 2 : MFGLIN Line no. ( Field L 8)
####################################################################

$SET_MFGLIN
If [L]_AOLDVAL<>this.MFGLIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFGLIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFGLIN
 Gosub PROPAGATE_MFGLIN
Endif
Return

$INIT_MFGLIN
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGLIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MFGLIN
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGLIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFGLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFGLIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFGLIN
[L]CURPRO = "MFGLIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MFGLIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFGLIN
[L]CURPRO = "MFGLIN"
Return

$_AOTHERS_MFGLIN
[L]CURPRO = "MFGLIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFGLIN
[L]CURPRO = "MFGLIN"
Return

$PROPAGATE_MFGLIN
this.isReadonly = 0
[L]CURPRO = "MFGLIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFGLIN
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGLIN"
$_LNKPRO_MFGLIN
Return

$_ALOADATTRIBUTE_MFGLIN
[L]ASTATUS = fmet this.ASETATTRIBUTE("MFGLIN","$isMandatory","true")
Return


####################################################################
# 3 : ITMREF Product ( Field ITM 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPITM.ACTRLREF(this,"ITMREF",this.ITMREF,this.ITMREF,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.ITMREF<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
Gosub _LNKPRO_ITMREF
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
If vireblc(this.ITMREF,2)<>""
 # Link ITMMASTER
 Local File ITMMASTER [WITM]
 Read [F:WITM]ITM0 = this.ITMREF
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="ITMMASTER" & ZONE="DES1AXX" & IDENT1=[F:WITM]ITMREF & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
 Endif
 LogicClose File [WITM]
Endif
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 4 : MFGSTA Order status ( Field Local menu number 317)
####################################################################

$SET_MFGSTA
If [L]_AOLDVAL<>this.MFGSTA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFGSTA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFGSTA
 Gosub PROPAGATE_MFGSTA
Endif
Return

$INIT_MFGSTA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGSTA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.MFGSTA=0 and fmet this.AGETATTRIBUTE("MFGSTA","$isMandatory")="true"
 this.MFGSTA = 1
Endif
Return
 
$CONTROL_MFGSTA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGSTA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFGSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFGSTA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFGSTA
[L]CURPRO = "MFGSTA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MFGSTA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFGSTA
[L]CURPRO = "MFGSTA"
If this.MFGSTA<0 or this.MFGSTA>len(mess(0,317,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"317 ->"-num$(this.MFGSTA)-mess(99,123,1)):  Return : # Local menu "317 -> Invalid option
Endif
Return

$_AOTHERS_MFGSTA
[L]CURPRO = "MFGSTA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFGSTA
[L]CURPRO = "MFGSTA"
Return

$PROPAGATE_MFGSTA
this.isReadonly = 0
[L]CURPRO = "MFGSTA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFGSTA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGSTA"
$_LNKPRO_MFGSTA
Return


####################################################################
# 5 : PLNFCY Planning site ( Field FCY 5)
####################################################################

$SET_PLNFCY
If [L]_AOLDVAL<>this.PLNFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLNFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLNFCY
 Gosub PROPAGATE_PLNFCY
Endif
Return

$INIT_PLNFCY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "PLNFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLNFCY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "PLNFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLNFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLNFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLNFCY
[L]CURPRO = "PLNFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PLNFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLNFCY
[L]CURPRO = "PLNFCY"
If vireblc(this.PLNFCY,2)<>vireblc(format$("K:5c",this.PLNFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PLNFCY
[L]CURPRO = "PLNFCY"
If vireblc(this.PLNFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"PLNFCY",this.PLNFCY,this.PLNFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PLNFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLNFCY
[L]CURPRO = "PLNFCY"
Return

$PROPAGATE_PLNFCY
this.isReadonly = 0
[L]CURPRO = "PLNFCY"
Gosub _LNKPRO_PLNFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLNFCY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "PLNFCY"
$_LNKPRO_PLNFCY
If vireblc(this.PLNFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.PLNFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PLNFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PLNFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_PLNFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("PLNFCY","$isMandatory","true")
Return


####################################################################
# 6 : MFGFCY Production site ( Field FCY 5)
####################################################################

$SET_MFGFCY
If [L]_AOLDVAL<>this.MFGFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFGFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFGFCY
 Gosub PROPAGATE_MFGFCY
Endif
Return

$INIT_MFGFCY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MFGFCY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFGFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFGFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFGFCY
[L]CURPRO = "MFGFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MFGFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFGFCY
[L]CURPRO = "MFGFCY"
If vireblc(this.MFGFCY,2)<>vireblc(format$("K:5c",this.MFGFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MFGFCY
[L]CURPRO = "MFGFCY"
If vireblc(this.MFGFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"MFGFCY",this.MFGFCY,this.MFGFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.MFGFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFGFCY
[L]CURPRO = "MFGFCY"
Return

$PROPAGATE_MFGFCY
this.isReadonly = 0
[L]CURPRO = "MFGFCY"
Gosub _LNKPRO_MFGFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFGFCY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFGFCY"
$_LNKPRO_MFGFCY
If vireblc(this.MFGFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.MFGFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("MFGFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("MFGFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_MFGFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("MFGFCY","$isMandatory","true")
Return


####################################################################
# 7 : WIPNUM Order no. ( Field VCR 20)
####################################################################

$SET_WIPNUM
If [L]_AOLDVAL<>this.WIPNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WIPNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WIPNUM
 Gosub PROPAGATE_WIPNUM
Endif
Return

$INIT_WIPNUM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "WIPNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_WIPNUM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "WIPNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WIPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WIPNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WIPNUM
[L]CURPRO = "WIPNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.WIPNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WIPNUM
[L]CURPRO = "WIPNUM"
If vireblc(this.WIPNUM,2)<>vireblc(format$("K:20X",this.WIPNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_WIPNUM
[L]CURPRO = "WIPNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WIPNUM
[L]CURPRO = "WIPNUM"
Return

$PROPAGATE_WIPNUM
this.isReadonly = 0
[L]CURPRO = "WIPNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WIPNUM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "WIPNUM"
$_LNKPRO_WIPNUM
Return


####################################################################
# 8 : RETDAT Requirement date ( Field D)
####################################################################

$SET_RETDAT
If [L]_AOLDVAL<>this.RETDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RETDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RETDAT
 Gosub PROPAGATE_RETDAT
Endif
Return

$INIT_RETDAT
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RETDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RETDAT
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RETDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RETDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RETDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RETDAT
[L]CURPRO = "RETDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RETDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RETDAT
[L]CURPRO = "RETDAT"
Return

$_AOTHERS_RETDAT
[L]CURPRO = "RETDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RETDAT
[L]CURPRO = "RETDAT"
Return

$PROPAGATE_RETDAT
this.isReadonly = 0
[L]CURPRO = "RETDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RETDAT
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RETDAT"
$_LNKPRO_RETDAT
Return


####################################################################
# 9 : BOMOPE Operation number ( Field OPE 0)
####################################################################

$SET_BOMOPE
If [L]_AOLDVAL<>this.BOMOPE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMOPE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMOPE
 Gosub PROPAGATE_BOMOPE
Endif
Return

$INIT_BOMOPE
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMOPE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMOPE
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMOPE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMOPE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMOPE                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMOPE
[L]CURPRO = "BOMOPE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMOPE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMOPE
[L]CURPRO = "BOMOPE"
Return

$_AOTHERS_BOMOPE
[L]CURPRO = "BOMOPE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMOPE
[L]CURPRO = "BOMOPE"
Return

$PROPAGATE_BOMOPE
this.isReadonly = 0
[L]CURPRO = "BOMOPE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMOPE
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMOPE"
$_LNKPRO_BOMOPE
Return


####################################################################
# 10 : BOMSEQ BOM sequence ( Field C 4)
####################################################################

$SET_BOMSEQ
If [L]_AOLDVAL<>this.BOMSEQ
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSEQ
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSEQ
 Gosub PROPAGATE_BOMSEQ
Endif
Return

$INIT_BOMSEQ
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSEQ"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSEQ
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSEQ"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSEQ                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSEQ
[L]CURPRO = "BOMSEQ"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMSEQ=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSEQ
[L]CURPRO = "BOMSEQ"
Return

$_AOTHERS_BOMSEQ
[L]CURPRO = "BOMSEQ"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSEQ
[L]CURPRO = "BOMSEQ"
Return

$PROPAGATE_BOMSEQ
this.isReadonly = 0
[L]CURPRO = "BOMSEQ"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSEQ
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSEQ"
$_LNKPRO_BOMSEQ
Return

$_ALOADATTRIBUTE_BOMSEQ
[L]ASTATUS = fmet this.ASETATTRIBUTE("BOMSEQ","$isMandatory","true")
Return


####################################################################
# 11 : QTYCOD Management unit ( Field Local menu number 225)
####################################################################

$SET_QTYCOD
If [L]_AOLDVAL<>this.QTYCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYCOD
 Gosub PROPAGATE_QTYCOD
Endif
Return

$INIT_QTYCOD
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "QTYCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QTYCOD=0 and fmet this.AGETATTRIBUTE("QTYCOD","$isMandatory")="true"
 this.QTYCOD = 1
Endif
Return
 
$CONTROL_QTYCOD
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "QTYCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYCOD
[L]CURPRO = "QTYCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYCOD
[L]CURPRO = "QTYCOD"
If this.QTYCOD<0 or this.QTYCOD>len(mess(0,225,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"225 ->"-num$(this.QTYCOD)-mess(99,123,1)):  Return : # Local menu "225 -> Invalid option
Endif
Return

$_AOTHERS_QTYCOD
[L]CURPRO = "QTYCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYCOD
[L]CURPRO = "QTYCOD"
Return

$PROPAGATE_QTYCOD
this.isReadonly = 0
[L]CURPRO = "QTYCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYCOD
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "QTYCOD"
$_LNKPRO_QTYCOD
Return


####################################################################
# 12 : BASQTY Base quantity ( Field QTY 0)
####################################################################

$SET_BASQTY
If [L]_AOLDVAL<>this.BASQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BASQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BASQTY
 Gosub PROPAGATE_BASQTY
Endif
Return

$INIT_BASQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BASQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BASQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BASQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BASQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BASQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BASQTY
[L]CURPRO = "BASQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BASQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BASQTY
[L]CURPRO = "BASQTY"
Return

$_AOTHERS_BASQTY
[L]CURPRO = "BASQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BASQTY
[L]CURPRO = "BASQTY"
Return

$PROPAGATE_BASQTY
this.isReadonly = 0
[L]CURPRO = "BASQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BASQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BASQTY"
$_LNKPRO_BASQTY
Return


####################################################################
# 13 : LIKQTYCOD Link quantity code ( Field Local menu number 226)
####################################################################

$SET_LIKQTYCOD
If [L]_AOLDVAL<>this.LIKQTYCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIKQTYCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIKQTYCOD
 Gosub PROPAGATE_LIKQTYCOD
Endif
Return

$INIT_LIKQTYCOD
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "LIKQTYCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LIKQTYCOD=0 and fmet this.AGETATTRIBUTE("LIKQTYCOD","$isMandatory")="true"
 this.LIKQTYCOD = 1
Endif
Return
 
$CONTROL_LIKQTYCOD
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "LIKQTYCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIKQTYCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIKQTYCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIKQTYCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
If this.LIKQTYCOD<0 or this.LIKQTYCOD>len(mess(0,226,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"226 ->"-num$(this.LIKQTYCOD)-mess(99,123,1)):  Return : # Local menu "226 -> Invalid option
Endif
Return

$_AOTHERS_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIKQTYCOD
[L]CURPRO = "LIKQTYCOD"
Return

$PROPAGATE_LIKQTYCOD
this.isReadonly = 0
[L]CURPRO = "LIKQTYCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIKQTYCOD
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "LIKQTYCOD"
$_LNKPRO_LIKQTYCOD
Return


####################################################################
# 14 : QTYRND Quantity rounding ( Field Local menu number 293)
####################################################################

$SET_QTYRND
If [L]_AOLDVAL<>this.QTYRND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYRND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYRND
 Gosub PROPAGATE_QTYRND
Endif
Return

$INIT_QTYRND
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "QTYRND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.QTYRND=0 and fmet this.AGETATTRIBUTE("QTYRND","$isMandatory")="true"
 this.QTYRND = 1
Endif
Return
 
$CONTROL_QTYRND
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "QTYRND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYRND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYRND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYRND
[L]CURPRO = "QTYRND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYRND=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYRND
[L]CURPRO = "QTYRND"
If this.QTYRND<0 or this.QTYRND>len(mess(0,293,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"293 ->"-num$(this.QTYRND)-mess(99,123,1)):  Return : # Local menu "293 -> Invalid option
Endif
Return

$_AOTHERS_QTYRND
[L]CURPRO = "QTYRND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYRND
[L]CURPRO = "QTYRND"
Return

$PROPAGATE_QTYRND
this.isReadonly = 0
[L]CURPRO = "QTYRND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYRND
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "QTYRND"
$_LNKPRO_QTYRND
Return


####################################################################
# 15 : LIKQTY Link quantity ( Field QTY 0)
####################################################################

$SET_LIKQTY
If [L]_AOLDVAL<>this.LIKQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIKQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIKQTY
 Gosub PROPAGATE_LIKQTY
Endif
Return

$INIT_LIKQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "LIKQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIKQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "LIKQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIKQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIKQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIKQTY
[L]CURPRO = "LIKQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LIKQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIKQTY
[L]CURPRO = "LIKQTY"
Return

$_AOTHERS_LIKQTY
[L]CURPRO = "LIKQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIKQTY
[L]CURPRO = "LIKQTY"
Return

$PROPAGATE_LIKQTY
this.isReadonly = 0
[L]CURPRO = "LIKQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIKQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "LIKQTY"
$_LNKPRO_LIKQTY
Return


####################################################################
# 16 : BOMSHO Link description ( Field DES 30)
####################################################################

$SET_BOMSHO
If [L]_AOLDVAL<>this.BOMSHO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSHO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSHO
 Gosub PROPAGATE_BOMSHO
Endif
Return

$INIT_BOMSHO
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSHO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSHO
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSHO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSHO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSHO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSHO
[L]CURPRO = "BOMSHO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMSHO,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSHO
[L]CURPRO = "BOMSHO"
If vireblc(this.BOMSHO,2)<>vireblc(format$("K:30X",this.BOMSHO),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMSHO
[L]CURPRO = "BOMSHO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSHO
[L]CURPRO = "BOMSHO"
Return

$PROPAGATE_BOMSHO
this.isReadonly = 0
[L]CURPRO = "BOMSHO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSHO
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSHO"
$_LNKPRO_BOMSHO
Return


####################################################################
# 17 : MFMTEX Link text ( Field TXC 12)
####################################################################

$SET_MFMTEX
If [L]_AOLDVAL<>this.MFMTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFMTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFMTEX
 Gosub PROPAGATE_MFMTEX
Endif
Return

$INIT_MFMTEX
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFMTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MFMTEX
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFMTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFMTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFMTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFMTEX
[L]CURPRO = "MFMTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.MFMTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFMTEX
[L]CURPRO = "MFMTEX"
If vireblc(this.MFMTEX,2)<>vireblc(format$("K:12X",this.MFMTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_MFMTEX
[L]CURPRO = "MFMTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFMTEX
[L]CURPRO = "MFMTEX"
Return

$PROPAGATE_MFMTEX
this.isReadonly = 0
[L]CURPRO = "MFMTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFMTEX
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "MFMTEX"
$_LNKPRO_MFMTEX
Return


####################################################################
# 18 : SCA Scrap factor % ( Field DCB 3)
####################################################################

$SET_SCA
If [L]_AOLDVAL<>this.SCA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCA
 Gosub PROPAGATE_SCA
Endif
Return

$INIT_SCA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "SCA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "SCA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCA
[L]CURPRO = "SCA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SCA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCA
[L]CURPRO = "SCA"
Return

$_AOTHERS_SCA
[L]CURPRO = "SCA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCA
[L]CURPRO = "SCA"
Return

$PROPAGATE_SCA
this.isReadonly = 0
[L]CURPRO = "SCA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "SCA"
$_LNKPRO_SCA
Return


####################################################################
# 19 : RELSCATIA Shrink with release ( Field Local menu number 1)
####################################################################

$SET_RELSCATIA
If [L]_AOLDVAL<>this.RELSCATIA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RELSCATIA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RELSCATIA
 Gosub PROPAGATE_RELSCATIA
Endif
Return

$INIT_RELSCATIA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RELSCATIA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.RELSCATIA=0 and fmet this.AGETATTRIBUTE("RELSCATIA","$isMandatory")="true"
 this.RELSCATIA = 1
Endif
Return
 
$CONTROL_RELSCATIA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RELSCATIA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RELSCATIA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RELSCATIA             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RELSCATIA
[L]CURPRO = "RELSCATIA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RELSCATIA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RELSCATIA
[L]CURPRO = "RELSCATIA"
If this.RELSCATIA<0 or this.RELSCATIA>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.RELSCATIA)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_RELSCATIA
[L]CURPRO = "RELSCATIA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RELSCATIA
[L]CURPRO = "RELSCATIA"
Return

$PROPAGATE_RELSCATIA
this.isReadonly = 0
[L]CURPRO = "RELSCATIA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RELSCATIA
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RELSCATIA"
$_LNKPRO_RELSCATIA
Return


####################################################################
# 20 : BOMOFS Operation lead-time ( Field C 4)
####################################################################

$SET_BOMOFS
If [L]_AOLDVAL<>this.BOMOFS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMOFS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMOFS
 Gosub PROPAGATE_BOMOFS
Endif
Return

$INIT_BOMOFS
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMOFS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMOFS
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMOFS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMOFS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMOFS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMOFS
[L]CURPRO = "BOMOFS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMOFS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMOFS
[L]CURPRO = "BOMOFS"
Return

$_AOTHERS_BOMOFS
[L]CURPRO = "BOMOFS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMOFS
[L]CURPRO = "BOMOFS"
Return

$PROPAGATE_BOMOFS
this.isReadonly = 0
[L]CURPRO = "BOMOFS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMOFS
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMOFS"
$_LNKPRO_BOMOFS
Return


####################################################################
# 21 : CUMFLG Cumulated requirement ( Field Local menu number 1)
####################################################################

$SET_CUMFLG
If [L]_AOLDVAL<>this.CUMFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUMFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUMFLG
 Gosub PROPAGATE_CUMFLG
Endif
Return

$INIT_CUMFLG
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "CUMFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CUMFLG=0 and fmet this.AGETATTRIBUTE("CUMFLG","$isMandatory")="true"
 this.CUMFLG = 1
Endif
Return
 
$CONTROL_CUMFLG
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "CUMFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUMFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUMFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUMFLG
[L]CURPRO = "CUMFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUMFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUMFLG
[L]CURPRO = "CUMFLG"
If this.CUMFLG<0 or this.CUMFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CUMFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CUMFLG
[L]CURPRO = "CUMFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUMFLG
[L]CURPRO = "CUMFLG"
Return

$PROPAGATE_CUMFLG
this.isReadonly = 0
[L]CURPRO = "CUMFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUMFLG
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "CUMFLG"
$_LNKPRO_CUMFLG
Return


####################################################################
# 22 : CUMFXDQTY Cumul total qty ( Field QTY 0)
####################################################################

$SET_CUMFXDQTY
If [L]_AOLDVAL<>this.CUMFXDQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUMFXDQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUMFXDQTY
 Gosub PROPAGATE_CUMFXDQTY
Endif
Return

$INIT_CUMFXDQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "CUMFXDQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUMFXDQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "CUMFXDQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUMFXDQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUMFXDQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUMFXDQTY
[L]CURPRO = "CUMFXDQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUMFXDQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUMFXDQTY
[L]CURPRO = "CUMFXDQTY"
Return

$_AOTHERS_CUMFXDQTY
[L]CURPRO = "CUMFXDQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUMFXDQTY
[L]CURPRO = "CUMFXDQTY"
Return

$PROPAGATE_CUMFXDQTY
this.isReadonly = 0
[L]CURPRO = "CUMFXDQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUMFXDQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "CUMFXDQTY"
$_LNKPRO_CUMFXDQTY
Return


####################################################################
# 23 : PICPRN Materials requisition printing ( Field Local menu number 1)
####################################################################

$SET_PICPRN
If [L]_AOLDVAL<>this.PICPRN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PICPRN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PICPRN
 Gosub PROPAGATE_PICPRN
Endif
Return

$INIT_PICPRN
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "PICPRN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PICPRN=0 and fmet this.AGETATTRIBUTE("PICPRN","$isMandatory")="true"
 this.PICPRN = 1
Endif
Return
 
$CONTROL_PICPRN
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "PICPRN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PICPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PICPRN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PICPRN
[L]CURPRO = "PICPRN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PICPRN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PICPRN
[L]CURPRO = "PICPRN"
If this.PICPRN<0 or this.PICPRN>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PICPRN)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PICPRN
[L]CURPRO = "PICPRN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PICPRN
[L]CURPRO = "PICPRN"
Return

$PROPAGATE_PICPRN
this.isReadonly = 0
[L]CURPRO = "PICPRN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PICPRN
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "PICPRN"
$_LNKPRO_PICPRN
Return


####################################################################
# 24 : BOMUOM UOM ( Field UOM 3)
####################################################################

$SET_BOMUOM
If [L]_AOLDVAL<>this.BOMUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMUOM
 Gosub PROPAGATE_BOMUOM
Endif
Return

$INIT_BOMUOM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMUOM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMUOM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMUOM
[L]CURPRO = "BOMUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.BOMUOM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMUOM
[L]CURPRO = "BOMUOM"
If vireblc(this.BOMUOM,2)<>vireblc(format$("K:3X",this.BOMUOM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_BOMUOM
[L]CURPRO = "BOMUOM"
If vireblc(this.BOMUOM,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"BOMUOM",this.BOMUOM,this.BOMUOM,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.BOMUOM<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMUOM
[L]CURPRO = "BOMUOM"
Return

$PROPAGATE_BOMUOM
this.isReadonly = 0
[L]CURPRO = "BOMUOM"
Gosub _LNKPRO_BOMUOM
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMUOM
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMUOM"
$_LNKPRO_BOMUOM
If vireblc(this.BOMUOM,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.BOMUOM
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("BOMUOM","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return


####################################################################
# 25 : STU Stock unit ( Field UOM 3)
####################################################################

$SET_STU
If [L]_AOLDVAL<>this.STU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STU
 Gosub PROPAGATE_STU
Endif
Return

$INIT_STU
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "STU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STU
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "STU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STU
[L]CURPRO = "STU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>vireblc(format$("K:3X",this.STU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"STU",this.STU,this.STU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STU
[L]CURPRO = "STU"
Return

$PROPAGATE_STU
this.isReadonly = 0
[L]CURPRO = "STU"
Gosub _LNKPRO_STU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STU
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "STU"
$_LNKPRO_STU
If vireblc(this.STU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.STU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_STU
[L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$isMandatory","true")
Return


####################################################################
# 26 : BOMSTUCOE UOM-STK coef. ( Field COE 0)
####################################################################

$SET_BOMSTUCOE
If [L]_AOLDVAL<>this.BOMSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMSTUCOE
 Gosub PROPAGATE_BOMSTUCOE
Endif
Return

$INIT_BOMSTUCOE
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMSTUCOE
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
Return

$_AOTHERS_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMSTUCOE
[L]CURPRO = "BOMSTUCOE"
Return

$PROPAGATE_BOMSTUCOE
this.isReadonly = 0
[L]CURPRO = "BOMSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMSTUCOE
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMSTUCOE"
$_LNKPRO_BOMSTUCOE
Return


####################################################################
# 27 : BOMQTY Quantity BOM UOM ( Field QTY 0)
####################################################################

$SET_BOMQTY
If [L]_AOLDVAL<>this.BOMQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_BOMQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.BOMQTY
 Gosub PROPAGATE_BOMQTY
Endif
Return

$INIT_BOMQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_BOMQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_BOMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_BOMQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_BOMQTY
[L]CURPRO = "BOMQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.BOMQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_BOMQTY
[L]CURPRO = "BOMQTY"
Return

$_AOTHERS_BOMQTY
[L]CURPRO = "BOMQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_BOMQTY
[L]CURPRO = "BOMQTY"
Return

$PROPAGATE_BOMQTY
this.isReadonly = 0
[L]CURPRO = "BOMQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_BOMQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "BOMQTY"
$_LNKPRO_BOMQTY
Return


####################################################################
# 28 : STDQTY Standard quantity ( Field QTY 0)
####################################################################

$SET_STDQTY
If [L]_AOLDVAL<>this.STDQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STDQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STDQTY
 Gosub PROPAGATE_STDQTY
Endif
Return

$INIT_STDQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "STDQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STDQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "STDQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STDQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STDQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STDQTY
[L]CURPRO = "STDQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STDQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STDQTY
[L]CURPRO = "STDQTY"
Return

$_AOTHERS_STDQTY
[L]CURPRO = "STDQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STDQTY
[L]CURPRO = "STDQTY"
Return

$PROPAGATE_STDQTY
this.isReadonly = 0
[L]CURPRO = "STDQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STDQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "STDQTY"
$_LNKPRO_STDQTY
Return


####################################################################
# 29 : RETQTY Requirement quantity ( Field QTY 0)
####################################################################

$SET_RETQTY
If [L]_AOLDVAL<>this.RETQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RETQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RETQTY
 Gosub PROPAGATE_RETQTY
Endif
Return

$INIT_RETQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RETQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RETQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RETQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RETQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RETQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RETQTY
[L]CURPRO = "RETQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.RETQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RETQTY
[L]CURPRO = "RETQTY"
Return

$_AOTHERS_RETQTY
[L]CURPRO = "RETQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RETQTY
[L]CURPRO = "RETQTY"
Return

$PROPAGATE_RETQTY
this.isReadonly = 0
[L]CURPRO = "RETQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RETQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "RETQTY"
$_LNKPRO_RETQTY
Return


####################################################################
# 30 : USEQTY Consumed quantity ( Field QTY 0)
####################################################################

$SET_USEQTY
If [L]_AOLDVAL<>this.USEQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_USEQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.USEQTY
 Gosub PROPAGATE_USEQTY
Endif
Return

$INIT_USEQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "USEQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_USEQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "USEQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_USEQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_USEQTY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_USEQTY
[L]CURPRO = "USEQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.USEQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_USEQTY
[L]CURPRO = "USEQTY"
Return

$_AOTHERS_USEQTY
[L]CURPRO = "USEQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_USEQTY
[L]CURPRO = "USEQTY"
Return

$PROPAGATE_USEQTY
this.isReadonly = 0
[L]CURPRO = "USEQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_USEQTY
Gosub DECLARE_VAR From WMC0MFGMAT
[L]CURPRO = "USEQTY"
$_LNKPRO_USEQTY
Return




