#<AdxTL>@(#)0.0.0.0 $Revision$Class Products-sites
# Supervisor
## ACLA-CLASSE ## ITMFACILIT
# 2018-08-27 13:18:29 703

 
####################################################################
# Labels of the main class and methods 
####################################################################
 
####################################################################
# 1 : WRHGES Warehouse management ( Field Local menu number 1)
####################################################################
 
$SET_WRHGES
If [L]_AOLDVAL<>this.WRHGES
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_WRHGES
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.WRHGES
 Gosub PROPAGATE_WRHGES
Endif
Return

$INIT_WRHGES
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "WRHGES"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.WRHGES=0 and fmet this.AGETATTRIBUTE("WRHGES","$isMandatory")="true"
 this.WRHGES = 1
Endif
Return
 
$CONTROL_WRHGES
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "WRHGES"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_WRHGES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_WRHGES                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_WRHGES
[L]CURPRO = "WRHGES"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.WRHGES=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_WRHGES
[L]CURPRO = "WRHGES"
If this.WRHGES<0 or this.WRHGES>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.WRHGES)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_WRHGES
[L]CURPRO = "WRHGES"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_WRHGES
[L]CURPRO = "WRHGES"
Return

$PROPAGATE_WRHGES
this.isReadonly = 0
[L]CURPRO = "WRHGES"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_WRHGES
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "WRHGES"
$_LNKPRO_WRHGES
Return


####################################################################
# 2 : QUALIB Control ( Field A 15)
####################################################################
 
$SET_QUALIB
If [L]_AOLDVAL<>this.QUALIB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUALIB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUALIB
 Gosub PROPAGATE_QUALIB
Endif
Return

$INIT_QUALIB
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "QUALIB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUALIB
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "QUALIB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUALIB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUALIB                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUALIB
[L]CURPRO = "QUALIB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.QUALIB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUALIB
[L]CURPRO = "QUALIB"
Return

$_AOTHERS_QUALIB
[L]CURPRO = "QUALIB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUALIB
[L]CURPRO = "QUALIB"
Return

$PROPAGATE_QUALIB
this.isReadonly = 0
[L]CURPRO = "QUALIB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUALIB
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "QUALIB"
$_LNKPRO_QUALIB
Return


####################################################################
# 3 : DLULTI UBD lead time ( Field C 4)
####################################################################
 
$SET_DLULTI
If [L]_AOLDVAL<>this.DLULTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLULTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLULTI
 Gosub PROPAGATE_DLULTI
Endif
Return

$INIT_DLULTI
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "DLULTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DLULTI
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "DLULTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLULTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLULTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLULTI
[L]CURPRO = "DLULTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLULTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLULTI
[L]CURPRO = "DLULTI"
Return

$_AOTHERS_DLULTI
[L]CURPRO = "DLULTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLULTI
[L]CURPRO = "DLULTI"
Return

$PROPAGATE_DLULTI
this.isReadonly = 0
[L]CURPRO = "DLULTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLULTI
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "DLULTI"
$_LNKPRO_DLULTI
Return


####################################################################
# 4 : DLULTIUOM Units of measure ( Field Local menu number 2759)
####################################################################
 
$SET_DLULTIUOM
If [L]_AOLDVAL<>this.DLULTIUOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DLULTIUOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DLULTIUOM
 Gosub PROPAGATE_DLULTIUOM
Endif
Return

$INIT_DLULTIUOM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "DLULTIUOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.DLULTIUOM=0 and fmet this.AGETATTRIBUTE("DLULTIUOM","$isMandatory")="true"
 this.DLULTIUOM = 1
Endif
Return
 
$CONTROL_DLULTIUOM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "DLULTIUOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DLULTIUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DLULTIUOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DLULTIUOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
If this.DLULTIUOM<0 or this.DLULTIUOM>len(mess(0,2759,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2759 ->"-num$(this.DLULTIUOM)-mess(99,123,1)):  Return : # Local menu "2759 -> Invalid option
Endif
Return

$_AOTHERS_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DLULTIUOM
[L]CURPRO = "DLULTIUOM"
Return

$PROPAGATE_DLULTIUOM
this.isReadonly = 0
[L]CURPRO = "DLULTIUOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DLULTIUOM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "DLULTIUOM"
$_LNKPRO_DLULTIUOM
Return


####################################################################
# 5 : LIB1 Warehouse ( Field A 10)
####################################################################
 
$SET_LIB1
If [L]_AOLDVAL<>this.LIB1
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIB1
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIB1
 Gosub PROPAGATE_LIB1
Endif
Return

$INIT_LIB1
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "LIB1"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIB1
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "LIB1"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIB1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIB1                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIB1
[L]CURPRO = "LIB1"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LIB1,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIB1
[L]CURPRO = "LIB1"
Return

$_AOTHERS_LIB1
[L]CURPRO = "LIB1"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIB1
[L]CURPRO = "LIB1"
Return

$PROPAGATE_LIB1
this.isReadonly = 0
[L]CURPRO = "LIB1"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIB1
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "LIB1"
$_LNKPRO_LIB1
Return


####################################################################
# 6 : LIB3 Warehouse ( Field A 10)
####################################################################
 
$SET_LIB3
If [L]_AOLDVAL<>this.LIB3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LIB3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LIB3
 Gosub PROPAGATE_LIB3
Endif
Return

$INIT_LIB3
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "LIB3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LIB3
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "LIB3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LIB3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LIB3                  : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LIB3
[L]CURPRO = "LIB3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LIB3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LIB3
[L]CURPRO = "LIB3"
Return

$_AOTHERS_LIB3
[L]CURPRO = "LIB3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LIB3
[L]CURPRO = "LIB3"
Return

$PROPAGATE_LIB3
this.isReadonly = 0
[L]CURPRO = "LIB3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LIB3
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "LIB3"
$_LNKPRO_LIB3
Return


####################################################################
# 7 : JOURS7 Day ( Field A 14)
####################################################################
 
$SET_JOURS7
If [L]_AOLDVAL<>this.JOURS7
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS7
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS7
 Gosub PROPAGATE_JOURS7
Endif
Return

$INIT_JOURS7
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS7"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS7
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS7"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS7                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS7                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS7
[L]CURPRO = "JOURS7"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS7,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS7
[L]CURPRO = "JOURS7"
Return

$_AOTHERS_JOURS7
[L]CURPRO = "JOURS7"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS7
[L]CURPRO = "JOURS7"
Return

$PROPAGATE_JOURS7
this.isReadonly = 0
[L]CURPRO = "JOURS7"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS7
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS7"
$_LNKPRO_JOURS7
Return


####################################################################
# 8 : JOURS4 Day ( Field A 14)
####################################################################
 
$SET_JOURS4
If [L]_AOLDVAL<>this.JOURS4
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS4
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS4
 Gosub PROPAGATE_JOURS4
Endif
Return

$INIT_JOURS4
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS4"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS4
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS4"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS4                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS4                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS4
[L]CURPRO = "JOURS4"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS4,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS4
[L]CURPRO = "JOURS4"
Return

$_AOTHERS_JOURS4
[L]CURPRO = "JOURS4"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS4
[L]CURPRO = "JOURS4"
Return

$PROPAGATE_JOURS4
this.isReadonly = 0
[L]CURPRO = "JOURS4"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS4
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS4"
$_LNKPRO_JOURS4
Return


####################################################################
# 9 : JOURS5 Day ( Field A 14)
####################################################################
 
$SET_JOURS5
If [L]_AOLDVAL<>this.JOURS5
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS5
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS5
 Gosub PROPAGATE_JOURS5
Endif
Return

$INIT_JOURS5
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS5"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS5
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS5"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS5                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS5                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS5
[L]CURPRO = "JOURS5"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS5,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS5
[L]CURPRO = "JOURS5"
Return

$_AOTHERS_JOURS5
[L]CURPRO = "JOURS5"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS5
[L]CURPRO = "JOURS5"
Return

$PROPAGATE_JOURS5
this.isReadonly = 0
[L]CURPRO = "JOURS5"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS5
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS5"
$_LNKPRO_JOURS5
Return


####################################################################
# 10 : JOURS3 Day ( Field A 15)
####################################################################
 
$SET_JOURS3
If [L]_AOLDVAL<>this.JOURS3
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS3
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS3
 Gosub PROPAGATE_JOURS3
Endif
Return

$INIT_JOURS3
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS3"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS3
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS3"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS3                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS3                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS3
[L]CURPRO = "JOURS3"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS3,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS3
[L]CURPRO = "JOURS3"
Return

$_AOTHERS_JOURS3
[L]CURPRO = "JOURS3"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS3
[L]CURPRO = "JOURS3"
Return

$PROPAGATE_JOURS3
this.isReadonly = 0
[L]CURPRO = "JOURS3"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS3
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS3"
$_LNKPRO_JOURS3
Return


####################################################################
# 11 : JOURS6 Day ( Field A 15)
####################################################################
 
$SET_JOURS6
If [L]_AOLDVAL<>this.JOURS6
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS6
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS6
 Gosub PROPAGATE_JOURS6
Endif
Return

$INIT_JOURS6
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS6"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS6
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS6"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS6                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS6                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS6
[L]CURPRO = "JOURS6"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS6,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS6
[L]CURPRO = "JOURS6"
Return

$_AOTHERS_JOURS6
[L]CURPRO = "JOURS6"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS6
[L]CURPRO = "JOURS6"
Return

$PROPAGATE_JOURS6
this.isReadonly = 0
[L]CURPRO = "JOURS6"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS6
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS6"
$_LNKPRO_JOURS6
Return


####################################################################
# 12 : JOURS8 Day ( Field A 15)
####################################################################
 
$SET_JOURS8
If [L]_AOLDVAL<>this.JOURS8
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_JOURS8
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.JOURS8
 Gosub PROPAGATE_JOURS8
Endif
Return

$INIT_JOURS8
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS8"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_JOURS8
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS8"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_JOURS8                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_JOURS8                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_JOURS8
[L]CURPRO = "JOURS8"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.JOURS8,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_JOURS8
[L]CURPRO = "JOURS8"
Return

$_AOTHERS_JOURS8
[L]CURPRO = "JOURS8"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_JOURS8
[L]CURPRO = "JOURS8"
Return

$PROPAGATE_JOURS8
this.isReadonly = 0
[L]CURPRO = "JOURS8"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_JOURS8
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "JOURS8"
$_LNKPRO_JOURS8
Return


####################################################################
# 13 : SEMAINE Week ( Field A 12)
####################################################################
 
$SET_SEMAINE
If [L]_AOLDVAL<>this.SEMAINE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SEMAINE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SEMAINE
 Gosub PROPAGATE_SEMAINE
Endif
Return

$INIT_SEMAINE
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SEMAINE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SEMAINE
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SEMAINE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SEMAINE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SEMAINE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SEMAINE
[L]CURPRO = "SEMAINE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SEMAINE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SEMAINE
[L]CURPRO = "SEMAINE"
Return

$_AOTHERS_SEMAINE
[L]CURPRO = "SEMAINE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SEMAINE
[L]CURPRO = "SEMAINE"
Return

$PROPAGATE_SEMAINE
this.isReadonly = 0
[L]CURPRO = "SEMAINE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SEMAINE
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SEMAINE"
$_LNKPRO_SEMAINE
Return


####################################################################
# 14 : ITMNOTE Product notes ( Field ICO 3)
####################################################################
 
$SET_ITMNOTE
If [L]_AOLDVAL<>this.ITMNOTE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMNOTE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMNOTE
 Gosub PROPAGATE_ITMNOTE
Endif
Return

$INIT_ITMNOTE
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "ITMNOTE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMNOTE
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "ITMNOTE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMNOTE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMNOTE               : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMNOTE
[L]CURPRO = "ITMNOTE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMNOTE,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMNOTE
[L]CURPRO = "ITMNOTE"
If vireblc(this.ITMNOTE,2)<>vireblc(format$("K:3X",this.ITMNOTE),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMNOTE
[L]CURPRO = "ITMNOTE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMNOTE
[L]CURPRO = "ITMNOTE"
Return

$PROPAGATE_ITMNOTE
this.isReadonly = 0
[L]CURPRO = "ITMNOTE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMNOTE
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "ITMNOTE"
$_LNKPRO_ITMNOTE
Return


####################################################################
# 15 : EXTSTODET Stock on external sites ( Field A 3)
####################################################################
 
$SET_EXTSTODET
If [L]_AOLDVAL<>this.EXTSTODET
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EXTSTODET
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EXTSTODET
 Gosub PROPAGATE_EXTSTODET
Endif
Return

$INIT_EXTSTODET
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "EXTSTODET"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_EXTSTODET
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "EXTSTODET"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EXTSTODET             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EXTSTODET             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EXTSTODET
[L]CURPRO = "EXTSTODET"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.EXTSTODET,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EXTSTODET
[L]CURPRO = "EXTSTODET"
Return

$_AOTHERS_EXTSTODET
[L]CURPRO = "EXTSTODET"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EXTSTODET
[L]CURPRO = "EXTSTODET"
Return

$PROPAGATE_EXTSTODET
this.isReadonly = 0
[L]CURPRO = "EXTSTODET"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EXTSTODET
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "EXTSTODET"
$_LNKPRO_EXTSTODET
Return


####################################################################
# 16 : SCCSTODET Detail ( Field A 3)
####################################################################
 
$SET_SCCSTODET
If [L]_AOLDVAL<>this.SCCSTODET
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SCCSTODET
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SCCSTODET
 Gosub PROPAGATE_SCCSTODET
Endif
Return

$INIT_SCCSTODET
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SCCSTODET"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SCCSTODET
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SCCSTODET"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SCCSTODET             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SCCSTODET             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SCCSTODET
[L]CURPRO = "SCCSTODET"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SCCSTODET,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SCCSTODET
[L]CURPRO = "SCCSTODET"
Return

$_AOTHERS_SCCSTODET
[L]CURPRO = "SCCSTODET"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SCCSTODET
[L]CURPRO = "SCCSTODET"
Return

$PROPAGATE_SCCSTODET
this.isReadonly = 0
[L]CURPRO = "SCCSTODET"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SCCSTODET
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SCCSTODET"
$_LNKPRO_SCCSTODET
Return


####################################################################
# 17 : FIYNUM Fiscal year ( Field C 2)
####################################################################
 
$SET_FIYNUM
If [L]_AOLDVAL<>this.FIYNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FIYNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FIYNUM
 Gosub PROPAGATE_FIYNUM
Endif
Return

$INIT_FIYNUM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "FIYNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FIYNUM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "FIYNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FIYNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FIYNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FIYNUM
[L]CURPRO = "FIYNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FIYNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FIYNUM
[L]CURPRO = "FIYNUM"
Return

$_AOTHERS_FIYNUM
[L]CURPRO = "FIYNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FIYNUM
[L]CURPRO = "FIYNUM"
Return

$PROPAGATE_FIYNUM
this.isReadonly = 0
[L]CURPRO = "FIYNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FIYNUM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "FIYNUM"
$_LNKPRO_FIYNUM
Return


####################################################################
# 18 : PERSTR Period start ( Field D)
####################################################################
 
$SET_PERSTR
If [L]_AOLDVAL<>this.PERSTR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERSTR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERSTR
 Gosub PROPAGATE_PERSTR
Endif
Return

$INIT_PERSTR
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PERSTR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERSTR
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PERSTR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERSTR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERSTR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERSTR
[L]CURPRO = "PERSTR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERSTR=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERSTR
[L]CURPRO = "PERSTR"
Return

$_AOTHERS_PERSTR
[L]CURPRO = "PERSTR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERSTR
[L]CURPRO = "PERSTR"
Return

$PROPAGATE_PERSTR
this.isReadonly = 0
[L]CURPRO = "PERSTR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERSTR
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PERSTR"
$_LNKPRO_PERSTR
Return


####################################################################
# 19 : PEREND Period end ( Field D)
####################################################################
 
$SET_PEREND
If [L]_AOLDVAL<>this.PEREND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PEREND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PEREND
 Gosub PROPAGATE_PEREND
Endif
Return

$INIT_PEREND
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PEREND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PEREND
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PEREND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PEREND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PEREND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PEREND
[L]CURPRO = "PEREND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PEREND=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PEREND
[L]CURPRO = "PEREND"
Return

$_AOTHERS_PEREND
[L]CURPRO = "PEREND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PEREND
[L]CURPRO = "PEREND"
Return

$PROPAGATE_PEREND
this.isReadonly = 0
[L]CURPRO = "PEREND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PEREND
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PEREND"
$_LNKPRO_PEREND
Return


####################################################################
# 20 : SELPER Detail ( Field A 3)
####################################################################
 
$SET_SELPER
If [L]_AOLDVAL<>this.SELPER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SELPER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SELPER
 Gosub PROPAGATE_SELPER
Endif
Return

$INIT_SELPER
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SELPER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SELPER
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SELPER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SELPER                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SELPER                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SELPER
[L]CURPRO = "SELPER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SELPER,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SELPER
[L]CURPRO = "SELPER"
Return

$_AOTHERS_SELPER
[L]CURPRO = "SELPER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SELPER
[L]CURPRO = "SELPER"
Return

$PROPAGATE_SELPER
this.isReadonly = 0
[L]CURPRO = "SELPER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SELPER
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "SELPER"
$_LNKPRO_SELPER
Return


####################################################################
# 21 : PERNUM Period number ( Field C 2)
####################################################################
 
$SET_PERNUM
If [L]_AOLDVAL<>this.PERNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERNUM
 Gosub PROPAGATE_PERNUM
Endif
Return

$INIT_PERNUM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PERNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERNUM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PERNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERNUM                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERNUM
[L]CURPRO = "PERNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERNUM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERNUM
[L]CURPRO = "PERNUM"
Return

$_AOTHERS_PERNUM
[L]CURPRO = "PERNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERNUM
[L]CURPRO = "PERNUM"
Return

$PROPAGATE_PERNUM
this.isReadonly = 0
[L]CURPRO = "PERNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERNUM
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "PERNUM"
$_LNKPRO_PERNUM
Return


####################################################################
# 22 : MONRCPQTY Monthly qty. received ( Field QTY 0)
####################################################################
 
$SET_MONRCPQTY
If [L]_AOLDVAL<>this.MONRCPQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MONRCPQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MONRCPQTY
 Gosub PROPAGATE_MONRCPQTY
Endif
Return

$INIT_MONRCPQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MONRCPQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MONRCPQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MONRCPQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MONRCPQTY
[L]CURPRO = "MONRCPQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MONRCPQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MONRCPQTY
[L]CURPRO = "MONRCPQTY"
Return

$_AOTHERS_MONRCPQTY
[L]CURPRO = "MONRCPQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MONRCPQTY
[L]CURPRO = "MONRCPQTY"
Return

$PROPAGATE_MONRCPQTY
this.isReadonly = 0
[L]CURPRO = "MONRCPQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MONRCPQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPQTY"
$_LNKPRO_MONRCPQTY
Return


####################################################################
# 23 : YEARCPQTY Annual qty. received ( Field QTY 0)
####################################################################
 
$SET_YEARCPQTY
If [L]_AOLDVAL<>this.YEARCPQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YEARCPQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YEARCPQTY
 Gosub PROPAGATE_YEARCPQTY
Endif
Return

$INIT_YEARCPQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YEARCPQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YEARCPQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YEARCPQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YEARCPQTY
[L]CURPRO = "YEARCPQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YEARCPQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YEARCPQTY
[L]CURPRO = "YEARCPQTY"
Return

$_AOTHERS_YEARCPQTY
[L]CURPRO = "YEARCPQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YEARCPQTY
[L]CURPRO = "YEARCPQTY"
Return

$PROPAGATE_YEARCPQTY
this.isReadonly = 0
[L]CURPRO = "YEARCPQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YEARCPQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPQTY"
$_LNKPRO_YEARCPQTY
Return


####################################################################
# 24 : MONRCPAMT Monthly amt. received ( Field MD1 0)
####################################################################
 
$SET_MONRCPAMT
If [L]_AOLDVAL<>this.MONRCPAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MONRCPAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MONRCPAMT
 Gosub PROPAGATE_MONRCPAMT
Endif
Return

$INIT_MONRCPAMT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MONRCPAMT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MONRCPAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MONRCPAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MONRCPAMT
[L]CURPRO = "MONRCPAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MONRCPAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MONRCPAMT
[L]CURPRO = "MONRCPAMT"
Return

$_AOTHERS_MONRCPAMT
[L]CURPRO = "MONRCPAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"MONRCPAMT",this.MONRCPAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MONRCPAMT
[L]CURPRO = "MONRCPAMT"
Return

$PROPAGATE_MONRCPAMT
this.isReadonly = 0
[L]CURPRO = "MONRCPAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MONRCPAMT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPAMT"
$_LNKPRO_MONRCPAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"MONRCPAMT",this.MONRCPAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("MONRCPAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 25 : RCPCUR Currency ( Field CUR 3)
####################################################################
 
$SET_RCPCUR
If [L]_AOLDVAL<>this.RCPCUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_RCPCUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.RCPCUR
 Gosub PROPAGATE_RCPCUR
Endif
Return

$INIT_RCPCUR
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "RCPCUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_RCPCUR
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "RCPCUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_RCPCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_RCPCUR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_RCPCUR
[L]CURPRO = "RCPCUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.RCPCUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_RCPCUR
[L]CURPRO = "RCPCUR"
If vireblc(this.RCPCUR,2)<>vireblc(format$("K:3c",this.RCPCUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_RCPCUR
[L]CURPRO = "RCPCUR"
If vireblc(this.RCPCUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"RCPCUR",this.RCPCUR,this.RCPCUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.RCPCUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_RCPCUR
[L]CURPRO = "RCPCUR"
Return

$PROPAGATE_RCPCUR
this.isReadonly = 0
[L]CURPRO = "RCPCUR"
Gosub _LNKPRO_RCPCUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_RCPCUR
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "RCPCUR"
$_LNKPRO_RCPCUR
If vireblc(this.RCPCUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.RCPCUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("RCPCUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("RCPCUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("RCPCUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("RCPCUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("RCPCUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 26 : YEARCPAMT Annual amt. received ( Field MD1 0)
####################################################################
 
$SET_YEARCPAMT
If [L]_AOLDVAL<>this.YEARCPAMT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YEARCPAMT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YEARCPAMT
 Gosub PROPAGATE_YEARCPAMT
Endif
Return

$INIT_YEARCPAMT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPAMT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YEARCPAMT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPAMT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YEARCPAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YEARCPAMT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YEARCPAMT
[L]CURPRO = "YEARCPAMT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YEARCPAMT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YEARCPAMT
[L]CURPRO = "YEARCPAMT"
Return

$_AOTHERS_YEARCPAMT
[L]CURPRO = "YEARCPAMT"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"YEARCPAMT",this.YEARCPAMT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YEARCPAMT
[L]CURPRO = "YEARCPAMT"
Return

$PROPAGATE_YEARCPAMT
this.isReadonly = 0
[L]CURPRO = "YEARCPAMT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YEARCPAMT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPAMT"
$_LNKPRO_YEARCPAMT
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"YEARCPAMT",this.YEARCPAMT,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("YEARCPAMT","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 27 : AMTDEV Variance not absorbed ( Field MD1 0)
####################################################################
 
$SET_AMTDEV
If [L]_AOLDVAL<>this.AMTDEV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_AMTDEV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.AMTDEV
 Gosub PROPAGATE_AMTDEV
Endif
Return

$INIT_AMTDEV
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "AMTDEV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_AMTDEV
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "AMTDEV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_AMTDEV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_AMTDEV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_AMTDEV
[L]CURPRO = "AMTDEV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.AMTDEV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_AMTDEV
[L]CURPRO = "AMTDEV"
Return

$_AOTHERS_AMTDEV
[L]CURPRO = "AMTDEV"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD1(this,"AMTDEV",this.AMTDEV,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_AMTDEV
[L]CURPRO = "AMTDEV"
Return

$PROPAGATE_AMTDEV
this.isReadonly = 0
[L]CURPRO = "AMTDEV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_AMTDEV
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "AMTDEV"
$_LNKPRO_AMTDEV
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD1(this,"AMTDEV",this.AMTDEV,[L]AFORMAT,"")
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("AMTDEV","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 28 : MONRCPMVT No. monthly receipts ( Field L 7)
####################################################################
 
$SET_MONRCPMVT
If [L]_AOLDVAL<>this.MONRCPMVT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MONRCPMVT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MONRCPMVT
 Gosub PROPAGATE_MONRCPMVT
Endif
Return

$INIT_MONRCPMVT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPMVT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MONRCPMVT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPMVT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MONRCPMVT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MONRCPMVT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MONRCPMVT
[L]CURPRO = "MONRCPMVT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MONRCPMVT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MONRCPMVT
[L]CURPRO = "MONRCPMVT"
Return

$_AOTHERS_MONRCPMVT
[L]CURPRO = "MONRCPMVT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MONRCPMVT
[L]CURPRO = "MONRCPMVT"
Return

$PROPAGATE_MONRCPMVT
this.isReadonly = 0
[L]CURPRO = "MONRCPMVT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MONRCPMVT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONRCPMVT"
$_LNKPRO_MONRCPMVT
Return


####################################################################
# 29 : YEARCPMVT No. annual receipts ( Field L 7)
####################################################################
 
$SET_YEARCPMVT
If [L]_AOLDVAL<>this.YEARCPMVT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_YEARCPMVT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.YEARCPMVT
 Gosub PROPAGATE_YEARCPMVT
Endif
Return

$INIT_YEARCPMVT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPMVT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_YEARCPMVT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPMVT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_YEARCPMVT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_YEARCPMVT             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_YEARCPMVT
[L]CURPRO = "YEARCPMVT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.YEARCPMVT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_YEARCPMVT
[L]CURPRO = "YEARCPMVT"
Return

$_AOTHERS_YEARCPMVT
[L]CURPRO = "YEARCPMVT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_YEARCPMVT
[L]CURPRO = "YEARCPMVT"
Return

$PROPAGATE_YEARCPMVT
this.isReadonly = 0
[L]CURPRO = "YEARCPMVT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_YEARCPMVT
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "YEARCPMVT"
$_LNKPRO_YEARCPMVT
Return


####################################################################
# 30 : MONISSQTY Monthly qty. issued ( Field QTY 0)
####################################################################
 
$SET_MONISSQTY
If [L]_AOLDVAL<>this.MONISSQTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MONISSQTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MONISSQTY
 Gosub PROPAGATE_MONISSQTY
Endif
Return

$INIT_MONISSQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONISSQTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MONISSQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONISSQTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MONISSQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MONISSQTY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MONISSQTY
[L]CURPRO = "MONISSQTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MONISSQTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MONISSQTY
[L]CURPRO = "MONISSQTY"
Return

$_AOTHERS_MONISSQTY
[L]CURPRO = "MONISSQTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MONISSQTY
[L]CURPRO = "MONISSQTY"
Return

$PROPAGATE_MONISSQTY
this.isReadonly = 0
[L]CURPRO = "MONISSQTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MONISSQTY
Gosub DECLARE_VAR From WMR0ITMFACILIT
[L]CURPRO = "MONISSQTY"
$_LNKPRO_MONISSQTY
Return




