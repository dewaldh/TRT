#<AdxTL>@(#)0.0.0.0 $Revision$Class Sales invoice detail
# Supervisor
## ACLA-CLASSE ## SINVOICED
# 2018-08-27 12:46:43 065

####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 62 : INVPRC Percentage ( Field DCB 3)
####################################################################

$SET_INVPRC
If [L]_AOLDVAL<>this.INVPRC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVPRC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVPRC
 Gosub PROPAGATE_INVPRC
Endif
Return

$INIT_INVPRC
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVPRC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVPRC
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVPRC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVPRC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVPRC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVPRC
[L]CURPRO = "INVPRC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVPRC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVPRC
[L]CURPRO = "INVPRC"
Return

$_AOTHERS_INVPRC
[L]CURPRO = "INVPRC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVPRC
[L]CURPRO = "INVPRC"
Return

$PROPAGATE_INVPRC
this.isReadonly = 0
[L]CURPRO = "INVPRC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVPRC
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVPRC"
$_LNKPRO_INVPRC
Return


####################################################################
# 63 : QTY Invoiced qty. ( Field QTY 0)
####################################################################

$SET_QTY
If [L]_AOLDVAL<>this.QTY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTY
 Gosub PROPAGATE_QTY
Endif
Return

$INIT_QTY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "QTY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "QTY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTY                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTY
[L]CURPRO = "QTY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTY
[L]CURPRO = "QTY"
Return

$_AOTHERS_QTY
[L]CURPRO = "QTY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTY
[L]CURPRO = "QTY"
Return

$PROPAGATE_QTY
this.isReadonly = 0
[L]CURPRO = "QTY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "QTY"
$_LNKPRO_QTY
Return

$_ALOADATTRIBUTE_QTY
[L]ASTATUS = fmet this.ASETATTRIBUTE("QTY","$isMandatory","true")
Return


####################################################################
# 64 : QTYSTU Invoiced STU ( Field QTY 0)
####################################################################

$SET_QTYSTU
If [L]_AOLDVAL<>this.QTYSTU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QTYSTU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QTYSTU
 Gosub PROPAGATE_QTYSTU
Endif
Return

$INIT_QTYSTU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "QTYSTU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QTYSTU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "QTYSTU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QTYSTU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QTYSTU                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QTYSTU
[L]CURPRO = "QTYSTU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QTYSTU=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QTYSTU
[L]CURPRO = "QTYSTU"
Return

$_AOTHERS_QTYSTU
[L]CURPRO = "QTYSTU"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QTYSTU
[L]CURPRO = "QTYSTU"
Return

$PROPAGATE_QTYSTU
this.isReadonly = 0
[L]CURPRO = "QTYSTU"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QTYSTU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "QTYSTU"
$_LNKPRO_QTYSTU
Return

$_ALOADATTRIBUTE_QTYSTU
[L]ASTATUS = fmet this.ASETATTRIBUTE("QTYSTU","$isMandatory","true")
Return


####################################################################
# 65 : SAU Sales unit ( Field UOM 3)
####################################################################

$SET_SAU
If [L]_AOLDVAL<>this.SAU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAU
 Gosub PROPAGATE_SAU
Endif
Return

$INIT_SAU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SAU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SAU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAU
[L]CURPRO = "SAU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SAU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAU
[L]CURPRO = "SAU"
If vireblc(this.SAU,2)<>vireblc(format$("K:3X",this.SAU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SAU
[L]CURPRO = "SAU"
If vireblc(this.SAU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"SAU",this.SAU,this.SAU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SAU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAU
[L]CURPRO = "SAU"
Return

$PROPAGATE_SAU
this.isReadonly = 0
[L]CURPRO = "SAU"
Gosub _LNKPRO_SAU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SAU"
$_LNKPRO_SAU
If vireblc(this.SAU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.SAU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_SAU
[L]ASTATUS = fmet this.ASETATTRIBUTE("SAU","$isMandatory","true")
Return


####################################################################
# 66 : STU Stock unit ( Field UOM 3)
####################################################################

$SET_STU
If [L]_AOLDVAL<>this.STU
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STU
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STU
 Gosub PROPAGATE_STU
Endif
Return

$INIT_STU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STU"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STU"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STU                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STU
[L]CURPRO = "STU"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STU,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>vireblc(format$("K:3X",this.STU),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STU
[L]CURPRO = "STU"
If vireblc(this.STU,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPUOM.ACTRLREF(this,"STU",this.STU,this.STU,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STU<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STU
[L]CURPRO = "STU"
Return

$PROPAGATE_STU
this.isReadonly = 0
[L]CURPRO = "STU"
Gosub _LNKPRO_STU
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STU
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STU"
$_LNKPRO_STU
If vireblc(this.STU,2)<>""
 # Link TABUNIT
 Local File TABUNIT [WTUN]
 Read [F:WTUN]TUN0 = this.STU
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DESSHO" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABUNIT" & ZONE="DES" & IDENT1=[F:WTUN]UOM & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$symbol",[F:WTUN]UOMSYM)
  If int([WTUN]UOMDEC)>0
   Local Char WSCALE(10)
   WSCALE=num$([F:WTUN]UOMDEC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTUN]
Endif
Return

$_ALOADATTRIBUTE_STU
[L]ASTATUS = fmet this.ASETATTRIBUTE("STU","$isMandatory","true")
Return


####################################################################
# 67 : SAUSTUCOE SAL-STK conv. ( Field COE 0)
####################################################################

$SET_SAUSTUCOE
If [L]_AOLDVAL<>this.SAUSTUCOE
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAUSTUCOE
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAUSTUCOE
 Gosub PROPAGATE_SAUSTUCOE
Endif
Return

$INIT_SAUSTUCOE
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAUSTUCOE
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SAUSTUCOE"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAUSTUCOE             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SAUSTUCOE=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
Return

$_AOTHERS_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAUSTUCOE
[L]CURPRO = "SAUSTUCOE"
Return

$PROPAGATE_SAUSTUCOE
this.isReadonly = 0
[L]CURPRO = "SAUSTUCOE"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAUSTUCOE
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SAUSTUCOE"
$_LNKPRO_SAUSTUCOE
Return


####################################################################
# 68 : STOFCY Shipment site ( Field FCY 5)
####################################################################

$SET_STOFCY
If [L]_AOLDVAL<>this.STOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOFCY
 Gosub PROPAGATE_STOFCY
Endif
Return

$INIT_STOFCY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STOFCY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOFCY
[L]CURPRO = "STOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>vireblc(format$("K:5c",this.STOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"STOFCY",this.STOFCY,this.STOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOFCY
[L]CURPRO = "STOFCY"
Return

$PROPAGATE_STOFCY
this.isReadonly = 0
[L]CURPRO = "STOFCY"
Gosub _LNKPRO_STOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOFCY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STOFCY"
$_LNKPRO_STOFCY
If vireblc(this.STOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.STOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 69 : STOMGTCOD Stock management ( Field Local menu number 215)
####################################################################

$SET_STOMGTCOD
If [L]_AOLDVAL<>this.STOMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOMGTCOD
 Gosub PROPAGATE_STOMGTCOD
Endif
Return

$INIT_STOMGTCOD
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STOMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STOMGTCOD=0 and fmet this.AGETATTRIBUTE("STOMGTCOD","$isMandatory")="true"
 this.STOMGTCOD = 1
Endif
Return
 
$CONTROL_STOMGTCOD
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STOMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STOMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
If this.STOMGTCOD<0 or this.STOMGTCOD>len(mess(0,215,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"215 ->"-num$(this.STOMGTCOD)-mess(99,123,1)):  Return : # Local menu "215 -> Invalid option
Endif
Return

$_AOTHERS_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOMGTCOD
[L]CURPRO = "STOMGTCOD"
Return

$PROPAGATE_STOMGTCOD
this.isReadonly = 0
[L]CURPRO = "STOMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOMGTCOD
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STOMGTCOD"
$_LNKPRO_STOMGTCOD
Return


####################################################################
# 70 : LOT Filter lot ( Field LOT 15)
####################################################################

$SET_LOT
If [L]_AOLDVAL<>this.LOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOT
 Gosub PROPAGATE_LOT
Endif
Return

$INIT_LOT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOT                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOT
[L]CURPRO = "LOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOT,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOT
[L]CURPRO = "LOT"
If vireblc(this.LOT,2)<>vireblc(format$("K:15c",this.LOT),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOT
[L]CURPRO = "LOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOT
[L]CURPRO = "LOT"
Return

$PROPAGATE_LOT
this.isReadonly = 0
[L]CURPRO = "LOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LOT"
$_LNKPRO_LOT
Return


####################################################################
# 71 : STA Filter status ( Field A 12)
####################################################################

$SET_STA
If [L]_AOLDVAL<>this.STA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STA
 Gosub PROPAGATE_STA
Endif
Return

$INIT_STA
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STA
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STA                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STA
[L]CURPRO = "STA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STA,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STA
[L]CURPRO = "STA"
Return

$_AOTHERS_STA
[L]CURPRO = "STA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STA
[L]CURPRO = "STA"
Return

$PROPAGATE_STA
this.isReadonly = 0
[L]CURPRO = "STA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STA
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STA"
$_LNKPRO_STA
Return


####################################################################
# 72 : LOC Location filter ( Field LOC 10)
####################################################################

$SET_LOC
If [L]_AOLDVAL<>this.LOC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOC
 Gosub PROPAGATE_LOC
Endif
Return

$INIT_LOC
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LOC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LOC
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LOC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOC
[L]CURPRO = "LOC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LOC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOC
[L]CURPRO = "LOC"
If vireblc(this.LOC,2)<>vireblc(format$("K:10c",this.LOC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_LOC
[L]CURPRO = "LOC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOC
[L]CURPRO = "LOC"
If vireblc(this.LOC,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPLOC.ACTRLREF(this,"LOC",this.LOC,this.STOFCY,this.LOC,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.LOC<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
Return

$PROPAGATE_LOC
this.isReadonly = 0
[L]CURPRO = "LOC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOC
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LOC"
$_LNKPRO_LOC
Return


####################################################################
# 73 : PRIORD Order price ( Field MD5 0)
####################################################################

$SET_PRIORD
If [L]_AOLDVAL<>this.PRIORD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIORD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIORD
 Gosub PROPAGATE_PRIORD
Endif
Return

$INIT_PRIORD
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PRIORD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIORD
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PRIORD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIORD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIORD
[L]CURPRO = "PRIORD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIORD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIORD
[L]CURPRO = "PRIORD"
Return

$_AOTHERS_PRIORD
[L]CURPRO = "PRIORD"
[L]ASTATUS =  func ASYRTRTATY.CONTROLMD5(this,"PRIORD",this.PRIORD)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIORD
[L]CURPRO = "PRIORD"
Return

$PROPAGATE_PRIORD
this.isReadonly = 0
[L]CURPRO = "PRIORD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIORD
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PRIORD"
$_LNKPRO_PRIORD
Local Char AFORMAT(50)
[L]ASTATUS =  func ASYRTRTATY.GETFORMATMD5(this,"PRIORD",this.PRIORD,[L]AFORMAT)
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]AFORMAT<>''
[L]AFORMAT='"'+[L]AFORMAT+'"'
[L]ASTATUS = fmet this.ASETATTRIBUTE("PRIORD","$x3Format",[L]AFORMAT)
Endif
Return


####################################################################
# 74 : ALLTYP Allocation type ( Field Local menu number 294)
####################################################################

$SET_ALLTYP
If [L]_AOLDVAL<>this.ALLTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ALLTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ALLTYP
 Gosub PROPAGATE_ALLTYP
Endif
Return

$INIT_ALLTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ALLTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ALLTYP=0 and fmet this.AGETATTRIBUTE("ALLTYP","$isMandatory")="true"
 this.ALLTYP = 1
Endif
Return
 
$CONTROL_ALLTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ALLTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ALLTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ALLTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ALLTYP
[L]CURPRO = "ALLTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ALLTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ALLTYP
[L]CURPRO = "ALLTYP"
If this.ALLTYP<0 or this.ALLTYP>len(mess(0,294,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"294 ->"-num$(this.ALLTYP)-mess(99,123,1)):  Return : # Local menu "294 -> Invalid option
Endif
Return

$_AOTHERS_ALLTYP
[L]CURPRO = "ALLTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ALLTYP
[L]CURPRO = "ALLTYP"
Return

$PROPAGATE_ALLTYP
this.isReadonly = 0
[L]CURPRO = "ALLTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ALLTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ALLTYP"
$_LNKPRO_ALLTYP
Return


####################################################################
# 75 : SALFCY Sales site ( Field FCY 5)
####################################################################

$SET_SALFCY
If [L]_AOLDVAL<>this.SALFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SALFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SALFCY
 Gosub PROPAGATE_SALFCY
Endif
Return

$INIT_SALFCY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SALFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SALFCY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SALFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SALFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SALFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SALFCY
[L]CURPRO = "SALFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SALFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SALFCY
[L]CURPRO = "SALFCY"
If vireblc(this.SALFCY,2)<>vireblc(format$("K:5c",this.SALFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SALFCY
[L]CURPRO = "SALFCY"
If vireblc(this.SALFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"SALFCY",this.SALFCY,this.SALFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.SALFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SALFCY
[L]CURPRO = "SALFCY"
Return

$PROPAGATE_SALFCY
this.isReadonly = 0
[L]CURPRO = "SALFCY"
Gosub _LNKPRO_SALFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SALFCY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SALFCY"
$_LNKPRO_SALFCY
If vireblc(this.SALFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.SALFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_SALFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("SALFCY","$isMandatory","true")
Return


####################################################################
# 76 : INVDAT Invoice date ( Field D)
####################################################################

$SET_INVDAT
If [L]_AOLDVAL<>this.INVDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVDAT
 Gosub PROPAGATE_INVDAT
Endif
Return

$INIT_INVDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_INVDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVDAT
[L]CURPRO = "INVDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVDAT
[L]CURPRO = "INVDAT"
Return

$_AOTHERS_INVDAT
[L]CURPRO = "INVDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVDAT
[L]CURPRO = "INVDAT"
Return

$PROPAGATE_INVDAT
this.isReadonly = 0
[L]CURPRO = "INVDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVDAT"
$_LNKPRO_INVDAT
Return

$_ALOADATTRIBUTE_INVDAT
[L]ASTATUS = fmet this.ASETATTRIBUTE("INVDAT","$isMandatory","true")
Return


####################################################################
# 78 : LINTYP Line type ( Field Local menu number 423)
####################################################################

$SET_LINTYP
If [L]_AOLDVAL<>this.LINTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINTYP
 Gosub PROPAGATE_LINTYP
Endif
Return

$INIT_LINTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LINTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINTYP=0 and fmet this.AGETATTRIBUTE("LINTYP","$isMandatory")="true"
 this.LINTYP = 1
Endif
Return
 
$CONTROL_LINTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LINTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINTYP
[L]CURPRO = "LINTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINTYP
[L]CURPRO = "LINTYP"
If this.LINTYP<0 or this.LINTYP>len(mess(0,423,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"423 ->"-num$(this.LINTYP)-mess(99,123,1)):  Return : # Local menu "423 -> Invalid option
Endif
Return

$_AOTHERS_LINTYP
[L]CURPRO = "LINTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINTYP
[L]CURPRO = "LINTYP"
Return

$PROPAGATE_LINTYP
this.isReadonly = 0
[L]CURPRO = "LINTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LINTYP"
$_LNKPRO_LINTYP
Return


####################################################################
# 79 : FOCFLG Free ( Field Local menu number 439)
####################################################################

$SET_FOCFLG
If [L]_AOLDVAL<>this.FOCFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FOCFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FOCFLG
 Gosub PROPAGATE_FOCFLG
Endif
Return

$INIT_FOCFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "FOCFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FOCFLG=0 and fmet this.AGETATTRIBUTE("FOCFLG","$isMandatory")="true"
 this.FOCFLG = 1
Endif
Return
 
$CONTROL_FOCFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "FOCFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FOCFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FOCFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FOCFLG
[L]CURPRO = "FOCFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FOCFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FOCFLG
[L]CURPRO = "FOCFLG"
If this.FOCFLG<0 or this.FOCFLG>len(mess(0,439,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"439 ->"-num$(this.FOCFLG)-mess(99,123,1)):  Return : # Local menu "439 -> Invalid option
Endif
Return

$_AOTHERS_FOCFLG
[L]CURPRO = "FOCFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FOCFLG
[L]CURPRO = "FOCFLG"
Return

$PROPAGATE_FOCFLG
this.isReadonly = 0
[L]CURPRO = "FOCFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FOCFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "FOCFLG"
$_LNKPRO_FOCFLG
Return


####################################################################
# 80 : ORILIN Free line source ( Field L 8)
####################################################################

$SET_ORILIN
If [L]_AOLDVAL<>this.ORILIN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ORILIN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ORILIN
 Gosub PROPAGATE_ORILIN
Endif
Return

$INIT_ORILIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ORILIN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ORILIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ORILIN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ORILIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ORILIN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ORILIN
[L]CURPRO = "ORILIN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ORILIN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ORILIN
[L]CURPRO = "ORILIN"
Return

$_AOTHERS_ORILIN
[L]CURPRO = "ORILIN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ORILIN
[L]CURPRO = "ORILIN"
Return

$PROPAGATE_ORILIN
this.isReadonly = 0
[L]CURPRO = "ORILIN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ORILIN
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ORILIN"
$_LNKPRO_ORILIN
Return


####################################################################
# 81 : SIDTEX Line text ( Field TXC 12)
####################################################################

$SET_SIDTEX
If [L]_AOLDVAL<>this.SIDTEX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SIDTEX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SIDTEX
 Gosub PROPAGATE_SIDTEX
Endif
Return

$INIT_SIDTEX
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDTEX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SIDTEX
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDTEX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SIDTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SIDTEX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SIDTEX
[L]CURPRO = "SIDTEX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SIDTEX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SIDTEX
[L]CURPRO = "SIDTEX"
If vireblc(this.SIDTEX,2)<>vireblc(format$("K:12X",this.SIDTEX),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SIDTEX
[L]CURPRO = "SIDTEX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SIDTEX
[L]CURPRO = "SIDTEX"
Return

$PROPAGATE_SIDTEX
this.isReadonly = 0
[L]CURPRO = "SIDTEX"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SIDTEX
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "SIDTEX"
$_LNKPRO_SIDTEX
Return


####################################################################
# 82 : LINEECFLG Debit line ( Field Local menu number 1)
####################################################################

$SET_LINEECFLG
If [L]_AOLDVAL<>this.LINEECFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LINEECFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LINEECFLG
 Gosub PROPAGATE_LINEECFLG
Endif
Return

$INIT_LINEECFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LINEECFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LINEECFLG=0 and fmet this.AGETATTRIBUTE("LINEECFLG","$isMandatory")="true"
 this.LINEECFLG = 1
Endif
Return
 
$CONTROL_LINEECFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LINEECFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LINEECFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LINEECFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LINEECFLG
[L]CURPRO = "LINEECFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LINEECFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LINEECFLG
[L]CURPRO = "LINEECFLG"
If this.LINEECFLG<0 or this.LINEECFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LINEECFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LINEECFLG
[L]CURPRO = "LINEECFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LINEECFLG
[L]CURPRO = "LINEECFLG"
Return

$PROPAGATE_LINEECFLG
this.isReadonly = 0
[L]CURPRO = "LINEECFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LINEECFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "LINEECFLG"
$_LNKPRO_LINEECFLG
Return


####################################################################
# 83 : EECFLOPHY Physical flow ( Field Local menu number 1)
####################################################################

$SET_EECFLOPHY
If [L]_AOLDVAL<>this.EECFLOPHY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_EECFLOPHY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.EECFLOPHY
 Gosub PROPAGATE_EECFLOPHY
Endif
Return

$INIT_EECFLOPHY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "EECFLOPHY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.EECFLOPHY=0 and fmet this.AGETATTRIBUTE("EECFLOPHY","$isMandatory")="true"
 this.EECFLOPHY = 1
Endif
Return
 
$CONTROL_EECFLOPHY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "EECFLOPHY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_EECFLOPHY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_EECFLOPHY             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_EECFLOPHY
[L]CURPRO = "EECFLOPHY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.EECFLOPHY=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_EECFLOPHY
[L]CURPRO = "EECFLOPHY"
If this.EECFLOPHY<0 or this.EECFLOPHY>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.EECFLOPHY)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_EECFLOPHY
[L]CURPRO = "EECFLOPHY"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_EECFLOPHY
[L]CURPRO = "EECFLOPHY"
Return

$PROPAGATE_EECFLOPHY
this.isReadonly = 0
[L]CURPRO = "EECFLOPHY"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_EECFLOPHY
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "EECFLOPHY"
$_LNKPRO_EECFLOPHY
Return


####################################################################
# 84 : INVPRNBOM Print component on invoice ( Field Local menu number 1)
####################################################################

$SET_INVPRNBOM
If [L]_AOLDVAL<>this.INVPRNBOM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_INVPRNBOM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.INVPRNBOM
 Gosub PROPAGATE_INVPRNBOM
Endif
Return

$INIT_INVPRNBOM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVPRNBOM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.INVPRNBOM=0 and fmet this.AGETATTRIBUTE("INVPRNBOM","$isMandatory")="true"
 this.INVPRNBOM = 1
Endif
Return
 
$CONTROL_INVPRNBOM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVPRNBOM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_INVPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_INVPRNBOM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.INVPRNBOM=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
If this.INVPRNBOM<0 or this.INVPRNBOM>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.INVPRNBOM)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_INVPRNBOM
[L]CURPRO = "INVPRNBOM"
Return

$PROPAGATE_INVPRNBOM
this.isReadonly = 0
[L]CURPRO = "INVPRNBOM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_INVPRNBOM
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "INVPRNBOM"
$_LNKPRO_INVPRNBOM
Return


####################################################################
# 85 : STRDAT Start date ( Field D)
####################################################################

$SET_STRDAT
If [L]_AOLDVAL<>this.STRDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STRDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STRDAT
 Gosub PROPAGATE_STRDAT
Endif
Return

$INIT_STRDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STRDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STRDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STRDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STRDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STRDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STRDAT
[L]CURPRO = "STRDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STRDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STRDAT
[L]CURPRO = "STRDAT"
Return

$_AOTHERS_STRDAT
[L]CURPRO = "STRDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STRDAT
[L]CURPRO = "STRDAT"
Return

$PROPAGATE_STRDAT
this.isReadonly = 0
[L]CURPRO = "STRDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STRDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "STRDAT"
$_LNKPRO_STRDAT
Return


####################################################################
# 86 : ENDDAT End date ( Field D)
####################################################################

$SET_ENDDAT
If [L]_AOLDVAL<>this.ENDDAT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ENDDAT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ENDDAT
 Gosub PROPAGATE_ENDDAT
Endif
Return

$INIT_ENDDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ENDDAT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ENDDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ENDDAT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ENDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ENDDAT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ENDDAT
[L]CURPRO = "ENDDAT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ENDDAT=[0/0/0]
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ENDDAT
[L]CURPRO = "ENDDAT"
Return

$_AOTHERS_ENDDAT
[L]CURPRO = "ENDDAT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ENDDAT
[L]CURPRO = "ENDDAT"
Return

$PROPAGATE_ENDDAT
this.isReadonly = 0
[L]CURPRO = "ENDDAT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ENDDAT
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "ENDDAT"
$_LNKPRO_ENDDAT
Return


####################################################################
# 87 : PERNBR Periodicity ( Field C 4)
####################################################################

$SET_PERNBR
If [L]_AOLDVAL<>this.PERNBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERNBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERNBR
 Gosub PROPAGATE_PERNBR
Endif
Return

$INIT_PERNBR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PERNBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PERNBR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PERNBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERNBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERNBR
[L]CURPRO = "PERNBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERNBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERNBR
[L]CURPRO = "PERNBR"
Return

$_AOTHERS_PERNBR
[L]CURPRO = "PERNBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERNBR
[L]CURPRO = "PERNBR"
Return

$PROPAGATE_PERNBR
this.isReadonly = 0
[L]CURPRO = "PERNBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERNBR
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PERNBR"
$_LNKPRO_PERNBR
Return


####################################################################
# 88 : PERTYP Periodicity ( Field Local menu number 635)
####################################################################

$SET_PERTYP
If [L]_AOLDVAL<>this.PERTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PERTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PERTYP
 Gosub PROPAGATE_PERTYP
Endif
Return

$INIT_PERTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PERTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PERTYP=0 and fmet this.AGETATTRIBUTE("PERTYP","$isMandatory")="true"
 this.PERTYP = 1
Endif
Return
 
$CONTROL_PERTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PERTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PERTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PERTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PERTYP
[L]CURPRO = "PERTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PERTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PERTYP
[L]CURPRO = "PERTYP"
If this.PERTYP<0 or this.PERTYP>len(mess(0,635,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"635 ->"-num$(this.PERTYP)-mess(99,123,1)):  Return : # Local menu "635 -> Invalid option
Endif
Return

$_AOTHERS_PERTYP
[L]CURPRO = "PERTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PERTYP
[L]CURPRO = "PERTYP"
Return

$PROPAGATE_PERTYP
this.isReadonly = 0
[L]CURPRO = "PERTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PERTYP
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PERTYP"
$_LNKPRO_PERTYP
Return


####################################################################
# 89 : PITFLG Points management ( Field QTY 0)
####################################################################

$SET_PITFLG
If [L]_AOLDVAL<>this.PITFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PITFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PITFLG
 Gosub PROPAGATE_PITFLG
Endif
Return

$INIT_PITFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PITFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PITFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PITFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PITFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PITFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PITFLG
[L]CURPRO = "PITFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PITFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PITFLG
[L]CURPRO = "PITFLG"
Return

$_AOTHERS_PITFLG
[L]CURPRO = "PITFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PITFLG
[L]CURPRO = "PITFLG"
Return

$PROPAGATE_PITFLG
this.isReadonly = 0
[L]CURPRO = "PITFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PITFLG
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "PITFLG"
$_LNKPRO_PITFLG
Return


####################################################################
# 90 : DSPLINWEI Line weight ( Field QTY 0)
####################################################################

$SET_DSPLINWEI
If [L]_AOLDVAL<>this.DSPLINWEI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DSPLINWEI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DSPLINWEI
 Gosub PROPAGATE_DSPLINWEI
Endif
Return

$INIT_DSPLINWEI
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "DSPLINWEI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DSPLINWEI
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "DSPLINWEI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DSPLINWEI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DSPLINWEI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DSPLINWEI
[L]CURPRO = "DSPLINWEI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DSPLINWEI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DSPLINWEI
[L]CURPRO = "DSPLINWEI"
Return

$_AOTHERS_DSPLINWEI
[L]CURPRO = "DSPLINWEI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DSPLINWEI
[L]CURPRO = "DSPLINWEI"
Return

$PROPAGATE_DSPLINWEI
this.isReadonly = 0
[L]CURPRO = "DSPLINWEI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DSPLINWEI
Gosub DECLARE_VAR From WMC0SINVOICED
[L]CURPRO = "DSPLINWEI"
$_LNKPRO_DSPLINWEI
Return




