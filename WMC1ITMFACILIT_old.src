#<AdxTL>@(#)0.0.0.0 $Revision$Class Products-sites
# Sage X3 supervisor
## ACLA-CLASSE ## ITMFACILIT
# 2018-06-20 06:46:59 185


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : ITMREF Product ( Field ITF 20)
####################################################################

$SET_ITMREF
If [L]_AOLDVAL<>this.ITMREF
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ITMREF
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ITMREF
 Gosub PROPAGATE_ITMREF
Endif
Return

$INIT_ITMREF
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "ITMREF"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ITMREF
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "ITMREF"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ITMREF                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ITMREF
[L]CURPRO = "ITMREF"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ITMREF,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ITMREF
[L]CURPRO = "ITMREF"
If vireblc(this.ITMREF,2)<>vireblc(format$("K:20c",this.ITMREF),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_ITMREF
[L]CURPRO = "ITMREF"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ITMREF
[L]CURPRO = "ITMREF"
Return

$PROPAGATE_ITMREF
this.isReadonly = 0
[L]CURPRO = "ITMREF"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ITMREF
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "ITMREF"
$_LNKPRO_ITMREF
Return

$_ALOADATTRIBUTE_ITMREF
[L]ASTATUS = fmet this.ASETATTRIBUTE("ITMREF","$isMandatory","true")
Return


####################################################################
# 2 : STOFCY Stock site ( Field FCY 5)
####################################################################

$SET_STOFCY
If [L]_AOLDVAL<>this.STOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOFCY
 Gosub PROPAGATE_STOFCY
Endif
Return

$INIT_STOFCY
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "STOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_STOFCY
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "STOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOFCY
[L]CURPRO = "STOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.STOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>vireblc(format$("K:5c",this.STOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_STOFCY
[L]CURPRO = "STOFCY"
If vireblc(this.STOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"STOFCY",this.STOFCY,this.STOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.STOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOFCY
[L]CURPRO = "STOFCY"
Return

$PROPAGATE_STOFCY
this.isReadonly = 0
[L]CURPRO = "STOFCY"
Gosub _LNKPRO_STOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOFCY
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "STOFCY"
$_LNKPRO_STOFCY
If vireblc(this.STOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.STOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return

$_ALOADATTRIBUTE_STOFCY
[L]ASTATUS = fmet this.ASETATTRIBUTE("STOFCY","$isMandatory","true")
Return


####################################################################
# 3 : CUNFLG Blocked for count ( Field Local menu number 1)
####################################################################

$SET_CUNFLG
If [L]_AOLDVAL<>this.CUNFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUNFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUNFLG
 Gosub PROPAGATE_CUNFLG
Endif
Return

$INIT_CUNFLG
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CUNFLG=0 and fmet this.AGETATTRIBUTE("CUNFLG","$isMandatory")="true"
 this.CUNFLG = 1
Endif
Return
 
$CONTROL_CUNFLG
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUNFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUNFLG                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUNFLG
[L]CURPRO = "CUNFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUNFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUNFLG
[L]CURPRO = "CUNFLG"
If this.CUNFLG<0 or this.CUNFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CUNFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CUNFLG
[L]CURPRO = "CUNFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUNFLG
[L]CURPRO = "CUNFLG"
Return

$PROPAGATE_CUNFLG
this.isReadonly = 0
[L]CURPRO = "CUNFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUNFLG
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNFLG"
$_LNKPRO_CUNFLG
Return


####################################################################
# 4 : CUNLISNUM Count in progress ( Field VCR 20)
####################################################################

$SET_CUNLISNUM
If [L]_AOLDVAL<>this.CUNLISNUM
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUNLISNUM
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUNLISNUM
 Gosub PROPAGATE_CUNLISNUM
Endif
Return

$INIT_CUNLISNUM
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNLISNUM"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUNLISNUM
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNLISNUM"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUNLISNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUNLISNUM             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUNLISNUM
[L]CURPRO = "CUNLISNUM"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUNLISNUM,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUNLISNUM
[L]CURPRO = "CUNLISNUM"
If vireblc(this.CUNLISNUM,2)<>vireblc(format$("K:20X",this.CUNLISNUM),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUNLISNUM
[L]CURPRO = "CUNLISNUM"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUNLISNUM
[L]CURPRO = "CUNLISNUM"
Return

$PROPAGATE_CUNLISNUM
this.isReadonly = 0
[L]CURPRO = "CUNLISNUM"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUNLISNUM
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNLISNUM"
$_LNKPRO_CUNLISNUM
Return


####################################################################
# 5 : ABCCLS ABC class ( Field Local menu number 212)
####################################################################

$SET_ABCCLS
If [L]_AOLDVAL<>this.ABCCLS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ABCCLS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ABCCLS
 Gosub PROPAGATE_ABCCLS
Endif
Return

$INIT_ABCCLS
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "ABCCLS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ABCCLS=0 and fmet this.AGETATTRIBUTE("ABCCLS","$isMandatory")="true"
 this.ABCCLS = 1
Endif
Return
 
$CONTROL_ABCCLS
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "ABCCLS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ABCCLS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ABCCLS                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ABCCLS
[L]CURPRO = "ABCCLS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ABCCLS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ABCCLS
[L]CURPRO = "ABCCLS"
If this.ABCCLS<0 or this.ABCCLS>len(mess(0,212,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"212 ->"-num$(this.ABCCLS)-mess(99,123,1)):  Return : # Local menu "212 -> Invalid option
Endif
Return

$_AOTHERS_ABCCLS
[L]CURPRO = "ABCCLS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ABCCLS
[L]CURPRO = "ABCCLS"
Return

$PROPAGATE_ABCCLS
this.isReadonly = 0
[L]CURPRO = "ABCCLS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ABCCLS
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "ABCCLS"
$_LNKPRO_ABCCLS
Return


####################################################################
# 6 : LOCMGTCOD Location management ( Field Local menu number 1)
####################################################################

$SET_LOCMGTCOD
If [L]_AOLDVAL<>this.LOCMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LOCMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LOCMGTCOD
 Gosub PROPAGATE_LOCMGTCOD
Endif
Return

$INIT_LOCMGTCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "LOCMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.LOCMGTCOD=0 and fmet this.AGETATTRIBUTE("LOCMGTCOD","$isMandatory")="true"
 this.LOCMGTCOD = 1
Endif
Return
 
$CONTROL_LOCMGTCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "LOCMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LOCMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LOCMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LOCMGTCOD
[L]CURPRO = "LOCMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.LOCMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LOCMGTCOD
[L]CURPRO = "LOCMGTCOD"
If this.LOCMGTCOD<0 or this.LOCMGTCOD>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.LOCMGTCOD)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_LOCMGTCOD
[L]CURPRO = "LOCMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LOCMGTCOD
[L]CURPRO = "LOCMGTCOD"
Return

$PROPAGATE_LOCMGTCOD
this.isReadonly = 0
[L]CURPRO = "LOCMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LOCMGTCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "LOCMGTCOD"
$_LNKPRO_LOCMGTCOD
Return


####################################################################
# 7 : STOCOD Stock withdrawal mode ( Field Local menu number 217)
####################################################################

$SET_STOCOD
If [L]_AOLDVAL<>this.STOCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_STOCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.STOCOD
 Gosub PROPAGATE_STOCOD
Endif
Return

$INIT_STOCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "STOCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.STOCOD=0 and fmet this.AGETATTRIBUTE("STOCOD","$isMandatory")="true"
 this.STOCOD = 1
Endif
Return
 
$CONTROL_STOCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "STOCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_STOCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_STOCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_STOCOD
[L]CURPRO = "STOCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.STOCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_STOCOD
[L]CURPRO = "STOCOD"
If this.STOCOD<0 or this.STOCOD>len(mess(0,217,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"217 ->"-num$(this.STOCOD)-mess(99,123,1)):  Return : # Local menu "217 -> Invalid option
Endif
Return

$_AOTHERS_STOCOD
[L]CURPRO = "STOCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_STOCOD
[L]CURPRO = "STOCOD"
Return

$PROPAGATE_STOCOD
this.isReadonly = 0
[L]CURPRO = "STOCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_STOCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "STOCOD"
$_LNKPRO_STOCOD
Return


####################################################################
# 8 : CUNCOD Count mode ( Field Local menu number 216)
####################################################################

$SET_CUNCOD
If [L]_AOLDVAL<>this.CUNCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUNCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUNCOD
 Gosub PROPAGATE_CUNCOD
Endif
Return

$INIT_CUNCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CUNCOD=0 and fmet this.AGETATTRIBUTE("CUNCOD","$isMandatory")="true"
 this.CUNCOD = 1
Endif
Return
 
$CONTROL_CUNCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUNCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUNCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUNCOD
[L]CURPRO = "CUNCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CUNCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUNCOD
[L]CURPRO = "CUNCOD"
If this.CUNCOD<0 or this.CUNCOD>len(mess(0,216,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"216 ->"-num$(this.CUNCOD)-mess(99,123,1)):  Return : # Local menu "216 -> Invalid option
Endif
Return

$_AOTHERS_CUNCOD
[L]CURPRO = "CUNCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUNCOD
[L]CURPRO = "CUNCOD"
Return

$PROPAGATE_CUNCOD
this.isReadonly = 0
[L]CURPRO = "CUNCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUNCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "CUNCOD"
$_LNKPRO_CUNCOD
Return


####################################################################
# 9 : SESCOD Trend profile ( Field SES 3)
####################################################################

$SET_SESCOD
If [L]_AOLDVAL<>this.SESCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SESCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SESCOD
 Gosub PROPAGATE_SESCOD
Endif
Return

$INIT_SESCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SESCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SESCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SESCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SESCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SESCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SESCOD
[L]CURPRO = "SESCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.SESCOD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SESCOD
[L]CURPRO = "SESCOD"
If vireblc(this.SESCOD,2)<>vireblc(format$("K:3c",this.SESCOD),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_SESCOD
[L]CURPRO = "SESCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SESCOD
[L]CURPRO = "SESCOD"
Return

$PROPAGATE_SESCOD
this.isReadonly = 0
[L]CURPRO = "SESCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SESCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SESCOD"
$_LNKPRO_SESCOD
Return


####################################################################
# 10 : DAYCOV Coverage ( Field COV 0)
####################################################################

$SET_DAYCOV
If [L]_AOLDVAL<>this.DAYCOV
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DAYCOV
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DAYCOV
 Gosub PROPAGATE_DAYCOV
Endif
Return

$INIT_DAYCOV
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "DAYCOV"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DAYCOV
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "DAYCOV"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DAYCOV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DAYCOV                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DAYCOV
[L]CURPRO = "DAYCOV"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.DAYCOV=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DAYCOV
[L]CURPRO = "DAYCOV"
Return

$_AOTHERS_DAYCOV
[L]CURPRO = "DAYCOV"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DAYCOV
[L]CURPRO = "DAYCOV"
Return

$PROPAGATE_DAYCOV
this.isReadonly = 0
[L]CURPRO = "DAYCOV"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DAYCOV
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "DAYCOV"
$_LNKPRO_DAYCOV
Return


####################################################################
# 11 : TOTLTI Multilevel ( Field LTI 0)
####################################################################

$SET_TOTLTI
If [L]_AOLDVAL<>this.TOTLTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_TOTLTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.TOTLTI
 Gosub PROPAGATE_TOTLTI
Endif
Return

$INIT_TOTLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "TOTLTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_TOTLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "TOTLTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_TOTLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_TOTLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_TOTLTI
[L]CURPRO = "TOTLTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.TOTLTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_TOTLTI
[L]CURPRO = "TOTLTI"
Return

$_AOTHERS_TOTLTI
[L]CURPRO = "TOTLTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_TOTLTI
[L]CURPRO = "TOTLTI"
Return

$PROPAGATE_TOTLTI
this.isReadonly = 0
[L]CURPRO = "TOTLTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_TOTLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "TOTLTI"
$_LNKPRO_TOTLTI
Return


####################################################################
# 12 : QUALTI Quality control ( Field LTI 0)
####################################################################

$SET_QUALTI
If [L]_AOLDVAL<>this.QUALTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_QUALTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.QUALTI
 Gosub PROPAGATE_QUALTI
Endif
Return

$INIT_QUALTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "QUALTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_QUALTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "QUALTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_QUALTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_QUALTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_QUALTI
[L]CURPRO = "QUALTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.QUALTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_QUALTI
[L]CURPRO = "QUALTI"
Return

$_AOTHERS_QUALTI
[L]CURPRO = "QUALTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_QUALTI
[L]CURPRO = "QUALTI"
Return

$PROPAGATE_QUALTI
this.isReadonly = 0
[L]CURPRO = "QUALTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_QUALTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "QUALTI"
$_LNKPRO_QUALTI
Return


####################################################################
# 13 : PLH Firm horizon ( Field C 4)
####################################################################

$SET_PLH
If [L]_AOLDVAL<>this.PLH
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLH
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLH
 Gosub PROPAGATE_PLH
Endif
Return

$INIT_PLH
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PLH"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLH
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PLH"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLH                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLH                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLH
[L]CURPRO = "PLH"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PLH=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLH
[L]CURPRO = "PLH"
Return

$_AOTHERS_PLH
[L]CURPRO = "PLH"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLH
[L]CURPRO = "PLH"
Return

$PROPAGATE_PLH
this.isReadonly = 0
[L]CURPRO = "PLH"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLH
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PLH"
$_LNKPRO_PLH
Return


####################################################################
# 14 : PLHUOT Firm horizon time un ( Field Local menu number 291)
####################################################################

$SET_PLHUOT
If [L]_AOLDVAL<>this.PLHUOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLHUOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLHUOT
 Gosub PROPAGATE_PLHUOT
Endif
Return

$INIT_PLHUOT
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PLHUOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PLHUOT=0 and fmet this.AGETATTRIBUTE("PLHUOT","$isMandatory")="true"
 this.PLHUOT = 1
Endif
Return
 
$CONTROL_PLHUOT
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PLHUOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLHUOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLHUOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLHUOT
[L]CURPRO = "PLHUOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PLHUOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLHUOT
[L]CURPRO = "PLHUOT"
If this.PLHUOT<0 or this.PLHUOT>len(mess(0,291,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"291 ->"-num$(this.PLHUOT)-mess(99,123,1)):  Return : # Local menu "291 -> Invalid option
Endif
Return

$_AOTHERS_PLHUOT
[L]CURPRO = "PLHUOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLHUOT
[L]CURPRO = "PLHUOT"
Return

$PROPAGATE_PLHUOT
this.isReadonly = 0
[L]CURPRO = "PLHUOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLHUOT
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PLHUOT"
$_LNKPRO_PLHUOT
Return


####################################################################
# 15 : FOH Demand horizon ( Field C 4)
####################################################################

$SET_FOH
If [L]_AOLDVAL<>this.FOH
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FOH
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FOH
 Gosub PROPAGATE_FOH
Endif
Return

$INIT_FOH
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "FOH"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FOH
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "FOH"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FOH                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FOH                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FOH
[L]CURPRO = "FOH"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FOH=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FOH
[L]CURPRO = "FOH"
Return

$_AOTHERS_FOH
[L]CURPRO = "FOH"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FOH
[L]CURPRO = "FOH"
Return

$PROPAGATE_FOH
this.isReadonly = 0
[L]CURPRO = "FOH"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FOH
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "FOH"
$_LNKPRO_FOH
Return


####################################################################
# 16 : FOHUOT Time unit outside of dem. ( Field Local menu number 291)
####################################################################

$SET_FOHUOT
If [L]_AOLDVAL<>this.FOHUOT
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FOHUOT
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FOHUOT
 Gosub PROPAGATE_FOHUOT
Endif
Return

$INIT_FOHUOT
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "FOHUOT"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FOHUOT=0 and fmet this.AGETATTRIBUTE("FOHUOT","$isMandatory")="true"
 this.FOHUOT = 1
Endif
Return
 
$CONTROL_FOHUOT
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "FOHUOT"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FOHUOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FOHUOT                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FOHUOT
[L]CURPRO = "FOHUOT"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FOHUOT=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FOHUOT
[L]CURPRO = "FOHUOT"
If this.FOHUOT<0 or this.FOHUOT>len(mess(0,291,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"291 ->"-num$(this.FOHUOT)-mess(99,123,1)):  Return : # Local menu "291 -> Invalid option
Endif
Return

$_AOTHERS_FOHUOT
[L]CURPRO = "FOHUOT"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FOHUOT
[L]CURPRO = "FOHUOT"
Return

$PROPAGATE_FOHUOT
this.isReadonly = 0
[L]CURPRO = "FOHUOT"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FOHUOT
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "FOHUOT"
$_LNKPRO_FOHUOT
Return


####################################################################
# 17 : OFS Reorder LT ( Field LTI 0)
####################################################################

$SET_OFS
If [L]_AOLDVAL<>this.OFS
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_OFS
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.OFS
 Gosub PROPAGATE_OFS
Endif
Return

$INIT_OFS
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "OFS"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_OFS
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "OFS"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_OFS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_OFS                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_OFS
[L]CURPRO = "OFS"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.OFS=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_OFS
[L]CURPRO = "OFS"
Return

$_AOTHERS_OFS
[L]CURPRO = "OFS"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_OFS
[L]CURPRO = "OFS"
Return

$PROPAGATE_OFS
this.isReadonly = 0
[L]CURPRO = "OFS"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_OFS
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "OFS"
$_LNKPRO_OFS
Return


####################################################################
# 18 : MFGLTI Production lead time ( Field LTI 0)
####################################################################

$SET_MFGLTI
If [L]_AOLDVAL<>this.MFGLTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MFGLTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MFGLTI
 Gosub PROPAGATE_MFGLTI
Endif
Return

$INIT_MFGLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MFGLTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MFGLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MFGLTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MFGLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MFGLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MFGLTI
[L]CURPRO = "MFGLTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MFGLTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MFGLTI
[L]CURPRO = "MFGLTI"
Return

$_AOTHERS_MFGLTI
[L]CURPRO = "MFGLTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MFGLTI
[L]CURPRO = "MFGLTI"
Return

$PROPAGATE_MFGLTI
this.isReadonly = 0
[L]CURPRO = "MFGLTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MFGLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MFGLTI"
$_LNKPRO_MFGLTI
Return


####################################################################
# 19 : PRPLTI Picking ( Field LTI 0)
####################################################################

$SET_PRPLTI
If [L]_AOLDVAL<>this.PRPLTI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRPLTI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRPLTI
 Gosub PROPAGATE_PRPLTI
Endif
Return

$INIT_PRPLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PRPLTI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRPLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PRPLTI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRPLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRPLTI                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRPLTI
[L]CURPRO = "PRPLTI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRPLTI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRPLTI
[L]CURPRO = "PRPLTI"
Return

$_AOTHERS_PRPLTI
[L]CURPRO = "PRPLTI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRPLTI
[L]CURPRO = "PRPLTI"
Return

$PROPAGATE_PRPLTI
this.isReadonly = 0
[L]CURPRO = "PRPLTI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRPLTI
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "PRPLTI"
$_LNKPRO_PRPLTI
Return


####################################################################
# 20 : MIC Reduction factor ( Field C 3)
####################################################################

$SET_MIC
If [L]_AOLDVAL<>this.MIC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MIC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MIC
 Gosub PROPAGATE_MIC
Endif
Return

$INIT_MIC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MIC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MIC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MIC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MIC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MIC                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MIC
[L]CURPRO = "MIC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MIC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MIC
[L]CURPRO = "MIC"
Return

$_AOTHERS_MIC
[L]CURPRO = "MIC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MIC
[L]CURPRO = "MIC"
Return

$PROPAGATE_MIC
this.isReadonly = 0
[L]CURPRO = "MIC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MIC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MIC"
$_LNKPRO_MIC
Return


####################################################################
# 21 : REOMGTCOD Reorder mode ( Field Local menu number 727)
####################################################################

$SET_REOMGTCOD
If [L]_AOLDVAL<>this.REOMGTCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOMGTCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOMGTCOD
 Gosub PROPAGATE_REOMGTCOD
Endif
Return

$INIT_REOMGTCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOMGTCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.REOMGTCOD=0 and fmet this.AGETATTRIBUTE("REOMGTCOD","$isMandatory")="true"
 this.REOMGTCOD = 1
Endif
Return
 
$CONTROL_REOMGTCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOMGTCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOMGTCOD             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOMGTCOD
[L]CURPRO = "REOMGTCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REOMGTCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOMGTCOD
[L]CURPRO = "REOMGTCOD"
If this.REOMGTCOD<0 or this.REOMGTCOD>len(mess(0,727,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"727 ->"-num$(this.REOMGTCOD)-mess(99,123,1)):  Return : # Local menu "727 -> Invalid option
Endif
Return

$_AOTHERS_REOMGTCOD
[L]CURPRO = "REOMGTCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOMGTCOD
[L]CURPRO = "REOMGTCOD"
Return

$PROPAGATE_REOMGTCOD
this.isReadonly = 0
[L]CURPRO = "REOMGTCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOMGTCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOMGTCOD"
$_LNKPRO_REOMGTCOD
Return


####################################################################
# 22 : REOPER Reorder frequency ( Field C 3)
####################################################################

$SET_REOPER
If [L]_AOLDVAL<>this.REOPER
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOPER
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOPER
 Gosub PROPAGATE_REOPER
Endif
Return

$INIT_REOPER
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOPER"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REOPER
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOPER"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOPER                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOPER                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOPER
[L]CURPRO = "REOPER"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REOPER=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOPER
[L]CURPRO = "REOPER"
Return

$_AOTHERS_REOPER
[L]CURPRO = "REOPER"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOPER
[L]CURPRO = "REOPER"
Return

$PROPAGATE_REOPER
this.isReadonly = 0
[L]CURPRO = "REOPER"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOPER
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOPER"
$_LNKPRO_REOPER
Return


####################################################################
# 23 : REOCOD Suggestion type ( Field Local menu number 250)
####################################################################

$SET_REOCOD
If [L]_AOLDVAL<>this.REOCOD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOCOD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOCOD
 Gosub PROPAGATE_REOCOD
Endif
Return

$INIT_REOCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOCOD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.REOCOD=0 and fmet this.AGETATTRIBUTE("REOCOD","$isMandatory")="true"
 this.REOCOD = 1
Endif
Return
 
$CONTROL_REOCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOCOD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOCOD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOCOD
[L]CURPRO = "REOCOD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REOCOD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOCOD
[L]CURPRO = "REOCOD"
If this.REOCOD<0 or this.REOCOD>len(mess(0,250,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"250 ->"-num$(this.REOCOD)-mess(99,123,1)):  Return : # Local menu "250 -> Invalid option
Endif
Return

$_AOTHERS_REOCOD
[L]CURPRO = "REOCOD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOCOD
[L]CURPRO = "REOCOD"
Return

$PROPAGATE_REOCOD
this.isReadonly = 0
[L]CURPRO = "REOCOD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOCOD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOCOD"
$_LNKPRO_REOCOD
Return


####################################################################
# 24 : REOFCY Reorder site ( Field FCY 5)
####################################################################

$SET_REOFCY
If [L]_AOLDVAL<>this.REOFCY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOFCY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOFCY
 Gosub PROPAGATE_REOFCY
Endif
Return

$INIT_REOFCY
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOFCY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REOFCY
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOFCY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOFCY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOFCY
[L]CURPRO = "REOFCY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REOFCY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOFCY
[L]CURPRO = "REOFCY"
If vireblc(this.REOFCY,2)<>vireblc(format$("K:5c",this.REOFCY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REOFCY
[L]CURPRO = "REOFCY"
If vireblc(this.REOFCY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPFCY.ACTRLREF(this,"REOFCY",this.REOFCY,this.REOFCY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.REOFCY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOFCY
[L]CURPRO = "REOFCY"
Return

$PROPAGATE_REOFCY
this.isReadonly = 0
[L]CURPRO = "REOFCY"
Gosub _LNKPRO_REOFCY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOFCY
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOFCY"
$_LNKPRO_REOFCY
If vireblc(this.REOFCY,2)<>""
 # Link FACILITY
 Local File FACILITY [WFCY]
 Read [F:WFCY]FCY0 = this.REOFCY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REOFCY","$title",[F:WFCY]FCYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("REOFCY","$description",[F:WFCY]FCYNAM)
 Endif
 LogicClose File [WFCY]
Endif
Return


####################################################################
# 25 : REOPOL Reorder policy ( Field RPO 3)
####################################################################

$SET_REOPOL
If [L]_AOLDVAL<>this.REOPOL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOPOL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOPOL
 Gosub PROPAGATE_REOPOL
Endif
Return

$INIT_REOPOL
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOPOL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REOPOL
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOPOL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOPOL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOPOL                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOPOL
[L]CURPRO = "REOPOL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.REOPOL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOPOL
[L]CURPRO = "REOPOL"
If vireblc(this.REOPOL,2)<>vireblc(format$("K:3c",this.REOPOL),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_REOPOL
[L]CURPRO = "REOPOL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOPOL
[L]CURPRO = "REOPOL"
Return

$PROPAGATE_REOPOL
this.isReadonly = 0
[L]CURPRO = "REOPOL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOPOL
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOPOL"
$_LNKPRO_REOPOL
Return


####################################################################
# 26 : SAFSTO Safety stock ( Field QTY 0)
####################################################################

$SET_SAFSTO
If [L]_AOLDVAL<>this.SAFSTO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAFSTO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAFSTO
 Gosub PROPAGATE_SAFSTO
Endif
Return

$INIT_SAFSTO
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SAFSTO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAFSTO
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SAFSTO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAFSTO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAFSTO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAFSTO
[L]CURPRO = "SAFSTO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SAFSTO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAFSTO
[L]CURPRO = "SAFSTO"
Return

$_AOTHERS_SAFSTO
[L]CURPRO = "SAFSTO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAFSTO
[L]CURPRO = "SAFSTO"
Return

$PROPAGATE_SAFSTO
this.isReadonly = 0
[L]CURPRO = "SAFSTO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAFSTO
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SAFSTO"
$_LNKPRO_SAFSTO
Return


####################################################################
# 27 : SAFSTOCLC Calculated safety stock ( Field QTY 0)
####################################################################

$SET_SAFSTOCLC
If [L]_AOLDVAL<>this.SAFSTOCLC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_SAFSTOCLC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.SAFSTOCLC
 Gosub PROPAGATE_SAFSTOCLC
Endif
Return

$INIT_SAFSTOCLC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SAFSTOCLC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_SAFSTOCLC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SAFSTOCLC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_SAFSTOCLC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_SAFSTOCLC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_SAFSTOCLC
[L]CURPRO = "SAFSTOCLC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.SAFSTOCLC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_SAFSTOCLC
[L]CURPRO = "SAFSTOCLC"
Return

$_AOTHERS_SAFSTOCLC
[L]CURPRO = "SAFSTOCLC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_SAFSTOCLC
[L]CURPRO = "SAFSTOCLC"
Return

$PROPAGATE_SAFSTOCLC
this.isReadonly = 0
[L]CURPRO = "SAFSTOCLC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_SAFSTOCLC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "SAFSTOCLC"
$_LNKPRO_SAFSTOCLC
Return


####################################################################
# 28 : REOTSD Reorder threshold ( Field QTY 0)
####################################################################

$SET_REOTSD
If [L]_AOLDVAL<>this.REOTSD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOTSD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOTSD
 Gosub PROPAGATE_REOTSD
Endif
Return

$INIT_REOTSD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOTSD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REOTSD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOTSD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOTSD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOTSD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOTSD
[L]CURPRO = "REOTSD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REOTSD=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOTSD
[L]CURPRO = "REOTSD"
Return

$_AOTHERS_REOTSD
[L]CURPRO = "REOTSD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOTSD
[L]CURPRO = "REOTSD"
Return

$PROPAGATE_REOTSD
this.isReadonly = 0
[L]CURPRO = "REOTSD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOTSD
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOTSD"
$_LNKPRO_REOTSD
Return


####################################################################
# 29 : REOTSDCLC Calculated ROP ( Field QTY 0)
####################################################################

$SET_REOTSDCLC
If [L]_AOLDVAL<>this.REOTSDCLC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_REOTSDCLC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.REOTSDCLC
 Gosub PROPAGATE_REOTSDCLC
Endif
Return

$INIT_REOTSDCLC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOTSDCLC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_REOTSDCLC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOTSDCLC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_REOTSDCLC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_REOTSDCLC             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_REOTSDCLC
[L]CURPRO = "REOTSDCLC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.REOTSDCLC=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_REOTSDCLC
[L]CURPRO = "REOTSDCLC"
Return

$_AOTHERS_REOTSDCLC
[L]CURPRO = "REOTSDCLC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_REOTSDCLC
[L]CURPRO = "REOTSDCLC"
Return

$PROPAGATE_REOTSDCLC
this.isReadonly = 0
[L]CURPRO = "REOTSDCLC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_REOTSDCLC
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "REOTSDCLC"
$_LNKPRO_REOTSDCLC
Return


####################################################################
# 30 : MAXSTO Maximum stock ( Field QTY 0)
####################################################################

$SET_MAXSTO
If [L]_AOLDVAL<>this.MAXSTO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_MAXSTO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.MAXSTO
 Gosub PROPAGATE_MAXSTO
Endif
Return

$INIT_MAXSTO
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MAXSTO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_MAXSTO
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MAXSTO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_MAXSTO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_MAXSTO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_MAXSTO
[L]CURPRO = "MAXSTO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.MAXSTO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_MAXSTO
[L]CURPRO = "MAXSTO"
Return

$_AOTHERS_MAXSTO
[L]CURPRO = "MAXSTO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_MAXSTO
[L]CURPRO = "MAXSTO"
Return

$PROPAGATE_MAXSTO
this.isReadonly = 0
[L]CURPRO = "MAXSTO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_MAXSTO
Gosub DECLARE_VAR From WMC0ITMFACILIT
[L]CURPRO = "MAXSTO"
$_LNKPRO_MAXSTO
Return




