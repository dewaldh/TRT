#<AdxTL>@(#)0.0.0.0 $Revision$Class Physical assets
# Supervisor
## ACLA-CLASSE ## PHYELT
# 2018-08-27 12:38:19 416

####################################################################
# AINIT
####################################################################

$AINIT
Gosub DECLARE_VAR From WMC0PHYELT
Local Integer ALINE,TBLINE,ASTASNAPSHOT,ALLSTAT
If this.APARENT=null & this.snapshotEnabled=0
 this.snapshotEnabled = 1
Elsif this.APARENT<>null
 this.snapshotEnabled = this.APARENT.snapshotEnabled
Endif
If this.ASTALIN=[V]CST_ALL : this.ASTALIN = [V]CST_ANEW : Endif
Gosub INIT_CPY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_FCY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_ENAFLG From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYREF From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYDES1 From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYDES2 From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_BPS From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYCAT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_ORDBUY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_DORDBUY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_NUMRECEP From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_DNUMRECEP From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_BAC From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_SRLNBR From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_CNTNUM From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_LCTCOD From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_GEOLOC From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_AASREF From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_IVYDAT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_IVYTIM From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_IVYRES From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_CURCND From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_ISSDAT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_ISSTYP From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_TRFDAT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_COMMENT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHOTO From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_ISSPCT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_GRUORIPHY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub INIT_CREORI From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB1 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB2 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB3 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB4 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB5 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB6 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB7 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB8 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB9 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_REFTAB10 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA1 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA2 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA3 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA4 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA5 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA6 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA7 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA8 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA9 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDA10 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDD1 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDD2 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDD3 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDD4 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDM1 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDM2 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDM3 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDM4 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDM5 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDM6 From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDC1 From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_USRFLDC2 From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_CREUSR From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_UPDUSR From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYREFORI From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_CREDATTIM From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_UPDDATTIM From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_AUUID From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_BUICOD From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_ORIACT From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYTRF From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYISS From WMC3PHYELT : Gosub TESTALLSTAT
Gosub INIT_PHYCNLISS From WMC3PHYELT : Gosub TESTALLSTAT
Gosub AINIT From WMC0PHYELT : Gosub TESTALLSTAT
If this.snapshotEnabled=1 & this.APARENT=null
 [L]ASTASNAPSHOT = this.freeSnapshot
Endif
Return

####################################################################
# _ALOADATTRIBUTE
####################################################################

$_ALOADATTRIBUTE
Gosub DECLARE_VAR From WMC0PHYELT
Gosub _ALOADATTRIBUTE_CPY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_FCY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_PHYDES1 From WMC1PHYELT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_LCTCOD From WMC1PHYELT : Gosub TESTALLSTAT
Gosub _ALOADATTRIBUTE_CREORI From WMC2PHYELT : Gosub TESTALLSTAT
Return

####################################################################
# _ALNKPRO
####################################################################

$_ALNKPRO
Gosub DECLARE_VAR From WMC0PHYELT
Gosub LNKPRO_CPY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_FCY From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_PHYREF From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_BPS From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_PHYCAT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_CNTNUM From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_LCTCOD From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_AASREF From WMC1PHYELT : Gosub TESTALLSTAT
For AINDCLA=1 To maxtab(this.PHYMVT)
 If this.PHYMVT(AINDCLA)<>null& find(this.PHYMVT(AINDCLA).ASTALIN,[V]CST_ADEL,[V]CST_ANEWDEL)=0
  [L]ASTATUS = fmet this.PHYMVT(AINDCLA)._ALNKPRO : Gosub TESTALLSTAT
 Endif
Next AINDCLA
Gosub LNKPRO_CURCND From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_COMMENT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_PHOTO From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_ISSPCT From WMC1PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA1 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA2 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA3 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA4 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA5 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA6 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA7 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA8 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA9 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDA10 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDM1 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDM2 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDM3 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDM4 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDM5 From WMC2PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_USRFLDM6 From WMC3PHYELT : Gosub TESTALLSTAT
Gosub LNKPRO_BUICOD From WMC3PHYELT : Gosub TESTALLSTAT
Return

$TESTALLSTAT
[L]ALLSTAT = max([L]ALLSTAT,[L]ASTATUS)
Return



