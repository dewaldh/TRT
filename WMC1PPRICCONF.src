#<AdxTL>@(#)0.0.0.0 $Revision$Class Supplier pricing parameters
# Supervisor
## ACLA-CLASSE ## PPRICCONF
# 2018-08-27 12:41:52 849


####################################################################
# Labels of the main class and methods 
####################################################################

####################################################################
# 1 : PLI Price list code ( Field PPC 6)
####################################################################

$SET_PLI
If [L]_AOLDVAL<>this.PLI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLI
 Gosub PROPAGATE_PLI
Endif
Return

$INIT_PLI
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLI
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLI                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLI                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLI
[L]CURPRO = "PLI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PLI,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLI
[L]CURPRO = "PLI"
If vireblc(this.PLI,2)<>vireblc(format$("K:6B",this.PLI),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PLI
[L]CURPRO = "PLI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLI
[L]CURPRO = "PLI"
Return

$PROPAGATE_PLI
this.isReadonly = 0
[L]CURPRO = "PLI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLI
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLI"
$_LNKPRO_PLI
Return

$_ALOADATTRIBUTE_PLI
[L]ASTATUS = fmet this.ASETATTRIBUTE("PLI","$isMandatory","true")
Return


####################################################################
# 2 : DESAXX Description ( Field AX3)
####################################################################

$GET_DESAXX
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "DESAXX"
this.DESAXX = fmet this.AGETTEXTRA(CURPRO)
[L]ARULE = "GET" : [L]ACTION = "GET" : Gosub ACTION From ASYRSUB
Return

$SET_DESAXX
If [L]_AOLDVAL<>this.DESAXX
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_DESAXX
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.DESAXX
 Gosub PROPAGATE_DESAXX
Endif
Return

$INIT_DESAXX
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "DESAXX"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_DESAXX
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "DESAXX"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_DESAXX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_DESAXX                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_DESAXX
[L]CURPRO = "DESAXX"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.DESAXX,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_DESAXX
[L]CURPRO = "DESAXX"
If vireblc(fmet this.AGETTEXTRA("DESAXX"),2)<>vireblc(format$("K:30X",fmet this.AGETTEXTRA("DESAXX")),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_DESAXX
[L]CURPRO = "DESAXX"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_DESAXX
[L]CURPRO = "DESAXX"
Return

$PROPAGATE_DESAXX
this.isReadonly = 0
[L]CURPRO = "DESAXX"
[L]ASTATUS = fmet this.ASETTEXTRA(CURPRO,this.DESAXX)
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_DESAXX
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "DESAXX"
$_LNKPRO_DESAXX
Return


####################################################################
# 3 : LANDESSHO Descriptions ( Field A 60)
####################################################################

$SET_LANDESSHO
If [L]_AOLDVAL<>this.LANDESSHO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_LANDESSHO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.LANDESSHO
 Gosub PROPAGATE_LANDESSHO
Endif
Return

$INIT_LANDESSHO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "LANDESSHO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_LANDESSHO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "LANDESSHO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_LANDESSHO             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_LANDESSHO             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_LANDESSHO
[L]CURPRO = "LANDESSHO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.LANDESSHO,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_LANDESSHO
[L]CURPRO = "LANDESSHO"
Return

$_AOTHERS_LANDESSHO
[L]CURPRO = "LANDESSHO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_LANDESSHO
[L]CURPRO = "LANDESSHO"
Return

$PROPAGATE_LANDESSHO
this.isReadonly = 0
[L]CURPRO = "LANDESSHO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_LANDESSHO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "LANDESSHO"
$_LNKPRO_LANDESSHO
Return


####################################################################
# 4 : PLISTC Structure code ( Field PRS 10)
####################################################################

$SET_PLISTC
If [L]_AOLDVAL<>this.PLISTC
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLISTC
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLISTC
 Gosub PROPAGATE_PLISTC
Endif
Return

$INIT_PLISTC
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLISTC"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLISTC
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLISTC"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLISTC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLISTC                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLISTC
[L]CURPRO = "PLISTC"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PLISTC,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLISTC
[L]CURPRO = "PLISTC"
If vireblc(this.PLISTC,2)<>vireblc(format$("K:10c",this.PLISTC),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PLISTC
[L]CURPRO = "PLISTC"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLISTC
[L]CURPRO = "PLISTC"
Return

$PROPAGATE_PLISTC
this.isReadonly = 0
[L]CURPRO = "PLISTC"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLISTC
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLISTC"
$_LNKPRO_PLISTC
Return

$_ALOADATTRIBUTE_PLISTC
[L]ASTATUS = fmet this.ASETATTRIBUTE("PLISTC","$isMandatory","true")
Return


####################################################################
# 5 : PLICPY Company ( Field CPY 5)
####################################################################

$SET_PLICPY
If [L]_AOLDVAL<>this.PLICPY
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLICPY
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLICPY
 Gosub PROPAGATE_PLICPY
Endif
Return

$INIT_PLICPY
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLICPY"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLICPY
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLICPY"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLICPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLICPY                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLICPY
[L]CURPRO = "PLICPY"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PLICPY,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLICPY
[L]CURPRO = "PLICPY"
If vireblc(this.PLICPY,2)<>vireblc(format$("K:5c",this.PLICPY),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_PLICPY
[L]CURPRO = "PLICPY"
If vireblc(this.PLICPY,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCPY.ACTRLREF(this,"PLICPY",this.PLICPY,this.PLICPY,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.PLICPY<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLICPY
[L]CURPRO = "PLICPY"
Return

$PROPAGATE_PLICPY
this.isReadonly = 0
[L]CURPRO = "PLICPY"
Gosub _LNKPRO_PLICPY
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLICPY
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLICPY"
$_LNKPRO_PLICPY
If vireblc(this.PLICPY,2)<>""
 # Link COMPANY
 Local File COMPANY [WCPY]
 Read [F:WCPY]CPY0 = this.PLICPY
 If !fstat
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PLICPY","$title",[F:WCPY]CPYSHO)
  [L]ASTATUS = fmet this.ASETATTRIBUTE("PLICPY","$description",[F:WCPY]CPYNAM)
 Endif
 LogicClose File [WCPY]
Endif
Return


####################################################################
# 6 : PLISEA Price search ( Field C 1)
####################################################################

$SET_PLISEA
If [L]_AOLDVAL<>this.PLISEA
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLISEA
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLISEA
 Gosub PROPAGATE_PLISEA
Endif
Return

$INIT_PLISEA
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLISEA"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PLISEA
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLISEA"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLISEA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLISEA                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLISEA
[L]CURPRO = "PLISEA"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PLISEA=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLISEA
[L]CURPRO = "PLISEA"
Return

$_AOTHERS_PLISEA
[L]CURPRO = "PLISEA"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLISEA
[L]CURPRO = "PLISEA"
Return

$PROPAGATE_PLISEA
this.isReadonly = 0
[L]CURPRO = "PLISEA"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLISEA
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLISEA"
$_LNKPRO_PLISEA
Return


####################################################################
# 7 : PIO Priority ( Field C 3)
####################################################################

$SET_PIO
If [L]_AOLDVAL<>this.PIO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PIO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PIO
 Gosub PROPAGATE_PIO
Endif
Return

$INIT_PIO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PIO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PIO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PIO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PIO                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PIO                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PIO
[L]CURPRO = "PIO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PIO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PIO
[L]CURPRO = "PIO"
Return

$_AOTHERS_PIO
[L]CURPRO = "PIO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PIO
[L]CURPRO = "PIO"
Return

$PROPAGATE_PIO
this.isReadonly = 0
[L]CURPRO = "PIO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PIO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PIO"
$_LNKPRO_PIO
Return


####################################################################
# 8 : PLIENAFLG Active ( Field Local menu number 1)
####################################################################

$SET_PLIENAFLG
If [L]_AOLDVAL<>this.PLIENAFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLIENAFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLIENAFLG
 Gosub PROPAGATE_PLIENAFLG
Endif
Return

$INIT_PLIENAFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLIENAFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PLIENAFLG=0 and fmet this.AGETATTRIBUTE("PLIENAFLG","$isMandatory")="true"
 this.PLIENAFLG = 1
Endif
Return
 
$CONTROL_PLIENAFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLIENAFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLIENAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLIENAFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLIENAFLG
[L]CURPRO = "PLIENAFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PLIENAFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLIENAFLG
[L]CURPRO = "PLIENAFLG"
If this.PLIENAFLG<0 or this.PLIENAFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.PLIENAFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_PLIENAFLG
[L]CURPRO = "PLIENAFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLIENAFLG
[L]CURPRO = "PLIENAFLG"
Return

$PROPAGATE_PLIENAFLG
this.isReadonly = 0
[L]CURPRO = "PLIENAFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLIENAFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLIENAFLG"
$_LNKPRO_PLIENAFLG
Return


####################################################################
# 9 : PLIBPRCNR BP concerns ( Field Local menu number 2210)
####################################################################

$SET_PLIBPRCNR
If [L]_AOLDVAL<>this.PLIBPRCNR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLIBPRCNR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLIBPRCNR
 Gosub PROPAGATE_PLIBPRCNR
Endif
Return

$INIT_PLIBPRCNR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLIBPRCNR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PLIBPRCNR=0 and fmet this.AGETATTRIBUTE("PLIBPRCNR","$isMandatory")="true"
 this.PLIBPRCNR = 1
Endif
Return
 
$CONTROL_PLIBPRCNR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLIBPRCNR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLIBPRCNR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLIBPRCNR             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLIBPRCNR
[L]CURPRO = "PLIBPRCNR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PLIBPRCNR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLIBPRCNR
[L]CURPRO = "PLIBPRCNR"
If this.PLIBPRCNR<0 or this.PLIBPRCNR>len(mess(0,2210,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"2210 ->"-num$(this.PLIBPRCNR)-mess(99,123,1)):  Return : # Local menu "2210 -> Invalid option
Endif
Return

$_AOTHERS_PLIBPRCNR
[L]CURPRO = "PLIBPRCNR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLIBPRCNR
[L]CURPRO = "PLIBPRCNR"
Return

$PROPAGATE_PLIBPRCNR
this.isReadonly = 0
[L]CURPRO = "PLIBPRCNR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLIBPRCNR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLIBPRCNR"
$_LNKPRO_PLIBPRCNR
Return


####################################################################
# 10 : PLITYP Price list type ( Field Local menu number 241)
####################################################################

$SET_PLITYP
If [L]_AOLDVAL<>this.PLITYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PLITYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PLITYP
 Gosub PROPAGATE_PLITYP
Endif
Return

$INIT_PLITYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLITYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PLITYP=0 and fmet this.AGETATTRIBUTE("PLITYP","$isMandatory")="true"
 this.PLITYP = 1
Endif
Return
 
$CONTROL_PLITYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLITYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PLITYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PLITYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PLITYP
[L]CURPRO = "PLITYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PLITYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PLITYP
[L]CURPRO = "PLITYP"
If this.PLITYP<0 or this.PLITYP>len(mess(0,241,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"241 ->"-num$(this.PLITYP)-mess(99,123,1)):  Return : # Local menu "241 -> Invalid option
Endif
Return

$_AOTHERS_PLITYP
[L]CURPRO = "PLITYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PLITYP
[L]CURPRO = "PLITYP"
Return

$PROPAGATE_PLITYP
this.isReadonly = 0
[L]CURPRO = "PLITYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PLITYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PLITYP"
$_LNKPRO_PLITYP
Return


####################################################################
# 11 : PRIREN Reason ( Field PPR 0)
####################################################################

$SET_PRIREN
If [L]_AOLDVAL<>this.PRIREN
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIREN
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIREN
 Gosub PROPAGATE_PRIREN
Endif
Return

$INIT_PRIREN
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIREN"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIREN
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIREN"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIREN                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIREN
[L]CURPRO = "PRIREN"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIREN=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIREN
[L]CURPRO = "PRIREN"
Return

$_AOTHERS_PRIREN
[L]CURPRO = "PRIREN"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIREN
[L]CURPRO = "PRIREN"
Return

$PROPAGATE_PRIREN
this.isReadonly = 0
[L]CURPRO = "PRIREN"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIREN
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIREN"
$_LNKPRO_PRIREN
Return

$_ALOADATTRIBUTE_PRIREN
[L]ASTATUS = fmet this.ASETATTRIBUTE("PRIREN","$isMandatory","true")
Return


####################################################################
# 12 : PRIPRO Price processing ( Field Local menu number 270)
####################################################################

$SET_PRIPRO
If [L]_AOLDVAL<>this.PRIPRO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIPRO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIPRO
 Gosub PROPAGATE_PRIPRO
Endif
Return

$INIT_PRIPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIPRO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRIPRO=0 and fmet this.AGETATTRIBUTE("PRIPRO","$isMandatory")="true"
 this.PRIPRO = 1
Endif
Return
 
$CONTROL_PRIPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIPRO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIPRO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIPRO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIPRO
[L]CURPRO = "PRIPRO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIPRO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIPRO
[L]CURPRO = "PRIPRO"
If this.PRIPRO<0 or this.PRIPRO>len(mess(0,270,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"270 ->"-num$(this.PRIPRO)-mess(99,123,1)):  Return : # Local menu "270 -> Invalid option
Endif
Return

$_AOTHERS_PRIPRO
[L]CURPRO = "PRIPRO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIPRO
[L]CURPRO = "PRIPRO"
Return

$PROPAGATE_PRIPRO
this.isReadonly = 0
[L]CURPRO = "PRIPRO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIPRO"
$_LNKPRO_PRIPRO
Return


####################################################################
# 13 : PRIFLD Base price field ( Field A 250)
####################################################################

$SET_PRIFLD
If [L]_AOLDVAL<>this.PRIFLD
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIFLD
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIFLD
 Gosub PROPAGATE_PRIFLD
Endif
Return

$INIT_PRIFLD
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIFLD"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIFLD
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIFLD"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIFLD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIFLD                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIFLD
[L]CURPRO = "PRIFLD"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.PRIFLD,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIFLD
[L]CURPRO = "PRIFLD"
Return

$_AOTHERS_PRIFLD
[L]CURPRO = "PRIFLD"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIFLD
[L]CURPRO = "PRIFLD"
Return

$PROPAGATE_PRIFLD
this.isReadonly = 0
[L]CURPRO = "PRIFLD"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIFLD
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIFLD"
$_LNKPRO_PRIFLD
Return


####################################################################
# 14 : UPDNULPRI Update zero price ( Field Local menu number 1)
####################################################################

$SET_UPDNULPRI
If [L]_AOLDVAL<>this.UPDNULPRI
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UPDNULPRI
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UPDNULPRI
 Gosub PROPAGATE_UPDNULPRI
Endif
Return

$INIT_UPDNULPRI
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "UPDNULPRI"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.UPDNULPRI=0 and fmet this.AGETATTRIBUTE("UPDNULPRI","$isMandatory")="true"
 this.UPDNULPRI = 1
Endif
Return
 
$CONTROL_UPDNULPRI
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "UPDNULPRI"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UPDNULPRI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UPDNULPRI             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UPDNULPRI
[L]CURPRO = "UPDNULPRI"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UPDNULPRI=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UPDNULPRI
[L]CURPRO = "UPDNULPRI"
If this.UPDNULPRI<0 or this.UPDNULPRI>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.UPDNULPRI)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_UPDNULPRI
[L]CURPRO = "UPDNULPRI"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UPDNULPRI
[L]CURPRO = "UPDNULPRI"
Return

$PROPAGATE_UPDNULPRI
this.isReadonly = 0
[L]CURPRO = "UPDNULPRI"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UPDNULPRI
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "UPDNULPRI"
$_LNKPRO_UPDNULPRI
Return


####################################################################
# 15 : PRIIND Base price index ( Field C 4)
####################################################################

$SET_PRIIND
If [L]_AOLDVAL<>this.PRIIND
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIIND
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIIND
 Gosub PROPAGATE_PRIIND
Endif
Return

$INIT_PRIIND
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIIND"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_PRIIND
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIIND"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIIND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIIND                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIIND
[L]CURPRO = "PRIIND"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIIND=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIIND
[L]CURPRO = "PRIIND"
Return

$_AOTHERS_PRIIND
[L]CURPRO = "PRIIND"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIIND
[L]CURPRO = "PRIIND"
Return

$PROPAGATE_PRIIND
this.isReadonly = 0
[L]CURPRO = "PRIIND"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIIND
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIIND"
$_LNKPRO_PRIIND
Return


####################################################################
# 16 : PRITYP Price - / +tax ( Field Local menu number 243)
####################################################################

$SET_PRITYP
If [L]_AOLDVAL<>this.PRITYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRITYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRITYP
 Gosub PROPAGATE_PRITYP
Endif
Return

$INIT_PRITYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRITYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRITYP=0 and fmet this.AGETATTRIBUTE("PRITYP","$isMandatory")="true"
 this.PRITYP = 1
Endif
Return
 
$CONTROL_PRITYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRITYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRITYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRITYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRITYP
[L]CURPRO = "PRITYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRITYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRITYP
[L]CURPRO = "PRITYP"
If this.PRITYP<0 or this.PRITYP>len(mess(0,243,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"243 ->"-num$(this.PRITYP)-mess(99,123,1)):  Return : # Local menu "243 -> Invalid option
Endif
Return

$_AOTHERS_PRITYP
[L]CURPRO = "PRITYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRITYP
[L]CURPRO = "PRITYP"
Return

$PROPAGATE_PRITYP
this.isReadonly = 0
[L]CURPRO = "PRITYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRITYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRITYP"
$_LNKPRO_PRITYP
Return


####################################################################
# 17 : ATICNVFLG Conversion - / +tax ( Field Local menu number 1)
####################################################################

$SET_ATICNVFLG
If [L]_AOLDVAL<>this.ATICNVFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ATICNVFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ATICNVFLG
 Gosub PROPAGATE_ATICNVFLG
Endif
Return

$INIT_ATICNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "ATICNVFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.ATICNVFLG=0 and fmet this.AGETATTRIBUTE("ATICNVFLG","$isMandatory")="true"
 this.ATICNVFLG = 1
Endif
Return
 
$CONTROL_ATICNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "ATICNVFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ATICNVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ATICNVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ATICNVFLG
[L]CURPRO = "ATICNVFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.ATICNVFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ATICNVFLG
[L]CURPRO = "ATICNVFLG"
If this.ATICNVFLG<0 or this.ATICNVFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.ATICNVFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_ATICNVFLG
[L]CURPRO = "ATICNVFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ATICNVFLG
[L]CURPRO = "ATICNVFLG"
Return

$PROPAGATE_ATICNVFLG
this.isReadonly = 0
[L]CURPRO = "ATICNVFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ATICNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "ATICNVFLG"
$_LNKPRO_ATICNVFLG
Return


####################################################################
# 18 : PRIQTYFLG Price/Quantity ( Field Local menu number 239)
####################################################################

$SET_PRIQTYFLG
If [L]_AOLDVAL<>this.PRIQTYFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_PRIQTYFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.PRIQTYFLG
 Gosub PROPAGATE_PRIQTYFLG
Endif
Return

$INIT_PRIQTYFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIQTYFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.PRIQTYFLG=0 and fmet this.AGETATTRIBUTE("PRIQTYFLG","$isMandatory")="true"
 this.PRIQTYFLG = 1
Endif
Return
 
$CONTROL_PRIQTYFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIQTYFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_PRIQTYFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_PRIQTYFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_PRIQTYFLG
[L]CURPRO = "PRIQTYFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.PRIQTYFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_PRIQTYFLG
[L]CURPRO = "PRIQTYFLG"
If this.PRIQTYFLG<0 or this.PRIQTYFLG>len(mess(0,239,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"239 ->"-num$(this.PRIQTYFLG)-mess(99,123,1)):  Return : # Local menu "239 -> Invalid option
Endif
Return

$_AOTHERS_PRIQTYFLG
[L]CURPRO = "PRIQTYFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_PRIQTYFLG
[L]CURPRO = "PRIQTYFLG"
Return

$PROPAGATE_PRIQTYFLG
this.isReadonly = 0
[L]CURPRO = "PRIQTYFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_PRIQTYFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "PRIQTYFLG"
$_LNKPRO_PRIQTYFLG
Return


####################################################################
# 19 : UOMCNVFLG Unit conversion ( Field Local menu number 1)
####################################################################

$SET_UOMCNVFLG
If [L]_AOLDVAL<>this.UOMCNVFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_UOMCNVFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.UOMCNVFLG
 Gosub PROPAGATE_UOMCNVFLG
Endif
Return

$INIT_UOMCNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "UOMCNVFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.UOMCNVFLG=0 and fmet this.AGETATTRIBUTE("UOMCNVFLG","$isMandatory")="true"
 this.UOMCNVFLG = 1
Endif
Return
 
$CONTROL_UOMCNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "UOMCNVFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_UOMCNVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_UOMCNVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_UOMCNVFLG
[L]CURPRO = "UOMCNVFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.UOMCNVFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_UOMCNVFLG
[L]CURPRO = "UOMCNVFLG"
If this.UOMCNVFLG<0 or this.UOMCNVFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.UOMCNVFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_UOMCNVFLG
[L]CURPRO = "UOMCNVFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_UOMCNVFLG
[L]CURPRO = "UOMCNVFLG"
Return

$PROPAGATE_UOMCNVFLG
this.isReadonly = 0
[L]CURPRO = "UOMCNVFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_UOMCNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "UOMCNVFLG"
$_LNKPRO_UOMCNVFLG
Return


####################################################################
# 20 : CUR Currency ( Field CUR 3)
####################################################################

$SET_CUR
If [L]_AOLDVAL<>this.CUR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CUR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CUR
 Gosub PROPAGATE_CUR
Endif
Return

$INIT_CUR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CUR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CUR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CUR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CUR                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CUR
[L]CURPRO = "CUR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.CUR,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>vireblc(format$("K:3c",this.CUR),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_CUR
[L]CURPRO = "CUR"
If vireblc(this.CUR,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPCUR.ACTRLREF(this,"CUR",this.CUR,this.CUR,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.CUR<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CUR
[L]CURPRO = "CUR"
Return

$PROPAGATE_CUR
this.isReadonly = 0
[L]CURPRO = "CUR"
Gosub _LNKPRO_CUR
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CUR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CUR"
$_LNKPRO_CUR
If vireblc(this.CUR,2)<>""
 # Link TABCUR
 Local File TABCUR [WTCU]
 Read [F:WTCU]TCU0 = this.CUR
 If !fstat
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTSHO" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$title",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  Local File ATEXTRA [WAXX]
  Local Char ILAN(GLONLAN)
  For ILAN=this.ACTX.LAN, this.ACTX.AFOLD.ALANGDEF
   For [F:WAXX] Where CODFIC="TABCUR" & ZONE="INTDES" & IDENT1=[F:WTCU]CUR & IDENT2="" & LANGUE = ILAN
    [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$description",[WAXX]TEXTE)
    Break 2
   Next WAXX
  Next ILAN
  LogicClose File [WAXX]
  [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$symbol",[F:WTCU]CURSYM)
  If int(val([F:WTCU]CURFMT1))>0
   Local Char WPREC(10)
   Local Char WSCALE(10)
   WPREC=num$(int(val([F:WTCU]CURFMT1)))
   WSCALE=num$(int(10*(val([F:WTCU]CURFMT1)-int(val([F:WTCU]CURFMT1)))))
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$precision",WPREC)
   [L]ASTATUS = fmet this.ASETATTRIBUTE("CUR","$scale",WSCALE)
  Endif
 Endif
 LogicClose File [WTCU]
Endif
Return


####################################################################
# 21 : CURCNVFLG Currency conversion ( Field Local menu number 1)
####################################################################

$SET_CURCNVFLG
If [L]_AOLDVAL<>this.CURCNVFLG
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CURCNVFLG
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CURCNVFLG
 Gosub PROPAGATE_CURCNVFLG
Endif
Return

$INIT_CURCNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CURCNVFLG"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.CURCNVFLG=0 and fmet this.AGETATTRIBUTE("CURCNVFLG","$isMandatory")="true"
 this.CURCNVFLG = 1
Endif
Return
 
$CONTROL_CURCNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CURCNVFLG"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CURCNVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CURCNVFLG             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CURCNVFLG
[L]CURPRO = "CURCNVFLG"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CURCNVFLG=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CURCNVFLG
[L]CURPRO = "CURCNVFLG"
If this.CURCNVFLG<0 or this.CURCNVFLG>len(mess(0,1,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"1 ->"-num$(this.CURCNVFLG)-mess(99,123,1)):  Return : # Local menu "1 -> Invalid option
Endif
Return

$_AOTHERS_CURCNVFLG
[L]CURPRO = "CURCNVFLG"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CURCNVFLG
[L]CURPRO = "CURCNVFLG"
Return

$PROPAGATE_CURCNVFLG
this.isReadonly = 0
[L]CURPRO = "CURCNVFLG"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CURCNVFLG
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CURCNVFLG"
$_LNKPRO_CURCNVFLG
Return


####################################################################
# 22 : FOCPRO Free products ( Field Local menu number 273)
####################################################################

$SET_FOCPRO
If [L]_AOLDVAL<>this.FOCPRO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FOCPRO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FOCPRO
 Gosub PROPAGATE_FOCPRO
Endif
Return

$INIT_FOCPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FOCPRO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FOCPRO=0 and fmet this.AGETATTRIBUTE("FOCPRO","$isMandatory")="true"
 this.FOCPRO = 1
Endif
Return
 
$CONTROL_FOCPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FOCPRO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FOCPRO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FOCPRO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FOCPRO
[L]CURPRO = "FOCPRO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FOCPRO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FOCPRO
[L]CURPRO = "FOCPRO"
If this.FOCPRO<0 or this.FOCPRO>len(mess(0,273,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"273 ->"-num$(this.FOCPRO)-mess(99,123,1)):  Return : # Local menu "273 -> Invalid option
Endif
Return

$_AOTHERS_FOCPRO
[L]CURPRO = "FOCPRO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FOCPRO
[L]CURPRO = "FOCPRO"
Return

$PROPAGATE_FOCPRO
this.isReadonly = 0
[L]CURPRO = "FOCPRO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FOCPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FOCPRO"
$_LNKPRO_FOCPRO
Return


####################################################################
# 23 : FOCTYP Free type ( Field Local menu number 274)
####################################################################

$SET_FOCTYP
If [L]_AOLDVAL<>this.FOCTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FOCTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FOCTYP
 Gosub PROPAGATE_FOCTYP
Endif
Return

$INIT_FOCTYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FOCTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.FOCTYP=0 and fmet this.AGETATTRIBUTE("FOCTYP","$isMandatory")="true"
 this.FOCTYP = 1
Endif
Return
 
$CONTROL_FOCTYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FOCTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FOCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FOCTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FOCTYP
[L]CURPRO = "FOCTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.FOCTYP=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FOCTYP
[L]CURPRO = "FOCTYP"
If this.FOCTYP<0 or this.FOCTYP>len(mess(0,274,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"274 ->"-num$(this.FOCTYP)-mess(99,123,1)):  Return : # Local menu "274 -> Invalid option
Endif
Return

$_AOTHERS_FOCTYP
[L]CURPRO = "FOCTYP"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FOCTYP
[L]CURPRO = "FOCTYP"
Return

$PROPAGATE_FOCTYP
this.isReadonly = 0
[L]CURPRO = "FOCTYP"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FOCTYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FOCTYP"
$_LNKPRO_FOCTYP
Return


####################################################################
# 24 : COMPRO Comm factor ( Field Local menu number 244)
####################################################################

$SET_COMPRO
If [L]_AOLDVAL<>this.COMPRO
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_COMPRO
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.COMPRO
 Gosub PROPAGATE_COMPRO
Endif
Return

$INIT_COMPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "COMPRO"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If this.COMPRO=0 and fmet this.AGETATTRIBUTE("COMPRO","$isMandatory")="true"
 this.COMPRO = 1
Endif
Return
 
$CONTROL_COMPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "COMPRO"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_COMPRO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_COMPRO                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_COMPRO
[L]CURPRO = "COMPRO"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.COMPRO=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_COMPRO
[L]CURPRO = "COMPRO"
If this.COMPRO<0 or this.COMPRO>len(mess(0,244,1))
 # Pop / Invalid option
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(4,11,1)-"244 ->"-num$(this.COMPRO)-mess(99,123,1)):  Return : # Local menu "244 -> Invalid option
Endif
Return

$_AOTHERS_COMPRO
[L]CURPRO = "COMPRO"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_COMPRO
[L]CURPRO = "COMPRO"
Return

$PROPAGATE_COMPRO
this.isReadonly = 0
[L]CURPRO = "COMPRO"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_COMPRO
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "COMPRO"
$_LNKPRO_COMPRO
Return


####################################################################
# 26 : CRINBR Numbers of criteria ( Field C 1)
####################################################################

$SET_CRINBR
If [L]_AOLDVAL<>this.CRINBR
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_CRINBR
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.CRINBR
 Gosub PROPAGATE_CRINBR
Endif
Return

$INIT_CRINBR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CRINBR"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_CRINBR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CRINBR"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_CRINBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_CRINBR                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_CRINBR
[L]CURPRO = "CRINBR"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & this.CRINBR=0
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_CRINBR
[L]CURPRO = "CRINBR"
Return

$_AOTHERS_CRINBR
[L]CURPRO = "CRINBR"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_CRINBR
[L]CURPRO = "CRINBR"
Return

$PROPAGATE_CRINBR
this.isReadonly = 0
[L]CURPRO = "CRINBR"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_CRINBR
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "CRINBR"
$_LNKPRO_CRINBR
Return


####################################################################
# 27 : ABB Abbreviation ( Field A 3)
####################################################################

$SET_ABB
If [L]_AOLDVAL<>this.ABB
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_ABB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.ABB
 Gosub PROPAGATE_ABB
Endif
Return

$INIT_ABB
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "ABB"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_ABB
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "ABB"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_ABB                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_ABB                   : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_ABB
[L]CURPRO = "ABB"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.ABB,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_ABB
[L]CURPRO = "ABB"
Return

$_AOTHERS_ABB
[L]CURPRO = "ABB"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_ABB
[L]CURPRO = "ABB"
Return

$PROPAGATE_ABB
this.isReadonly = 0
[L]CURPRO = "ABB"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_ABB
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "ABB"
$_LNKPRO_ABB
Return


####################################################################
# 29 : FLDTYP Field type ( Field ATY 8)
####################################################################

$SET_FLDTYP
If [L]_AOLDVAL<>this.FLDTYP
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLDTYP
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLDTYP
 Gosub PROPAGATE_FLDTYP
Endif
Return

$INIT_FLDTYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FLDTYP"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLDTYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FLDTYP"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLDTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLDTYP                : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLDTYP
[L]CURPRO = "FLDTYP"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLDTYP,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLDTYP
[L]CURPRO = "FLDTYP"
If vireblc(this.FLDTYP,2)<>vireblc(format$("K:8B",this.FLDTYP),2)
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(149,100,1)) :  Return : # Incorrect Format
Endif
Return

$_AOTHERS_FLDTYP
[L]CURPRO = "FLDTYP"
If vireblc(this.FLDTYP,2)<>""
 If fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent")=""
  [L]ASTATUS =  func WMTYPATY.ACTRLREF(this,"FLDTYP",this.FLDTYP,this.FLDTYP,"")
  If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
 Else
  If this.FLDTYP<>evalue("this.APARENT."+fmet this.AGETATTRIBUTE([L]CURPRO,"$namProParent"))
   [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(83,123,1)) :  Return : # Invalid value
  Endif
 Endif
Endif
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLDTYP
[L]CURPRO = "FLDTYP"
Return

$PROPAGATE_FLDTYP
this.isReadonly = 0
[L]CURPRO = "FLDTYP"
Gosub _LNKPRO_FLDTYP
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLDTYP
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FLDTYP"
$_LNKPRO_FLDTYP
If vireblc(this.FLDTYP,2)<>""
 # Link ATYPE
 Local File ATYPE [WATY]
 Read [F:WATY]CODTYP = this.FLDTYP
 If !fstat
  Local File ATEXTE [WATX]
  For [F:WATX] Where NUMERO=[F:WATY]INTITTYP & LAN=this.ACTX.LAN
   [L]ASTATUS = fmet this.ASETATTRIBUTE("FLDTYP","$description",[WATX]TEXTE)
  Next WATX
  LogicClose File [WATX]
 Endif
 LogicClose File [WATY]
Endif
Return


####################################################################
# 30 : FLDTYPCPL Supplement type ( Field A 10)
####################################################################

$SET_FLDTYPCPL
If [L]_AOLDVAL<>this.FLDTYPCPL
 Call _ASTATUSPARENT(this) From ASYRSUB
Endif
Gosub CONTROL_FLDTYPCPL
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
If [L]_AOLDVAL<>this.FLDTYPCPL
 Gosub PROPAGATE_FLDTYPCPL
Endif
Return

$INIT_FLDTYPCPL
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FLDTYPCPL"
[L]ARULE = "INIT" : [L]ACTION = "INIT" : Gosub ACTION From ASYRSUB
If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return
 
$CONTROL_FLDTYPCPL
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FLDTYPCPL"
[L]ASTATUS = fmet this.ADELETEERROR([L]CURPRO)
Gosub _AFORMAT_FLDTYPCPL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Gosub _AOTHERS_FLDTYPCPL             : If [L]ASTATUS>=[V]CST_AERROR : Return : Endif
Return

$_AMANDATORY_FLDTYPCPL
[L]CURPRO = "FLDTYPCPL"
If fmet this.AGETATTRIBUTE([L]CURPRO,"$isMandatory")="true" & vireblc(this.FLDTYPCPL,2)=""
 [L]ASTATUS = func ASYRSUB._ASETSTATUS(this,[L]CURPRO,0,[V]CST_AERROR,[V]CST_AHTTP_BAD_REQUEST,mess(10,123,1)) :  Return : # Mandatory field
Endif
Return

$_AFORMAT_FLDTYPCPL
[L]CURPRO = "FLDTYPCPL"
Return

$_AOTHERS_FLDTYPCPL
[L]CURPRO = "FLDTYPCPL"
[L]ARULE = "CONTROL" : [L]ACTION = "CONTROL" : Gosub ACTION From ASYRSUB
Return

$_AOTHERS_REF_FLDTYPCPL
[L]CURPRO = "FLDTYPCPL"
Return

$PROPAGATE_FLDTYPCPL
this.isReadonly = 0
[L]CURPRO = "FLDTYPCPL"
[L]ARULE = "PROPAGATE" : [L]ACTION = "PROPAGATE" : Gosub ACTION From ASYRSUB
this.isReadonly = 1
Return

$LNKPRO_FLDTYPCPL
Gosub DECLARE_VAR From WMC0PPRICCONF
[L]CURPRO = "FLDTYPCPL"
$_LNKPRO_FLDTYPCPL
Return




